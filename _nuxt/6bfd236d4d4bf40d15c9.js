(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{621:function(t,e,o){"use strict";var n=o(640),r=o.n(n),c=o(641),l=o.n(c),d=o(642),h=o.n(d),m=o(643),f=o.n(m),y=o(644),M=o.n(y),v=o(645),x=o.n(v),w={data:function(){return{placeholders:[r.a,l.a,h.a,f.a,M.a,x.a],finalSrc:null,style:{}}},props:{src:{type:String,default:""},alt:{type:String,default:""},containerStyle:{type:Object,default:function(){return{width:"100%",height:"100%",overflow:"hidden"}}}},mounted:function(){this.checkImage()},watch:{src:function(t,e){t!==e&&this.checkImage()}},methods:{checkImage:function(){var img=new Image,t=this;img.onload=function(){t.finalSrc=t.src,this.width,this.height,t.style={width:"100%"}},img.onerror=function(){t.finalSrc=t.placeholders[Math.floor(Math.random()*t.placeholders.length)],t.style={height:"100%"}},img.src=this.src}}},I=(o(648),o(11)),component=Object(I.a)(w,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{style:t.finalSrc?Object.assign({},t.containerStyle,{backgroundImage:"url('"+t.finalSrc+"')"}):t.containerStyle},[t.finalSrc?o("img",{style:t.style,attrs:{src:t.finalSrc,alt:t.alt}}):t._e()])},[],!1,null,"32e36b79",null);e.a=component.exports},622:function(t,e,o){t.exports=o.p+"img/43756ec.svg"},623:function(t){t.exports={}},624:function(t,e,o){var content=o(649);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(49).default)("2fb0ce02",content,!0,{sourceMap:!1})},625:function(t,e,o){var content=o(651);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(49).default)("18cbb584",content,!0,{sourceMap:!1})},626:function(t,e,o){var content=o(653);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(49).default)("57a76406",content,!0,{sourceMap:!1})},627:function(t,e,o){var content=o(655);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(49).default)("74417cff",content,!0,{sourceMap:!1})},628:function(t,e,o){var content=o(657);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(49).default)("1fcd4353",content,!0,{sourceMap:!1})},629:function(t,e,o){var content=o(665);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(49).default)("3d6101da",content,!0,{sourceMap:!1})},635:function(t,e,o){"use strict";o(67);var n=o(647),r=o(646),c={components:{ShopItem:n.a,Sidebar:r.a},props:{typeOptions:{type:Array,default:[]},show:{type:Boolean,default:!1},searchHistory:{type:Array,default:[]},search:{type:Function,default:function(){}}},computed:{},methods:{setType:function(t){this.$store.commit("setType",t),this.$store.dispatch("getShops"),"index"!==$nuxt.$route.name&&$nuxt.$router.push("/")},checkIfIsSelected:function(t){return+this.$store.state.type==+t.value}}},l=(o(654),o(11)),d=Object(l.a)(c,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Sidebar",{staticStyle:{width:"300px",padding:"1rem 0"},attrs:{show:t.show,isRight:!0,id:"search-sidebar"}},[n("div",{attrs:{slot:"content"},slot:"content"},[n("ul",t._l(t.searchHistory,function(e,r){return n("li",{on:{click:function(o){return t.search(e)}}},[n("img",{attrs:{src:o(639),height:"19",width:"19"}}),t._v("\n                "+t._s(e)+"\n            ")])}),0),t._v(" "),n("ul",[n("hr"),t._v(" "),t._l(t.typeOptions,function(e,o){return n("li",{class:{"selected-type":t.checkIfIsSelected(e)},on:{click:function(o){return t.setType(e.value)}}},[n("img",{attrs:{src:e.icon}}),t._v("\n                "+t._s(e.text)+"\n            ")])}),t._v(" "),n("hr")],2)])])},[],!1,null,"03457374",null).exports,h=(o(140),{data:function(){return{showSearchSidebar:!1,searchHistory:[]}},mounted:function(){window.addEventListener("click",this.closeSearchSidebar),this.searchHistory=localStorage.getItem("searchHistory")?JSON.parse(localStorage.getItem("searchHistory")):[]},components:{SearchSidebar:d},computed:{typeOptions:function(){return this.$store.state.sourceData.types.filter(function(option){return option.checked})},cities:function(){return this.$store.state.sourceData.cities},query:function(){return this.$store.state.query},city:function(){return this.$store.state.city}},methods:{search:function(t){var e,o=t instanceof Event?t.target.elements.query.value:t;o&&((e=this.searchHistory.indexOf(o)>=0)?(this.searchHistory.unshift(this.searchHistory.splice(e,1)[0]),localStorage.setItem("searchHistory",JSON.stringify(this.searchHistory))):this.searchHistory[this.searchHistory.length-1]!==o&&(this.searchHistory.unshift(o),localStorage.setItem("searchHistory",JSON.stringify(this.searchHistory)))),this.$store.commit("setQuery",o),this.$store.dispatch("getShops"),"index"!==$nuxt.$route.name&&$nuxt.$router.push("/")},setCity:function(t){switch(this.$store.dispatch("setCityAndCenter",t),$nuxt.$route.name){case"recommendations":this.$store.dispatch("getRecommendationShops",t);break;case"shop":$nuxt.$router.push("/");break;case"index":console.log("getShops"),this.$store.dispatch("getShops")}},setShowSearchSidebar:function(t){this.showSearchSidebar=t},closeSearchSidebar:function(t){document.querySelector("#search-sidebar").contains(t.target)||document.querySelector("#search-container").contains(t.target)||(this.showSearchSidebar=!1)}}}),m=(o(656),Object(l.a)(h,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("nav",{staticClass:"navbar navbar-expand-lg navbar-light fixed-top desktop",attrs:{id:"gt-nav"}},[n("nuxt-link",{attrs:{to:"/"}},[n("div",{staticClass:"map-logo"},[n("img",{attrs:{src:o(637),width:"40px"}}),t._v(" "),n("img",{attrs:{src:o(638),width:"40px"}})])]),t._v(" "),n("b-form",{staticClass:"sidebar-inline-form",attrs:{inline:""},on:{submit:function(t){t.stopPropagation(),t.preventDefault()}}},[n("div",{staticClass:"navbar-middle"},[n("b-form-select",{staticClass:"cities-select",attrs:{value:t.city,options:t.cities},on:{change:t.setCity}}),t._v(" "),n("nuxt-link",{attrs:{to:"/recommendations"}},[t._v("城市推薦綠點")])],1)]),t._v(" "),n("b-form",{attrs:{inline:"",id:"search-container"},on:{submit:[function(t){t.stopPropagation(),t.preventDefault()},t.search]}},[n("b-input-group",{staticClass:"search"},[n("b-input-group-prepend",[n("b-button",{staticClass:"search-button"},[n("img",{attrs:{src:o(639),height:"19",width:"19"}})])],1),t._v(" "),n("b-form-input",{attrs:{placeholder:" 搜尋「裸賣」 ",name:"query","aria-label":"Search",value:t.query},nativeOn:{focus:function(e){return t.setShowSearchSidebar(!0)}}})],1)],1),t._v(" "),n("SearchSidebar",{attrs:{show:t.showSearchSidebar,typeOptions:t.typeOptions,searchHistory:t.searchHistory,search:t.search}})],1),t._v(" "),n("nav",{staticClass:"navbar navbar-expand-lg navbar-light fixed-top mobile",attrs:{id:"gt-nav"}},[n("nuxt-link",{attrs:{to:"/"}},[n("div",{staticClass:"map-logo"},[n("img",{attrs:{src:o(637),width:"40px"}})]),t._v(" "),n("img",{attrs:{src:o(638),height:"70%"}})]),t._v(" "),n("b-form",{staticClass:"sidebar-inline-form",attrs:{inline:""},on:{submit:function(t){t.stopPropagation(),t.preventDefault()}}},[n("div",{staticClass:"navbar-middle"},[n("b-form-select",{staticClass:"cities-select",attrs:{value:t.city,options:t.cities},on:{change:t.setCity}}),t._v(" "),n("nuxt-link",{attrs:{to:"/recommendations"}},[t._v("城市推薦綠點")])],1)]),t._v(" "),n("SearchSidebar",{attrs:{show:t.showSearchSidebar,typeOptions:t.typeOptions,searchHistory:t.searchHistory,search:t.search}})],1)])},[],!1,null,null,null));e.a=m.exports},636:function(t,e,o){"use strict";var n=o(647),r=o(646),c=o(659),l=o.n(c),d=o(660),h=o.n(d),m=o(661),f=o.n(m),y=o(662),M=o.n(y),v=o(663),x=o.n(v),w={components:{ShopItem:n.a,Sidebar:r.a},data:function(){return{mascots:[l.a,h.a,f.a,M.a,x.a]}},props:{show:{type:Boolean,default:!0},onCloseButtonClick:{type:Function,default:function(){}},shops:{type:Array,default:[]}}},I=(o(664),o(11)),component=Object(I.a)(w,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("Sidebar",{attrs:{show:t.show,onCloseButtonClick:t.onCloseButtonClick,showCloseSidebarButton:!0}},[t.shops.length>0?o("ul",{staticClass:"shopList",attrs:{slot:"content"},slot:"content"},t._l(t.shops,function(t,e){return o("ShopItem",{attrs:{shop:t}})}),1):t._e(),t._v(" "),0===t.shops.length?o("div",{staticClass:"no-result-placeholder",attrs:{slot:"content"},slot:"content"},[o("img",{attrs:{src:t.mascots[Math.floor(Math.random()*t.mascots.length)]}}),t._v(" "),o("p",[t._v("目前沒有符合的搜尋結果")])]):t._e()])},[],!1,null,null,null);e.a=component.exports},637:function(t,e,o){t.exports=o.p+"img/c87f7d8.svg"},638:function(t,e,o){t.exports=o.p+"img/b1bcf61.png"},639:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIj8+DQo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHZlcnNpb249IjEuMSIgaWQ9IkNhcGFfMSIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSI1MTJweCIgaGVpZ2h0PSI1MTJweCIgdmlld0JveD0iMCAwIDQxMC4yMyA0MTAuMjMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQxMC4yMyA0MTAuMjM7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48Zz48Zz4NCgk8cGF0aCBkPSJNNDAxLjYyNSwzNjQuMDkybC0xMDcuMS0xMDcuMWMxOS4xMjUtMjYuNzc1LDMwLjYtNTkuMjg4LDMwLjYtOTMuNzEzYzAtODkuODg4LTcyLjY3NS0xNjIuNTYyLTE2Mi41NjItMTYyLjU2MiAgIFMwLDczLjM5MiwwLDE2My4yNzlzNzIuNjc1LDE2Mi41NjIsMTYyLjU2MiwxNjIuNTYyYzM0LjQyNSwwLDY2LjkzOC0xMS40NzUsOTMuNzEzLTMwLjZsMTA3LjEsMTA3LjEgICBjOS41NjIsOS41NjIsMjYuNzc1LDkuNTYyLDM4LjI1LDBsMCwwQzQxMy4xLDM5MC44NjcsNDEzLjEsMzc1LjU2Niw0MDEuNjI1LDM2NC4wOTJ6IE0xNjIuNTYyLDI4Ny41OTIgICBjLTY4Ljg1LDAtMTI0LjMxMi01NS40NjMtMTI0LjMxMi0xMjQuMzEyYzAtNjguODUsNTUuNDYyLTEyNC4zMTIsMTI0LjMxMi0xMjQuMzEyYzY4Ljg1LDAsMTI0LjMxMiw1NS40NjIsMTI0LjMxMiwxMjQuMzEyICAgQzI4Ni44NzUsMjMyLjEyOSwyMzEuNDEyLDI4Ny41OTIsMTYyLjU2MiwyODcuNTkyeiIgZGF0YS1vcmlnaW5hbD0iIzAwMDAwMCIgY2xhc3M9ImFjdGl2ZS1wYXRoIiBkYXRhLW9sZF9jb2xvcj0iIzAwMDAwMCIgZmlsbD0iIzAwMDAwMCIvPg0KPC9nPjwvZz4gPC9zdmc+DQo="},640:function(t,e,o){t.exports=o.p+"img/751da2f.png"},641:function(t,e,o){t.exports=o.p+"img/3eda3a9.png"},642:function(t,e,o){t.exports=o.p+"img/a862ee0.png"},643:function(t,e,o){t.exports=o.p+"img/758dd3c.png"},644:function(t,e,o){t.exports=o.p+"img/ae1b6cb.png"},645:function(t,e,o){t.exports=o.p+"img/7411593.png"},646:function(t,e,o){"use strict";var n={props:{show:{type:Boolean,default:!0},isRight:{type:Boolean,default:!1},showCloseSidebarButton:{type:Boolean,default:!1},onCloseButtonClick:{type:Function,default:function(){}},style:{type:String,default:""},id:{type:String,default:""}}},r=(o(652),o(11)),component=Object(r.a)(n,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"sidebar",class:{"show-sidebar":t.show,"is-right":t.isRight},staticStyle:{},attrs:{id:t.id}},[o("button",{staticClass:"close-sidebar-button",class:{showCloseSidebarButton:t.showCloseSidebarButton},on:{click:t.onCloseButtonClick}},[t._v("◂")]),t._v(" "),o("div",{staticClass:"content"},[t._t("content")],2)])},[],!1,null,null,null);e.a=component.exports},647:function(t,e,o){"use strict";var n={components:{ImageHandler:o(621).a},computed:{types:function(){return this.$store.state.sourceData.types}},props:{shop:{type:Object,default:{}}},methods:{setShop:function(){this.$store.commit("setShop",this.shop),$nuxt.$router.push("/shop")}}},r=(o(650),o(11)),component=Object(r.a)(n,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",{staticClass:"shopItem-container",on:{click:t.setShop}},[n("b-row",[n("b-col",{staticClass:"shopItem-main",attrs:{lg:"5"}},[n("ImageHandler",{attrs:{src:t.shop.facebook_avatar||t.shop.photo1,alt:t.shop.name}})],1),t._v(" "),n("b-col",{staticClass:"shopItem-aside",attrs:{lg:"7"}},[n("div",{staticClass:"recommend-container"},[t.shop.is_recommended?n("p",{staticClass:"recommend"},[n("img",{attrs:{src:o(622),height:"20",width:"20"}}),t._v(" 綠點推薦")]):t._e()]),t._v(" "),n("h3",{directives:[{name:"line-clamp",rawName:"v-line-clamp:20",value:1,expression:"1",arg:"20"}]},[t._v(t._s(t.shop.name))]),t._v(" "),n("p",{staticClass:"type"},[t._v("\n                "+t._s(t.types[t.shop.type]?t.types[t.shop.type].text:"")+"\n                "),t.shop.open_status&&t.shop.open_status.type?n("span",[t._v(" ‧ ")]):t._e(),t._v(" "),n("span",{staticClass:"running-status"},[t._v(t._s(t.shop.open_status&&t.shop.open_status.type?t.shop.open_status.text:""))])]),t._v(" "),n("p",{directives:[{name:"line-clamp",rawName:"v-line-clamp:20",value:2,expression:"2",arg:"20"}],staticClass:"description"},[t._v(t._s(t.shop.description))])])],1)],1)},[],!1,null,"1b57b71c",null);e.a=component.exports},648:function(t,e,o){"use strict";var n=o(624);o.n(n).a},649:function(t,e,o){(t.exports=o(48)(!1)).push([t.i,"div[data-v-32e36b79]{position:relative;background-size:cover;background-position:50% 50%}img[data-v-32e36b79]{width:0;height:0}",""])},650:function(t,e,o){"use strict";var n=o(625);o.n(n).a},651:function(t,e,o){(t.exports=o(48)(!1)).push([t.i,".shopItem-container[data-v-1b57b71c]{padding:0;margin:20px 0;cursor:pointer}.shopItem-container:hover h3[data-v-1b57b71c]{color:#44ad47}.row[data-v-1b57b71c]{background-color:#fff;margin:0}.row>div[data-v-1b57b71c]{padding:0}.shopItem-main[data-v-1b57b71c]{height:142px;overflow:hidden}.shopItem-main img[data-v-1b57b71c]{width:100%;height:100%;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}h3[data-v-1b57b71c]{font-weight:700;font-size:16px;display:inline-block}.row>.shopItem-aside[data-v-1b57b71c]{padding:10px}.type[data-v-1b57b71c]{border-bottom:1px solid #d3d3d3;padding-bottom:5px;margin-bottom:5px}.recommend-container[data-v-1b57b71c]{min-height:21px}.recommend[data-v-1b57b71c]{justify-content:flex-end}.recommend img[data-v-1b57b71c]{width:14px}.description[data-v-1b57b71c],.recommend[data-v-1b57b71c],.type[data-v-1b57b71c]{font-size:14px}.description[data-v-1b57b71c]{min-height:2rem}.running-status[data-v-1b57b71c]{color:#44ad47}",""])},652:function(t,e,o){"use strict";var n=o(626);o.n(n).a},653:function(t,e,o){(t.exports=o(48)(!1)).push([t.i,".sidebar.show-sidebar{-webkit-transform:translateX(0);transform:translateX(0)}.close-sidebar-button{z-index:3;position:absolute;left:100%;top:50px;background-color:#fff;border:1px solid #9fa0a0;border-left:none;color:red;display:none}.showCloseSidebarButton{display:block}.sidebar{width:400px;background-color:#f3f4f5;padding:0;position:fixed;top:60px;left:0;-webkit-transform:translateX(-100%);transform:translateX(-100%);z-index:1;transition:-webkit-transform .5s;transition:transform .5s;transition:transform .5s,-webkit-transform .5s}.is-right{left:auto;right:0;-webkit-transform:translateX(100%);transform:translateX(100%)}.content{height:calc(100vh - 60px);overflow-x:hidden;overflow-y:auto}@media screen and (max-width:991px){.sidebar{height:unset;padding:10px}}",""])},654:function(t,e,o){"use strict";var n=o(627);o.n(n).a},655:function(t,e,o){(t.exports=o(48)(!1)).push([t.i,"ul[data-v-03457374]:first-child{max-height:120px;overflow-y:auto}img[data-v-03457374]{width:50px;margin:5px 10px}li[data-v-03457374]{cursor:pointer}.selected-type[data-v-03457374],li[data-v-03457374]:hover{color:#44ad47}",""])},656:function(t,e,o){"use strict";var n=o(628);o.n(n).a},657:function(t,e,o){e=t.exports=o(48)(!1);var n=o(293)(o(658));e.push([t.i,"a{color:#000}a:hover{text-decoration:none;color:#44ad47}nav{height:60px;border-bottom:1px solid #d3d3d3;line-height:40px;background-color:#fff}nav img:nth-child(2){width:40px;height:11px}nav>div,nav>form>div{padding:10px 20px}.map-logo img{display:block;margin:2px 15px 2px 2px}.input-group.search,.navbar-middle{height:60px;border-left:1px solid #d3d3d3}.input-group.search{position:absolute;right:0;width:300px}.search input{background-color:transparent;border-radius:0;border:none;border-bottom:1px solid;height:100%}.custom-select{background:url("+n+") no-repeat right .75rem center/8px 10px;background-size:15px 15px;border:none;margin-right:10px}button.gm-ui-hover-effect{display:none!important}.cities-select.custom-select{width:90px}button.btn.btn-secondary.search-button{border-radius:0;background-color:transparent;border:none;border-bottom:1px solid #000}button.btn.btn-secondary.search-button:active{background-color:transparent}@media screen and (max-width:991px){.map-logo{display:inline-block;border-right:1px solid grey}#gt-nav{padding:0}}",""])},658:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIj8+DQo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHZlcnNpb249IjEuMSIgaWQ9IkNhcGFfMSIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSI1MTJweCIgaGVpZ2h0PSI1MTJweCIgdmlld0JveD0iMCAwIDQ1MS44NDcgNDUxLjg0NyIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDUxLjg0NyA0NTEuODQ3OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgY2xhc3M9IiI+PGc+PGc+DQoJPHBhdGggZD0iTTIyNS45MjMsMzU0LjcwNmMtOC4wOTgsMC0xNi4xOTUtMy4wOTItMjIuMzY5LTkuMjYzTDkuMjcsMTUxLjE1N2MtMTIuMzU5LTEyLjM1OS0xMi4zNTktMzIuMzk3LDAtNDQuNzUxICAgYzEyLjM1NC0xMi4zNTQsMzIuMzg4LTEyLjM1NCw0NC43NDgsMGwxNzEuOTA1LDE3MS45MTVsMTcxLjkwNi0xNzEuOTA5YzEyLjM1OS0xMi4zNTQsMzIuMzkxLTEyLjM1NCw0NC43NDQsMCAgIGMxMi4zNjUsMTIuMzU0LDEyLjM2NSwzMi4zOTIsMCw0NC43NTFMMjQ4LjI5MiwzNDUuNDQ5QzI0Mi4xMTUsMzUxLjYyMSwyMzQuMDE4LDM1NC43MDYsMjI1LjkyMywzNTQuNzA2eiIgZGF0YS1vcmlnaW5hbD0iIzAwMDAwMCIgY2xhc3M9ImFjdGl2ZS1wYXRoIiBkYXRhLW9sZF9jb2xvcj0iIzAwMDAwMCIgZmlsbD0iIzAwMDAwMCIvPg0KPC9nPjwvZz4gPC9zdmc+DQo="},659:function(t,e,o){t.exports=o.p+"img/659a8bf.png"},660:function(t,e,o){t.exports=o.p+"img/ec0bdff.png"},661:function(t,e,o){t.exports=o.p+"img/89eedb7.png"},662:function(t,e,o){t.exports=o.p+"img/bcb1e7f.png"},663:function(t,e,o){t.exports=o.p+"img/e33d511.png"},664:function(t,e,o){"use strict";var n=o(629);o.n(n).a},665:function(t,e,o){(t.exports=o(48)(!1)).push([t.i,".shopList{background-color:#f3f4f5;padding:0;transition:left 1s;overflow:auto}.no-result-placeholder{text-align:center}.no-result-placeholder img{width:30%;margin:30px auto;display:block}@media screen and (max-width:991px){.shopList{height:unset;padding:10px}}",""])}}]);