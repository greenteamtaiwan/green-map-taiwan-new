(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{492:function(e,t,n){var content=n(598);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(33).default)("55ecb5ef",content,!0,{sourceMap:!1})},597:function(e,t,n){"use strict";var o=n(492);n.n(o).a},598:function(e,t,n){(e.exports=n(32)(!1)).push([e.i,"body,html{overflow-y:hidden}.map-container h1{font-size:16px;font-weight:700;display:inline-block;margin-right:5px;margin-bottom:0}.address{margin:10px 0}.google-map-button{color:#44ad47;border-radius:5px;padding:5px 20px;border:1px solid;font-size:12px;display:block;margin:auto}.type,p{margin:0}.type{color:#9fa0a0;font-size:13px}li{list-style-type:none}@media screen and (max-width:991px){body,html{overflow-y:visible;overflow-y:initial}.menu{display:none}}.map-container{padding:0;margin:60px 0 0;max-width:unset}.map-container>.row,.map-container>.row>div{margin:0;padding:0}p.recommend{color:#ee5593;font-weight:700;display:flex;align-items:center}.recommend img{width:unset;margin-right:5px}p.type{display:block;color:#d3d3d3;font-size:13px}.gmap-info-window-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.gm-style-iw.gm-style-iw-c h1{font-size:20px}.gm-style-iw.gm-style-iw-c{padding:0;height:80px;font-family:微軟正黑體}",""])},602:function(e,t,n){"use strict";n.r(t);n(87),n(88);var o=n(496),r=n(495),l=n(465),c=(n(480),n(493)),d=n(494),m=n(486),h=n.n(m),v=n(487),f=n.n(v),w=n(488),x=n.n(w),y=n(489),k=n.n(y);l.apps.length||l.initializeApp({apiKey:"AIzaSyA5siB2Jg64LhQNlieawQ69kOL78X5Kov8",authDomain:"greenmaptaiwan.firebaseapp.com",databaseURL:"https://greenmaptaiwan.firebaseio.com",projectId:"greenmaptaiwan",storageBucket:"greenmaptaiwan.appspot.com",messagingSenderId:"395267289672"});var _={components:{Logo:o.a,VuetifyLogo:r.a,Navbar:c.a,ShopList:d.a},data:function(){return{hideSidebar:!0,infoWindow:{options:{pixelOffset:{width:0,height:-35}},positions:{lat:23.41322,lng:121.219482},isOpen:!1,node:{}},showModal:!1,infowindowOptions:{pixelOffset:{width:0,height:-35}},dialog:!0,show:!1,center:{lat:23.41322,lng:121.219482},zoomLevel:9,markerOptions:{opacity:.5},rawNodes:[],drawer:!0,items:[{value:null,icon:null,type:null,text:"所有分類",checked:!0},{value:1,icon:h.a,type:"food_share",text:"食物分享櫃",checked:!0},{value:2,icon:f.a,type:"free_shop",text:"免費商店",checked:!0},{value:2,icon:x.a,type:"thrift_shop",text:"二手商店",checked:!0},{value:2,icon:k.a,type:"vegetarian_shop",text:"素食店",checked:!0}],cities:[{value:"1",text:"台北市"},{value:"",text:"桃園市"},{value:"",text:"新竹市"},{value:"",text:"苗栗市"},{value:"",text:"台中市"},{value:"",text:"彰化市"},{value:"",text:"雲林市"},{value:"",text:"嘉義市"},{value:"",text:"台南市"},{value:"",text:"高雄市"},{value:"",text:"屏東市"},{value:"",text:"台東市"},{value:"",text:"花蓮市"},{value:"",text:"宜蘭市"},{value:"",text:"基隆市"},{value:"",text:"南投市"},{value:"",text:"澎湖市"},{value:"",text:"金門市"}]}},computed:{visiableItemArray:function(){var map=[];for(var e in this.items){var t=this.items[e];t.checked&&map.push(t.type)}return map},nodes:function(){var e=[];for(var t in this.rawNodes){var n=this.rawNodes[t];this.visiableItemArray.includes(n.type)&&e.push(n)}return e}},mounted:function(){var e=this;l.database().ref("nodes").once("value").then(function(t){var data=t.val();console.log(data),e.rawNodes=data,e.center={lat:data[0].latitude,lng:data[0].longitude}})},methods:{mapClick:function(e){console.log(this.$refs.myMap.mapObject._zoom),this.$refs.myMap.mapObject._zoom<15&&alert("需要再縮小")},markerClick:function(e){this.center={lat:e.latitude,lng:e.longitude},this.infoWindow={options:this.infowindowOptions,positions:{lat:e.latitude,lng:e.longitude},isOpen:!0,node:e}},markerOver:function(e){e.sourceTarget.setOpacity(1)},markerOut:function(e){e.sourceTarget.setOpacity(.5)}}},O=(n(597),n(10)),component=Object(O.a)(_,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("Navbar",{attrs:{cities:e.cities,typeOptions:e.items}}),e._v(" "),o("b-container",{staticClass:"map-container"},[o("ShopList"),e._v(" "),o("b-row",[o("b-col",{staticClass:"map",attrs:{lg:"12"}},[o("no-ssr",[o("gmap-map",{staticStyle:{width:"100%",height:"calc(100vh - 60px)"},attrs:{center:e.center,zoom:e.zoomLevel,"map-type-id":"roadmap"}},[e._l(e.nodes,function(t,n){return o("gmap-marker",{directives:[{name:"show",rawName:"v-show",value:e.visiableItemArray.includes(t.type),expression:"visiableItemArray.includes(node.type)"}],key:n,attrs:{position:{lat:t.latitude,lng:t.longitude},clickable:!0,draggable:!1},on:{click:function(n){return e.markerClick(t)}}})}),e._v(" "),o("gmap-info-window",{staticStyle:{width:"100px"},attrs:{options:e.infoWindow.options,position:e.infoWindow.positions,opened:e.infoWindow.isOpen},on:{closeclick:function(t){e.infoWindow.isOpen=!1}}},[o("div",{staticStyle:{display:"flex","justify-content":"space-between","margin-bottom":"5px"}},[o("img",{attrs:{src:n(439),width:"110px",height:"80px"}}),e._v(" "),o("div",{staticStyle:{padding:"10px"}},[o("h1",[e._v(e._s(e.infoWindow.node.name))]),e._v(" "),o("br"),e._v(" "),o("p",{staticStyle:{"margin-top":"10px","font-size":"14px"}},[e._v("\n                    類別\n                    "),o("span",{staticStyle:{float:"right",color:"#4de680","font-weight":"bold"}},[e._v("休息中")])])])])])],2)],1)],1)],1)],1)],1)},[],!1,null,null,null);t.default=component.exports}}]);