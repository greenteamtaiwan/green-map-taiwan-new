(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{723:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIj8+DQo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHZlcnNpb249IjEuMSIgaWQ9IkNhcGFfMSIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSI1MTJweCIgaGVpZ2h0PSI1MTJweCIgdmlld0JveD0iMCAwIDQxMC4yMyA0MTAuMjMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQxMC4yMyA0MTAuMjM7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48Zz48Zz4NCgk8cGF0aCBkPSJNNDAxLjYyNSwzNjQuMDkybC0xMDcuMS0xMDcuMWMxOS4xMjUtMjYuNzc1LDMwLjYtNTkuMjg4LDMwLjYtOTMuNzEzYzAtODkuODg4LTcyLjY3NS0xNjIuNTYyLTE2Mi41NjItMTYyLjU2MiAgIFMwLDczLjM5MiwwLDE2My4yNzlzNzIuNjc1LDE2Mi41NjIsMTYyLjU2MiwxNjIuNTYyYzM0LjQyNSwwLDY2LjkzOC0xMS40NzUsOTMuNzEzLTMwLjZsMTA3LjEsMTA3LjEgICBjOS41NjIsOS41NjIsMjYuNzc1LDkuNTYyLDM4LjI1LDBsMCwwQzQxMy4xLDM5MC44NjcsNDEzLjEsMzc1LjU2Niw0MDEuNjI1LDM2NC4wOTJ6IE0xNjIuNTYyLDI4Ny41OTIgICBjLTY4Ljg1LDAtMTI0LjMxMi01NS40NjMtMTI0LjMxMi0xMjQuMzEyYzAtNjguODUsNTUuNDYyLTEyNC4zMTIsMTI0LjMxMi0xMjQuMzEyYzY4Ljg1LDAsMTI0LjMxMiw1NS40NjIsMTI0LjMxMiwxMjQuMzEyICAgQzI4Ni44NzUsMjMyLjEyOSwyMzEuNDEyLDI4Ny41OTIsMTYyLjU2MiwyODcuNTkyeiIgZGF0YS1vcmlnaW5hbD0iIzAwMDAwMCIgY2xhc3M9ImFjdGl2ZS1wYXRoIiBkYXRhLW9sZF9jb2xvcj0iIzAwMDAwMCIgZmlsbD0iIzAwMDAwMCIvPg0KPC9nPjwvZz4gPC9zdmc+DQo="},724:function(t,e,o){var content=o(744);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(52).default)("233ce0c6",content,!0,{sourceMap:!1})},725:function(t,e,o){var content=o(746);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(52).default)("1fcd4353",content,!0,{sourceMap:!1})},726:function(t,e,o){var content=o(751);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(52).default)("2f3b307d",content,!0,{sourceMap:!1})},727:function(t,e,o){var content=o(754);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(52).default)("3d6101da",content,!0,{sourceMap:!1})},730:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIj8+DQo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgNTEyIDUxMiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNTEyIDUxMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSI1MTJweCIgaGVpZ2h0PSI1MTJweCIgY2xhc3M9IiI+PGc+PGc+DQoJPGc+DQoJCTxwYXRoIGQ9Ik0yNTYsMEMxNTMuNzU1LDAsNzAuNTczLDgzLjE4Miw3MC41NzMsMTg1LjQyNmMwLDEyNi44ODgsMTY1LjkzOSwzMTMuMTY3LDE3My4wMDQsMzIxLjAzNSAgICBjNi42MzYsNy4zOTEsMTguMjIyLDcuMzc4LDI0Ljg0NiwwYzcuMDY1LTcuODY4LDE3My4wMDQtMTk0LjE0NywxNzMuMDA0LTMyMS4wMzVDNDQxLjQyNSw4My4xODIsMzU4LjI0NCwwLDI1NiwweiBNMjU2LDI3OC43MTkgICAgYy01MS40NDIsMC05My4yOTItNDEuODUxLTkzLjI5Mi05My4yOTNTMjA0LjU1OSw5Mi4xMzQsMjU2LDkyLjEzNHM5My4yOTEsNDEuODUxLDkzLjI5MSw5My4yOTNTMzA3LjQ0MSwyNzguNzE5LDI1NiwyNzguNzE5eiIgZGF0YS1vcmlnaW5hbD0iIzAwMDAwMCIgY2xhc3M9ImFjdGl2ZS1wYXRoIiBkYXRhLW9sZF9jb2xvcj0iIzRkZTY4MCIgZmlsbD0iIzRkZTY4MCIvPg0KCTwvZz4NCjwvZz48L2c+IDwvc3ZnPg0K"},731:function(t,e,o){t.exports=o.p+"img/b1bcf61.png"},732:function(t,e,o){t.exports=o.p+"img/7e6173f.svg"},733:function(t,e,o){"use strict";o(74);var n=o(728),r=o(729),c={components:{ShopItem:n.a,Sidebar:r.a},props:{typeOptions:{type:Array,default:[]},show:{type:Boolean,default:!1},searchHistory:{type:Array,default:[]},search:{type:Function,default:function(){}},setType:{type:Function,default:function(){}},query:{type:String,default:""}},computed:{searchDisabled:function(){return""===this.query}},methods:{checkIfIsSelected:function(t){return+this.$store.state.type==+t.value}}},l=(o(743),o(12)),d=Object(l.a)(c,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Sidebar",{attrs:{show:t.show,isRight:!0,id:"search-sidebar"}},[n("div",{attrs:{slot:"content"},slot:"content"},[n("mq-layout",{attrs:{mq:"md"}},[n("b-form",{attrs:{id:"search-container"},on:{submit:[function(t){t.stopPropagation(),t.preventDefault()},t.search]}},[n("b-input-group",{staticClass:"search"},[n("b-form-input",{attrs:{placeholder:" 搜尋「減塑」 ",name:"query","aria-label":"Search",value:t.query,autocomplete:"off"}}),t._v(" "),n("b-input-group-append",[n("b-button",{staticClass:"search-button",attrs:{type:"submit"}},[n("img",{attrs:{src:o(723),height:"19",width:"19"}})])],1)],1)],1)],1),t._v(" "),n("ul",{staticClass:"history-container"},t._l(t.searchHistory,function(e,r){return n("li",{on:{click:function(o){return t.search(e)}}},[n("img",{attrs:{src:o(723),height:"19",width:"19"}}),t._v("\n                "+t._s(e)+"\n            ")])}),0),t._v(" "),n("ul",{staticClass:"types"},[n("hr"),t._v(" "),t._l(t.typeOptions,function(e,o){return n("li",{class:{"selected-type":t.checkIfIsSelected(e)},on:{click:function(o){return t.setType(e.value)}}},[n("img",{attrs:{src:e.typeIcon}}),t._v("\n                "+t._s(e.text)+"\n            ")])}),t._v(" "),n("hr")],2)],1)])},[],!1,null,"03e60530",null).exports,h=(o(133),{data:function(){return{showSearchSidebar:!1,searchHistory:[]}},mounted:function(){window.addEventListener("click",this.closeSearchSidebar),this.searchHistory=localStorage.getItem("searchHistory")?JSON.parse(localStorage.getItem("searchHistory")):[]},beforeDestroy:function(){window.removeEventListener("scroll",this.closeSearchSidebar)},components:{SearchSidebar:d},computed:{typeOptions:function(){return this.$store.state.sourceData.types.filter(function(option){return option.checked})},cities:function(){return this.$store.state.sourceData.cities},query:function(){return this.$store.state.query},city:function(){return this.$store.state.city}},methods:{search:function(t){var e,o=t instanceof Event?t.target.elements.query.value:t;o&&((e=this.searchHistory.indexOf(o)>=0)?(this.searchHistory.unshift(this.searchHistory.splice(e,1)[0]),localStorage.setItem("searchHistory",JSON.stringify(this.searchHistory))):this.searchHistory[0]!==o&&(this.searchHistory.unshift(o),localStorage.setItem("searchHistory",JSON.stringify(this.searchHistory)))),this.$store.commit("setQuery",o),this.$store.dispatch("getShops"),"index"!==$nuxt.$route.name&&$nuxt.$router.push("/"),this.showSearchSidebar=!1},setCity:function(t){switch(this.$store.dispatch("setCityAndCenter",t),$nuxt.$route.name){case"recommendations":this.$store.dispatch("getRecommendationShops",t);break;case"shop":$nuxt.$router.push("/");break;case"index":console.log("getShops"),this.$store.dispatch("getShops")}},setType:function(t){this.$store.commit("setType",t),this.$store.dispatch("getShops"),"index"!==$nuxt.$route.name&&$nuxt.$router.push("/"),this.showSearchSidebar=!1},setShowSearchSidebar:function(t){this.showSearchSidebar=t},closeSearchSidebar:function(t){console.log(this.$mq),"lg"===this.$mq?document.querySelector("#search-sidebar").contains(t.target)||document.querySelector("#search-container").contains(t.target)||(this.showSearchSidebar=!1):document.querySelector("#search-sidebar").contains(t.target)||document.querySelector("#mobile-button").contains(t.target)||(this.showSearchSidebar=!1)}}}),m=(o(745),Object(l.a)(h,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("mq-layout",{attrs:{mq:"lg"}},[n("nav",{staticClass:"navbar navbar-expand-lg navbar-light fixed-top",attrs:{id:"gt-nav"}},[n("nuxt-link",{attrs:{to:"/"}},[n("div",{staticClass:"map-logo"},[n("img",{attrs:{src:o(742),width:"40px"}})])]),t._v(" "),n("b-form",{staticClass:"sidebar-inline-form",attrs:{inline:""},on:{submit:function(t){t.stopPropagation(),t.preventDefault()}}},[n("div",{staticClass:"navbar-middle"},[n("b-form-select",{staticClass:"cities-select",attrs:{value:t.city,options:t.cities},on:{change:t.setCity}}),t._v(" "),n("nuxt-link",{attrs:{to:"/recommendations"}},[t._v("城市推薦綠點")])],1)]),t._v(" "),n("b-form",{attrs:{inline:"",id:"search-container"},on:{submit:[function(t){t.stopPropagation(),t.preventDefault()},t.search]}},[n("b-input-group",{staticClass:"search"},[n("b-input-group-prepend",[n("b-button",{staticClass:"search-button",attrs:{type:"submit"}},[n("img",{attrs:{src:o(723),height:"19",width:"19"}})])],1),t._v(" "),n("b-form-input",{attrs:{placeholder:" 搜尋「減塑」 ",name:"query","aria-label":"Search",autocomplete:"off",value:t.query},nativeOn:{focus:function(e){return t.setShowSearchSidebar(!0)}}})],1)],1)],1)]),t._v(" "),n("mq-layout",{attrs:{mq:"md"}},[n("nav",{staticClass:"navbar navbar-expand-lg navbar-light fixed-top",attrs:{id:"gt-nav"}},[n("nuxt-link",{attrs:{to:"/"}},[n("div",{staticClass:"map-logo"},[n("img",{attrs:{src:o(732),width:"40px"}}),t._v(" "),n("img",{attrs:{src:o(731),height:"70%"}})])]),t._v(" "),n("button",{attrs:{id:"mobile-button"},on:{click:function(e){return t.setShowSearchSidebar(!t.showSearchSidebar)}}},[t._v(t._s(t.showSearchSidebar?"✖":"☰"))]),t._v(" "),n("b-form",{staticClass:"sidebar-inline-form",attrs:{inline:""},on:{submit:function(t){t.stopPropagation(),t.preventDefault()}}},[n("div",{staticClass:"navbar-middle"},[n("b-form-select",{staticClass:"cities-select",attrs:{value:t.city,options:t.cities},on:{change:t.setCity}}),t._v(" "),n("nuxt-link",{attrs:{to:"/recommendations"}},[t._v("城市推薦綠點")])],1)])],1)]),t._v(" "),n("SearchSidebar",{attrs:{show:t.showSearchSidebar,typeOptions:t.typeOptions,searchHistory:t.searchHistory,query:t.query,search:t.search,setType:t.setType}})],1)},[],!1,null,null,null));e.a=m.exports},742:function(t,e,o){t.exports=o.p+"img/8a5b6b9.svg"},743:function(t,e,o){"use strict";var n=o(724);o.n(n).a},744:function(t,e,o){(t.exports=o(51)(!1)).push([t.i,".history-container[data-v-03e60530]{max-height:120px;overflow-y:auto}.history-container li[data-v-03e60530]{margin:10px 0}img[data-v-03e60530]{width:50px}li[data-v-03e60530]{cursor:pointer}.selected-type[data-v-03e60530],.types li[data-v-03e60530]:hover{background-color:#d8d8d8}#search-sidebar[data-v-03e60530]{width:300px;padding:1rem 0;z-index:2}#search-sidebar ul[data-v-03e60530]{margin:0 15px}.types li[data-v-03e60530]{height:65px;line-height:60px;margin:10px}@media screen and (max-width:1250px){.sidebar[data-v-03e60530]{border-top:1px solid grey}#search-sidebar[data-v-03e60530]{padding:0;z-index:2}.search-button[data-v-03e60530]{padding:0}.history-container[data-v-03e60530]{max-height:120px}}",""])},745:function(t,e,o){"use strict";var n=o(725);o.n(n).a},746:function(t,e,o){e=t.exports=o(51)(!1);var n=o(333)(o(747));e.push([t.i,"a{color:#000}a:hover{text-decoration:none;color:#44ad47}nav{height:60px;border-bottom:1px solid #d3d3d3;line-height:40px;background-color:#fff;position:relative}nav.navbar{z-index:2}nav img:nth-child(2){width:40px;height:11px}nav>div,nav>form>div{padding:10px 20px}.map-logo img{display:block;margin:2px 15px 2px 2px}.input-group.search,.navbar-middle{height:60px;border-left:1px solid #d3d3d3}.input-group.search{position:absolute;right:0;width:300px}.search input{background-color:transparent;border-radius:0;border:none;border-bottom:1px solid;height:100%}.custom-select{background:url("+n+") no-repeat right .75rem center/8px 10px;background-size:15px 15px;border:none;margin-right:10px}button.gm-ui-hover-effect{display:none!important}.cities-select.custom-select{width:90px}button.btn.btn-secondary.search-button{border-radius:0;background-color:transparent;border:none;border-bottom:1px solid #000}button.btn.btn-secondary.search-button:active{background-color:transparent}.btn-secondary.focus,.btn-secondary:focus{box-shadow:0 0 0 .2rem rgba(68,173,71,.5)}@media screen and (max-width:1250px){nav{height:unset}.map-logo{display:inline-block;border-right:1px solid grey}#gt-nav{padding:0}.sidebar-inline-form{display:block;position:fixed;top:60px;width:100%;background-color:#fff;border-top:1px solid grey}.sidebar-inline-form .navbar-middle{padding:7px 20px;height:unset;width:100%;display:flex;justify-content:space-between}.map-logo{border:none;height:60px;padding:10px}#mobile-button{border:none;border-left:1px solid grey;background-color:#fff;margin-left:auto;display:inline-block;width:60px;height:60px;position:absolute;right:0;top:0}.map-logo img{display:inline-block;height:100%;margin:0}.map-logo img:nth-child(2){height:70%;width:unset}.input-group.search{position:relative;border-bottom:none;background-color:#fff;padding:10px 20px}}",""])},747:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIj8+DQo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHZlcnNpb249IjEuMSIgaWQ9IkNhcGFfMSIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSI1MTJweCIgaGVpZ2h0PSI1MTJweCIgdmlld0JveD0iMCAwIDQ1MS44NDcgNDUxLjg0NyIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDUxLjg0NyA0NTEuODQ3OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgY2xhc3M9IiI+PGc+PGc+DQoJPHBhdGggZD0iTTIyNS45MjMsMzU0LjcwNmMtOC4wOTgsMC0xNi4xOTUtMy4wOTItMjIuMzY5LTkuMjYzTDkuMjcsMTUxLjE1N2MtMTIuMzU5LTEyLjM1OS0xMi4zNTktMzIuMzk3LDAtNDQuNzUxICAgYzEyLjM1NC0xMi4zNTQsMzIuMzg4LTEyLjM1NCw0NC43NDgsMGwxNzEuOTA1LDE3MS45MTVsMTcxLjkwNi0xNzEuOTA5YzEyLjM1OS0xMi4zNTQsMzIuMzkxLTEyLjM1NCw0NC43NDQsMCAgIGMxMi4zNjUsMTIuMzU0LDEyLjM2NSwzMi4zOTIsMCw0NC43NTFMMjQ4LjI5MiwzNDUuNDQ5QzI0Mi4xMTUsMzUxLjYyMSwyMzQuMDE4LDM1NC43MDYsMjI1LjkyMywzNTQuNzA2eiIgZGF0YS1vcmlnaW5hbD0iIzAwMDAwMCIgY2xhc3M9ImFjdGl2ZS1wYXRoIiBkYXRhLW9sZF9jb2xvcj0iIzAwMDAwMCIgZmlsbD0iIzAwMDAwMCIvPg0KPC9nPjwvZz4gPC9zdmc+DQo="},749:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIj8+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDUxLjYzNiA1MS42MzYiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDUxLjYzNiA1MS42MzY7IiB4bWw6c3BhY2U9InByZXNlcnZlIiB3aWR0aD0iNTEycHgiIGhlaWdodD0iNTEycHgiIGNsYXNzPSIiPjxnPjxwYXRoIGQ9Ik01MS4zNTMsMC45MTRjLTAuMjk1LTAuMzA1LTAuNzUtMC4zOS0xLjEzNS0wLjIxM0wwLjU4MywyMy40ODFjLTAuMzk5LDAuMTg0LTAuNjMyLDAuNjA1LTAuNTc0LDEuMDQxICBzMC4zOTMsMC43ODIsMC44MjYsMC44NTRsMjIuMjYzLDMuNzMxbDIuNTQ1LDIxLjAzOGMwLjA1NCwwLjQzOCwwLjM4OSwwLjc5MSwwLjgyNCwwLjg2NWMwLjA1NywwLjAxLDAuMTEzLDAuMDE1LDAuMTY5LDAuMDE1ICBjMC4zNzUsMCwwLjcyNi0wLjIxMSwwLjg5Ni0wLjU1NmwyNC00OC40MTVDNTEuNzIsMS42NzUsNTEuNjQ4LDEuMjE4LDUxLjM1MywwLjkxNHoiIGRhdGEtb3JpZ2luYWw9IiMwMDAwMDAiIGNsYXNzPSJhY3RpdmUtcGF0aCIgZGF0YS1vbGRfY29sb3I9IiM0MjNlMzciIGZpbGw9IiM0MjNlMzciLz48L2c+IDwvc3ZnPgo="},750:function(t,e,o){"use strict";var n=o(726);o.n(n).a},751:function(t,e,o){(t.exports=o(51)(!1)).push([t.i,".expand-map-button-index{border:none;background-color:hsla(0,0%,100%,.9);color:grey;position:absolute;bottom:30px;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);z-index:1;padding:5px 30px}body,html{overflow-y:hidden}.index-map{width:100%;height:calc(100vh - 60px)}.get-location-button{bottom:190px}.back-to-index-button,.get-location-button{position:absolute;right:10px;z-index:1;border:1px solid grey;width:45px;height:45px;padding:10px}.back-to-index-button{top:10px;background-color:#fff}.get-location-button img{width:100%;height:100%}.map-container h1{font-size:16px;font-weight:700;display:inline-block;margin-right:5px;margin-bottom:0;height:27px}.clear-info-window-button{position:absolute;top:5px;right:10px;font-weight:700;cursor:pointer}.address{margin:10px 0}.google-map-button{color:#44ad47;border-radius:5px;padding:5px 20px;border:1px solid;font-size:12px;display:block;margin:auto}.type{color:#9fa0a0;font-size:13px;margin:0}.map-container{padding:0;margin:60px 0 0;max-width:unset}.map-container>.row,.map-container>.row>div{margin:0;padding:0}p.recommend{color:#ee5593;font-weight:700;display:flex;align-items:center}.recommend img{width:unset;margin-right:5px}p.type{display:block;color:#d3d3d3;font-size:13px}.info-window-container{display:flex;justify-content:space-between;margin-bottom:5px}.info-window-container h1{max-width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;cursor:pointer}.info-window-container h1:hover{color:#44ad47}@media screen and (max-width:1250px){.index-map{height:calc(60vh - 116px)}.map-container{margin-top:116px}.get-location-button{top:10px;bottom:unset}}.gmap-info-window-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.gm-style-iw.gm-style-iw-c h1{font-size:20px}.gm-style-iw.gm-style-iw-c{padding:0;height:80px;font-family:微軟正黑體}",""])},752:function(t){t.exports={}},753:function(t,e,o){"use strict";var n=o(727);o.n(n).a},754:function(t,e,o){(t.exports=o(51)(!1)).push([t.i,".shopList{background-color:#f3f4f5;padding:0;transition:left 1s;overflow-y:auto;height:100%}.no-result-placeholder{text-align:center}.no-result-placeholder img{width:30%;margin:0 auto 30px;display:block}@media screen and (max-width:991px){.shopList{height:unset;padding:10px}}",""])},755:function(t,e,o){"use strict";var n=o(728),r=o(729),c=o(735),l=o(736),d=o.n(l),h=o(737),m=o.n(h),f=o(738),x=o.n(f),y=o(739),M=o.n(y),w=o(740),v=o.n(w),I={components:{ShopItem:n.a,Sidebar:r.a},data:function(){return{mascots:[d.a,m.a,x.a,M.a,v.a]}},props:{show:{type:Boolean,default:!0},onCloseButtonClick:{type:Function,default:function(){}},shops:{type:Array,default:[]}},computed:{isLoading:function(){return this.$store.state.isLoading},selectedShop:function(){return this.$store.state.shop}},methods:{onScroll:Object(c.a)(function(t){var e=t.target;console.log("??"),e.scrollTop>=e.scrollHeight-e.offsetHeight-500&&this.$store.state.pageNum<Math.ceil(this.shops.length/20)&&this.$store.commit("addPageNum")},1e3)}},S=(o(753),o(12)),component=Object(S.a)(I,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("Sidebar",{attrs:{show:t.show,onCloseButtonClick:t.onCloseButtonClick,showCloseSidebarButton:!0}},[t.shops.length>0?o("ul",{directives:[{name:"scroll",rawName:"v-scroll",value:t.onScroll,expression:"onScroll"}],staticClass:"shopList",attrs:{slot:"content"},slot:"content"},t._l(t.shops.slice(0,20*this.$store.state.pageNum),function(e,n){return o("ShopItem",{attrs:{shop:e,isMarkerClicked:e.objectID===t.selectedShop.objectID}})}),1):t._e(),t._v(" "),0===t.shops.length?o("div",{staticClass:"no-result-placeholder",attrs:{slot:"content"},slot:"content"},[o("img",{attrs:{src:t.mascots[Math.floor(Math.random()*t.mascots.length)]}}),t._v(" "),o("p",[t._v(t._s(t.isLoading?"Loading...":"目前沒有符合的搜尋結果"))])]):t._e()])},[],!1,null,null,null);e.a=component.exports},756:function(t,e,o){"use strict";o(74);var n=o(35),r=(o(730),o(133),{components:{ImageHandler:o(734).a},data:function(){return{zoomLevel:14,centerForSync:Object(n.a)({},this.$store.center)}},computed:{visiableItemArray:function(){var map=[];for(var t in this.$store.state.sourceData.types){var e=this.$store.state.sourceData.types[t];e.checked&&map.push(e.value)}return map},shops:function(){return this.$store.state.shops},center:function(){return this.$store.state.center},selectedShop:function(){return this.$store.state.shop},types:function(){return this.$store.state.sourceData.types}},props:{mapSettings:{type:Object,default:{zoomControl:!0,mapTypeControl:!1,scaleControl:!0,streetViewControl:!0,rotateControl:!0,fullscreenControl:!0,disableDefaultUi:!1,streetViewControlOptions:{position:8},zoomControlOptions:{position:8}}}},methods:{mapClick:function(t){this.$refs.myMap.mapObject._zoom<15&&alert("需要再縮小")},markerClick:function(t,e){this.$store.commit("markerOnClick",e),this.$store.commit("setShop",t)},markerOver:function(t){t.sourceTarget.setOpacity(1)},markerOut:function(t){t.sourceTarget.setOpacity(.5)},setShop:function(){!this.selectedShop.google_map_link||this.selectedShop.photo1||this.selectedShop.recommendation_description||this.selectedShop.description?$nuxt.$router.push("/shop?objectID=".concat(this.selectedShop.objectID)):window.open(this.selectedShop.google_map_link,"_blank").focus()},getIcon:function(t){return this.$store.state.type?this.$store.state.sourceData.types[this.$store.state.type].icon:this.$store.state.sourceData.types[t].icon||""},initPageNum:function(){this.$store.commit("initPageNum")},getUserLocation:function(){this.$store.dispatch("getUserLocation"),this.$store.state.userLocation&&this.$store.dispatch("getNearbyShops")},clearSelectedShop:function(){this.$store.commit("setShop",{})},updateCenter:function(t){this.centerForSync={lat:t.lat(),lng:t.lng()}},dragEnd:function(){this.$store.commit("setCenter",this.centerForSync)},backToIndex:function(){switch($nuxt.$route.name){case"map":case"index-map":$nuxt.$router.push("/");break;case"shop-map":this.selectedShop.objectID?$nuxt.$router.push("/shop?objectID=".concat(this.selectedShop.objectID)):$nuxt.$router.push("/")}}}}),c=(o(750),o(12)),component=Object(c.a)(r,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",{staticClass:"map-container"},[n("b-row",[n("b-col",{staticClass:"map",attrs:{lg:"12"}},[t._t("default"),t._v(" "),n("button",{staticClass:"get-location-button",on:{click:t.getUserLocation}},[n("img",{attrs:{src:o(749)}})]),t._v(" "),n("mq-layout",{attrs:{mq:"lg"}},[n("button",{staticClass:"back-to-index-button",on:{click:t.backToIndex}},[t._v("✖")])]),t._v(" "),n("no-ssr",[n("gmap-map",{staticClass:"index-map",attrs:{center:t.center,zoom:t.zoomLevel,"map-type-id":"roadmap",options:t.mapSettings},on:{center_changed:t.updateCenter,dragend:t.dragEnd}},[t._l(t.shops,function(e,o){return n("gmap-marker",{key:o,attrs:{position:{lat:parseFloat(e.latitude),lng:parseFloat(e.longitude)},clickable:!0,draggable:!1,icon:{url:t.getIcon(e.type?e.type[0]:0),scaledSize:t.selectedShop&&e.objectID===t.selectedShop.objectID?{width:67,height:79}:{width:55,height:65}}},on:{click:function(n){return t.markerClick(e,o)}}})}),t._v(" "),n("gmap-info-window",{staticStyle:{width:"100px"},attrs:{options:{pixelOffset:{width:5,height:-65}},opened:null!==t.selectedShop&&Object.getOwnPropertyNames(t.selectedShop).length>1,position:{lat:+t.selectedShop.latitude||0,lng:+t.selectedShop.longitude||0}},on:{closeclick:function(t){}}},[n("div",{staticClass:"info-window-container"},[n("span",{staticClass:"clear-info-window-button",on:{click:t.clearSelectedShop}},[t._v("✖")]),t._v(" "),t.selectedShop.photo0||t.selectedShop.facebook_avatar?n("ImageHandler",{attrs:{src:t.selectedShop.photo0||t.selectedShop.facebook_avatar,containerStyle:{width:"120px",height:"80px",overflow:"hidden",position:"relative"},alt:t.selectedShop.name,onClick:t.setShop}}):t._e(),t._v(" "),n("div",{staticStyle:{padding:"10px","min-width":"160px"}},[n("h1",{on:{click:t.setShop}},[t._v(t._s(t.selectedShop.name))]),t._v(" "),n("br"),t._v(" "),n("p",{staticStyle:{"margin-top":"5px","font-size":"14px"}},[t._l(t.selectedShop.type,function(e,o){return t.selectedShop.type&&t.types[t.selectedShop.type[0]]?n("span",[t._v(t._s(t.types[e].text+(o===t.selectedShop.type.length-1?"":", ")))]):t._e()}),t._v(" "),n("span",{staticStyle:{float:"right",color:"#4de680","font-weight":"bold"}},[t._v(t._s(t.selectedShop.open_status&&t.selectedShop.open_status.type?t.selectedShop.open_status.text:""))])],2)])],1)])],2)],1)],2)],1)],1)},[],!1,null,null,null);e.a=component.exports},764:function(t,e,o){var content=o(804);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(52).default)("21036413",content,!0,{sourceMap:!1})},765:function(t,e,o){var content=o(806);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(52).default)("63b53993",content,!0,{sourceMap:!1})},766:function(t,e,o){var content=o(808);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(52).default)("735187ca",content,!0,{sourceMap:!1})},779:function(t,e,o){"use strict";o(752);var n=o(733),r=o(755),c=o(728),l=o(729),d=o(736),h=o.n(d),m=o(737),f=o.n(m),x=o(738),y=o.n(x),M=o(739),w=o.n(M),v=o(740),I=o.n(v),S=o(735),j=0,L={components:{ShopItem:c.a,Sidebar:l.a},data:function(){return{mascots:[h.a,f.a,y.a,w.a,I.a],prevScrollTop:0}},props:{shops:{type:Array,default:[]}},computed:{isLoading:function(){return this.$store.state.isLoading},selectedShop:function(){return this.$store.state.shop}},methods:{onScroll:Object(S.a)(function(t){var e=t.target;e.scrollTop>=e.scrollHeight-e.offsetHeight-500&&this.$store.state.pageNum<Math.ceil(this.shops.length/20)&&this.$store.commit("addPageNum"),e.scrollTop>j&&window.scrollY<=.45*window.innerHeight?window.scrollTo({top:.45*window.innerHeight,behavior:"smooth"}):e.scrollTop>=e.scrollHeight-e.offsetHeight&&window.scrollTo({top:e.scrollTop,behavior:"smooth"}),j=e.scrollTop},1e3)}},N=(o(803),o(12)),D=Object(N.a)(L,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{directives:[{name:"scroll",rawName:"v-scroll",value:t.onScroll,expression:"onScroll"}],staticClass:"mobile mobile-shop-list"},[t.shops.length>0?o("ul",{staticClass:"shopList",attrs:{slot:"content"},slot:"content"},t._l(t.shops.slice(0,20*this.$store.state.pageNum),function(e,n){return o("ShopItem",{attrs:{shop:e,isMarkerClicked:e.objectID===t.selectedShop.objectID}})}),1):t._e(),t._v(" "),0===t.shops.length?o("div",{staticClass:"no-result-placeholder",attrs:{slot:"content"},slot:"content"},[o("img",{attrs:{src:t.mascots[Math.floor(Math.random()*t.mascots.length)]}}),t._v(" "),o("p",[t._v(t._s(t.isLoading?"Loading...":"目前沒有符合的搜尋結果"))])]):t._e()])},[],!1,null,null,null).exports,z=(o(730),o(133),o(734)),T=o(756),C=o(794),k={components:{Navbar:n.a,ShopList:r.a,ImageHandler:z.a,MobileShopList:D,Map:T.a,IndexFilterTab:C.a},data:function(){return{showShopList:!0}},computed:{shops:function(){return this.$store.state.shops},selectedShop:function(){return this.$store.state.shop},query:function(){return this.$state.state.query}},mounted:function(){this.$store.dispatch("getShops"),this.$store.dispatch("getUserLocation"),this.$store.state.userLocation&&this.$store.dispatch("getNearbyShops")},methods:{toggleShopList:function(){this.showShopList=!this.showShopList},setShop:function(){$nuxt.$router.push("/shop?objectID=".concat(this.selectedShop.objectID))},initPageNum:function(){this.$store.commit("initPageNum")}}},_=(o(807),Object(N.a)(k,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"map-container"},[o("mq-layout",{attrs:{mq:"md"}},[o("Navbar")],1),t._v(" "),o("mq-layout",{attrs:{mq:"lg"}},[o("ShopList",{attrs:{show:t.showShopList,shops:t.shops,onCloseButtonClick:t.toggleShopList}})],1),t._v(" "),o("mq-layout",{attrs:{mq:"md"}},[o("MobileShopList",{attrs:{shops:t.shops}})],1),t._v(" "),o("Map",{attrs:{mapSettings:{zoomControl:!0,mapTypeControl:!1,scaleControl:!0,streetViewControl:!0,rotateControl:!0,fullscreenControl:!0,disableDefaultUi:!1}}},[o("mq-layout",{attrs:{mq:"md"}},[o("nuxt-link",{attrs:{to:"/index-map"}},[o("button",{staticClass:"expand-map-button-index mobile",on:{click:t.initPageNum}},[t._v("展開地圖")])])],1)],1)],1),t._v(" "),o("mq-layout",{staticClass:"mapPage-indexFilterTab-container",attrs:{mq:"lg"}},[o("IndexFilterTab",{attrs:{hasMapButton:!1}})],1)],1)},[],!1,null,null,null));e.a=_.exports},794:function(t,e,o){"use strict";var n,r=o(124),c=(n={computed:{types:function(){return this.$store.state.sourceData.types},altPlaceholders:function(){return[GT1,GT2,GT3,GT4,GT5]}}},Object(r.a)(n,"computed",{typeOptions:function(){return this.$store.state.sourceData.types.filter(function(option){return option.checked}).slice(1)},query:function(){return this.$store.state.query}}),Object(r.a)(n,"props",{hasMapButton:{type:Boolean,default:!0}}),Object(r.a)(n,"methods",{checkIfIsSelected:function(t){return+this.$store.state.type==+t.value},setType:function(t){t===this.$store.state.type?this.$store.commit("setType",null):this.$store.commit("setType",t),this.$store.dispatch("getShops")}}),n),l=(o(805),o(12)),component=Object(l.a)(c,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"index-filter-tab"},[n("span",[t._v(t._s(t.query||"零廢棄地圖綠點"))]),t._v(" "),n("ul",t._l(t.typeOptions,function(e,o){return n("li",{class:{"selected-type":t.checkIfIsSelected(e)},on:{click:function(o){return t.setType(e.value)}}},[n("img",{attrs:{src:e.typeIcon}}),t._v("\n            "+t._s(e.text)+"\n        ")])}),0),t._v(" "),t.hasMapButton?n("nuxt-link",{attrs:{to:"/map"}},[n("button",[n("img",{attrs:{src:o(732),width:"40px"}})])]):t._e()],1)},[],!1,null,"59aef052",null);e.a=component.exports},803:function(t,e,o){"use strict";var n=o(764);o.n(n).a},804:function(t,e,o){(t.exports=o(51)(!1)).push([t.i,".mobile-shop-list{position:absolute;top:60vh;max-height:100vh;min-height:50vh;overflow-y:auto;background-color:#f3f4f5;width:100%}.shopList{background-color:#f3f4f5;padding:0;transition:left 1s;overflow:auto}.no-result-placeholder{text-align:center}.mobile-shop-list .no-result-placeholder img{width:55%;margin:30px auto 0;height:20vh;width:unset;margin:0 auto 20px;display:block}@media screen and (max-width:1250px){.shopList{height:unset;padding:10px}}",""])},805:function(t,e,o){"use strict";var n=o(765);o.n(n).a},806:function(t,e,o){(t.exports=o(51)(!1)).push([t.i,".index-filter-tab[data-v-59aef052]{display:flex;justify-content:space-between;align-items:center}.index-filter-tab span[data-v-59aef052]{display:inline-block;width:calc(20% - 30px);font-weight:700}.index-filter-tab li[data-v-59aef052]{width:19%;text-align:left;background-color:#fff;padding:5px;cursor:pointer}.index-filter-tab a[data-v-59aef052]{width:60px;text-align:center;align-self:stretch}.index-filter-tab a button[data-v-59aef052]{background-color:#fff;padding:5px;border:none;width:100%;height:100%}.index-filter-tab .selected-type[data-v-59aef052],.index-filter-tab button[data-v-59aef052]:hover,.index-filter-tab li[data-v-59aef052]:hover{color:#fff;background-color:#2586db}.index-filter-tab ul[data-v-59aef052]{display:flex;justify-content:space-between;list-style-type:none;width:calc(80% - 48px);margin-bottom:0}.index-filter-tab img[data-v-59aef052]{width:40px}",""])},807:function(t,e,o){"use strict";var n=o(766);o.n(n).a},808:function(t,e,o){(t.exports=o(51)(!1)).push([t.i,".expand-map-button-index{border:none;background-color:hsla(0,0%,100%,.9);color:grey;position:absolute;bottom:30px;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);z-index:1;padding:5px 30px}body,html{overflow-y:hidden}.index-map{width:100%;height:calc(100vh - 60px)}p{margin:0}li{list-style-type:none}.mapPage-indexFilterTab-container{position:fixed;top:0;left:0;width:100vw;background-color:#f3f4f5;padding:5px 10px}.mapPage-indexFilterTab-container .index-filter-tab{padding:5px 10px}.mapPage-indexFilterTab-container .index-filter-tab li img{height:30px}.mapPage-indexFilterTab-container .index-filter-tab span{line-height:px}@media screen and (max-width:1250px){.index-map{height:calc(60vh - 116px)}body,html{overflow-y:visible;overflow-y:initial}.menu{display:none}}",""])}}]);