/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[10],[function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return o}),n.d(e,"__assign",function(){return l}),n.d(e,"__rest",function(){return c}),n.d(e,"__decorate",function(){return d}),n.d(e,"__param",function(){return h}),n.d(e,"__metadata",function(){return f}),n.d(e,"__awaiter",function(){return m}),n.d(e,"__generator",function(){return v}),n.d(e,"__exportStar",function(){return y}),n.d(e,"__values",function(){return w}),n.d(e,"__read",function(){return _}),n.d(e,"__spread",function(){return S}),n.d(e,"__await",function(){return E}),n.d(e,"__asyncGenerator",function(){return T}),n.d(e,"__asyncDelegator",function(){return k}),n.d(e,"__asyncValues",function(){return x}),n.d(e,"__makeTemplateObject",function(){return C}),n.d(e,"__importStar",function(){return I}),n.d(e,"__importDefault",function(){return O});var r=function(t,b){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])})(t,b)};function o(t,b){function e(){this.constructor=t}r(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)}var l=function(){return(l=Object.assign||function(t){for(var s,i=1,e=arguments.length;i<e;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};function c(s,t){var e={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&t.indexOf(p)<0&&(e[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)t.indexOf(p[i])<0&&(e[p[i]]=s[p[i]])}return e}function d(t,e,n,desc){var r,o=arguments.length,l=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(l=(o<3?r(l):o>3?r(e,n,l):r(e,n))||l);return o>3&&l&&Object.defineProperty(e,n,l),l}function h(t,e){return function(n,r){e(n,r,t)}}function f(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function m(t,e,n,r){return new(n||(n=Promise))(function(o,l){function c(t){try{h(r.next(t))}catch(t){l(t)}}function d(t){try{h(r.throw(t))}catch(t){l(t)}}function h(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(c,d)}h((r=r.apply(t,e||[])).next())})}function v(t,body){var e,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function l(l){return function(c){return function(l){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,n&&(r=2&l[0]?n.return:l[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,l[1])).done)return r;switch(n=0,r&&(l=[2&l[0],r.value]),l[0]){case 0:case 1:r=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,n=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!r||l[1]>r[0]&&l[1]<r[3])){o.label=l[1];break}if(6===l[0]&&o.label<r[1]){o.label=r[1],r=l;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(l);break}r[2]&&o.ops.pop(),o.trys.pop();continue}l=body.call(t,o)}catch(t){l=[6,t],n=0}finally{e=r=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}}function y(t,e){for(var p in t)e.hasOwnProperty(p)||(e[p]=t[p])}function w(t){var e="function"==typeof Symbol&&t[Symbol.iterator],i=0;return e?e.call(t):{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}}}function _(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),l=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)l.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return l}function S(){for(var t=[],i=0;i<arguments.length;i++)t=t.concat(_(arguments[i]));return t}function E(t){return this instanceof E?(this.v=t,this):new E(t)}function T(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,g=n.apply(t,e||[]),q=[];return i={},r("next"),r("throw"),r("return"),i[Symbol.asyncIterator]=function(){return this},i;function r(t){g[t]&&(i[t]=function(e){return new Promise(function(a,b){q.push([t,e,a,b])>1||o(t,e)})})}function o(t,e){try{(n=g[t](e)).value instanceof E?Promise.resolve(n.value.v).then(l,c):d(q[0][2],n)}catch(t){d(q[0][3],t)}var n}function l(t){o("next",t)}function c(t){o("throw",t)}function d(t,e){t(e),q.shift(),q.length&&o(q[0][0],q[0][1])}}function k(t){var i,p;return i={},e("next"),e("throw",function(t){throw t}),e("return"),i[Symbol.iterator]=function(){return this},i;function e(e,n){i[e]=t[e]?function(r){return(p=!p)?{value:E(t[e](r)),done:"return"===e}:n?n(r):r}:n}}function x(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,e=t[Symbol.asyncIterator];return e?e.call(t):(t=w(t),i={},n("next"),n("throw"),n("return"),i[Symbol.asyncIterator]=function(){return this},i);function n(e){i[e]=t[e]&&function(n){return new Promise(function(r,o){(function(t,e,n,r){Promise.resolve(r).then(function(e){t({value:e,done:n})},e)})(r,o,(n=t[e](n)).done,n.value)})}}}function C(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function I(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function O(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=n(241),o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l="[DEFAULT]",c=[],d=function(){function t(t,e,n){this.firebase_=n,this.isDeleted_=!1,this.services_={},this.name_=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled||!1,this.options_=r.deepCopy(t),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(t){c.push(t),setTimeout(function(){return t(null)},0)},removeAuthTokenListener:function(t){c=c.filter(function(e){return e!==t})}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this._automaticDataCollectionEnabled},set:function(t){this.checkDestroyed_(),this._automaticDataCollectionEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){t.firebase_.INTERNAL.removeApp(t.name_);var e=[];return Object.keys(t.services_).forEach(function(n){Object.keys(t.services_[n]).forEach(function(r){e.push(t.services_[n][r])})}),Promise.all(e.map(function(t){return t.INTERNAL.delete()}))}).then(function(){t.isDeleted_=!0,t.services_={}})},t.prototype._getService=function(t,e){if(void 0===e&&(e=l),this.checkDestroyed_(),this.services_[t]||(this.services_[t]={}),!this.services_[t][e]){var n=e!==l?e:void 0,r=this.firebase_.INTERNAL.factories[t](this,this.extendApp.bind(this),n);this.services_[t][e]=r}return this.services_[t][e]},t.prototype.extendApp=function(t){var e=this;r.deepExtend(this,t),t.INTERNAL&&t.INTERNAL.addAuthTokenListener&&(c.forEach(function(t){e.INTERNAL.addAuthTokenListener(t)}),c=[])},t.prototype.checkDestroyed_=function(){this.isDeleted_&&h("app-deleted",{name:this.name_})},t}();function h(code,t){throw f.create(code,t)}d.prototype.name&&d.prototype.options||d.prototype.delete||console.log("dc");var f=new r.ErrorFactory("app","Firebase",{"no-app":"No Firebase App '{$name}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$name}","duplicate-app":"Firebase App named '{$name}' already exists","app-deleted":"Firebase App named '{$name}' already deleted","duplicate-service":"Firebase service named '{$name}' already registered","sa-not-supported":"Initializing the Firebase SDK with a service account is only allowed in a Node.js environment. On client devices, you should instead initialize the SDK with an api key and auth domain","invalid-app-argument":"firebase.{$name}() takes either no argument or a Firebase App instance."}),m=!1;try{m="[object process]"===Object.prototype.toString.call(t.process)}catch(t){}m&&console.warn('\nWarning: This is a browser-targeted Firebase bundle but it appears it is being\nrun in a Node environment.  If running in a Node environment, make sure you\nare using the bundle specified by the "main" field in package.json.\n\nIf you are using Webpack, you can specify "main" as the first item in\n"resolve.mainFields":\nhttps://webpack.js.org/configuration/resolve/#resolvemainfields\n\nIf using Rollup, use the rollup-plugin-node-resolve plugin and set "module"\nto false and "main" to true:\nhttps://github.com/rollup/rollup-plugin-node-resolve\n');var v=function t(){var e={},n={},c={},f={__esModule:!0,initializeApp:function(t,n){if(void 0===n&&(n={}),"object"!=typeof n||null===n){var r=n;n={name:r}}var c=n;void 0===c.name&&(c.name=l);var m=c.name;"string"==typeof m&&m||h("bad-app-name",{name:m+""}),o(e,m)&&h("duplicate-app",{name:m});var v=new d(t,c,f);return e[m]=v,y(v,"create"),v},app:m,apps:null,Promise:Promise,SDK_VERSION:"5.8.6",INTERNAL:{registerService:function(t,e,o,l,y){n[t]&&h("duplicate-service",{name:t}),n[t]=e,l&&(c[t]=l,v().forEach(function(t){l("create",t)}));var w=function(e){return void 0===e&&(e=m()),"function"!=typeof e[t]&&h("invalid-app-argument",{name:t}),e[t]()};return void 0!==o&&r.deepExtend(w,o),f[t]=w,d.prototype[t]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this._getService.bind(this,t).apply(this,y?e:[])},w},createFirebaseNamespace:t,extendNamespace:function(t){r.deepExtend(f,t)},createSubscribe:r.createSubscribe,ErrorFactory:r.ErrorFactory,removeApp:function(t){y(e[t],"delete"),delete e[t]},factories:n,useAsService:w,Promise:Promise,deepExtend:r.deepExtend}};function m(t){return o(e,t=t||l)||h("no-app",{name:t}),e[t]}function v(){return Object.keys(e).map(function(t){return e[t]})}function y(t,e){Object.keys(n).forEach(function(n){var r=w(t,n);null!==r&&c[r]&&c[r](e,t)})}function w(t,e){if("serverAuth"===e)return null;var n=e;return t.options,n}return r.patchProperty(f,"default",f),Object.defineProperty(f,"apps",{get:v}),r.patchProperty(m,"App",d),f}();e.firebase=v,e.default=v}).call(this,n(18))},function(t,e,n){"use strict";n.r(e),n.d(e,"mergeData",function(){return o});var r=function(){return(r=Object.assign||function(t){for(var a,s=1,e=arguments.length;s<e;s++)for(var n in a=arguments[s])Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n]);return t}).apply(this,arguments)};function o(){for(var t,a,s={},e=arguments.length;e--;)for(var n=0,o=Object.keys(arguments[e]);n<o.length;n++)switch(t=o[n]){case"class":case"style":case"directives":Array.isArray(s[t])||(s[t]=[]),s[t]=s[t].concat(arguments[e][t]);break;case"staticClass":if(!arguments[e][t])break;void 0===s[t]&&(s[t]=""),s[t]&&(s[t]+=" "),s[t]+=arguments[e][t].trim();break;case"on":case"nativeOn":s[t]||(s[t]={});for(var l=0,c=Object.keys(arguments[e][t]||{});l<c.length;l++)a=c[l],s[t][a]?s[t][a]=[].concat(s[t][a],arguments[e][t][a]):s[t][a]=arguments[e][t][a];break;case"attrs":case"props":case"domProps":case"scopedSlots":case"staticStyle":case"hook":case"transition":s[t]||(s[t]={}),s[t]=r({},arguments[e][t],s[t]);break;case"slot":case"key":case"ref":case"tag":case"show":case"keepAlive":default:s[t]||(s[t]=arguments[e][t])}return s}},function(t,e,n){"use strict";e.__esModule=!0,e.vueUse=e.registerDirectives=e.registerDirective=e.registerComponents=e.registerComponent=e.registerPlugins=e.installFactory=void 0;var r=n(16);e.installFactory=function(t){var e=t.components,n=t.directives,l=t.plugins;return function(t){var d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,r.setConfig)(d),c(t,e),h(t,n),o(t,l)}};var o=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var n in e)n&&e[n]&&t.use(e[n])};e.registerPlugins=o;var l=function(t,e,n){t&&e&&n&&t.component(e,n)};e.registerComponent=l;var c=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var component in e)l(t,component,e[component])};e.registerComponents=c;var d=function(t,e,n){t&&e&&n&&t.directive(e,n)};e.registerDirective=d;var h=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var n in e)d(t,n,e[n])};e.registerDirectives=h;e.vueUse=function(t){"undefined"!=typeof window&&window.Vue&&window.Vue.use(t)}},,function(t,e,n){"use strict";var r,o,l,c;e.__esModule=!0,e.concat=e.arrayIncludes=e.isArray=e.from=void 0,Array.from||(Array.from=(r=Object.prototype.toString,o=function(t){return"function"==typeof t||"[object Function]"===r.call(t)},l=Math.pow(2,53)-1,c=function(t){return Math.min(Math.max(function(t){var e=Number(t);return isNaN(e)?0:0!==e&&isFinite(e)?(e>0?1:-1)*Math.floor(Math.abs(e)):e}(t),0),l)},function(t){var e=Object(t);if(null==t)throw new TypeError("Array.from requires an array-like object - not null or undefined");var n,r=arguments.length>1?arguments[1]:void 0;if(void 0!==r){if(!o(r))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(n=arguments[2])}for(var l,d=c(e.length),h=o(this)?Object(new this(d)):new Array(d),f=0;f<d;)l=e[f],h[f]=r?void 0===n?r(l,f):r.call(n,l,f):l,f+=1;return h.length=d,h})),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var r=arguments[1],o=0;o<n;){var l=e[o];if(t.call(r,l,o,e))return l;o++}}}),Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)});var d=Array.from;e.from=d;var h=Array.isArray;e.isArray=h;e.arrayIncludes=function(t,e){return-1!==t.indexOf(e)};e.concat=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Array.prototype.concat.apply([],e)}},function(t,e,n){"use strict";e.__esModule=!0,e.requestAF=e.position=e.offset=e.getCS=e.getBCR=e.hasAttr=e.getAttr=e.removeAttr=e.setAttr=e.hasClass=e.removeClass=e.addClass=e.getById=e.contains=e.closest=e.matches=e.select=e.selectAll=e.reflow=e.isDisabled=e.isVisible=e.isElement=e.eventOff=e.eventOn=e.parseEventOptions=e.isPassiveSupported=void 0;var r=n(5),o=n(7),l=n(28),c=!1;if(l.inBrowser)try{var d={get passive(){c=!0}};window.addEventListener("test",d,d),window.removeEventListener("test",d,d)}catch(t){c=!1}e.isPassiveSupported=function(){return c};var h=function(t){return c?t||{useCapture:!1}:Boolean((0,o.isObject)(t)?t.useCapture:t)};e.parseEventOptions=h;e.eventOn=function(t,e,n,r){t&&t.addEventListener&&t.addEventListener(e,n,h(r))};e.eventOff=function(t,e,n,r){t&&t.removeEventListener&&t.removeEventListener(e,n,h(r))};var f=function(t){return Boolean(t&&t.nodeType===Node.ELEMENT_NODE)};e.isElement=f;e.isVisible=function(t){if(!f(t)||!y(document.body,t))return!1;var e=S(t);return Boolean(e&&e.height>0&&e.width>0)};e.isDisabled=function(t){return!f(t)||t.disabled||w(t,"disabled")||Boolean(_(t,"disabled"))};e.reflow=function(t){return f(t)&&t.offsetHeight};var m=function(t,e){return f(e)||(e=document),(0,r.from)(e.querySelectorAll(t))};e.selectAll=m;e.select=function(t,e){return f(e)||(e=document),e.querySelector(t)||null};var v=function(t,e){if(!f(t))return!1;var n=Element.prototype;return(n.matches||n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector||function(t){for(var e=m(t,this.document||this.ownerDocument),i=e.length;--i>=0&&e.item(i)!==this;);return i>-1}).call(t,e)};e.matches=v;e.closest=function(t,e){if(!f(e))return null;var n=(Element.prototype.closest||function(t){var element=this;if(!y(document.documentElement,element))return null;do{if(v(element,t))return element;element=element.parentElement||element.parentNode}while(null!==element&&element.nodeType===Node.ELEMENT_NODE);return null}).call(e,t);return n===e?null:n};var y=function(t,e){return!(!t||"function"!=typeof t.contains)&&t.contains(e)};e.contains=y;e.getById=function(t){return document.getElementById(/^#/.test(t)?t.slice(1):t)||null};e.addClass=function(t,e){e&&f(t)&&t.classList&&t.classList.add(e)};e.removeClass=function(t,e){e&&f(t)&&t.classList&&t.classList.remove(e)};var w=function(t,e){return!!(e&&f(t)&&t.classList)&&t.classList.contains(e)};e.hasClass=w;e.setAttr=function(t,e,n){e&&f(t)&&t.setAttribute(e,n)};e.removeAttr=function(t,e){e&&f(t)&&t.removeAttribute(e)};var _=function(t,e){return e&&f(t)?t.getAttribute(e):null};e.getAttr=_;e.hasAttr=function(t,e){return e&&f(t)?t.hasAttribute(e):null};var S=function(t){return f(t)?t.getBoundingClientRect():null};e.getBCR=S;var E=function(t){return f(t)?window.getComputedStyle(t):{}};e.getCS=E;var T=function(t){var e={top:0,left:0};if(!f(t)||0===t.getClientRects().length)return e;var n=S(t);if(n){var r=t.ownerDocument.defaultView;e.top=n.top+r.pageYOffset,e.left=n.left+r.pageXOffset}return e};e.offset=T;e.position=function(t){var e={top:0,left:0};if(!f(t))return e;var n={top:0,left:0},r=E(t);if("fixed"===r.position)e=S(t)||e;else{e=T(t);for(var o=t.ownerDocument,l=t.offsetParent||o.documentElement;l&&(l===o.body||l===o.documentElement)&&"static"===E(l).position;)l=l.parentNode;if(l&&l!==t&&l.nodeType===Node.ELEMENT_NODE){n=T(l);var c=E(l);n.top+=parseFloat(c.borderTopWidth),n.left+=parseFloat(c.borderLeftWidth)}}return{top:e.top-n.top-parseFloat(r.marginTop),left:e.left-n.left-parseFloat(r.marginLeft)}};e.requestAF=function(t){var e=l.inBrowser?window:{};return(e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.msRequestAnimationFrame||e.oRequestAnimationFrame||function(t){return setTimeout(t,16)})(t)}},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.__esModule=!0,e.readonlyDescriptor=e.omit=e.isPlainObject=e.isObject=e.is=e.isFrozen=e.create=e.getPrototypeOf=e.getOwnPropertySymbols=e.getOwnPropertyDescriptor=e.freeze=e.defineProperty=e.defineProperties=e.keys=e.getOwnPropertyNames=e.assign=void 0,"function"!=typeof Object.assign&&(Object.assign=function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(n[l]=o[l])}return n}),Object.is||(Object.is=function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e});var l=Object.assign;e.assign=l;var c=Object.getOwnPropertyNames;e.getOwnPropertyNames=c;var d=Object.keys;e.keys=d;var h=Object.defineProperties;e.defineProperties=h;var f=Object.defineProperty;e.defineProperty=f;var m=Object.freeze;e.freeze=m;var v=Object.getOwnPropertyDescriptor;e.getOwnPropertyDescriptor=v;var y=Object.getOwnPropertySymbols;e.getOwnPropertySymbols=y;var w=Object.getPrototypeOf;e.getPrototypeOf=w;var _=Object.create;e.create=_;var S=Object.isFrozen;e.isFrozen=S;var E=Object.is;e.is=E;e.isObject=function(t){return null!==t&&"object"===o(t)};e.isPlainObject=function(t){return"[object Object]"===Object.prototype.toString.call(t)};e.omit=function(t,e){return Object.keys(t).filter(function(t){return-1===e.indexOf(t)}).reduce(function(e,n){return function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},e=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(source).filter(function(t){return Object.getOwnPropertyDescriptor(source,t).enumerable}))),e.forEach(function(e){r(t,e,source[e])})}return t}({},e,r({},n,t[n]))},{})};e.readonlyDescriptor=function(){return{enumerable:!0,configurable:!1,writable:!1}}},,function(t,e,n){"use strict";function r(t,e,n,r,o,l,c){try{var d=t[l](c),h=d.value}catch(t){return void n(t)}d.done?e(h):Promise.resolve(h).then(r,o)}function o(t){return function(){var e=this,n=arguments;return new Promise(function(o,l){var c=t.apply(e,n);function d(t){r(c,o,l,d,h,"next",t)}function h(t){r(c,o,l,d,h,"throw",t)}d(void 0)})}}n.d(e,"a",function(){return o})},function(t,e,n){"use strict";e.__esModule=!0,e.htmlOrText=e.stripTags=void 0;var r=/(<([^>]+)>)/gi;e.stripTags=function(){var text=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return String(text).replace(r,"")};e.htmlOrText=function(t,e){return t?{innerHTML:t}:e?{textContent:e}:{}}},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r={props:{id:{type:String,default:null}},data:function(){return{localId_:null}},computed:{safeId:function(){var t=this.id||this.localId_;return function(e){return t?(e=String(e||"").replace(/\s+/g,"_"))?t+"_"+e:t:null}}},mounted:function(){var t=this;this.$nextTick(function(){t.localId_="__BVID__".concat(t._uid)})}};e.default=r},,,,,function(t,e,n){"use strict";e.__esModule=!0,e.getBreakpointsDown=e.getBreakpointsUp=e.getBreakpoints=e.getComponentConfig=e.getConfigValue=e.getDefaults=e.getConfig=e.resetConfig=e.setConfig=void 0;var r=n(489),o=n(167),l=n(20),c=n(5),d=n(7),h={breakpoints:["xs","sm","md","lg","xl"],BAlert:{dismissLabel:"Close",variant:"info"},BBadge:{variant:"secondary"},BButton:{variant:"secondary"},BButtonClose:{textVariant:null,ariaLabel:"Close"},BCardSubTitle:{subTitleTextVariant:"muted"},BDropdown:{toggleText:"Toggle Dropdown",variant:"secondary"},BFormFile:{browseText:"Browse",placeholder:"No file chosen",dropPlaceholder:"Drop files here"},BFormText:{textVariant:"muted"},BImg:{blankColor:"transparent"},BImgLazy:{blankColor:"transparent"},BModal:{cancelTitle:"Cancel",cancelVariant:"secondary",okTitle:"OK",okVariant:"primary",headerCloseLabel:"Close"}},f={},m=function(){return(0,r.default)(h)};e.getDefaults=m;e.setConfig=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,d.isObject)(t)&&(0,d.keys)(t).filter(function(e){return t.hasOwnProperty(e)}).forEach(function(e){if(h.hasOwnProperty(e)){var n=t[e];if("breakpoints"===e){var o=t.breakpoints;!(0,c.isArray)(o)||o.length<2||o.some(function(b){return"string"!=typeof b||0===b.length})?(0,l.default)('config: "breakpoints" must be an array of at least 2 breakpoint names'):f.breakpoints=(0,r.default)(o)}else(0,d.isObject)(n)&&(0,d.keys)(n).filter(function(t){return n.hasOwnProperty(t)}).forEach(function(t){h[e].hasOwnProperty(t)?(f[e]=f[e]||{},void 0!==n[t]&&(f[e][t]=(0,r.default)(n[t]))):(0,l.default)('config: unknown config property "'.concat(e,'.{$key}"'))})}else(0,l.default)('config: unknown config property "'.concat(e,'"'))})};e.resetConfig=function(){f={}};e.getConfig=function(){return(0,r.default)(f)};var v=function(t){return(0,r.default)((0,o.default)(f,t,(0,o.default)(m(),t)))};e.getConfigValue=v;e.getComponentConfig=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e?v("".concat(t,".").concat(e)):v(t)||{}};var y=function(){return v("breakpoints")};e.getBreakpoints=y;e.getBreakpointsUp=function(){var t=y();return t[0]="",t};e.getBreakpointsDown=function(){var t=y();return t[t.length-1]="",t}},,,,function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(28),o=function(t){(0,r.getNoWarn)()||console.warn("[BootstrapVue warn]: ".concat(t))};e.default=o},,function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},,,,,,function(t,e,n){"use strict";(function(t){e.__esModule=!0,e.getNoWarn=e.hasPointerEvent=e.hasTouchSupport=e.isServer=e.inBrowser=void 0;var n="undefined"!=typeof document&&"undefined"!=typeof window;e.inBrowser=n;var r=!n;e.isServer=r;var o=n&&("ontouchstart"in document.documentElement||navigator.maxTouchPoints>0);e.hasTouchSupport=o;var l=n&&Boolean(window.PointerEvent||window.MSPointerEvent);e.hasPointerEvent=l;e.getNoWarn=function(){return t&&t.env&&t.env.BOOTSTRAP_VUE_NO_WARN}}).call(this,n(43))},,,,function(t,e,n){"use strict";e.__esModule=!0,e.propsFactory=f,e.pickLinkProps=function(t){var e=f();return t=(0,o.concat)(t),(0,r.keys)(e).reduce(function(n,r){return(0,o.arrayIncludes)(t,r)&&(n[r]=e[r]),n},{})},e.omitLinkProps=function(t){var e=f();return t=(0,o.concat)(t),(0,r.keys)(m).reduce(function(n,r){return(0,o.arrayIncludes)(t,r)||(n[r]=e[r]),n},{})},e.default=e.props=void 0;var r=n(7),o=n(5),l=n(250),c=n(2);function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},e=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(source).filter(function(t){return Object.getOwnPropertyDescriptor(source,t).enumerable}))),e.forEach(function(e){h(t,e,source[e])})}return t}function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(){return{href:{type:String,default:null},rel:{type:String,default:null},target:{type:String,default:"_self"},active:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},to:{type:[String,Object],default:null},append:{type:Boolean,default:!1},replace:{type:Boolean,default:!1},event:{type:[String,Array],default:"click"},activeClass:{type:String},exact:{type:Boolean,default:!1},exactActiveClass:{type:String},routerTag:{type:String,default:"a"},noPrefetch:{type:Boolean,default:!1}}}var m=f();function v(t){var e=t.disabled,n=t.tag,r=t.href,o=t.suppliedHandler,c=t.parent;return function(t){e&&t instanceof Event?(t.stopPropagation(),t.stopImmediatePropagation()):((0,l.isRouterLink)(n)&&t.target.__vue__&&t.target.__vue__.$emit("click",t),"function"==typeof o&&o.apply(void 0,arguments),c.$root.$emit("clicked::link",t)),(!(0,l.isRouterLink)(n)&&"#"===r||e)&&t.preventDefault()}}e.props=m;var y={name:"BLink",functional:!0,props:f(),render:function(t,e){var n=e.props,data=e.data,r=e.parent,o=e.children,h=(0,l.computeTag)(n,r),f=(0,l.computeRel)(n),m=(0,l.computeHref)(n,h),y=(0,l.isRouterLink)(h)?"nativeOn":"on",w=(data[y]||{}).click,_={click:v({tag:h,href:m,disabled:n.disabled,suppliedHandler:w,parent:r})},S=(0,c.mergeData)(data,{class:{active:n.active,disabled:n.disabled},attrs:{rel:f,target:n.target,tabindex:n.disabled?"-1":data.attrs?data.attrs.tabindex:null,"aria-disabled":n.disabled?"true":null},props:d({},n,{tag:n.routerTag})});return m&&(S.attrs.href=m),S[y]=d({},S[y]||{},_),t(h,S,o)}};e.default=y},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,i){var e=[],n=!0,r=!1,o=void 0;try{for(var l,c=t[Symbol.iterator]();!(n=(l=c.next()).done)&&(e.push(l.value),!i||e.length!==i);n=!0);}catch(t){r=!0,o=t}finally{try{!n&&c.return&&c.return()}finally{if(r)throw o}}return e}(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var e in source)Object.prototype.hasOwnProperty.call(source,e)&&(t[e]=source[e])}return t};e.default=function(t){var e=t.mappedProps,n=t.name,r=t.ctr,h=t.ctrArgs,m=t.events,v=t.beforeCreate,y=t.afterCreate,w=t.props,_=function(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}(t,["mappedProps","name","ctr","ctrArgs","events","beforeCreate","afterCreate","props"]),S="$"+n+"Promise",E="$"+n+"Object";return function(t,e){if(!t)throw new Error(e)}(!(_.props instanceof Array),"`props` should be an object, not Array"),o({},"undefined"!=typeof GENERATE_DOC?{$vgmOptions:t}:{},{mixins:[d.default],props:o({},w,f(e)),render:function(){return""},provide:function(){var t=this,n=this.$mapPromise.then(function(map){t.$map=map;var n=o({},t.options,{map:map},(0,c.getPropsValues)(t,e));if(delete n.options,v){var r=v.bind(t)(n);if(r instanceof Promise)return r.then(function(){return{options:n}})}return{options:n}}).then(function(n){var o,d=n.options,f=r();return t[E]=h?new((o=Function.prototype.bind).call.apply(o,[f,null].concat(function(t){if(Array.isArray(t)){for(var i=0,e=Array(t.length);i<t.length;i++)e[i]=t[i];return e}return Array.from(t)}(h(d,(0,c.getPropsValues)(t,w||{})))))):new f(d),(0,c.bindProps)(t,t[E],e),(0,l.default)(t,t[E],m),y&&y.bind(t)(t[E]),t[E]});return this[S]=n,function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n;return t}({},S,n)},destroyed:function(){this[E]&&this[E].setMap&&this[E].setMap(null)}},_)},e.mappedPropsToVueProps=f;var l=h(n(182)),c=n(89),d=h(n(300));function h(t){return t&&t.__esModule?t:{default:t}}function f(t){return Object.entries(t).map(function(t){var e=r(t,2),n=e[0],o=e[1],l={};return"type"in o&&(l.type=o.type),"default"in o&&(l.default=o.default),"required"in o&&(l.required=o.required),[n,l]}).reduce(function(t,e){var n=r(e,2),o=n[0],l=n[1];return t[o]=l,t},{})}},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(131);function o(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},e=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(source).filter(function(t){return Object.getOwnPropertyDescriptor(source,t).enumerable}))),e.forEach(function(e){Object(r.a)(t,e,source[e])})}return t}},,,,function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r={props:{state:{type:[String,Boolean],default:null}},computed:{computedState:function(){var t=this.state;return""===t?null:!0===t||"valid"===t||!1!==t&&"invalid"!==t&&null},stateClass:function(){var t=this.computedState;return!0===t?"is-valid":!1===t?"is-invalid":null}}};e.default=r},function(t,e,n){"use strict";var r=n(71);t.exports=function(t){if(!r(t))throw new TypeError("Cannot use null or undefined");return t}},,,,,,function(t,e){t.exports=function(t){return JSON.parse(JSON.stringify(t))}},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r={SPACE:32,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,PAGEUP:33,PAGEDOWN:34,HOME:36,END:35,TAB:9,SHIFT:16,CTRL:17,BACKSPACE:8,ALT:18,PAUSE:19,BREAK:19,INSERT:45,INS:45,DELETE:46};e.default=r},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r={props:{name:{type:String},id:{type:String},disabled:{type:Boolean},required:{type:Boolean,default:!1},form:{type:String,default:null}}};e.default=r},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(5),o=n(7),l=function(t){return t instanceof Date},c=function(a,b){if(a.length!==b.length)return!1;for(var t=!0,i=0;t&&i<a.length;i++)t=d(a[i],b[i]);return t},d=function t(a,b){if(a===b)return!0;var e=l(a),n=l(b);if(e||n)return!(!e||!n)&&a.getTime()===b.getTime();if(e=(0,r.isArray)(a),n=(0,r.isArray)(b),e||n)return!(!e||!n)&&c(a,b);if(e=(0,o.isObject)(a),n=(0,o.isObject)(b),e||n){if(!e||!n)return!1;if((0,o.keys)(a).length!==(0,o.keys)(b).length)return!1;for(var d in a){var h=a.hasOwnProperty(d),f=b.hasOwnProperty(d);if(h&&!f||!h&&f||!t(a[d],b[d]))return!1}}return String(a)===String(b)},h=d;e.default=h},function(t,e,n){"use strict";t.exports=n(679)()?Symbol:n(680)},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var content=function(t,e){var content=t[1]||"",n=t[3];if(!n)return content;if(e&&"function"==typeof btoa){var r=(l=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(l))))+" */"),o=n.sources.map(function(source){return"/*# sourceURL="+n.sourceRoot+source+" */"});return[content].concat(o).concat([r]).join("\n")}var l;return[content].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+content+"}":content}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];null!=o&&(r[o]=!0)}for(i=0;i<t.length;i++){var l=t[i];null!=l[0]&&r[l[0]]||(n&&!l[2]?l[2]=n:n&&(l[2]="("+l[2]+") and ("+n+")"),e.push(l))}},e}},function(t,e,n){"use strict";function r(t,e){for(var n=[],r={},i=0;i<e.length;i++){var o=e[i],l=o[0],c={id:t+":"+i,css:o[1],media:o[2],sourceMap:o[3]};r[l]?r[l].parts.push(c):n.push(r[l]={id:l,parts:[c]})}return n}n.r(e),n.d(e,"default",function(){return w});var o="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!o)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var l={},head=o&&(document.head||document.getElementsByTagName("head")[0]),c=null,d=0,h=!1,f=function(){},m=null,v="data-vue-ssr-id",y="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function w(t,e,n,o){h=n,m=o||{};var c=r(t,e);return _(c),function(e){for(var n=[],i=0;i<c.length;i++){var o=c[i];(d=l[o.id]).refs--,n.push(d)}e?_(c=r(t,e)):c=[];for(i=0;i<n.length;i++){var d;if(0===(d=n[i]).refs){for(var h=0;h<d.parts.length;h++)d.parts[h]();delete l[d.id]}}}}function _(t){for(var i=0;i<t.length;i++){var e=t[i],n=l[e.id];if(n){n.refs++;for(var r=0;r<n.parts.length;r++)n.parts[r](e.parts[r]);for(;r<e.parts.length;r++)n.parts.push(E(e.parts[r]));n.parts.length>e.parts.length&&(n.parts.length=e.parts.length)}else{var o=[];for(r=0;r<e.parts.length;r++)o.push(E(e.parts[r]));l[e.id]={id:e.id,refs:1,parts:o}}}}function S(){var t=document.createElement("style");return t.type="text/css",head.appendChild(t),t}function E(t){var e,n,r=document.querySelector("style["+v+'~="'+t.id+'"]');if(r){if(h)return f;r.parentNode.removeChild(r)}if(y){var o=d++;r=c||(c=S()),e=x.bind(null,r,o,!1),n=x.bind(null,r,o,!0)}else r=S(),e=function(t,e){var n=e.css,r=e.media,o=e.sourceMap;r&&t.setAttribute("media",r);m.ssrId&&t.setAttribute(v,e.id);o&&(n+="\n/*# sourceURL="+o.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,r),n=function(){r.parentNode.removeChild(r)};return e(t),function(r){if(r){if(r.css===t.css&&r.media===t.media&&r.sourceMap===t.sourceMap)return;e(t=r)}else n()}}var T,k=(T=[],function(t,e){return T[t]=e,T.filter(Boolean).join("\n")});function x(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=k(e,o);else{var l=document.createTextNode(o),c=t.childNodes;c[e]&&t.removeChild(c[e]),c.length?t.insertBefore(l,c[e]):t.appendChild(l)}}},,,,,function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(7),o=n(5),l=n(249),c=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default;return((0,o.isArray)(t)?t.slice():(0,r.keys)(t)).reduce(function(t,r){return t[n(r)]=e[r],t},{})};e.default=c},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r={props:{size:{type:String,default:null}},computed:{sizeFormClass:function(){return[this.size?"form-control-".concat(this.size):null]},sizeBtnClass:function(){return[this.size?"btn-".concat(this.size):null]}}};e.default=r},function(t,e,n){"use strict";t.exports=function(t){if("function"!=typeof t)throw new TypeError(t+" is not a function");return t}},function(t,e,n){"use strict";var r=n(72),o=n(311),l=n(187),c=n(312),d=n(313);(t.exports=function(t,e){var n,o,h,f,desc;return arguments.length<2||"string"!=typeof t?(f=e,e=t,t=null):f=arguments[2],r(t)?(n=d.call(t,"c"),o=d.call(t,"e"),h=d.call(t,"w")):(n=h=!0,o=!1),desc={value:e,configurable:n,enumerable:o,writable:h},f?l(c(f),desc):desc}).gs=function(t,e,n){var h,f,m,desc;return"string"!=typeof t?(m=n,n=e,e=t,t=null):m=arguments[3],r(e)?o(e)?r(n)?o(n)||(m=n,n=void 0):n=void 0:(m=e,e=n=void 0):e=void 0,r(t)?(h=d.call(t,"c"),f=d.call(t,"e")):(h=!0,f=!1),desc={get:e,set:n,configurable:h,enumerable:f},m?l(c(m),desc):desc}},,,,,,,,function(t,e,n){"use strict";var r=n(86);function o(t,e){var r=n(69),o=this;"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):o.stack=(new Error).stack||"Cannot get a stacktrace, browser is too old",this.name="AlgoliaSearchError",this.message=t||"Unknown error",e&&r(e,function(t,e){o[e]=t})}function l(t,e){function n(){var n=Array.prototype.slice.call(arguments,0);"string"!=typeof n[0]&&n.unshift(e),o.apply(this,n),this.name="AlgoliaSearch"+t+"Error"}return r(n,o),n}r(o,Error),t.exports={AlgoliaSearchError:o,UnparsableJSON:l("UnparsableJSON","Could not parse the incoming response as JSON, see err.more for details"),RequestTimeout:l("RequestTimeout","Request timed out before getting a response"),Network:l("Network","Network issue, see err.more for details"),JSONPScriptFail:l("JSONPScriptFail","<script> was loaded but did not call our provided callback"),JSONPScriptError:l("JSONPScriptError","<script> unable to load due to an `error` event on it"),Unknown:l("Unknown","Unknown error occured")}},function(t,e){var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString;t.exports=function(t,e,o){if("[object Function]"!==r.call(e))throw new TypeError("iterator must be a function");var l=t.length;if(l===+l)for(var i=0;i<l;i++)e.call(o,t[i],i,t);else for(var c in t)n.call(t,c)&&e.call(o,t[c],c,t)}},function(t,e,n){var r=n(69);t.exports=function(t,e){var n=[];return r(t,function(r,o){n.push(e(r,o,t))}),n}},function(t,e,n){"use strict";var r=n(307)();t.exports=function(t){return t!==r&&null!==t}},function(t,e,n){"use strict";t.exports=function(t){return null!=t}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t){return(o="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(t){return r(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":r(t)})(t)}n.d(e,"a",function(){return o})},,,,,,,,,,,,,function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(5),o=n(7),l=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return null==t?"":(0,r.isArray)(t)||(0,o.isPlainObject)(t)&&t.toString===Object.prototype.toString?JSON.stringify(t,null,e):String(t)};e.default=l},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(6),o=n(28);function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c=o.inBrowser&&window.addEventListener,d=o.inBrowser&&(window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver),h=function(t,e,n){if(t=t?t.$el||t:null,!(0,r.isElement)(t))return null;var o=null;return d?(o=new d(function(t){for(var n=!1,i=0;i<t.length&&!n;i++){var r=t[i],o=r.type,l=r.target;"characterData"===o&&l.nodeType===Node.TEXT_NODE?n=!0:"attributes"===o?n=!0:"childList"===o&&(r.addedNodes.length>0||r.removedNodes.length>0)&&(n=!0)}n&&e()})).observe(t,function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},e=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(source).filter(function(t){return Object.getOwnPropertyDescriptor(source,t).enumerable}))),e.forEach(function(e){l(t,e,source[e])})}return t}({childList:!0,subtree:!0},n)):c&&(o=function(t,e){return(0,r.eventOn)(t,"DOMNodeInserted",e,!1),(0,r.eventOn)(t,"DOMNodeRemoved",e,!1),{disconnect:function(){(0,r.eventOff)(t,"DOMNodeInserted",e,!1),(0,r.eventOff)(t,"DOMNodeRemoved",e,!1)}}}(t,e)),o};e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getPropsValues=function(t,e){return Object.keys(e).reduce(function(e,n){return void 0!==t[n]&&(e[n]=t[n]),e},{})},e.bindProps=function(t,e,n){var r=function(r){var o=n[r],d=o.twoWay,h=o.type,f=o.trackProperties,m=o.noBind;if(m)return"continue";var v="set"+c(r),y="get"+c(r),w=r.toLowerCase()+"_changed",_=t[r];if(void 0===e[v])throw new Error(v+" is not a method of (the Maps object corresponding to) "+t.$options._componentTag);h===Object&&f?(0,l.default)(t,f.map(function(t){return r+"."+t}),function(){e[v](t[r])},void 0!==t[r]):t.$watch(r,function(){var n=t[r];e[v](n)},{immediate:void 0!==_,deep:h===Object}),d&&(t.$gmapOptions.autobindAllEvents||t.$listeners[w])&&e.addListener(w,function(){t.$emit(w,e[y]())})};for(var o in n)r(o)};var r,o=n(183),l=(r=o)&&r.__esModule?r:{default:r};function c(t){return t.charAt(0).toUpperCase()+t.slice(1)}},function(t,e,n){var r=n(303),o=n(50),l="[object AsyncFunction]",c="[object Function]",d="[object GeneratorFunction]",h="[object Proxy]";t.exports=function(t){if(!o(t))return!1;var e=r(t);return e==c||e==d||e==l||e==h}},,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){(function(r){function o(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==r&&"env"in r&&(t=r.env.DEBUG),t}(e=t.exports=n(473)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),!n)return;var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var o=0,l=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&(o++,"%c"===t&&(l=o))}),t.splice(l,0,r)},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=o,e.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(o())}).call(this,n(43))},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(171),o=function(t,e){return t+(0,r.default)(e)};e.default=o},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(5),o=n(7),l=n(249);function c(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},e=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(source).filter(function(t){return Object.getOwnPropertyDescriptor(source,t).enumerable}))),e.forEach(function(e){d(t,e,source[e])})}return t}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var h=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default;if((0,r.isArray)(t))return t.map(e);var n={};for(var d in t)t.hasOwnProperty(d)&&(n[e(d)]=(0,o.isObject)(t[d])?c({},t[d]):t[d]);return n};e.default=h},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r={props:{tag:{type:String,default:"div"},bgVariant:{type:String,default:null},borderVariant:{type:String,default:null},textVariant:{type:String,default:null}}};e.default=r},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r={methods:{listenOnRoot:function(t,e){var n=this;return this.$root.$on(t,e),this.$on("hook:beforeDestroy",function(){n.$root.$off(t,e)}),this},emitOnRoot:function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return(e=this.$root).$emit.apply(e,[t].concat(r)),this}}};e.default=r},function(t,e,n){"use strict";n.r(e),function(t){for(var n="undefined"!=typeof window&&"undefined"!=typeof document,r=["Edge","Trident","Firefox"],o=0,i=0;i<r.length;i+=1)if(n&&navigator.userAgent.indexOf(r[i])>=0){o=1;break}var l=n&&window.Promise?function(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then(function(){e=!1,t()}))}}:function(t){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,t()},o))}};function c(t){return t&&"[object Function]"==={}.toString.call(t)}function d(element,t){if(1!==element.nodeType)return[];var e=element.ownerDocument.defaultView.getComputedStyle(element,null);return t?e[t]:e}function h(element){return"HTML"===element.nodeName?element:element.parentNode||element.host}function f(element){if(!element)return document.body;switch(element.nodeName){case"HTML":case"BODY":return element.ownerDocument.body;case"#document":return element.body}var t=d(element),e=t.overflow,n=t.overflowX,r=t.overflowY;return/(auto|scroll|overlay)/.test(e+r+n)?element:f(h(element))}var m=n&&!(!window.MSInputMethodContext||!document.documentMode),v=n&&/MSIE 10/.test(navigator.userAgent);function y(t){return 11===t?m:10===t?v:m||v}function w(element){if(!element)return document.documentElement;for(var t=y(10)?document.body:null,e=element.offsetParent||null;e===t&&element.nextElementSibling;)e=(element=element.nextElementSibling).offsetParent;var n=e&&e.nodeName;return n&&"BODY"!==n&&"HTML"!==n?-1!==["TH","TD","TABLE"].indexOf(e.nodeName)&&"static"===d(e,"position")?w(e):e:element?element.ownerDocument.documentElement:document.documentElement}function _(t){return null!==t.parentNode?_(t.parentNode):t}function S(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?t:e,o=n?e:t,l=document.createRange();l.setStart(r,0),l.setEnd(o,0);var element,c,d=l.commonAncestorContainer;if(t!==d&&e!==d||r.contains(o))return"BODY"===(c=(element=d).nodeName)||"HTML"!==c&&w(element.firstElementChild)!==element?w(d):d;var h=_(t);return h.host?S(h.host,e):S(t,_(e).host)}function E(element){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",e=element.nodeName;if("BODY"===e||"HTML"===e){var html=element.ownerDocument.documentElement;return(element.ownerDocument.scrollingElement||html)[t]}return element[t]}function T(t,e){var n="x"===e?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(t["border"+n+"Width"],10)+parseFloat(t["border"+r+"Width"],10)}function k(t,body,html,e){return Math.max(body["offset"+t],body["scroll"+t],html["client"+t],html["offset"+t],html["scroll"+t],y(10)?parseInt(html["offset"+t])+parseInt(e["margin"+("Height"===t?"Top":"Left")])+parseInt(e["margin"+("Height"===t?"Bottom":"Right")]):0)}function x(t){var body=t.body,html=t.documentElement,e=y(10)&&getComputedStyle(html);return{height:k("Height",body,html,e),width:k("Width",body,html,e)}}var C=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},I=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),O=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},A=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var e in source)Object.prototype.hasOwnProperty.call(source,e)&&(t[e]=source[e])}return t};function N(t){return A({},t,{right:t.left+t.width,bottom:t.top+t.height})}function D(element){var rect={};try{if(y(10)){rect=element.getBoundingClientRect();var t=E(element,"top"),e=E(element,"left");rect.top+=t,rect.left+=e,rect.bottom+=t,rect.right+=e}else rect=element.getBoundingClientRect()}catch(t){}var n={left:rect.left,top:rect.top,width:rect.right-rect.left,height:rect.bottom-rect.top},r="HTML"===element.nodeName?x(element.ownerDocument):{},o=r.width||element.clientWidth||n.right-n.left,l=r.height||element.clientHeight||n.bottom-n.top,c=element.offsetWidth-o,h=element.offsetHeight-l;if(c||h){var f=d(element);c-=T(f,"x"),h-=T(f,"y"),n.width-=c,n.height-=h}return N(n)}function P(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=y(10),o="HTML"===e.nodeName,l=D(t),c=D(e),h=f(t),m=d(e),v=parseFloat(m.borderTopWidth,10),w=parseFloat(m.borderLeftWidth,10);n&&o&&(c.top=Math.max(c.top,0),c.left=Math.max(c.left,0));var _=N({top:l.top-c.top-v,left:l.left-c.left-w,width:l.width,height:l.height});if(_.marginTop=0,_.marginLeft=0,!r&&o){var S=parseFloat(m.marginTop,10),T=parseFloat(m.marginLeft,10);_.top-=v-S,_.bottom-=v-S,_.left-=w-T,_.right-=w-T,_.marginTop=S,_.marginLeft=T}return(r&&!n?e.contains(h):e===h&&"BODY"!==h.nodeName)&&(_=function(rect,element){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],e=E(element,"top"),n=E(element,"left"),r=t?-1:1;return rect.top+=e*r,rect.bottom+=e*r,rect.left+=n*r,rect.right+=n*r,rect}(_,e)),_}function R(element){if(!element||!element.parentElement||y())return document.documentElement;for(var t=element.parentElement;t&&"none"===d(t,"transform");)t=t.parentElement;return t||document.documentElement}function M(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l={top:0,left:0},c=o?R(t):S(t,e);if("viewport"===r)l=function(element){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],html=element.ownerDocument.documentElement,e=P(element,html),n=Math.max(html.clientWidth,window.innerWidth||0),r=Math.max(html.clientHeight,window.innerHeight||0),o=t?0:E(html),l=t?0:E(html,"left");return N({top:o-e.top+e.marginTop,left:l-e.left+e.marginLeft,width:n,height:r})}(c,o);else{var m=void 0;"scrollParent"===r?"BODY"===(m=f(h(e))).nodeName&&(m=t.ownerDocument.documentElement):m="window"===r?t.ownerDocument.documentElement:r;var v=P(m,c,o);if("HTML"!==m.nodeName||function t(element){var e=element.nodeName;if("BODY"===e||"HTML"===e)return!1;if("fixed"===d(element,"position"))return!0;var n=h(element);return!!n&&t(n)}(c))l=v;else{var y=x(t.ownerDocument),w=y.height,_=y.width;l.top+=v.top-v.marginTop,l.bottom=w+v.top,l.left+=v.left-v.marginLeft,l.right=_+v.left}}var T="number"==typeof(n=n||0);return l.left+=T?n:n.left||0,l.top+=T?n:n.top||0,l.right-=T?n:n.right||0,l.bottom-=T?n:n.bottom||0,l}function L(t,e,n,r,o){var l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var c=M(n,r,l,o),d={top:{width:c.width,height:e.top-c.top},right:{width:c.right-e.right,height:c.height},bottom:{width:c.width,height:c.bottom-e.bottom},left:{width:e.left-c.left,height:c.height}},h=Object.keys(d).map(function(t){return A({key:t},d[t],{area:(e=d[t],e.width*e.height)});var e}).sort(function(a,b){return b.area-a.area}),f=h.filter(function(t){var e=t.width,r=t.height;return e>=n.clientWidth&&r>=n.clientHeight}),m=f.length>0?f[0].key:h[0].key,v=t.split("-")[1];return m+(v?"-"+v:"")}function j(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return P(n,r?R(e):S(e,n),r)}function B(element){var t=element.ownerDocument.defaultView.getComputedStyle(element),e=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),n=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:element.offsetWidth+n,height:element.offsetHeight+e}}function F(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(t){return e[t]})}function U(t,e,n){n=n.split("-")[0];var r=B(t),o={width:r.width,height:r.height},l=-1!==["right","left"].indexOf(n),c=l?"top":"left",d=l?"left":"top",h=l?"height":"width",f=l?"width":"height";return o[c]=e[c]+e[h]/2-r[h]/2,o[d]=n===d?e[d]-r[f]:e[F(d)],o}function V(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function $(t,data,e){return(void 0===e?t:t.slice(0,function(t,e,n){if(Array.prototype.findIndex)return t.findIndex(function(t){return t[e]===n});var r=V(t,function(t){return t[e]===n});return t.indexOf(r)}(t,"name",e))).forEach(function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var e=t.function||t.fn;t.enabled&&c(e)&&(data.offsets.popper=N(data.offsets.popper),data.offsets.reference=N(data.offsets.reference),data=e(data,t))}),data}function W(t,e){return t.some(function(t){var n=t.name;return t.enabled&&n===e})}function z(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<e.length;i++){var r=e[i],o=r?""+r+n:t;if(void 0!==document.body.style[o])return o}return null}function H(element){var t=element.ownerDocument;return t?t.defaultView:window}function K(t,e,n,r){n.updateBound=r,H(t).addEventListener("resize",n.updateBound,{passive:!0});var o=f(t);return function t(e,n,r,o){var l="BODY"===e.nodeName,c=l?e.ownerDocument.defaultView:e;c.addEventListener(n,r,{passive:!0}),l||t(f(c.parentNode),n,r,o),o.push(c)}(o,"scroll",n.updateBound,n.scrollParents),n.scrollElement=o,n.eventsEnabled=!0,n}function G(){var t,e;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(t=this.reference,e=this.state,H(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(t){t.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e))}function Q(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function Y(element,t){Object.keys(t).forEach(function(e){var n="";-1!==["width","height","top","right","bottom","left"].indexOf(e)&&Q(t[e])&&(n="px"),element.style[e]=t[e]+n})}var X=n&&/Firefox/i.test(navigator.userAgent);function J(t,e,n){var r=V(t,function(t){return t.name===e}),o=!!r&&t.some(function(t){return t.name===n&&t.enabled&&t.order<r.order});if(!o){var l="`"+e+"`",c="`"+n+"`";console.warn(c+" modifier is required by "+l+" modifier in order to work, be sure to include it before "+l+"!")}return o}var Z=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],tt=Z.slice(3);function et(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=tt.indexOf(t),r=tt.slice(n+1).concat(tt.slice(0,n));return e?r.reverse():r}var nt={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function ot(t,e,n,r){var o=[0,0],l=-1!==["right","left"].indexOf(r),c=t.split(/(\+|\-)/).map(function(t){return t.trim()}),d=c.indexOf(V(c,function(t){return-1!==t.search(/,|\s/)}));c[d]&&-1===c[d].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var h=/\s*,\s*|\s+/,f=-1!==d?[c.slice(0,d).concat([c[d].split(h)[0]]),[c[d].split(h)[1]].concat(c.slice(d+1))]:[c];return(f=f.map(function(t,r){var o=(1===r?!l:l)?"height":"width",c=!1;return t.reduce(function(a,b){return""===a[a.length-1]&&-1!==["+","-"].indexOf(b)?(a[a.length-1]=b,c=!0,a):c?(a[a.length-1]+=b,c=!1,a):a.concat(b)},[]).map(function(t){return function(t,e,n,r){var o=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),l=+o[1],c=o[2];if(!l)return t;if(0===c.indexOf("%")){var element=void 0;switch(c){case"%p":element=n;break;case"%":case"%r":default:element=r}return N(element)[e]/100*l}if("vh"===c||"vw"===c)return("vh"===c?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*l;return l}(t,o,e,n)})})).forEach(function(t,e){t.forEach(function(n,r){Q(n)&&(o[e]+=n*("-"===t[r-1]?-1:1))})}),o}var it={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(data){var t=data.placement,e=t.split("-")[0],n=t.split("-")[1];if(n){var r=data.offsets,o=r.reference,l=r.popper,c=-1!==["bottom","top"].indexOf(e),d=c?"left":"top",h=c?"width":"height",f={start:O({},d,o[d]),end:O({},d,o[d]+o[h]-l[h])};data.offsets.popper=A({},l,f[n])}return data}},offset:{order:200,enabled:!0,fn:function(data,t){var e=t.offset,n=data.placement,r=data.offsets,o=r.popper,l=r.reference,c=n.split("-")[0],d=void 0;return d=Q(+e)?[+e,0]:ot(e,o,l,c),"left"===c?(o.top+=d[0],o.left-=d[1]):"right"===c?(o.top+=d[0],o.left+=d[1]):"top"===c?(o.left+=d[0],o.top-=d[1]):"bottom"===c&&(o.left+=d[0],o.top+=d[1]),data.popper=o,data},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(data,t){var e=t.boundariesElement||w(data.instance.popper);data.instance.reference===e&&(e=w(e));var n=z("transform"),r=data.instance.popper.style,o=r.top,l=r.left,c=r[n];r.top="",r.left="",r[n]="";var d=M(data.instance.popper,data.instance.reference,t.padding,e,data.positionFixed);r.top=o,r.left=l,r[n]=c,t.boundaries=d;var h=t.priority,f=data.offsets.popper,m={primary:function(e){var n=f[e];return f[e]<d[e]&&!t.escapeWithReference&&(n=Math.max(f[e],d[e])),O({},e,n)},secondary:function(e){var n="right"===e?"left":"top",r=f[n];return f[e]>d[e]&&!t.escapeWithReference&&(r=Math.min(f[n],d[e]-("right"===e?f.width:f.height))),O({},n,r)}};return h.forEach(function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";f=A({},f,m[e](t))}),data.offsets.popper=f,data},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(data){var t=data.offsets,e=t.popper,n=t.reference,r=data.placement.split("-")[0],o=Math.floor,l=-1!==["top","bottom"].indexOf(r),c=l?"right":"bottom",d=l?"left":"top",h=l?"width":"height";return e[c]<o(n[d])&&(data.offsets.popper[d]=o(n[d])-e[h]),e[d]>o(n[c])&&(data.offsets.popper[d]=o(n[c])),data}},arrow:{order:500,enabled:!0,fn:function(data,t){var e;if(!J(data.instance.modifiers,"arrow","keepTogether"))return data;var n=t.element;if("string"==typeof n){if(!(n=data.instance.popper.querySelector(n)))return data}else if(!data.instance.popper.contains(n))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),data;var r=data.placement.split("-")[0],o=data.offsets,l=o.popper,c=o.reference,h=-1!==["left","right"].indexOf(r),f=h?"height":"width",m=h?"Top":"Left",v=m.toLowerCase(),y=h?"left":"top",w=h?"bottom":"right",_=B(n)[f];c[w]-_<l[v]&&(data.offsets.popper[v]-=l[v]-(c[w]-_)),c[v]+_>l[w]&&(data.offsets.popper[v]+=c[v]+_-l[w]),data.offsets.popper=N(data.offsets.popper);var S=c[v]+c[f]/2-_/2,E=d(data.instance.popper),T=parseFloat(E["margin"+m],10),k=parseFloat(E["border"+m+"Width"],10),x=S-data.offsets.popper[v]-T-k;return x=Math.max(Math.min(l[f]-_,x),0),data.arrowElement=n,data.offsets.arrow=(O(e={},v,Math.round(x)),O(e,y,""),e),data},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(data,t){if(W(data.instance.modifiers,"inner"))return data;if(data.flipped&&data.placement===data.originalPlacement)return data;var e=M(data.instance.popper,data.instance.reference,t.padding,t.boundariesElement,data.positionFixed),n=data.placement.split("-")[0],r=F(n),o=data.placement.split("-")[1]||"",l=[];switch(t.behavior){case nt.FLIP:l=[n,r];break;case nt.CLOCKWISE:l=et(n);break;case nt.COUNTERCLOCKWISE:l=et(n,!0);break;default:l=t.behavior}return l.forEach(function(c,d){if(n!==c||l.length===d+1)return data;n=data.placement.split("-")[0],r=F(n);var h=data.offsets.popper,f=data.offsets.reference,m=Math.floor,v="left"===n&&m(h.right)>m(f.left)||"right"===n&&m(h.left)<m(f.right)||"top"===n&&m(h.bottom)>m(f.top)||"bottom"===n&&m(h.top)<m(f.bottom),y=m(h.left)<m(e.left),w=m(h.right)>m(e.right),_=m(h.top)<m(e.top),S=m(h.bottom)>m(e.bottom),E="left"===n&&y||"right"===n&&w||"top"===n&&_||"bottom"===n&&S,T=-1!==["top","bottom"].indexOf(n),k=!!t.flipVariations&&(T&&"start"===o&&y||T&&"end"===o&&w||!T&&"start"===o&&_||!T&&"end"===o&&S),x=!!t.flipVariationsByContent&&(T&&"start"===o&&w||T&&"end"===o&&y||!T&&"start"===o&&S||!T&&"end"===o&&_),C=k||x;(v||E||C)&&(data.flipped=!0,(v||E)&&(n=l[d+1]),C&&(o=function(t){return"end"===t?"start":"start"===t?"end":t}(o)),data.placement=n+(o?"-"+o:""),data.offsets.popper=A({},data.offsets.popper,U(data.instance.popper,data.offsets.reference,data.placement)),data=$(data.instance.modifiers,data,"flip"))}),data},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(data){var t=data.placement,e=t.split("-")[0],n=data.offsets,r=n.popper,o=n.reference,l=-1!==["left","right"].indexOf(e),c=-1===["top","left"].indexOf(e);return r[l?"left":"top"]=o[e]-(c?r[l?"width":"height"]:0),data.placement=F(t),data.offsets.popper=N(r),data}},hide:{order:800,enabled:!0,fn:function(data){if(!J(data.instance.modifiers,"hide","preventOverflow"))return data;var t=data.offsets.reference,e=V(data.instance.modifiers,function(t){return"preventOverflow"===t.name}).boundaries;if(t.bottom<e.top||t.left>e.right||t.top>e.bottom||t.right<e.left){if(!0===data.hide)return data;data.hide=!0,data.attributes["x-out-of-boundaries"]=""}else{if(!1===data.hide)return data;data.hide=!1,data.attributes["x-out-of-boundaries"]=!1}return data}},computeStyle:{order:850,enabled:!0,fn:function(data,t){var e=t.x,n=t.y,r=data.offsets.popper,o=V(data.instance.modifiers,function(t){return"applyStyle"===t.name}).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var l=void 0!==o?o:t.gpuAcceleration,c=w(data.instance.popper),d=D(c),h={position:r.position},f=function(data,t){var e=data.offsets,n=e.popper,r=e.reference,o=Math.round,l=Math.floor,c=function(t){return t},d=o(r.width),h=o(n.width),f=-1!==["left","right"].indexOf(data.placement),m=-1!==data.placement.indexOf("-"),v=t?f||m||d%2==h%2?o:l:c,y=t?o:c;return{left:v(d%2==1&&h%2==1&&!m&&t?n.left-1:n.left),top:y(n.top),bottom:y(n.bottom),right:v(n.right)}}(data,window.devicePixelRatio<2||!X),m="bottom"===e?"top":"bottom",v="right"===n?"left":"right",y=z("transform"),_=void 0,S=void 0;if(S="bottom"===m?"HTML"===c.nodeName?-c.clientHeight+f.bottom:-d.height+f.bottom:f.top,_="right"===v?"HTML"===c.nodeName?-c.clientWidth+f.right:-d.width+f.right:f.left,l&&y)h[y]="translate3d("+_+"px, "+S+"px, 0)",h[m]=0,h[v]=0,h.willChange="transform";else{var E="bottom"===m?-1:1,T="right"===v?-1:1;h[m]=S*E,h[v]=_*T,h.willChange=m+", "+v}var k={"x-placement":data.placement};return data.attributes=A({},k,data.attributes),data.styles=A({},h,data.styles),data.arrowStyles=A({},data.offsets.arrow,data.arrowStyles),data},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(data){var element,t;return Y(data.instance.popper,data.styles),element=data.instance.popper,t=data.attributes,Object.keys(t).forEach(function(e){!1!==t[e]?element.setAttribute(e,t[e]):element.removeAttribute(e)}),data.arrowElement&&Object.keys(data.arrowStyles).length&&Y(data.arrowElement,data.arrowStyles),data},onLoad:function(t,e,n,r,o){var l=j(o,e,t,n.positionFixed),c=L(n.placement,l,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",c),Y(e,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},at=function(){function t(e,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};C(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=l(this.update.bind(this)),this.options=A({},t.Defaults,o),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(A({},t.Defaults.modifiers,o.modifiers)).forEach(function(e){r.options.modifiers[e]=A({},t.Defaults.modifiers[e]||{},o.modifiers?o.modifiers[e]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(t){return A({name:t},r.options.modifiers[t])}).sort(function(a,b){return a.order-b.order}),this.modifiers.forEach(function(t){t.enabled&&c(t.onLoad)&&t.onLoad(r.reference,r.popper,r.options,t,r.state)}),this.update();var d=this.options.eventsEnabled;d&&this.enableEventListeners(),this.state.eventsEnabled=d}return I(t,[{key:"update",value:function(){return function(){if(!this.state.isDestroyed){var data={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};data.offsets.reference=j(this.state,this.popper,this.reference,this.options.positionFixed),data.placement=L(this.options.placement,data.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),data.originalPlacement=data.placement,data.positionFixed=this.options.positionFixed,data.offsets.popper=U(this.popper,data.offsets.reference,data.placement),data.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",data=$(this.modifiers,data),this.state.isCreated?this.options.onUpdate(data):(this.state.isCreated=!0,this.options.onCreate(data))}}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,W(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[z("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=K(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return G.call(this)}}]),t}();at.Utils=("undefined"!=typeof window?window:t).PopperUtils,at.placements=Z,at.Defaults=it,e.default=at}.call(this,n(18))},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(5),o=n(7),l=n(10);function c(t){return t&&"[object Object]"==={}.toString.call(t)}var d={props:{options:{type:[Array,Object],default:function(){return[]}},valueField:{type:String,default:"value"},textField:{type:String,default:"text"},htmlField:{type:String,default:"html"},disabledField:{type:String,default:"disabled"}},computed:{formOptions:function(){var t=this.options,e=this.valueField,n=this.textField,d=this.htmlField,h=this.disabledField;return(0,r.isArray)(t)?t.map(function(option){if(c(option)){var t=option[e],text=String(option[n]);return{value:void 0===t?text:t,text:(0,l.stripTags)(text),html:option[d],disabled:Boolean(option[h])}}return{value:option,text:(0,l.stripTags)(String(option)),disabled:!1}}):(0,o.keys)(t).map(function(r){var option=t[r]||{};if(c(option)){var o=option[e],text=option[n];return{value:void 0===o?r:o,text:void 0===text?(0,l.stripTags)(String(r)):(0,l.stripTags)(String(text)),html:option[d],disabled:Boolean(option[h])}}return{value:r,text:(0,l.stripTags)(String(option)),disabled:!1}})}}};e.default=d},function(t,e,n){"use strict";t.exports=n(309)()?Object.setPrototypeOf:n(310)},function(t,e,n){"use strict";var r=Object.prototype.toString,o=r.call(function(){return arguments}());t.exports=function(t){return r.call(t)===o}},function(t,e,n){"use strict";var r=Object.prototype.toString,o=r.call("");t.exports=function(t){return"string"==typeof t||t&&"object"==typeof t&&(t instanceof String||r.call(t)===o)||!1}},,,function(t,e,n){"use strict";n(381);var r,o=(r=n(239))&&"object"==typeof r&&"default"in r?r.default:r;n(451),n(453),n(455),n(458),n(459),n(460),n(461),console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport * as firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),t.exports=o},function(t,e,n){var content=n(641);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(52).default)("bfea64a8",content,!0,{sourceMap:!1})},function(t,e,n){var content=n(644);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(52).default)("0f9ed836",content,!0,{sourceMap:!1})},function(t,e,n){"use strict";n.r(e);var r=n(130),o=n.n(r);for(var l in r)"default"!==l&&function(t){n.d(e,t,function(){return r[t]})}(l);e.default=o.a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(89),l=n(302),c=(r=l)&&r.__esModule?r:{default:r};var d={bounds:{type:Object},defaultPlace:{type:String,default:""},componentRestrictions:{type:Object,default:null},types:{type:Array,default:function(){return[]}},placeholder:{required:!1,type:String},className:{required:!1,type:String},label:{required:!1,type:String,default:null},selectFirstOnEnter:{require:!1,type:Boolean,default:!1}};e.default={mounted:function(){var t=this,input=this.$refs.input;input.value=this.defaultPlace,this.$watch("defaultPlace",function(){input.value=t.defaultPlace}),this.$gmapApiPromiseLazy().then(function(){var e=(0,o.getPropsValues)(t,d);if(t.selectFirstOnEnter&&(0,c.default)(t.$refs.input),"function"!=typeof google.maps.places.Autocomplete)throw new Error("google.maps.places.Autocomplete is undefined. Did you add 'places' to libraries when loading Google Maps?");t.autoCompleter=new google.maps.places.Autocomplete(t.$refs.input,e);var n=function(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}(d,["placeholder","place","defaultPlace","className","label","selectFirstOnEnter"]);(0,o.bindProps)(t,t.autoCompleter,n),t.autoCompleter.addListener("place_changed",function(){t.$emit("place_changed",t.autoCompleter.getPlace())})})},created:function(){console.warn("The PlaceInput class is deprecated! Please consider using the Autocomplete input instead")},props:d}},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},l=function(t,e){if(!t)throw c(e)},c=function(t){return new Error("Firebase Database ("+o.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},d=function(t){for(var e=[],p=0,i=0;i<t.length;i++){var n=t.charCodeAt(i);n<128?e[p++]=n:n<2048?(e[p++]=n>>6|192,e[p++]=63&n|128):55296==(64512&n)&&i+1<t.length&&56320==(64512&t.charCodeAt(i+1))?(n=65536+((1023&n)<<10)+(1023&t.charCodeAt(++i)),e[p++]=n>>18|240,e[p++]=n>>12&63|128,e[p++]=n>>6&63|128,e[p++]=63&n|128):(e[p++]=n>>12|224,e[p++]=n>>6&63|128,e[p++]=63&n|128)}return e},h={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(input,t){if(!Array.isArray(input))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,output=[],i=0;i<input.length;i+=3){var n=input[i],r=i+1<input.length,o=r?input[i+1]:0,l=i+2<input.length,c=l?input[i+2]:0,d=n>>2,h=(3&n)<<4|o>>4,f=(15&o)<<2|c>>6,m=63&c;l||(m=64,r||(f=64)),output.push(e[d],e[h],e[f],e[m])}return output.join("")},encodeString:function(input,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(input):this.encodeByteArray(d(input),t)},decodeString:function(input,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(input):function(t){for(var e=[],n=0,r=0;n<t.length;){var o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){var l=t[n++];e[r++]=String.fromCharCode((31&o)<<6|63&l)}else if(o>239&&o<365){var u=((7&o)<<18|(63&(l=t[n++]))<<12|(63&(c=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{l=t[n++];var c=t[n++];e[r++]=String.fromCharCode((15&o)<<12|(63&l)<<6|63&c)}}return e.join("")}(this.decodeStringToByteArray(input,t))},decodeStringToByteArray:function(input,t){this.init_();for(var e=t?this.charToByteMapWebSafe_:this.charToByteMap_,output=[],i=0;i<input.length;){var n=e[input.charAt(i++)],r=i<input.length?e[input.charAt(i)]:0,o=++i<input.length?e[input.charAt(i)]:64,l=++i<input.length?e[input.charAt(i)]:64;if(++i,null==n||null==r||null==o||null==l)throw Error();var c=n<<2|r>>4;if(output.push(c),64!=o){var d=r<<4&240|o>>2;if(output.push(d),64!=l){var h=o<<6&192|l;output.push(h)}}}return output},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}},f=function(t){try{return h.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function m(t,source){if(!(source instanceof Object))return source;switch(source.constructor){case Date:return new Date(source.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return source}for(var e in source)source.hasOwnProperty(e)&&(t[e]=m(t[e],source[e]));return t}var v=function(){function t(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}(),y=function(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""},w="FirebaseError",_=function(t){function e(code,n){var r=t.call(this,n)||this;return r.code=code,r.name=w,Object.setPrototypeOf(r,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(r,S.prototype.create),r}return r.__extends(e,t),e}(Error),S=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(code,data){void 0===data&&(data={});for(var t=this.service+"/"+code,template=this.errors[code],e=template?function(template,data){return template.replace(E,function(t,e){var n=data[e];return null!=n?n.toString():"<"+e+"?>"})}(template,data):"Error",n=this.serviceName+": "+e+" ("+t+").",r=new _(t,n),o=0,l=Object.keys(data);o<l.length;o++){var c=l[o];"_"!==c.slice(-1)&&(c in r&&console.warn('Overwriting FirebaseError base field "'+c+'" can cause unexpected behavior.'),r[c]=data[c])}return r},t}();var E=/\{\$([^}]+)}/g;function T(t){return JSON.parse(t)}var k=function(t){var header={},e={},data={},n="";try{var r=t.split(".");header=T(f(r[0])||""),e=T(f(r[1])||""),n=r[2],data=e.d||{},delete e.d}catch(t){}return{header:header,claims:e,data:data,signature:n}},x=function(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])},C=function(t,e){return x(e,function(e,n){t[e]=n}),t},I=function(t,e,n){for(var r in t)if(e.call(n,t[r],r,t))return r},O=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var i=1;i<this.blockSize;++i)this.pad_[i]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var i=0;i<16;i++)n[i]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(i=0;i<16;i++)n[i]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(i=16;i<80;i++){var r=n[i-3]^n[i-8]^n[i-14]^n[i-16];n[i]=4294967295&(r<<1|r>>>31)}var o,l,a=this.chain_[0],b=this.chain_[1],c=this.chain_[2],d=this.chain_[3],h=this.chain_[4];for(i=0;i<80;i++){i<40?i<20?(o=d^b&(c^d),l=1518500249):(o=b^c^d,l=1859775393):i<60?(o=b&c|d&(b|c),l=2400959708):(o=b^c^d,l=3395469782);r=(a<<5|a>>>27)+o+h+l+n[i]&4294967295;h=d,d=c,c=4294967295&(b<<30|b>>>2),b=a,a=r}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+b&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+d&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,o=this.buf_,l=this.inbuf_;r<e;){if(0==l)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(o[l]=t.charCodeAt(r),++r,++l==this.blockSize){this.compress_(o),l=0;break}}else for(;r<e;)if(o[l]=t[r],++r,++l==this.blockSize){this.compress_(o),l=0;break}}this.inbuf_=l,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&e,e/=256;this.compress_(this.buf_);var n=0;for(i=0;i<5;i++)for(var r=24;r>=0;r-=8)t[n]=this.chain_[i]>>r&255,++n;return t},t}();var A=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,o=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var o=r[n];if(o in t&&"function"==typeof t[o])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=N),void 0===r.error&&(r.error=N),void 0===r.complete&&(r.complete=N);var l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?r.error(o.finalError):r.complete()}catch(t){}}),this.observers.push(r),l},t.prototype.unsubscribeOne=function(i){void 0!==this.observers&&void 0!==this.observers[i]&&(delete this.observers[i],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var i=0;i<this.observers.length;i++)this.sendOne(i,t)},t.prototype.sendOne=function(i,t){var e=this;this.task.then(function(){if(void 0!==e.observers&&void 0!==e.observers[i])try{t(e.observers[i])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function N(){}function D(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var o=t+" failed: ";return o+=r+" argument "}e.CONSTANTS=o,e.Deferred=v,e.ErrorFactory=S,e.FirebaseError=_,e.Sha1=O,e.assert=l,e.assertionError=c,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){t.apply(void 0,n)}).catch(function(t){e&&e(t)})}},e.base64=h,e.base64Decode=f,e.base64Encode=function(t){var e=d(t);return h.encodeByteArray(e,!0)},e.clone=function(t){return C({},t)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new A(t,e);return n.subscribe.bind(n)},e.decode=k,e.deepCopy=function(t){return m(void 0,t)},e.deepExtend=m,e.errorPrefix=D,e.every=function(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&!e(n,t[n]))return!1;return!0},e.extend=C,e.findKey=I,e.findValue=function(t,e,n){var r=I(t,e,n);return r&&t[r]},e.forEach=x,e.getAnyKey=function(t){for(var e in t)return e},e.getCount=function(t){var e=0;for(var n in t)e++;return e},e.getUA=y,e.getValues=function(t){var e=[],i=0;for(var n in t)e[i++]=t[n];return e},e.isAdmin=function(t){var e=k(t).claims;return"object"==typeof e&&!0===e.admin},e.isEmpty=function(t){for(var e in t)return!1;return!0},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(y())},e.isNodeSdk=function(){return!0===o.NODE_CLIENT||!0===o.NODE_ADMIN},e.isNonNullObject=function(t){return"object"==typeof t&&null!==t},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isValidFormat=function(t){var e=k(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e,n,r=k(t).claims,o=Math.floor((new Date).getTime()/1e3);return"object"==typeof r&&(r.hasOwnProperty("nbf")?e=r.nbf:r.hasOwnProperty("iat")&&(e=r.iat),n=r.hasOwnProperty("exp")?r.exp:e+86400),o&&e&&n&&o>=e&&o<=n},e.issuedAtTime=function(t){var e=k(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=T,e.map=function(t,e,n){var r={};for(var o in t)r[o]=e.call(n,t[o],o,t);return r},e.patchProperty=function(t,e,n){t[e]=n},e.querystring=function(t){var e=[];return x(t,function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}),e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach(function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}}),e},e.safeGet=function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]},e.stringLength=function(t){for(var p=0,i=0;i<t.length;i++){var e=t.charCodeAt(i);e<128?p++:e<2048?p+=2:e>=55296&&e<=56319?(p+=4,i++):p+=3}return p},e.stringToByteArray=function(t){for(var e=[],p=0,i=0;i<t.length;i++){var n=t.charCodeAt(i);if(n>=55296&&n<=56319){var r=n-55296;l(++i<t.length,"Surrogate pair missing trail surrogate."),n=65536+(r<<10)+(t.charCodeAt(i)-56320)}n<128?e[p++]=n:n<2048?(e[p++]=n>>6|192,e[p++]=63&n|128):n<65536?(e[p++]=n>>12|224,e[p++]=n>>6&63|128,e[p++]=63&n|128):(e[p++]=n>>18|240,e[p++]=n>>12&63|128,e[p++]=n>>6&63|128,e[p++]=63&n|128)}return e},e.stringify=function(data){return JSON.stringify(data)},e.validateArgCount=function(t,e,n,r){var o;if(r<e?o="at least "+e:r>n&&(o=0===n?"none":"no more than "+n),o)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+o+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(D(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(D(t,e,r)+"must be a valid context object.")},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(D(t,e,r)+"must be a valid firebase namespace.")}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){t.exports=function(t,e){var n=!1;return function(){return n||(console.warn(e),n=!0),t.apply(this,arguments)}}},function(t,e){t.exports=function(t,e){var n=t.toLowerCase().replace(/[\.\(\)]/g,"");return"algoliasearch: `"+t+"` was replaced by `"+e+"`. Please see https://github.com/algolia/algoliasearch-client-javascript/wiki/Deprecated#"+n}},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(2),o=n(16);var l="BButtonClose",c={disabled:{type:Boolean,default:!1},ariaLabel:{type:String,default:function(){return(0,o.getComponentConfig)(l,"ariaLabel")}},textVariant:{type:String,default:function(){return(0,o.getComponentConfig)(l,"textVariant")}}},d={name:l,functional:!0,props:c,render:function(t,e){var n,o,l,c=e.props,data=e.data,d=(e.listeners,e.slots),h={staticClass:"close",class:(n={},o="text-".concat(c.textVariant),l=c.textVariant,o in n?Object.defineProperty(n,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):n[o]=l,n),attrs:{type:"button",disabled:c.disabled,"aria-label":c.ariaLabel?String(c.ariaLabel):null},on:{click:function(t){c.disabled&&t instanceof Event&&(t.stopPropagation(),t.preventDefault())}}};return d().default||(h.domProps={innerHTML:"&times;"}),t("button",(0,r.mergeData)(data,h),d().default)}};e.default=d},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(5),o=n(7),l=function(t,path){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!(path=(0,r.isArray)(path)?path.join("."):path)||!(0,o.isObject)(t))return e;if(t.hasOwnProperty(path))return t[path];var n=(path=String(path).replace(/\[(\d+)]/g,".$1")).split(".").filter(Boolean);return 0===n.length?e:n.every(function(e){return(0,o.isObject)(t)&&t.hasOwnProperty(e)&&(t=t[e])})?t:e};e.default=l},function(t,e,n){"use strict";e.__esModule=!0,e.default=e.props=void 0;var r=n(2),o=n(16),l=n(57),c=n(5),d=n(7),h=n(6),f=n(32);function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var v="BButton",y={block:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},size:{type:String,default:null},variant:{type:String,default:function(){return(0,o.getComponentConfig)(v,"variant")}},type:{type:String,default:"button"},tag:{type:String,default:"button"},pressed:{type:Boolean,default:null}},w=(0,f.propsFactory)();delete w.href.default,delete w.to.default;var _=(0,d.keys)(w),S=function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},e=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(source).filter(function(t){return Object.getOwnPropertyDescriptor(source,t).enumerable}))),e.forEach(function(e){m(t,e,source[e])})}return t}({},w,y);function E(t){"focusin"===t.type?(0,h.addClass)(t.target,"focus"):"focusout"===t.type&&(0,h.removeClass)(t.target,"focus")}function T(t){return Boolean(t.href||t.to||t.tag&&"a"===String(t.tag).toLowerCase())}function k(t){return"boolean"==typeof t.pressed}function x(t){return!T(t)&&(!t.tag||"button"===String(t.tag).toLowerCase())}function C(t){var e;return["btn-".concat(t.variant||(0,o.getComponentConfig)(v,"variant")),(e={},m(e,"btn-".concat(t.size),Boolean(t.size)),m(e,"btn-block",t.block),m(e,"disabled",t.disabled),m(e,"active",t.pressed),e)]}function I(t){return T(t)?(0,l.default)(_,t):null}function O(t,data){var button=x(t),link=T(t),e=k(t),n=function(t){return!T(t)&&!x(t)}(t),r=data.attrs&&data.attrs.role?data.attrs.role:null,o=data.attrs?data.attrs.tabindex:null;return n&&(o="0"),{type:button&&!link?t.type:null,disabled:button?t.disabled:null,role:n?"button":r,"aria-disabled":n?String(t.disabled):null,"aria-pressed":e?String(t.pressed):null,autocomplete:e?"off":null,tabindex:t.disabled&&!button?"-1":o}}e.props=S;var A={name:v,functional:!0,props:S,render:function(t,e){var n=e.props,data=e.data,o=e.listeners,l=e.children,d=k(n),link=T(n),h={click:function(t){n.disabled&&t instanceof Event?(t.stopPropagation(),t.preventDefault()):d&&o&&o["update:pressed"]&&(0,c.concat)(o["update:pressed"]).forEach(function(t){"function"==typeof t&&t(!n.pressed)})}};d&&(h.focusin=E,h.focusout=E);var m={staticClass:"btn",class:C(n),props:I(n),attrs:O(n,data),on:h};return t(link?f.default:n.tag,(0,r.mergeData)(data,m),l)}};e.default=A},function(t,e,n){"use strict";e.__esModule=!0,e.default=e.commonProps=void 0;var r=n(2),o=n(170);function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c={id:{type:String,default:null},tag:{type:String,default:"div"},isText:{type:Boolean,default:!1}};e.commonProps=c;var d={name:"BInputGroupAddon",functional:!0,props:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},e=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(source).filter(function(t){return Object.getOwnPropertyDescriptor(source,t).enumerable}))),e.forEach(function(e){l(t,e,source[e])})}return t}({},c,{append:{type:Boolean,default:!1}}),render:function(t,e){var n=e.props,data=e.data,l=e.children;return t(n.tag,(0,r.mergeData)(data,{class:{"input-group-append":n.append,"input-group-prepend":!n.append},attrs:{id:n.id}}),n.isText?[t(o.default,l)]:l)}};e.default=d},function(t,e,n){"use strict";e.__esModule=!0,e.default=e.props=void 0;var r=n(2),o={tag:{type:String,default:"div"}};e.props=o;var l={name:"BInputGroupText",functional:!0,props:o,render:function(t,e){var n=e.props,data=e.data,o=e.children;return t(n.tag,(0,r.mergeData)(data,{staticClass:"input-group-text"}),o)}};e.default=l},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=function(t){return"string"!=typeof t&&(t=String(t)),(t=t.trim()).charAt(0).toUpperCase()+t.slice(1)};e.default=r},function(t,e,n){"use strict";e.__esModule=!0,e.default=e.props=void 0;var r=n(2),o=n(16);function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c='<svg width="%{w}" height="%{h}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 %{w} %{h}" preserveAspectRatio="none"><rect width="100%" height="100%" style="fill:%{f};"></rect></svg>';var d={src:{type:String,default:null},alt:{type:String,default:null},width:{type:[Number,String],default:null},height:{type:[Number,String],default:null},block:{type:Boolean,default:!1},fluid:{type:Boolean,default:!1},fluidGrow:{type:Boolean,default:!1},rounded:{type:[Boolean,String],default:!1},thumbnail:{type:Boolean,default:!1},left:{type:Boolean,default:!1},right:{type:Boolean,default:!1},center:{type:Boolean,default:!1},blank:{type:Boolean,default:!1},blankColor:{type:String,default:function(){return(0,o.getComponentConfig)("BImg","blankColor")}}};e.props=d;var h={name:"BImg",functional:!0,props:d,render:function(t,e){var n,o=e.props,data=e.data,d=o.src,h=parseInt(o.width,10)?parseInt(o.width,10):null,f=parseInt(o.height,10)?parseInt(o.height,10):null,m=null,v=o.block;return o.blank&&(!f&&Boolean(h)?f=h:!h&&Boolean(f)&&(h=f),h||f||(h=1,f=1),d=function(t,e,n){var r=encodeURIComponent(c.replace("%{w}",String(t)).replace("%{h}",String(e)).replace("%{f}",n));return"data:image/svg+xml;charset=UTF-8,".concat(r)}(h,f,o.blankColor||"transparent")),o.left?m="float-left":o.right?m="float-right":o.center&&(m="mx-auto",v=!0),t("img",(0,r.mergeData)(data,{attrs:{src:d,alt:o.alt,width:h?String(h):null,height:f?String(f):null},class:(n={"img-thumbnail":o.thumbnail,"img-fluid":o.fluid||o.fluidGrow,"w-100":o.fluidGrow,rounded:""===o.rounded||!0===o.rounded},l(n,"rounded-".concat(o.rounded),"string"==typeof o.rounded&&""!==o.rounded),l(n,m,Boolean(m)),l(n,"d-block",v),n)}))}};e.default=h},function(t,e,n){"use strict";e.__esModule=!0,e.default=e.props=void 0;var r=n(2),o={tag:{type:String,default:"div"}};e.props=o;var l={name:"BFormRow",functional:!0,props:o,render:function(t,e){var n=e.props,data=e.data,o=e.children;return t(n.tag,(0,r.mergeData)(data,{staticClass:"form-row"}),o)}};e.default=l},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(516),o=n(519),l=n(520),c=n(521),d=n(522),h=n(523),f=n(524),m=n(3),v={BDropdown:r.default,BDd:r.default,BDropdownItem:o.default,BDdItem:o.default,BDropdownItemButton:l.default,BDropdownItemBtn:l.default,BDdItemButton:l.default,BDdItemBtn:l.default,BDropdownHeader:c.default,BDdHeader:c.default,BDropdownDivider:d.default,BDdDivider:d.default,BDropdownForm:h.default,BDdForm:h.default,BDropdownText:f.default,BDdText:f.default},y={install:(0,m.installFactory)({components:v})};e.default=y},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(7);function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var l=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e)throw new TypeError("Failed to construct '".concat(this.constructor.name,"'. 1 argument required, ").concat(arguments.length," given."));(0,r.assign)(this,t.defaults(),n,{type:e}),(0,r.defineProperties)(this,{type:(0,r.readonlyDescriptor)(),cancelable:(0,r.readonlyDescriptor)(),nativeEvent:(0,r.readonlyDescriptor)(),target:(0,r.readonlyDescriptor)(),relatedTarget:(0,r.readonlyDescriptor)(),vueTarget:(0,r.readonlyDescriptor)()});var o=!1;this.preventDefault=function(){this.cancelable&&(o=!0)},(0,r.defineProperty)(this,"defaultPrevented",{enumerable:!0,get:function(){return o}})}var e,n,l;return e=t,l=[{key:"defaults",value:function(){return{type:"",cancelable:!0,nativeEvent:null,target:null,relatedTarget:null,vueTarget:null}}}],(n=null)&&o(e.prototype,n),l&&o(e,l),t}();e.default=l},function(t,e,n){"use strict";e.__esModule=!0,e.default=e.props=void 0;var r=n(2),o={id:{type:String,default:null},inline:{type:Boolean,default:!1},novalidate:{type:Boolean,default:!1},validated:{type:Boolean,default:!1}};e.props=o;var l={name:"BForm",functional:!0,props:o,render:function(t,e){var n=e.props,data=e.data,o=e.children;return t("form",(0,r.mergeData)(data,{class:{"form-inline":n.inline,"was-validated":n.validated},attrs:{id:n.id,novalidate:n.novalidate}}),o)}};e.default=l},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(543),o=n(5),l={methods:{hasNormalizedSlot:function(t){return Boolean(this.$scopedSlots[t]||this.$slots[t])},normalizeSlot:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,r.default)(t,e,this.$scopedSlots,this.$slots);return n?(0,o.concat)(n):n}}};e.default=l},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(119),o=n(175),l=n(262),c=n(5),d=n(6);function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var v=new RegExp("\\b".concat("bs-tooltip","\\S+"),"g"),y={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left",TOPLEFT:"top",TOPRIGHT:"top",RIGHTTOP:"right",RIGHTBOTTOM:"right",BOTTOMLEFT:"bottom",BOTTOMRIGHT:"bottom",LEFTTOP:"left",LEFTBOTTOM:"left"},w={AUTO:0,TOPLEFT:-1,TOP:0,TOPRIGHT:1,RIGHTTOP:-1,RIGHT:0,RIGHTBOTTOM:1,BOTTOMLEFT:-1,BOTTOM:0,BOTTOMRIGHT:1,LEFTTOP:-1,LEFT:0,LEFTBOTTOM:1},_="show",S="out",E="fade",T="show",k=".tooltip-inner",x=".arrow",C={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,placement:"top",offset:0,arrowPadding:6,container:!1,fallbackPlacement:"flip",callbacks:{},boundary:"scrollParent"},I={WebkitTransition:["webkitTransitionEnd"],MozTransition:["transitionend"],OTransition:["otransitionend","oTransitionEnd"],transition:["transitionend"]},O=1,A=function(t){return"__BV_".concat(t,"_").concat(O++,"__")},N=function(){function t(element,e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$isEnabled=!0,this.$fadeTimeout=null,this.$hoverTimeout=null,this.$visibleInterval=null,this.$hoverState="",this.$activeTrigger={},this.$popper=null,this.$element=element,this.$tip=null,this.$id=A(this.constructor.NAME),this.$root=n||null,this.$routeWatcher=null,this.$forceHide=this.forceHide.bind(this),this.$doHide=this.doHide.bind(this),this.$doShow=this.doShow.bind(this),this.$doDisable=this.doDisable.bind(this),this.$doEnable=this.doEnable.bind(this),this._noop=l.default.bind(this),this.updateConfig(e)}var e,n,O;return e=t,O=[{key:"getAttachment",value:function(t){return y[t.toUpperCase()]}},{key:"Default",get:function(){return C}},{key:"NAME",get:function(){return"tooltip"}}],(n=[{key:"updateConfig",value:function(t){var e=function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},e=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(source).filter(function(t){return Object.getOwnPropertyDescriptor(source,t).enumerable}))),e.forEach(function(e){f(t,e,source[e])})}return t}({},this.constructor.Default,t);t.delay&&"number"==typeof t.delay&&(e.delay={show:t.delay,hide:t.delay}),t.title&&"number"==typeof t.title&&(e.title=t.title.toString()),t.content&&"number"==typeof t.content&&(e.content=t.content.toString()),this.fixTitle(),this.$config=e,this.unListen(),this.listen()}},{key:"destroy",value:function(){this.unListen(),this.setWhileOpenListeners(!1),clearTimeout(this.$hoverTimeout),this.$hoverTimeout=null,clearTimeout(this.$fadeTimeout),this.$fadeTimeout=null,this.$popper&&this.$popper.destroy(),this.$popper=null,this.$tip&&this.$tip.parentElement&&this.$tip.parentElement.removeChild(this.$tip),this.$tip=null,this.$id=null,this.$isEnabled=null,this.$root=null,this.$element=null,this.$config=null,this.$hoverState=null,this.$activeTrigger=null,this.$forceHide=null,this.$doHide=null,this.$doShow=null,this.$doDisable=null,this.$doEnable=null}},{key:"enable",value:function(){var t=new o.default("enabled",{cancelable:!1,target:this.$element,relatedTarget:null});this.$isEnabled=!0,this.emitEvent(t)}},{key:"disable",value:function(){var t=new o.default("disabled",{cancelable:!1,target:this.$element,relatedTarget:null});this.$isEnabled=!1,this.emitEvent(t)}},{key:"toggle",value:function(t){this.$isEnabled&&(t?(this.$activeTrigger.click=!this.$activeTrigger.click,this.isWithActiveTrigger()?this.enter(null):this.leave(null)):(0,d.hasClass)(this.getTipElement(),T)?this.leave(null):this.enter(null))}},{key:"show",value:function(){var t=this;if(document.body.contains(this.$element)&&(0,d.isVisible)(this.$element)){var e=this.getTipElement();if(this.fixTitle(),this.setContent(e),this.isWithContent(e)){(0,d.setAttr)(e,"id",this.$id),this.addAriaDescribedby(),this.$config.animation?(0,d.addClass)(e,E):(0,d.removeClass)(e,E);var n=this.getPlacement(),l=this.constructor.getAttachment(n);this.addAttachmentClass(l);var c=new o.default("show",{cancelable:!0,target:this.$element,relatedTarget:e});if(this.emitEvent(c),c.defaultPrevented)this.$tip=null;else{var h=this.getContainer();document.body.contains(e)||h.appendChild(e),this.removePopper(),this.$popper=new r.default(this.$element,e,this.getPopperConfig(n,e));this.setWhileOpenListeners(!0),(0,d.addClass)(e,T),this.transitionOnce(e,function(){t.$config.animation&&t.fixTransition(e);var n=t.$hoverState;t.$hoverState=null,n===S&&t.leave(null);var r=new o.default("shown",{cancelable:!1,target:t.$element,relatedTarget:e});t.emitEvent(r)})}}else this.$tip=null}}},{key:"visibleCheck",value:function(t){var e=this;clearInterval(this.$visibleInterval),this.$visibleInterval=null,t&&(this.$visibleInterval=setInterval(function(){var t=e.getTipElement();t&&!(0,d.isVisible)(e.$element)&&(0,d.hasClass)(t,T)&&e.forceHide()},100))}},{key:"setWhileOpenListeners",value:function(t){this.setModalListener(t),this.visibleCheck(t),this.setRouteWatcher(t),this.setOnTouchStartListener(t),t&&/(focus|blur)/.test(this.$config.trigger)?(0,d.eventOn)(this.$tip,"focusout",this):(0,d.eventOff)(this.$tip,"focusout",this)}},{key:"forceHide",value:function(){this.$tip&&(0,d.hasClass)(this.$tip,T)&&(this.setWhileOpenListeners(!1),clearTimeout(this.$hoverTimeout),this.$hoverTimeout=null,this.$hoverState="",this.hide(null,!0))}},{key:"hide",value:function(t,e){var n=this,r=this.$tip;if(r){var l=new o.default("hide",{cancelable:!e,target:this.$element,relatedTarget:r});if(this.emitEvent(l),!l.defaultPrevented){this.setWhileOpenListeners(!1),e&&(0,d.removeClass)(r,E),(0,d.removeClass)(r,T),this.$activeTrigger.click=!1,this.$activeTrigger.focus=!1,this.$activeTrigger.hover=!1,this.transitionOnce(r,function(){n.$hoverState!==_&&r.parentNode&&(r.parentNode.removeChild(r),n.removeAriaDescribedby(),n.removePopper(),n.$tip=null),t&&t();var e=new o.default("hidden",{cancelable:!1,target:n.$element,relatedTarget:null});n.emitEvent(e)}),this.$hoverState=""}}}},{key:"emitEvent",value:function(t){var e=t.type;this.$root&&this.$root.$emit&&this.$root.$emit("bv::".concat(this.constructor.NAME,"::").concat(e),t);var n=this.$config.callbacks||{};"function"==typeof n[e]&&n[e](t)}},{key:"getContainer",value:function(){var t=this.$config.container,body=document.body;return!1===t?(0,d.closest)(".modal-content",this.$element)||body:(0,d.select)(t,body)||body}},{key:"addAriaDescribedby",value:function(){var desc=(0,d.getAttr)(this.$element,"aria-describedby")||"";desc=desc.split(/\s+/).concat(this.$id).join(" ").trim(),(0,d.setAttr)(this.$element,"aria-describedby",desc)}},{key:"removeAriaDescribedby",value:function(){var t=this,desc=(0,d.getAttr)(this.$element,"aria-describedby")||"";(desc=desc.split(/\s+/).filter(function(e){return e!==t.$id}).join(" ").trim())?(0,d.setAttr)(this.$element,"aria-describedby",desc):(0,d.removeAttr)(this.$element,"aria-describedby")}},{key:"removePopper",value:function(){this.$popper&&this.$popper.destroy(),this.$popper=null}},{key:"transitionOnce",value:function(t,e){var n=this,r=this.getTransitionEndEvents(),o=!1;clearTimeout(this.$fadeTimeout),this.$fadeTimeout=null;var l=function l(){o||(o=!0,clearTimeout(n.$fadeTimeout),n.$fadeTimeout=null,r.forEach(function(e){(0,d.eventOff)(t,e,l)}),e())};(0,d.hasClass)(t,E)?(r.forEach(function(e){(0,d.eventOn)(t,e,l)}),this.$fadeTimeout=setTimeout(l,150)):l()}},{key:"getTransitionEndEvents",value:function(){for(var t in I)if(void 0!==this.$element.style[t])return I[t];return[]}},{key:"update",value:function(){null!==this.$popper&&this.$popper.scheduleUpdate()}},{key:"isWithContent",value:function(t){return!!(t=t||this.$tip)&&Boolean(((0,d.select)(k,t)||{}).innerHTML)}},{key:"addAttachmentClass",value:function(t){(0,d.addClass)(this.getTipElement(),"".concat("bs-tooltip","-").concat(t))}},{key:"getTipElement",value:function(){return this.$tip||(this.$tip=this.compileTemplate(this.$config.template)||this.compileTemplate(this.constructor.Default.template)),this.$tip.tabIndex=-1,this.$tip}},{key:"compileTemplate",value:function(html){if(!html||"string"!=typeof html)return null;var div=document.createElement("div");div.innerHTML=html.trim();var t=div.firstElementChild?div.removeChild(div.firstElementChild):null;return div=null,t}},{key:"setContent",value:function(t){this.setElementContent((0,d.select)(k,t),this.getTitle()),(0,d.removeClass)(t,E),(0,d.removeClass)(t,T)}},{key:"setElementContent",value:function(t,content){if(t){var e=this.$config.html;"object"===h(content)&&content.nodeType?e?content.parentElement!==t&&(t.innerHTML="",t.appendChild(content)):t.innerText=content.innerText:t[e?"innerHTML":"innerText"]=content}}},{key:"getTitle",value:function(){var title=this.$config.title||"";return"function"==typeof title&&(title=title(this.$element)),"object"===h(title)&&title.nodeType&&!title.innerHTML.trim()&&(title=""),"string"==typeof title&&(title=title.trim()),title||(title=(title=(0,d.getAttr)(this.$element,"title")||(0,d.getAttr)(this.$element,"data-original-title")||"").trim()),title}},{key:"listen",value:function(){var t=this,e=this.$config.trigger.trim().split(/\s+/),n=this.$element;this.setRootListener(!0),e.forEach(function(e){"click"===e?(0,d.eventOn)(n,"click",t):"focus"===e?((0,d.eventOn)(n,"focusin",t),(0,d.eventOn)(n,"focusout",t)):"blur"===e?(0,d.eventOn)(n,"focusout",t):"hover"===e&&((0,d.eventOn)(n,"mouseenter",t),(0,d.eventOn)(n,"mouseleave",t))},this)}},{key:"unListen",value:function(){var t=this;["click","focusin","focusout","mouseenter","mouseleave"].forEach(function(e){(0,d.eventOff)(t.$element,e,t)},this),this.setRootListener(!1)}},{key:"handleEvent",value:function(t){if(!(0,d.isDisabled)(this.$element)&&this.$isEnabled){var e=t.type,n=t.target,r=t.relatedTarget,o=this.$element,l=this.$tip;if("click"===e)this.toggle(t);else if("focusin"===e||"mouseenter"===e)this.enter(t);else if("focusout"===e){if(l&&o&&o.contains(n)&&l.contains(r))return;if(l&&o&&l.contains(n)&&o.contains(r))return;if(l&&l.contains(n)&&l.contains(r))return;if(o&&o.contains(n)&&o.contains(r))return;this.leave(t)}else"mouseleave"===e&&this.leave(t)}}},{key:"setRouteWatcher",value:function(t){var e=this;t?(this.setRouteWatcher(!1),this.$root&&Boolean(this.$root.$route)&&(this.$routeWatcher=this.$root.$watch("$route",function(t,n){t!==n&&e.forceHide()}))):this.$routeWatcher&&(this.$routeWatcher(),this.$routeWatcher=null)}},{key:"setModalListener",value:function(t){(0,d.closest)(".modal-content",this.$element)&&this.$root&&this.$root[t?"$on":"$off"]("bv::modal::hidden",this.$forceHide)}},{key:"setRootListener",value:function(t){this.$root&&(this.$root[t?"$on":"$off"]("bv::hide::".concat(this.constructor.NAME),this.$doHide),this.$root[t?"$on":"$off"]("bv::show::".concat(this.constructor.NAME),this.$doShow),this.$root[t?"$on":"$off"]("bv::disable::".concat(this.constructor.NAME),this.$doDisable),this.$root[t?"$on":"$off"]("bv::enable::".concat(this.constructor.NAME),this.$doEnable))}},{key:"doHide",value:function(t){t?this.$element&&this.$element.id&&this.$element.id===t&&this.hide():this.forceHide()}},{key:"doShow",value:function(t){t?t&&this.$element&&this.$element.id&&this.$element.id===t&&this.show():this.show()}},{key:"doDisable",value:function(t){t?this.$element&&this.$element.id&&this.$element.id===t&&this.disable():this.disable()}},{key:"doEnable",value:function(t){t?this.$element&&this.$element.id&&this.$element.id===t&&this.enable():this.enable()}},{key:"setOnTouchStartListener",value:function(t){var e=this;"ontouchstart"in document.documentElement&&(0,c.from)(document.body.children).forEach(function(n){t?(0,d.eventOn)(n,"mouseover",e._noop):(0,d.eventOff)(n,"mouseover",e._noop)})}},{key:"fixTitle",value:function(){var t=this.$element,e=h((0,d.getAttr)(t,"data-original-title"));((0,d.getAttr)(t,"title")||"string"!==e)&&((0,d.setAttr)(t,"data-original-title",(0,d.getAttr)(t,"title")||""),(0,d.setAttr)(t,"title",""))}},{key:"enter",value:function(t){var e=this;t&&(this.$activeTrigger["focusin"===t.type?"focus":"hover"]=!0),(0,d.hasClass)(this.getTipElement(),T)||this.$hoverState===_?this.$hoverState=_:(clearTimeout(this.$hoverTimeout),this.$hoverState=_,this.$config.delay&&this.$config.delay.show?this.$hoverTimeout=setTimeout(function(){e.$hoverState===_&&e.show()},this.$config.delay.show):this.show())}},{key:"leave",value:function(t){var e=this;t&&(this.$activeTrigger["focusout"===t.type?"focus":"hover"]=!1,"focusout"===t.type&&/blur/.test(this.$config.trigger)&&(this.$activeTrigger.click=!1,this.$activeTrigger.hover=!1)),this.isWithActiveTrigger()||(clearTimeout(this.$hoverTimeout),this.$hoverState=S,this.$config.delay&&this.$config.delay.hide?this.$hoverTimeout=setTimeout(function(){e.$hoverState===S&&e.hide()},this.$config.delay.hide):this.hide())}},{key:"getPopperConfig",value:function(t,e){var n=this;return{placement:this.constructor.getAttachment(t),modifiers:{offset:{offset:this.getOffset(t,e)},flip:{behavior:this.$config.fallbackPlacement},arrow:{element:".arrow"},preventOverflow:{padding:this.$config.boundaryPadding,boundariesElement:this.$config.boundary}},onCreate:function(data){data.originalPlacement!==data.placement&&n.handlePopperPlacementChange(data)},onUpdate:function(data){n.handlePopperPlacementChange(data)}}}},{key:"getOffset",value:function(t,e){if(!this.$config.offset){var n=(0,d.select)(x,e),r=parseFloat((0,d.getCS)(n).width)+parseFloat(this.$config.arrowPadding);switch(w[t.toUpperCase()]){case 1:return"+50%p - ".concat(r,"px");case-1:return"-50%p + ".concat(r,"px");default:return 0}}return this.$config.offset}},{key:"getPlacement",value:function(){var t=this.$config.placement;return"function"==typeof t?t.call(this,this.$tip,this.$element):t}},{key:"isWithActiveTrigger",value:function(){for(var t in this.$activeTrigger)if(this.$activeTrigger[t])return!0;return!1}},{key:"cleanTipClass",value:function(){var t=this.getTipElement(),e=t.className.match(v);null!==e&&e.length>0&&e.forEach(function(e){(0,d.removeClass)(t,e)})}},{key:"handlePopperPlacementChange",value:function(data){this.cleanTipClass(),this.addAttachmentClass(this.constructor.getAttachment(data.placement))}},{key:"fixTransition",value:function(t){var e=this.$config.animation||!1;null===(0,d.getAttr)(t,"x-placement")&&((0,d.removeClass)(t,E),this.$config.animation=!1,this.hide(),this.show(),this.$config.animation=e)}}])&&m(e.prototype,n),O&&m(e,O),t}();e.default=N},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=function(t){return t.replace(/_/g," ").replace(/([a-z])([A-Z])/g,function(t,e,n){return e+" "+n}).replace(/(\s|^)(\w)/g,function(t,e,n){return e+n.toUpperCase()})};e.default=r},function(t,e,n){"use strict";e.__esModule=!0,e.EVENT_FILTER=e.IGNORED_FIELD_KEYS=void 0;e.IGNORED_FIELD_KEYS={_rowVariant:!0,_cellVariants:!0,_showDetails:!0};var r=["a","a *","button","button *","input:not(.disabled):not([disabled])","select:not(.disabled):not([disabled])","textarea:not(.disabled):not([disabled])",'[role="link"]','[role="link"] *','[role="button"]','[role="button"] *',"[tabindex]:not(.disabled):not([disabled])"].join(",");e.EVENT_FILTER=r},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){var r=function(n){(t.$gmapOptions.autobindAllEvents||t.$listeners[n])&&e.addListener(n,function(e){t.$emit(n,e)})},o=!0,l=!1,c=void 0;try{for(var d,h=n[Symbol.iterator]();!(o=(d=h.next()).done);o=!0){r(d.value)}}catch(t){l=!0,c=t}finally{try{!o&&h.return&&h.return()}finally{if(l)throw c}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=!1;function l(){o||(o=!0,t.$nextTick(function(){o=!1,n()}))}var c=!0,d=!1,h=void 0;try{for(var f,m=e[Symbol.iterator]();!(c=(f=m.next()).done);c=!0){var v=f.value;t.$watch(v,l,{immediate:r})}}catch(t){d=!0,h=t}finally{try{!c&&m.return&&m.return()}finally{if(d)throw h}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["resizeBus"],data:function(){return{_actualResizeBus:null}},created:function(){void 0===this.resizeBus?this.$data._actualResizeBus=this.$gmapDefaultResizeBus:this.$data._actualResizeBus=this.resizeBus},methods:{_resizeCallback:function(){this.resize()},_delayedResizeCallback:function(){var t=this;this.$nextTick(function(){return t._resizeCallback()})}},watch:{resizeBus:function(t){this.$data._actualResizeBus=t},"$data._actualResizeBus":function(t,e){e&&e.$off("resize",this._delayedResizeCallback),t&&t.$on("resize",this._delayedResizeCallback)}},destroyed:function(){this.$data._actualResizeBus&&this.$data._actualResizeBus.$off("resize",this._delayedResizeCallback)}}},function(t,e,n){var r=n(647),o="object"==typeof self&&self&&self.Object===Object&&self,l=r||o||Function("return this")();t.exports=l},function(t,e,n){"use strict";var r=n(72),o={object:!0,function:!0,undefined:!0};t.exports=function(t){return!!r(t)&&hasOwnProperty.call(o,typeof t)}},function(t,e,n){"use strict";t.exports=n(671)()?Object.assign:n(672)},function(t,e,n){"use strict";var r,o=n(306),l=n(187),c=n(59),d=n(39),h=n(60),f=n(687),m=n(49),v=Object.defineProperty,y=Object.defineProperties;t.exports=r=function(t,e){if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");y(this,{__list__:h("w",d(t)),__context__:h("w",e),__nextIndex__:h("w",0)}),e&&(c(e.on),e.on("_add",this._onAdd),e.on("_delete",this._onDelete),e.on("_clear",this._onClear))},delete r.prototype.constructor,y(r.prototype,l({_next:h(function(){var i;if(this.__list__)return this.__redo__&&void 0!==(i=this.__redo__.shift())?i:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()}),next:h(function(){return this._createResult(this._next())}),_createResult:h(function(i){return void 0===i?{done:!0,value:void 0}:{done:!1,value:this._resolve(i)}}),_resolve:h(function(i){return this.__list__[i]}),_unBind:h(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:h(function(){return"[object "+(this[m.toStringTag]||"Object")+"]"})},f({_onAdd:h(function(t){t>=this.__nextIndex__||(++this.__nextIndex__,this.__redo__?(this.__redo__.forEach(function(e,i){e>=t&&(this.__redo__[i]=++e)},this),this.__redo__.push(t)):v(this,"__redo__",h("c",[t])))}),_onDelete:h(function(t){var i;t>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(-1!==(i=this.__redo__.indexOf(t))&&this.__redo__.splice(i,1),this.__redo__.forEach(function(e,n){e>t&&(this.__redo__[n]=--e)},this)))}),_onClear:h(function(){this.__redo__&&o.call(this.__redo__),this.__nextIndex__=0})}))),v(r.prototype,m.iterator,h(function(){return this}))},function(t,e,n){var r=n(50),o=n(654),l=n(305),c="Expected a function",d=Math.max,h=Math.min;t.exports=function(t,e,n){var f,m,v,y,w,_,S=0,E=!1,T=!1,k=!0;if("function"!=typeof t)throw new TypeError(c);function x(time){var e=f,n=m;return f=m=void 0,S=time,y=t.apply(n,e)}function C(time){var t=time-_;return void 0===_||t>=e||t<0||T&&time-S>=v}function I(){var time=o();if(C(time))return O(time);w=setTimeout(I,function(time){var t=e-(time-_);return T?h(t,v-(time-S)):t}(time))}function O(time){return w=void 0,k&&f?x(time):(f=m=void 0,y)}function A(){var time=o(),t=C(time);if(f=arguments,m=this,_=time,t){if(void 0===w)return function(time){return S=time,w=setTimeout(I,e),E?x(time):y}(_);if(T)return w=setTimeout(I,e),x(_)}return void 0===w&&(w=setTimeout(I,e)),y}return e=l(e)||0,r(n)&&(E=!!n.leading,v=(T="maxWait"in n)?d(l(n.maxWait)||0,e):v,k="trailing"in n?!!n.trailing:k),A.cancel=function(){void 0!==w&&clearTimeout(w),S=0,f=_=m=w=void 0},A.flush=function(){return void 0===w?y:O(o())},A}},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},l=function(t,e){if(!t)throw c(e)},c=function(t){return new Error("Firebase Database ("+o.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},d=function(t){for(var e=[],p=0,i=0;i<t.length;i++){var n=t.charCodeAt(i);n<128?e[p++]=n:n<2048?(e[p++]=n>>6|192,e[p++]=63&n|128):55296==(64512&n)&&i+1<t.length&&56320==(64512&t.charCodeAt(i+1))?(n=65536+((1023&n)<<10)+(1023&t.charCodeAt(++i)),e[p++]=n>>18|240,e[p++]=n>>12&63|128,e[p++]=n>>6&63|128,e[p++]=63&n|128):(e[p++]=n>>12|224,e[p++]=n>>6&63|128,e[p++]=63&n|128)}return e},h={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(input,t){if(!Array.isArray(input))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,output=[],i=0;i<input.length;i+=3){var n=input[i],r=i+1<input.length,o=r?input[i+1]:0,l=i+2<input.length,c=l?input[i+2]:0,d=n>>2,h=(3&n)<<4|o>>4,f=(15&o)<<2|c>>6,m=63&c;l||(m=64,r||(f=64)),output.push(e[d],e[h],e[f],e[m])}return output.join("")},encodeString:function(input,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(input):this.encodeByteArray(d(input),t)},decodeString:function(input,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(input):function(t){for(var e=[],n=0,r=0;n<t.length;){var o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){var l=t[n++];e[r++]=String.fromCharCode((31&o)<<6|63&l)}else if(o>239&&o<365){var u=((7&o)<<18|(63&(l=t[n++]))<<12|(63&(c=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{l=t[n++];var c=t[n++];e[r++]=String.fromCharCode((15&o)<<12|(63&l)<<6|63&c)}}return e.join("")}(this.decodeStringToByteArray(input,t))},decodeStringToByteArray:function(input,t){this.init_();for(var e=t?this.charToByteMapWebSafe_:this.charToByteMap_,output=[],i=0;i<input.length;){var n=e[input.charAt(i++)],r=i<input.length?e[input.charAt(i)]:0,o=++i<input.length?e[input.charAt(i)]:64,l=++i<input.length?e[input.charAt(i)]:64;if(++i,null==n||null==r||null==o||null==l)throw Error();var c=n<<2|r>>4;if(output.push(c),64!=o){var d=r<<4&240|o>>2;if(output.push(d),64!=l){var h=o<<6&192|l;output.push(h)}}}return output},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}},f=function(t){try{return h.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function m(t,source){if(!(source instanceof Object))return source;switch(source.constructor){case Date:return new Date(source.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return source}for(var e in source)source.hasOwnProperty(e)&&(t[e]=m(t[e],source[e]));return t}var v=function(){function t(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}(),y=function(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""},w="FirebaseError",_=function(t){function e(code,n){var r=t.call(this,n)||this;return r.code=code,r.name=w,Object.setPrototypeOf(r,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(r,S.prototype.create),r}return r.__extends(e,t),e}(Error),S=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(code,data){void 0===data&&(data={});for(var t=this.service+"/"+code,template=this.errors[code],e=template?function(template,data){return template.replace(E,function(t,e){var n=data[e];return null!=n?n.toString():"<"+e+"?>"})}(template,data):"Error",n=this.serviceName+": "+e+" ("+t+").",r=new _(t,n),o=0,l=Object.keys(data);o<l.length;o++){var c=l[o];"_"!==c.slice(-1)&&(c in r&&console.warn('Overwriting FirebaseError base field "'+c+'" can cause unexpected behavior.'),r[c]=data[c])}return r},t}();var E=/\{\$([^}]+)}/g;function T(t){return JSON.parse(t)}var k=function(t){var header={},e={},data={},n="";try{var r=t.split(".");header=T(f(r[0])||""),e=T(f(r[1])||""),n=r[2],data=e.d||{},delete e.d}catch(t){}return{header:header,claims:e,data:data,signature:n}},x=function(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])},C=function(t,e){return x(e,function(e,n){t[e]=n}),t},I=function(t,e,n){for(var r in t)if(e.call(n,t[r],r,t))return r},O=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var i=1;i<this.blockSize;++i)this.pad_[i]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var i=0;i<16;i++)n[i]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(i=0;i<16;i++)n[i]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(i=16;i<80;i++){var r=n[i-3]^n[i-8]^n[i-14]^n[i-16];n[i]=4294967295&(r<<1|r>>>31)}var o,l,a=this.chain_[0],b=this.chain_[1],c=this.chain_[2],d=this.chain_[3],h=this.chain_[4];for(i=0;i<80;i++){i<40?i<20?(o=d^b&(c^d),l=1518500249):(o=b^c^d,l=1859775393):i<60?(o=b&c|d&(b|c),l=2400959708):(o=b^c^d,l=3395469782);r=(a<<5|a>>>27)+o+h+l+n[i]&4294967295;h=d,d=c,c=4294967295&(b<<30|b>>>2),b=a,a=r}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+b&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+d&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,o=this.buf_,l=this.inbuf_;r<e;){if(0==l)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(o[l]=t.charCodeAt(r),++r,++l==this.blockSize){this.compress_(o),l=0;break}}else for(;r<e;)if(o[l]=t[r],++r,++l==this.blockSize){this.compress_(o),l=0;break}}this.inbuf_=l,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&e,e/=256;this.compress_(this.buf_);var n=0;for(i=0;i<5;i++)for(var r=24;r>=0;r-=8)t[n]=this.chain_[i]>>r&255,++n;return t},t}();var A=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,o=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var o=r[n];if(o in t&&"function"==typeof t[o])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=N),void 0===r.error&&(r.error=N),void 0===r.complete&&(r.complete=N);var l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?r.error(o.finalError):r.complete()}catch(t){}}),this.observers.push(r),l},t.prototype.unsubscribeOne=function(i){void 0!==this.observers&&void 0!==this.observers[i]&&(delete this.observers[i],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var i=0;i<this.observers.length;i++)this.sendOne(i,t)},t.prototype.sendOne=function(i,t){var e=this;this.task.then(function(){if(void 0!==e.observers&&void 0!==e.observers[i])try{t(e.observers[i])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function N(){}function D(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var o=t+" failed: ";return o+=r+" argument "}e.CONSTANTS=o,e.Deferred=v,e.ErrorFactory=S,e.FirebaseError=_,e.Sha1=O,e.assert=l,e.assertionError=c,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){t.apply(void 0,n)}).catch(function(t){e&&e(t)})}},e.base64=h,e.base64Decode=f,e.base64Encode=function(t){var e=d(t);return h.encodeByteArray(e,!0)},e.clone=function(t){return C({},t)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new A(t,e);return n.subscribe.bind(n)},e.decode=k,e.deepCopy=function(t){return m(void 0,t)},e.deepExtend=m,e.errorPrefix=D,e.every=function(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&!e(n,t[n]))return!1;return!0},e.extend=C,e.findKey=I,e.findValue=function(t,e,n){var r=I(t,e,n);return r&&t[r]},e.forEach=x,e.getAnyKey=function(t){for(var e in t)return e},e.getCount=function(t){var e=0;for(var n in t)e++;return e},e.getUA=y,e.getValues=function(t){var e=[],i=0;for(var n in t)e[i++]=t[n];return e},e.isAdmin=function(t){var e=k(t).claims;return"object"==typeof e&&!0===e.admin},e.isEmpty=function(t){for(var e in t)return!1;return!0},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(y())},e.isNodeSdk=function(){return!0===o.NODE_CLIENT||!0===o.NODE_ADMIN},e.isNonNullObject=function(t){return"object"==typeof t&&null!==t},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isValidFormat=function(t){var e=k(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e,n,r=k(t).claims,o=Math.floor((new Date).getTime()/1e3);return"object"==typeof r&&(r.hasOwnProperty("nbf")?e=r.nbf:r.hasOwnProperty("iat")&&(e=r.iat),n=r.hasOwnProperty("exp")?r.exp:e+86400),o&&e&&n&&o>=e&&o<=n},e.issuedAtTime=function(t){var e=k(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=T,e.map=function(t,e,n){var r={};for(var o in t)r[o]=e.call(n,t[o],o,t);return r},e.patchProperty=function(t,e,n){t[e]=n},e.querystring=function(t){var e=[];return x(t,function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}),e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach(function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}}),e},e.safeGet=function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]},e.stringLength=function(t){for(var p=0,i=0;i<t.length;i++){var e=t.charCodeAt(i);e<128?p++:e<2048?p+=2:e>=55296&&e<=56319?(p+=4,i++):p+=3}return p},e.stringToByteArray=function(t){for(var e=[],p=0,i=0;i<t.length;i++){var n=t.charCodeAt(i);if(n>=55296&&n<=56319){var r=n-55296;l(++i<t.length,"Surrogate pair missing trail surrogate."),n=65536+(r<<10)+(t.charCodeAt(i)-56320)}n<128?e[p++]=n:n<2048?(e[p++]=n>>6|192,e[p++]=63&n|128):n<65536?(e[p++]=n>>12|224,e[p++]=n>>6&63|128,e[p++]=63&n|128):(e[p++]=n>>18|240,e[p++]=n>>12&63|128,e[p++]=n>>6&63|128,e[p++]=63&n|128)}return e},e.stringify=function(data){return JSON.stringify(data)},e.validateArgCount=function(t,e,n,r){var o;if(r<e?o="at least "+e:r>n&&(o=0===n?"none":"no more than "+n),o)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+o+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(D(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(D(t,e,r)+"must be a valid context object.")},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(D(t,e,r)+"must be a valid firebase namespace.")}},function(t,e,n){var r=n(650);t.exports=function(t){return"number"==typeof t&&t==r(t)}},function(t,e,n){var r=n(185).isFinite;t.exports=function(t){return"number"==typeof t&&r(t)}},function(t,e,n){"use strict";var r=function(){var t=this.$createElement,e=this._self._c||t;return e("label",[e("span",{domProps:{textContent:this._s(this.label)}}),this._v(" "),e("input",{ref:"input",class:this.className,attrs:{type:"text",placeholder:this.placeholder}})])},o=[];n.d(e,"a",function(){return r}),n.d(e,"b",function(){return o})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(0),l=n(240),c=((r={})["no-app"]="No Firebase App '{$name}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$name}",r["duplicate-app"]="Firebase App named '{$name}' already exists",r["app-deleted"]="Firebase App named '{$name}' already deleted",r["duplicate-service"]="Firebase service named '{$name}' already registered",r["invalid-app-argument"]="firebase.{$name}() takes either no argument or a Firebase App instance.",r),d=new l.ErrorFactory("app","Firebase",c);function h(code,t){throw d.create(code,t)}var f="[DEFAULT]",m=[],v=function(){function t(t,e,n){this.firebase_=n,this.isDeleted_=!1,this.services_={},this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=l.deepCopy(t),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(t){m.push(t),setTimeout(function(){return t(null)},0)},removeAuthTokenListener:function(t){m=m.filter(function(e){return e!==t})}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){t.firebase_.INTERNAL.removeApp(t.name_);for(var e=[],n=0,r=Object.keys(t.services_);n<r.length;n++)for(var o=r[n],l=0,c=Object.keys(t.services_[o]);l<c.length;l++){var d=c[l];e.push(t.services_[o][d])}return Promise.all(e.map(function(t){return t.INTERNAL.delete()}))}).then(function(){t.isDeleted_=!0,t.services_={}})},t.prototype._getService=function(t,e){if(void 0===e&&(e=f),this.checkDestroyed_(),this.services_[t]||(this.services_[t]={}),!this.services_[t][e]){var n=e!==f?e:void 0,r=this.firebase_.INTERNAL.factories[t](this,this.extendApp.bind(this),n);this.services_[t][e]=r}return this.services_[t][e]},t.prototype.extendApp=function(t){var e=this;l.deepExtend(this,t),t.INTERNAL&&t.INTERNAL.addAuthTokenListener&&(m.forEach(function(t){e.INTERNAL.addAuthTokenListener(t)}),m=[])},t.prototype.checkDestroyed_=function(){this.isDeleted_&&h("app-deleted",{name:this.name_})},t}();function y(t,e){return Object.prototype.hasOwnProperty.call(t,e)}v.prototype.name&&v.prototype.options||v.prototype.delete||console.log("dc");var w=!1;try{w="[object process]"===Object.prototype.toString.call(t.process)}catch(t){}if(w&&console.warn('\nWarning: This is a browser-targeted Firebase bundle but it appears it is being\nrun in a Node environment.  If running in a Node environment, make sure you\nare using the bundle specified by the "main" field in package.json.\n\nIf you are using Webpack, you can specify "main" as the first item in\n"resolve.mainFields":\nhttps://webpack.js.org/configuration/resolve/#resolvemainfields\n\nIf using Rollup, use the rollup-plugin-node-resolve plugin and set "module"\nto false and "main" to true:\nhttps://github.com/rollup/rollup-plugin-node-resolve\n'),self&&"firebase"in self){console.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var _=self.firebase.SDK_VERSION;_&&_.indexOf("LITE")>=0&&console.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var S=function t(){var e=function(t){var e={},n={},r={},o={__esModule:!0,initializeApp:function(n,r){if(void 0===r&&(r={}),"object"!=typeof r||null===r){var l=r;r={name:l}}var c=r;void 0===c.name&&(c.name=f);var d=c.name;"string"==typeof d&&d||h("bad-app-name",{name:String(d)}),y(e,d)&&h("duplicate-app",{name:d});var v=new t(n,c,o);return e[d]=v,m(v,"create"),v},app:c,apps:null,Promise:Promise,SDK_VERSION:"5.11.0",INTERNAL:{registerService:function(e,f,m,v,y){function w(t){return void 0===t&&(t=c()),"function"!=typeof t[e]&&h("invalid-app-argument",{name:e}),t[e]()}return void 0===y&&(y=!1),n[e]&&h("duplicate-service",{name:e}),n[e]=f,v&&(r[e]=v,d().forEach(function(t){v("create",t)})),void 0!==m&&l.deepExtend(w,m),o[e]=w,t.prototype[e]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return this._getService.bind(this,e).apply(this,y?t:[])},w},removeApp:function(t){m(e[t],"delete"),delete e[t]},factories:n,useAsService:v}};function c(t){return y(e,t=t||f)||h("no-app",{name:t}),e[t]}function d(){return Object.keys(e).map(function(t){return e[t]})}function m(t,e){for(var o=0,l=Object.keys(n);o<l.length;o++){var c=v(t,l[o]);if(null===c)return;r[c]&&r[c](e,t)}}function v(t,e){if("serverAuth"===e)return null;var n=e;return t.options,n}return l.patchProperty(o,"default",o),Object.defineProperty(o,"apps",{get:d}),l.patchProperty(c,"App",t),o}(v);return e.INTERNAL=o.__assign({},e.INTERNAL,{createFirebaseNamespace:t,extendNamespace:function(t){l.deepExtend(e,t)},createSubscribe:l.createSubscribe,ErrorFactory:l.ErrorFactory,deepExtend:l.deepExtend}),e}();e.default=S,e.firebase=S}).call(this,n(18))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},l=function(t,e){if(!t)throw c(e)},c=function(t){return new Error("Firebase Database ("+o.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},d=function(t){for(var e=[],p=0,i=0;i<t.length;i++){var n=t.charCodeAt(i);n<128?e[p++]=n:n<2048?(e[p++]=n>>6|192,e[p++]=63&n|128):55296==(64512&n)&&i+1<t.length&&56320==(64512&t.charCodeAt(i+1))?(n=65536+((1023&n)<<10)+(1023&t.charCodeAt(++i)),e[p++]=n>>18|240,e[p++]=n>>12&63|128,e[p++]=n>>6&63|128,e[p++]=63&n|128):(e[p++]=n>>12|224,e[p++]=n>>6&63|128,e[p++]=63&n|128)}return e},h={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(input,t){if(!Array.isArray(input))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,output=[],i=0;i<input.length;i+=3){var n=input[i],r=i+1<input.length,o=r?input[i+1]:0,l=i+2<input.length,c=l?input[i+2]:0,d=n>>2,h=(3&n)<<4|o>>4,f=(15&o)<<2|c>>6,m=63&c;l||(m=64,r||(f=64)),output.push(e[d],e[h],e[f],e[m])}return output.join("")},encodeString:function(input,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(input):this.encodeByteArray(d(input),t)},decodeString:function(input,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(input):function(t){for(var e=[],n=0,r=0;n<t.length;){var o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){var l=t[n++];e[r++]=String.fromCharCode((31&o)<<6|63&l)}else if(o>239&&o<365){var u=((7&o)<<18|(63&(l=t[n++]))<<12|(63&(c=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{l=t[n++];var c=t[n++];e[r++]=String.fromCharCode((15&o)<<12|(63&l)<<6|63&c)}}return e.join("")}(this.decodeStringToByteArray(input,t))},decodeStringToByteArray:function(input,t){this.init_();for(var e=t?this.charToByteMapWebSafe_:this.charToByteMap_,output=[],i=0;i<input.length;){var n=e[input.charAt(i++)],r=i<input.length?e[input.charAt(i)]:0,o=++i<input.length?e[input.charAt(i)]:64,l=++i<input.length?e[input.charAt(i)]:64;if(++i,null==n||null==r||null==o||null==l)throw Error();var c=n<<2|r>>4;if(output.push(c),64!=o){var d=r<<4&240|o>>2;if(output.push(d),64!=l){var h=o<<6&192|l;output.push(h)}}}return output},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}},f=function(t){try{return h.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function m(t,source){if(!(source instanceof Object))return source;switch(source.constructor){case Date:return new Date(source.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return source}for(var e in source)source.hasOwnProperty(e)&&(t[e]=m(t[e],source[e]));return t}var v=function(){function t(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}(),y=function(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""},w="FirebaseError",_=function(t){function e(code,n){var r=t.call(this,n)||this;return r.code=code,r.name=w,Object.setPrototypeOf(r,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(r,S.prototype.create),r}return r.__extends(e,t),e}(Error),S=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(code,data){void 0===data&&(data={});for(var t=this.service+"/"+code,template=this.errors[code],e=template?function(template,data){return template.replace(E,function(t,e){var n=data[e];return null!=n?n.toString():"<"+e+"?>"})}(template,data):"Error",n=this.serviceName+": "+e+" ("+t+").",r=new _(t,n),o=0,l=Object.keys(data);o<l.length;o++){var c=l[o];"_"!==c.slice(-1)&&(c in r&&console.warn('Overwriting FirebaseError base field "'+c+'" can cause unexpected behavior.'),r[c]=data[c])}return r},t}();var E=/\{\$([^}]+)}/g;function T(t){return JSON.parse(t)}var k=function(t){var header={},e={},data={},n="";try{var r=t.split(".");header=T(f(r[0])||""),e=T(f(r[1])||""),n=r[2],data=e.d||{},delete e.d}catch(t){}return{header:header,claims:e,data:data,signature:n}},x=function(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])},C=function(t,e){return x(e,function(e,n){t[e]=n}),t},I=function(t,e,n){for(var r in t)if(e.call(n,t[r],r,t))return r},O=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var i=1;i<this.blockSize;++i)this.pad_[i]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var i=0;i<16;i++)n[i]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(i=0;i<16;i++)n[i]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(i=16;i<80;i++){var r=n[i-3]^n[i-8]^n[i-14]^n[i-16];n[i]=4294967295&(r<<1|r>>>31)}var o,l,a=this.chain_[0],b=this.chain_[1],c=this.chain_[2],d=this.chain_[3],h=this.chain_[4];for(i=0;i<80;i++){i<40?i<20?(o=d^b&(c^d),l=1518500249):(o=b^c^d,l=1859775393):i<60?(o=b&c|d&(b|c),l=2400959708):(o=b^c^d,l=3395469782);r=(a<<5|a>>>27)+o+h+l+n[i]&4294967295;h=d,d=c,c=4294967295&(b<<30|b>>>2),b=a,a=r}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+b&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+d&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,o=this.buf_,l=this.inbuf_;r<e;){if(0==l)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(o[l]=t.charCodeAt(r),++r,++l==this.blockSize){this.compress_(o),l=0;break}}else for(;r<e;)if(o[l]=t[r],++r,++l==this.blockSize){this.compress_(o),l=0;break}}this.inbuf_=l,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&e,e/=256;this.compress_(this.buf_);var n=0;for(i=0;i<5;i++)for(var r=24;r>=0;r-=8)t[n]=this.chain_[i]>>r&255,++n;return t},t}();var A=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,o=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var o=r[n];if(o in t&&"function"==typeof t[o])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=N),void 0===r.error&&(r.error=N),void 0===r.complete&&(r.complete=N);var l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?r.error(o.finalError):r.complete()}catch(t){}}),this.observers.push(r),l},t.prototype.unsubscribeOne=function(i){void 0!==this.observers&&void 0!==this.observers[i]&&(delete this.observers[i],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var i=0;i<this.observers.length;i++)this.sendOne(i,t)},t.prototype.sendOne=function(i,t){var e=this;this.task.then(function(){if(void 0!==e.observers&&void 0!==e.observers[i])try{t(e.observers[i])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function N(){}function D(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var o=t+" failed: ";return o+=r+" argument "}e.CONSTANTS=o,e.Deferred=v,e.ErrorFactory=S,e.FirebaseError=_,e.Sha1=O,e.assert=l,e.assertionError=c,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){t.apply(void 0,n)}).catch(function(t){e&&e(t)})}},e.base64=h,e.base64Decode=f,e.base64Encode=function(t){var e=d(t);return h.encodeByteArray(e,!0)},e.clone=function(t){return C({},t)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new A(t,e);return n.subscribe.bind(n)},e.decode=k,e.deepCopy=function(t){return m(void 0,t)},e.deepExtend=m,e.errorPrefix=D,e.every=function(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&!e(n,t[n]))return!1;return!0},e.extend=C,e.findKey=I,e.findValue=function(t,e,n){var r=I(t,e,n);return r&&t[r]},e.forEach=x,e.getAnyKey=function(t){for(var e in t)return e},e.getCount=function(t){var e=0;for(var n in t)e++;return e},e.getUA=y,e.getValues=function(t){var e=[],i=0;for(var n in t)e[i++]=t[n];return e},e.isAdmin=function(t){var e=k(t).claims;return"object"==typeof e&&!0===e.admin},e.isEmpty=function(t){for(var e in t)return!1;return!0},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(y())},e.isNodeSdk=function(){return!0===o.NODE_CLIENT||!0===o.NODE_ADMIN},e.isNonNullObject=function(t){return"object"==typeof t&&null!==t},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isValidFormat=function(t){var e=k(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e,n,r=k(t).claims,o=Math.floor((new Date).getTime()/1e3);return"object"==typeof r&&(r.hasOwnProperty("nbf")?e=r.nbf:r.hasOwnProperty("iat")&&(e=r.iat),n=r.hasOwnProperty("exp")?r.exp:e+86400),o&&e&&n&&o>=e&&o<=n},e.issuedAtTime=function(t){var e=k(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=T,e.map=function(t,e,n){var r={};for(var o in t)r[o]=e.call(n,t[o],o,t);return r},e.patchProperty=function(t,e,n){t[e]=n},e.querystring=function(t){var e=[];return x(t,function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}),e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach(function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}}),e},e.safeGet=function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]},e.stringLength=function(t){for(var p=0,i=0;i<t.length;i++){var e=t.charCodeAt(i);e<128?p++:e<2048?p+=2:e>=55296&&e<=56319?(p+=4,i++):p+=3}return p},e.stringToByteArray=function(t){for(var e=[],p=0,i=0;i<t.length;i++){var n=t.charCodeAt(i);if(n>=55296&&n<=56319){var r=n-55296;l(++i<t.length,"Surrogate pair missing trail surrogate."),n=65536+(r<<10)+(t.charCodeAt(i)-56320)}n<128?e[p++]=n:n<2048?(e[p++]=n>>6|192,e[p++]=63&n|128):n<65536?(e[p++]=n>>12|224,e[p++]=n>>6&63|128,e[p++]=63&n|128):(e[p++]=n>>18|240,e[p++]=n>>12&63|128,e[p++]=n>>6&63|128,e[p++]=63&n|128)}return e},e.stringify=function(data){return JSON.stringify(data)},e.validateArgCount=function(t,e,n,r){var o;if(r<e?o="at least "+e:r>n&&(o=0===n?"none":"no more than "+n),o)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+o+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(D(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(D(t,e,r)+"must be a valid context object.")},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(D(t,e,r)+"must be a valid firebase namespace.")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(452),o={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},l=function(t,e){if(!t)throw c(e)},c=function(t){return new Error("Firebase Database ("+o.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},d=function(t){for(var e=[],p=0,i=0;i<t.length;i++){var n=t.charCodeAt(i);n<128?e[p++]=n:n<2048?(e[p++]=n>>6|192,e[p++]=63&n|128):55296==(64512&n)&&i+1<t.length&&56320==(64512&t.charCodeAt(i+1))?(n=65536+((1023&n)<<10)+(1023&t.charCodeAt(++i)),e[p++]=n>>18|240,e[p++]=n>>12&63|128,e[p++]=n>>6&63|128,e[p++]=63&n|128):(e[p++]=n>>12|224,e[p++]=n>>6&63|128,e[p++]=63&n|128)}return e},h={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(input,t){if(!Array.isArray(input))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,output=[],i=0;i<input.length;i+=3){var n=input[i],r=i+1<input.length,o=r?input[i+1]:0,l=i+2<input.length,c=l?input[i+2]:0,d=n>>2,h=(3&n)<<4|o>>4,f=(15&o)<<2|c>>6,m=63&c;l||(m=64,r||(f=64)),output.push(e[d],e[h],e[f],e[m])}return output.join("")},encodeString:function(input,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(input):this.encodeByteArray(d(input),t)},decodeString:function(input,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(input):function(t){for(var e=[],n=0,r=0;n<t.length;){var o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){var l=t[n++];e[r++]=String.fromCharCode((31&o)<<6|63&l)}else if(o>239&&o<365){var u=((7&o)<<18|(63&(l=t[n++]))<<12|(63&(c=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{l=t[n++];var c=t[n++];e[r++]=String.fromCharCode((15&o)<<12|(63&l)<<6|63&c)}}return e.join("")}(this.decodeStringToByteArray(input,t))},decodeStringToByteArray:function(input,t){this.init_();for(var e=t?this.charToByteMapWebSafe_:this.charToByteMap_,output=[],i=0;i<input.length;){var n=e[input.charAt(i++)],r=i<input.length?e[input.charAt(i)]:0,o=++i<input.length?e[input.charAt(i)]:64,l=++i<input.length?e[input.charAt(i)]:64;if(++i,null==n||null==r||null==o||null==l)throw Error();var c=n<<2|r>>4;if(output.push(c),64!=o){var d=r<<4&240|o>>2;if(output.push(d),64!=l){var h=o<<6&192|l;output.push(h)}}}return output},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}},f=function(t){try{return h.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function m(t,source){if(!(source instanceof Object))return source;switch(source.constructor){case Date:return new Date(source.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return source}for(var e in source)source.hasOwnProperty(e)&&(t[e]=m(t[e],source[e]));return t}var v=function(){function t(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}(),y=function(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""},w="FirebaseError",_=Error.captureStackTrace;var S=function(){return function(code,t){if(this.code=code,this.message=t,_)_(this,E.prototype.create);else try{throw Error.apply(this,arguments)}catch(t){this.name=w,Object.defineProperty(this,"stack",{get:function(){return t.stack}})}}}();S.prototype=Object.create(Error.prototype),S.prototype.constructor=S,S.prototype.name=w;var E=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n,this.pattern=/\{\$([^}]+)}/g}return t.prototype.create=function(code,data){void 0===data&&(data={});var t,template=this.errors[code],e=this.service+"/"+code;t=void 0===template?"Error":template.replace(this.pattern,function(t,e){var n=data[e];return void 0!==n?n.toString():"<"+e+"?>"}),t=this.serviceName+": "+t+" ("+e+").";var n=new S(e,t);for(var r in data)data.hasOwnProperty(r)&&"_"!==r.slice(-1)&&(n[r]=data[r]);return n},t}();function T(t){return JSON.parse(t)}var k=function(t){var header={},e={},data={},n="";try{var r=t.split(".");header=T(f(r[0])||""),e=T(f(r[1])||""),n=r[2],data=e.d||{},delete e.d}catch(t){}return{header:header,claims:e,data:data,signature:n}},x=function(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])},C=function(t,e){return x(e,function(e,n){t[e]=n}),t},I=function(t,e,n){for(var r in t)if(e.call(n,t[r],r,t))return r},O=function(t){function e(){var e=t.call(this)||this;e.chain_=[],e.buf_=[],e.W_=[],e.pad_=[],e.inbuf_=0,e.total_=0,e.blockSize=64,e.pad_[0]=128;for(var i=1;i<e.blockSize;++i)e.pad_[i]=0;return e.reset(),e}return r.__extends(e,t),e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var i=0;i<16;i++)n[i]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(i=0;i<16;i++)n[i]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(i=16;i<80;i++){var r=n[i-3]^n[i-8]^n[i-14]^n[i-16];n[i]=4294967295&(r<<1|r>>>31)}var o,l,a=this.chain_[0],b=this.chain_[1],c=this.chain_[2],d=this.chain_[3],h=this.chain_[4];for(i=0;i<80;i++){i<40?i<20?(o=d^b&(c^d),l=1518500249):(o=b^c^d,l=1859775393):i<60?(o=b&c|d&(b|c),l=2400959708):(o=b^c^d,l=3395469782);r=(a<<5|a>>>27)+o+h+l+n[i]&4294967295;h=d,d=c,c=4294967295&(b<<30|b>>>2),b=a,a=r}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+b&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+d&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,o=this.buf_,l=this.inbuf_;r<e;){if(0==l)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(o[l]=t.charCodeAt(r),++r,++l==this.blockSize){this.compress_(o),l=0;break}}else for(;r<e;)if(o[l]=t[r],++r,++l==this.blockSize){this.compress_(o),l=0;break}}this.inbuf_=l,this.total_+=e}},e.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&e,e/=256;this.compress_(this.buf_);var n=0;for(i=0;i<5;i++)for(var r=24;r>=0;r-=8)t[n]=this.chain_[i]>>r&255,++n;return t},e}(function(){return function(){this.blockSize=-1}}());var A=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,o=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var o=r[n];if(o in t&&"function"==typeof t[o])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=N),void 0===r.error&&(r.error=N),void 0===r.complete&&(r.complete=N);var l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?r.error(o.finalError):r.complete()}catch(t){}}),this.observers.push(r),l},t.prototype.unsubscribeOne=function(i){void 0!==this.observers&&void 0!==this.observers[i]&&(delete this.observers[i],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var i=0;i<this.observers.length;i++)this.sendOne(i,t)},t.prototype.sendOne=function(i,t){var e=this;this.task.then(function(){if(void 0!==e.observers&&void 0!==e.observers[i])try{t(e.observers[i])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function N(){}function D(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var o=t+" failed: ";return o+=r+" argument "}e.assert=l,e.assertionError=c,e.base64=h,e.base64Decode=f,e.base64Encode=function(t){var e=d(t);return h.encodeByteArray(e,!0)},e.CONSTANTS=o,e.deepCopy=function(t){return m(void 0,t)},e.deepExtend=m,e.patchProperty=function(t,e,n){t[e]=n},e.Deferred=v,e.getUA=y,e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(y())},e.isNodeSdk=function(){return!0===o.NODE_CLIENT||!0===o.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.ErrorFactory=E,e.FirebaseError=S,e.patchCapture=function(t){var e=_;return _=t,e},e.jsonEval=T,e.stringify=function(data){return JSON.stringify(data)},e.decode=k,e.isAdmin=function(t){var e=k(t).claims;return"object"==typeof e&&!0===e.admin},e.issuedAtTime=function(t){var e=k(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.isValidFormat=function(t){var e=k(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e,n,r=k(t).claims,o=Math.floor((new Date).getTime()/1e3);return"object"==typeof r&&(r.hasOwnProperty("nbf")?e=r.nbf:r.hasOwnProperty("iat")&&(e=r.iat),n=r.hasOwnProperty("exp")?r.exp:e+86400),o&&e&&n&&o>=e&&o<=n},e.clone=function(t){return C({},t)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.every=function(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&!e(n,t[n]))return!1;return!0},e.extend=C,e.findKey=I,e.findValue=function(t,e,n){var r=I(t,e,n);return r&&t[r]},e.forEach=x,e.getAnyKey=function(t){for(var e in t)return e},e.getCount=function(t){var e=0;for(var n in t)e++;return e},e.getValues=function(t){var e=[],i=0;for(var n in t)e[i++]=t[n];return e},e.isEmpty=function(t){for(var e in t)return!1;return!0},e.isNonNullObject=function(t){return"object"==typeof t&&null!==t},e.map=function(t,e,n){var r={};for(var o in t)r[o]=e.call(n,t[o],o,t);return r},e.safeGet=function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]},e.querystring=function(t){var e=[];return x(t,function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}),e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach(function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}}),e},e.Sha1=O,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){t.apply(void 0,n)}).catch(function(t){e&&e(t)})}},e.createSubscribe=function(t,e){var n=new A(t,e);return n.subscribe.bind(n)},e.errorPrefix=D,e.validateArgCount=function(t,e,n,r){var o;if(r<e?o="at least "+e:r>n&&(o=0===n?"none":"no more than "+n),o)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+o+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(D(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(D(t,e,r)+"must be a valid context object.")},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(D(t,e,r)+"must be a valid firebase namespace.")},e.stringLength=function(t){for(var p=0,i=0;i<t.length;i++){var e=t.charCodeAt(i);e<128?p++:e<2048?p+=2:e>=55296&&e<=56319?(p+=4,i++):p+=3}return p},e.stringToByteArray=function(t){for(var e=[],p=0,i=0;i<t.length;i++){var n=t.charCodeAt(i);if(n>=55296&&n<=56319){var r=n-55296;l(++i<t.length,"Surrogate pair missing trail surrogate."),n=65536+(r<<10)+(t.charCodeAt(i)-56320)}n<128?e[p++]=n:n<2048?(e[p++]=n>>6|192,e[p++]=63&n|128):n<65536?(e[p++]=n>>12|224,e[p++]=n>>6&63|128,e[p++]=63&n|128):(e[p++]=n>>18|240,e[p++]=n>>12&63|128,e[p++]=n>>6&63|128,e[p++]=63&n|128)}return e}},function(t,e,n){"use strict";var r=n(465),o=n(476);t.exports=o(r,"Browser")},function(t,e,n){var r=n(244),o=n(164),l=n(165);function c(t,e){this.indexName=e,this.as=t,this.typeAheadArgs=null,this.typeAheadValueOption=null,this.cache={}}t.exports=c,c.prototype.clearCache=function(){this.cache={}},c.prototype.search=r("query"),c.prototype.similarSearch=o(r("similarQuery"),l("index.similarSearch(query[, callback])","index.search({ similarQuery: query }[, callback])")),c.prototype.browse=function(t,e,r){var o,l,c=n(245);0===arguments.length||1===arguments.length&&"function"==typeof arguments[0]?(o=0,r=arguments[0],t=void 0):"number"==typeof arguments[0]?(o=arguments[0],"number"==typeof arguments[1]?l=arguments[1]:"function"==typeof arguments[1]&&(r=arguments[1],l=void 0),t=void 0,e=void 0):"object"==typeof arguments[0]?("function"==typeof arguments[1]&&(r=arguments[1]),e=arguments[0],t=void 0):"string"==typeof arguments[0]&&"function"==typeof arguments[1]&&(r=arguments[1],e=void 0),e=c({},e||{},{page:o,hitsPerPage:l,query:t});var d=this.as._getSearchParams(e,"");return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/browse",body:{params:d},hostType:"read",callback:r})},c.prototype.browseFrom=function(cursor,t){return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/browse",body:{cursor:cursor},hostType:"read",callback:t})},c.prototype.searchForFacetValues=function(t,e){var r=n(45),o=n(246);if(void 0===t.facetName||void 0===t.facetQuery)throw new Error("Usage: index.searchForFacetValues({facetName, facetQuery, ...params}[, callback])");var l=t.facetName,c=o(r(t),function(t){return"facetName"===t}),d=this.as._getSearchParams(c,"");return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/facets/"+encodeURIComponent(l)+"/query",hostType:"read",body:{params:d},callback:e})},c.prototype.searchFacet=o(function(t,e){return this.searchForFacetValues(t,e)},l("index.searchFacet(params[, callback])","index.searchForFacetValues(params[, callback])")),c.prototype._search=function(t,e,n,r){return this.as._jsonRequest({cache:this.cache,method:"POST",url:e||"/1/indexes/"+encodeURIComponent(this.indexName)+"/query",body:{params:t},hostType:"read",fallback:{method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName),body:{params:t}},callback:n,additionalUA:r})},c.prototype.getObject=function(t,e,n){1!==arguments.length&&"function"!=typeof e||(n=e,e=void 0);var r="";if(void 0!==e){r="?attributes=";for(var i=0;i<e.length;++i)0!==i&&(r+=","),r+=e[i]}return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/"+encodeURIComponent(t)+r,hostType:"read",callback:n})},c.prototype.getObjects=function(t,e,r){var o=n(22),map=n(70);if(!o(t))throw new Error("Usage: index.getObjects(arrayOfObjectIDs[, callback])");var l=this;1!==arguments.length&&"function"!=typeof e||(r=e,e=void 0);var body={requests:map(t,function(t){var n={indexName:l.indexName,objectID:t};return e&&(n.attributesToRetrieve=e.join(",")),n})};return this.as._jsonRequest({method:"POST",url:"/1/indexes/*/objects",hostType:"read",body:body,callback:r})},c.prototype.as=null,c.prototype.indexName=null,c.prototype.typeAheadArgs=null,c.prototype.typeAheadValueOption=null},function(t,e,n){t.exports=function(t,e){return function(n,o,l){if("function"==typeof n&&"object"==typeof o||"object"==typeof l)throw new r.AlgoliaSearchError("index.search usage is index.search(query, params, cb)");0===arguments.length||"function"==typeof n?(l=n,n=""):1!==arguments.length&&"function"!=typeof o||(l=o,o=void 0),"object"==typeof n&&null!==n?(o=n,n=void 0):null==n&&(n="");var c,d="";return void 0!==n&&(d+=t+"="+encodeURIComponent(n)),void 0!==o&&(o.additionalUA&&(c=o.additionalUA,delete o.additionalUA),d=this.as._getSearchParams(o,d)),this._search(d,e,l,c)}};var r=n(68)},function(t,e,n){var r=n(69);t.exports=function t(e){var n=Array.prototype.slice.call(arguments);return r(n,function(source){for(var n in source)source.hasOwnProperty(n)&&("object"==typeof e[n]&&"object"==typeof source[n]?e[n]=t({},e[n],source[n]):void 0!==source[n]&&(e[n]=source[n]))}),e}},function(t,e,n){t.exports=function(t,e){var r=n(467),o=n(69),l={};return o(r(t),function(n){!0!==e(n)&&(l[n]=t[n])}),l}},function(t,e){t.exports=function(t,e){e(t,0)}},function(t,e,n){"use strict";var r=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,n,c){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?map(l(t),function(l){var c=encodeURIComponent(r(l))+n;return o(t[l])?map(t[l],function(t){return c+encodeURIComponent(r(t))}).join(e):c+encodeURIComponent(r(t[l]))}).join(e):c?encodeURIComponent(r(c))+n+encodeURIComponent(r(t)):""};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function map(t,e){if(t.map)return t.map(e);for(var n=[],i=0;i<t.length;i++)n.push(e(t[i],i));return n}var l=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=function(t){return t};e.default=r},function(t,e,n){"use strict";e.__esModule=!0,e.computeHref=e.computeRel=e.computeTag=e.isRouterLink=e.parseQuery=e.stringifyQueryObj=void 0;var r=n(7),o=n(5),l=n(87),c=/%2C/g,d=/[!'()*]/g,h=function(t){return"%"+t.charCodeAt(0).toString(16)},f=function(t){return encodeURIComponent((0,l.default)(t)).replace(d,h).replace(c,",")},m=decodeURIComponent,v=function(t){if(!(0,r.isPlainObject)(t))return"";var e=(0,r.keys)(t).map(function(e){var n=t[e];return void 0===n?"":null===n?f(e):(0,o.isArray)(n)?n.reduce(function(t,n){return null===n?t.push(f(e)):void 0!==n&&t.push(f(e)+"="+f(n)),t},[]).join("&"):f(e)+"="+f(n)}).filter(function(t){return t.length>0}).join("&");return e?"?".concat(e):""};e.stringifyQueryObj=v;e.parseQuery=function(t){var e={};return(t=(0,l.default)(t).trim().replace(/^(\?|#|&)/,""))?(t.split("&").forEach(function(param){var t=param.replace(/\+/g," ").split("="),n=m(t.shift()),r=t.length>0?m(t.join("=")):null;void 0===e[n]?e[n]=r:(0,o.isArray)(e[n])?e[n].push(r):e[n]=[e[n],r]}),e):e};var y=function(t){return"a"!==t};e.isRouterLink=y;e.computeTag=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.to,n=t.disabled,r=arguments.length>1?arguments[1]:void 0;return r.$router&&e&&!n?r.$nuxt?"nuxt-link":"router-link":"a"};e.computeRel=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.target,n=t.rel;return"_blank"===e&&null===n?"noopener":n||null};e.computeHref=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.href,n=t.to,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"a",c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#",d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"/";if(y(o))return null;if(e)return e;if(n){if("string"==typeof n)return n||d;if((0,r.isPlainObject)(n)&&(n.path||n.query||n.hash)){var path=(0,l.default)(n.path),h=v(n.query),f=(0,l.default)(n.hash);return f=f&&"#"!==f.charAt(0)?"#".concat(f):f,"".concat(path).concat(h).concat(f)||d}}return c}},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(2),o=n(252),l={name:"BBreadcrumbItem",functional:!0,props:o.props,render:function(t,e){var n=e.props,data=e.data,l=e.children;return t("li",(0,r.mergeData)(data,{staticClass:"breadcrumb-item",class:{active:n.active},attrs:{role:"presentation"}}),[t(o.default,{props:n},l)])}};e.default=l},function(t,e,n){"use strict";e.__esModule=!0,e.default=e.props=void 0;var r=n(2),o=n(57),l=n(32),c=n(10);function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var h=function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},e=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(source).filter(function(t){return Object.getOwnPropertyDescriptor(source,t).enumerable}))),e.forEach(function(e){d(t,e,source[e])})}return t}({},(0,l.propsFactory)(),{text:{type:String,default:null},html:{type:String,default:null},ariaCurrent:{type:String,default:"location"}});e.props=h;var f={name:"BBreadcrumbLink",functional:!0,props:h,render:function(t,e){var n=e.props,data=e.data,d=e.children,f=n.active?"span":l.default,m={props:(0,o.default)(h,n)};return n.active&&(m.attrs={"aria-current":n.ariaCurrent}),d||(m.domProps=(0,c.htmlOrText)(n.html,n.text)),t(f,(0,r.mergeData)(data,m),d)}};e.default=f},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(2),o=n(169);function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},e=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(source).filter(function(t){return Object.getOwnPropertyDescriptor(source,t).enumerable}))),e.forEach(function(e){c(t,e,source[e])})}return t}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d={name:"BInputGroupPrepend",functional:!0,props:o.commonProps,render:function(t,e){var n=e.props,data=e.data,c=e.children;return t(o.default,(0,r.mergeData)(data,{props:l({},n,{append:!1})}),c)}};e.default=d},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(2),o=n(169);function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},e=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(source).filter(function(t){return Object.getOwnPropertyDescriptor(source,t).enumerable}))),e.forEach(function(e){c(t,e,source[e])})}return t}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d={name:"BInputGroupAppend",functional:!0,props:o.commonProps,render:function(t,e){var n=e.props,data=e.data,c=e.children;return t(o.default,(0,r.mergeData)(data,{props:l({},n,{append:!0})}),c)}};e.default=d},function(t,e,n){"use strict";e.__esModule=!0,e.default=e.props=void 0;var r=n(2),o=n(115),l=n(116),c=n(57),d=n(117),h=n(256),f=n(257);function m(t){return function(t){if(Array.isArray(t)){for(var i=0,e=new Array(t.length);i<t.length;i++)e[i]=t[i];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var y=function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},e=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(source).filter(function(t){return Object.getOwnPropertyDescriptor(source,t).enumerable}))),e.forEach(function(e){v(t,e,source[e])})}return t}({},(0,l.default)(d.default.props,o.default.bind(null,"body")),{bodyClass:{type:[String,Object,Array],default:null}},h.props,f.props,{overlay:{type:Boolean,default:!1}});e.props=y;var w={name:"BCardBody",functional:!0,props:y,render:function(t,e){var n,o=e.props,data=e.data,l=e.children,d=t(!1),y=t(!1),w=l||[t(!1)];return o.title&&(d=t(h.default,{props:(0,c.default)(h.props,o)})),o.subTitle&&(y=t(f.default,{props:(0,c.default)(f.props,o),class:["mb-2"]})),t(o.bodyTag,(0,r.mergeData)(data,{staticClass:"card-body",class:[(n={"card-img-overlay":o.overlay},v(n,"bg-".concat(o.bodyBgVariant),Boolean(o.bodyBgVariant)),v(n,"border-".concat(o.bodyBorderVariant),Boolean(o.bodyBorderVariant)),v(n,"text-".concat(o.bodyTextVariant),Boolean(o.bodyTextVariant)),n),o.bodyClass||{}]}),[d,y].concat(m(w)))}};e.default=w},function(t,e,n){"use strict";e.__esModule=!0,e.default=e.props=void 0;var r=n(2),o={title:{type:String,default:""},titleTag:{type:String,default:"h4"}};e.props=o;var l={name:"BCardTitle",functional:!0,props:o,render:function(t,e){var n=e.props,data=e.data,o=e.children;return t(n.titleTag,(0,r.mergeData)(data,{staticClass:"card-title"}),o||n.title)}};e.default=l},function(t,e,n){"use strict";e.__esModule=!0,e.default=e.props=void 0;var r=n(2),o=n(16),l="BCardSubTitle",c={subTitle:{type:String,default:""},subTitleTag:{type:String,default:"h6"},subTitleTextVariant:{type:String,default:function(){return(0,o.getComponentConfig)(l,"subTitleTextVariant")}}};e.props=c;var d={name:l,functional:!0,props:c,render:function(t,e){var n=e.props,data=e.data,o=e.children;return t(n.subTitleTag,(0,r.mergeData)(data,{staticClass:"card-subtitle",class:[n.subTitleTextVariant?"text-".concat(n.subTitleTextVariant):null]}),o||n.subTitle)}};e.default=d},function(t,e,n){"use strict";e.__esModule=!0,e.default=e.props=void 0;var r=n(2),o=n(115),l=n(116),c=n(10),d=n(117);function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var f=function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},e=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(source).filter(function(t){return Object.getOwnPropertyDescriptor(source,t).enumerable}))),e.forEach(function(e){h(t,e,source[e])})}return t}({},(0,l.default)(d.default.props,o.default.bind(null,"header")),{header:{type:String,default:null},headerHtml:{type:String,default:null},headerClass:{type:[String,Object,Array],default:null}});e.props=f;var m={name:"BCardHeader",functional:!0,props:f,render:function(t,e){var n,o=e.props,data=e.data,l=e.children;return t(o.headerTag,(0,r.mergeData)(data,{staticClass:"card-header",class:[o.headerClass,(n={},h(n,"bg-".concat(o.headerBgVariant),Boolean(o.headerBgVariant)),h(n,"border-".concat(o.headerBorderVariant),Boolean(o.headerBorderVariant)),h(n,"text-".concat(o.headerTextVariant),Boolean(o.headerTextVariant)),n)]}),l||[t("div",{domProps:(0,c.htmlOrText)(o.headerHtml,o.header)})])}};e.default=m},function(t,e,n){"use strict";e.__esModule=!0,e.default=e.props=void 0;var r=n(2),o=n(115),l=n(116),c=n(10),d=n(117);function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var f=function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},e=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(source).filter(function(t){return Object.getOwnPropertyDescriptor(source,t).enumerable}))),e.forEach(function(e){h(t,e,source[e])})}return t}({},(0,l.default)(d.default.props,o.default.bind(null,"footer")),{footer:{type:String,default:null},footerHtml:{type:String,default:null},footerClass:{type:[String,Object,Array],default:null}});e.props=f;var m={name:"BCardFooter",functional:!0,props:f,render:function(t,e){var n,o=e.props,data=e.data,l=e.children;return t(o.footerTag,(0,r.mergeData)(data,{staticClass:"card-footer",class:[o.footerClass,(n={},h(n,"bg-".concat(o.footerBgVariant),Boolean(o.footerBgVariant)),h(n,"border-".concat(o.footerBorderVariant),Boolean(o.footerBorderVariant)),h(n,"text-".concat(o.footerTextVariant),Boolean(o.footerTextVariant)),n)]}),l||[t("div",{domProps:(0,c.htmlOrText)(o.footerHtml,o.footer)})])}};e.default=m},function(t,e,n){"use strict";e.__esModule=!0,e.default=e.props=void 0;var r=n(2),o={src:{type:String,default:null,required:!0},alt:{type:String,default:null},top:{type:Boolean,default:!1},bottom:{type:Boolean,default:!1},left:{type:Boolean,default:!1},start:{type:Boolean,default:!1},right:{type:Boolean,default:!1},end:{type:Boolean,default:!1},height:{type:String,default:null},width:{type:String,default:null}};e.props=o;var l={name:"BCardImg",functional:!0,props:o,render:function(t,e){var n=e.props,data=e.data,o="card-img";return n.top?o+="-top":n.right||n.end?o+="-right":n.bottom?o+="-bottom":(n.left||n.start)&&(o+="-left"),t("img",(0,r.mergeData)(data,{class:[o],attrs:{src:n.src,alt:n.alt,height:n.height,width:n.width}}))}};e.default=l},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(172),o=n(6),l=n(16),c={passive:!0,capture:!1},d={name:"BImgLazy",components:{BImg:r.default},props:{src:{type:String,default:null,required:!0},alt:{type:String,default:null},width:{type:[Number,String],default:null},height:{type:[Number,String],default:null},blankSrc:{type:String,default:null},blankColor:{type:String,default:function(){return(0,l.getComponentConfig)("BImgLazy","blankColor")}},blankWidth:{type:[Number,String],default:null},blankHeight:{type:[Number,String],default:null},show:{type:Boolean,default:!1},fluid:{type:Boolean,default:!1},fluidGrow:{type:Boolean,default:!1},block:{type:Boolean,default:!1},thumbnail:{type:Boolean,default:!1},rounded:{type:[Boolean,String],default:!1},left:{type:Boolean,default:!1},right:{type:Boolean,default:!1},center:{type:Boolean,default:!1},offset:{type:[Number,String],default:360},throttle:{type:[Number,String],default:100}},data:function(){return{isShown:!1,scrollTimeout:null}},computed:{computedSrc:function(){return!this.blankSrc||this.isShown?this.src:this.blankSrc},computedBlank:function(){return!(this.isShown||this.blankSrc)},computedWidth:function(){return this.isShown?this.width:this.blankWidth||this.width},computedHeight:function(){return this.isShown?this.height:this.blankHeight||this.height}},watch:{show:function(t,e){t!==e&&(this.isShown=t,t||this.setListeners(!0))},isShown:function(t,e){t!==e&&this.$emit("update:show",t)}},created:function(){this.isShown=this.show},mounted:function(){this.isShown?this.setListeners(!1):(this.setListeners(!0),this.$nextTick(this.checkView))},activated:function(){this.isShown||(this.setListeners(!0),this.$nextTick(this.checkView))},deactivated:function(){this.setListeners(!1)},beforeDestroy:function(){this.setListeners(!1)},methods:{setListeners:function(t){this.scrollTimeout&&(clearTimeout(this.scrollTimeout),this.scrollTimeout=null);var e=window;t?((0,o.eventOn)(this.$el,"load",this.checkView),(0,o.eventOn)(e,"scroll",this.onScroll,c),(0,o.eventOn)(e,"resize",this.onScroll,c),(0,o.eventOn)(e,"orientationchange",this.onScroll,c),(0,o.eventOn)(document,"transitionend",this.onScroll,c)):((0,o.eventOff)(this.$el,"load",this.checkView),(0,o.eventOff)(e,"scroll",this.onScroll,c),(0,o.eventOff)(e,"resize",this.onScroll,c),(0,o.eventOff)(e,"orientationchange",this.onScroll,c),(0,o.eventOff)(document,"transitionend",this.onScroll,c))},checkView:function(){if(this.isShown)this.setListeners(!1);else{var t=parseInt(this.offset,10)||0,e=document.documentElement,n=0-t,r=0-t,l=e.clientHeight+t,c=e.clientWidth+t,d=(0,o.getBCR)(this.$el);d.right>=n&&d.bottom>=r&&d.left<=c&&d.top<=l&&(this.isShown=!0,this.setListeners(!1))}},onScroll:function(){this.isShown?this.setListeners(!1):(clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout(this.checkView,parseInt(this.throttle,10)||100))}},render:function(t){return t("b-img",{props:{src:this.computedSrc,alt:this.alt,blank:this.computedBlank,blankColor:this.blankColor,width:this.computedWidth,height:this.computedHeight,fluid:this.fluid,fluidGrow:this.fluidGrow,block:this.block,thumbnail:this.thumbnail,rounded:this.rounded,left:this.left,right:this.right,center:this.center}})}};e.default=d},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=function(){};e.default=r},function(t,e,n){"use strict";e.__esModule=!0,e.default=e.props=void 0;var r=n(2),o={tag:{type:String,default:"div"},fluid:{type:Boolean,default:!1}};e.props=o;var l={name:"BContainer",functional:!0,props:o,render:function(t,e){var n=e.props,data=e.data,o=e.children;return t(n.tag,(0,r.mergeData)(data,{class:{container:!n.fluid,"container-fluid":n.fluid}}),o)}};e.default=l},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(2),o=n(265),l=n(513),c=n(7),d=n(5),h=n(16);function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},e=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(source).filter(function(t){return Object.getOwnPropertyDescriptor(source,t).enumerable}))),e.forEach(function(e){m(t,e,source[e])})}return t}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v(){return{type:[String,Number],default:null}}e.default=function(t,e){var n=(0,h.getBreakpointsUp)().filter(Boolean),y=(0,o.default)(function(t,e,n){var r=t;if(!1!==n&&null!=n)return e&&(r+="-".concat(e)),"col"!==t||""!==n&&!0!==n?(r+="-".concat(n)).toLowerCase():r.toLowerCase()}),w=n.reduce(function(t,e){return e&&(t[e]={type:[Boolean,String,Number],default:!1}),t},(0,c.create)(null)),_=n.reduce(function(t,e){return t[(0,l.default)(e,"offset")]=v(),t},(0,c.create)(null)),S=n.reduce(function(t,e){return t[(0,l.default)(e,"order")]=v(),t},(0,c.create)(null)),E=(0,c.assign)((0,c.create)(null),{col:(0,c.keys)(w),offset:(0,c.keys)(_),order:(0,c.keys)(S)});t({name:"BCol",functional:!0,props:f({col:{type:Boolean,default:!1},cols:v()},w,{offset:v()},_,{order:v()},S,{alignSelf:{type:String,default:null,validator:function(t){return(0,d.arrayIncludes)(["auto","start","end","center","baseline","stretch"],t)}},tag:{type:String,default:"div"}}),render:function(t,e){var n,o=e.props,data=e.data,l=e.children,c=[];for(var d in E)for(var h=E[d],i=0;i<h.length;i++){var f=y(d,h[i].replace(d,""),o[h[i]]);f&&c.push(f)}return c.push((m(n={col:o.col||0===c.length&&!o.cols},"col-".concat(o.cols),o.cols),m(n,"offset-".concat(o.offset),o.offset),m(n,"order-".concat(o.order),o.order),m(n,"align-self-".concat(o.alignSelf),o.alignSelf),n)),t(o.tag,(0,r.mergeData)(data,{class:c}),l)}})}},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(7),o=function(t){var e=(0,r.create)(null);return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var l=JSON.stringify(r);return e[l]=e[l]||t.apply(null,r)}};e.default=o},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(514),o=n(267),l=n(3),c={BCollapse:r.default},d={BToggleDirectivePlugin:o.default},h={install:(0,l.installFactory)({components:c,plugins:d})};e.default=h},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(515),o=n(3),l={BToggle:r.default},c={install:(0,o.installFactory)({directives:l})};e.default=c},function(t,e,n){"use strict";e.__esModule=!0,e.default=e.unbindTargets=e.bindTargets=void 0;var r=n(7),o=n(6),l={hover:!0,click:!0,focus:!0},c="__BV_boundEventListeners__",d=function(t,e,n,d){var h=(0,r.keys)(e.modifiers||{}).filter(function(t){return!l[t]});e.value&&h.push(e.value);var f=function(){d({targets:h,vnode:t})};return(0,r.keys)(l).forEach(function(r){if(n[r]||e.modifiers[r]){(0,o.eventOn)(t.elm,r,f);var l=t.elm[c]||{};l[r]=l[r]||[],l[r].push(f),t.elm[c]=l}}),h};e.bindTargets=d;e.unbindTargets=function(t,e,n){(0,r.keys)(l).forEach(function(r){if(n[r]||e.modifiers[r]){var l=t.elm[c]&&t.elm[c][r];l&&(l.forEach(function(e){return(0,o.eventOff)(t.elm,r,e)}),delete t.elm[c][r])}})};var h=d;e.default=h},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(119),o=n(517),l=n(518),c=n(46),d=n(175),h=n(20),f=n(6);function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var v=".dropdown-item:not(.disabled):not([disabled])",y="top-start",w="top-end",_="bottom-start",S="bottom-end",E="right-start",T="left-start",k={mixins:[o.default,l.default],provide:function(){return{bvDropdown:this}},props:{disabled:{type:Boolean,default:!1},text:{type:String,default:""},html:{type:String},dropup:{type:Boolean,default:!1},dropright:{type:Boolean,default:!1},dropleft:{type:Boolean,default:!1},right:{type:Boolean,default:!1},offset:{type:[Number,String],default:0},noFlip:{type:Boolean,default:!1},popperOpts:{default:function(){}}},data:function(){return{visible:!1,inNavbar:null,visibleChangePrevented:!1}},computed:{toggler:function(){var t=this.$refs.toggle;return t?t.$el||t:null}},watch:{visible:function(t,e){if(this.visibleChangePrevented)this.visibleChangePrevented=!1;else if(t!==e){var n=t?"show":"hide",r=new d.default(n,{cancelable:!0,vueTarget:this,target:this.$refs.menu,relatedTarget:null});if(this.emitEvent(r),r.defaultPrevented)return this.visibleChangePrevented=!0,this.visible=e,void this.$off("hidden",this.focusToggler);"show"===n?this.showMenu():this.hideMenu()}},disabled:function(t,e){t!==e&&t&&this.visible&&(this.visible=!1)}},created:function(){this._popper=null},deactivated:function(){this.visible=!1,this.whileOpenListen(!1),this.removePopper()},beforeDestroy:function(){this.visible=!1,this.whileOpenListen(!1),this.removePopper()},methods:{emitEvent:function(t){var e=t.type;this.$emit(e,t),this.$root.$emit("bv::dropdown::".concat(e),t)},showMenu:function(){var t=this;if(!this.disabled){if(this.$root.$emit("bv::dropdown::shown",this),null===this.inNavbar&&this.isNav&&(this.inNavbar=Boolean((0,f.closest)(".navbar",this.$el))),!this.inNavbar)if(void 0===r.default)(0,h.default)("b-dropdown: Popper.js not found. Falling back to CSS positioning.");else{var element=this.dropup&&this.right||this.split?this.$el:this.$refs.toggle;element=element.$el||element,this.createPopper(element)}this.whileOpenListen(!0),this.$nextTick(function(){t.focusMenu(),t.$emit("shown")})}},hideMenu:function(){this.whileOpenListen(!1),this.$root.$emit("bv::dropdown::hidden",this),this.$emit("hidden"),this.removePopper()},createPopper:function(element){this.removePopper(),this._popper=new r.default(element,this.$refs.menu,this.getPopperConfig())},removePopper:function(){this._popper&&this._popper.destroy(),this._popper=null},getPopperConfig:function(){var t=_;this.dropup?t=this.right?w:y:this.dropright?t=E:this.dropleft?t=T:this.right&&(t=S);var e={placement:t,modifiers:{offset:{offset:this.offset||0},flip:{enabled:!this.noFlip}}};return this.boundary&&(e.modifiers.preventOverflow={boundariesElement:this.boundary}),function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},e=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(source).filter(function(t){return Object.getOwnPropertyDescriptor(source,t).enumerable}))),e.forEach(function(e){m(t,e,source[e])})}return t}({},e,this.popperOpts||{})},whileOpenListen:function(t){t?(this.$root.$on("bv::dropdown::shown",this.rootCloseListener),this.listenForClickOut=!0,this.listenForFocusIn=!0):(this.$root.$off("bv::dropdown::shown",this.rootCloseListener),this.listenForClickOut=!1,this.listenForFocusIn=!1)},rootCloseListener:function(t){t!==this&&(this.visible=!1)},show:function(){this.disabled||(this.visible=!0)},hide:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.disabled||(this.visible=!1,t&&this.$once("hidden",this.focusToggler))},toggle:function(t){var e=(t=t||{}).type,n=t.keyCode;"click"!==e&&("keydown"!==e||n!==c.default.ENTER&&n!==c.default.SPACE&&n!==c.default.DOWN)||(this.disabled?this.visible=!1:(this.$emit("toggle",t),t.defaultPrevented||(t.preventDefault(),t.stopPropagation(),this.visible=!this.visible)))},click:function(t){this.disabled?this.visible=!1:this.$emit("click",t)},onKeydown:function(t){var e=t.keyCode;e===c.default.ESC?this.onEsc(t):e===c.default.TAB?this.onTab(t):e===c.default.DOWN?this.focusNext(t,!1):e===c.default.UP&&this.focusNext(t,!0)},onEsc:function(t){this.visible&&(this.visible=!1,t.preventDefault(),t.stopPropagation(),this.$once("hidden",this.focusToggler))},onTab:function(t){},onMouseOver:function(t){},clickOutHandler:function(){this.visible&&(this.visible=!1)},focusInHandler:function(t){!this.visible||(0,f.contains)(this.$refs.menu,t.target)||(0,f.contains)(this.$refs.toggle,t.target)||(this.visible=!1)},focusNext:function(t,e){var n=this;this.visible&&(t.preventDefault(),t.stopPropagation(),this.$nextTick(function(){var r=n.getItems();if(!(r.length<1)){var o=r.indexOf(t.target);e&&o>0?o--:!e&&o<r.length-1&&o++,o<0&&(o=0),n.focusItem(o,r)}}))},focusItem:function(t,e){var n=e.find(function(e,i){return i===t});n&&"-1"!==(0,f.getAttr)(n,"tabindex")&&n.focus()},getItems:function(){return((0,f.selectAll)(v,this.$refs.menu)||[]).filter(f.isVisible)},focusMenu:function(){this.$refs.menu.focus&&this.$refs.menu.focus()},focusToggler:function(){var t=this.toggler;t&&t.focus&&t.focus()}}};e.default=k},function(t,e,n){"use strict";e.__esModule=!0,e.default=e.props=void 0;var r=n(2),o=n(16);var l={id:{type:String,default:null},tag:{type:String,default:"small"},textVariant:{type:String,default:function(){return(0,o.getComponentConfig)("BFormText","textVariant")}},inline:{type:Boolean,default:!1}};e.props=l;var c={name:"BFormText",functional:!0,props:l,render:function(t,e){var n,o,l,c=e.props,data=e.data,d=e.children;return t(c.tag,(0,r.mergeData)(data,{class:(n={"form-text":!c.inline},o="text-".concat(c.textVariant),l=Boolean(c.textVariant),o in n?Object.defineProperty(n,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):n[o]=l,n),attrs:{id:c.id}}),d)}};e.default=c},function(t,e,n){"use strict";e.__esModule=!0,e.default=e.props=void 0;var r=n(2),o={id:{type:String,default:null},tag:{type:String,default:"div"},tooltip:{type:Boolean,default:!1},forceShow:{type:Boolean,default:!1},state:{type:[Boolean,String],default:null}};e.props=o;var l={name:"BFormInvalidFeedback",functional:!0,props:o,render:function(t,e){var n=e.props,data=e.data,o=e.children,l=!0===n.forceShow||!1===n.state||"invalid"===n.state;return t(n.tag,(0,r.mergeData)(data,{class:{"invalid-feedback":!n.tooltip,"invalid-tooltip":n.tooltip,"d-block":l},attrs:{id:n.id}}),o)}};e.default=l},function(t,e,n){"use strict";e.__esModule=!0,e.default=e.props=void 0;var r=n(2),o={id:{type:String,default:null},tag:{type:String,default:"div"},tooltip:{type:Boolean,default:!1},forceShow:{type:Boolean,default:!1},state:{type:[Boolean,String],default:null}};e.props=o;var l={name:"BFormValidFeedback",functional:!0,props:o,render:function(t,e){var n=e.props,data=e.data,o=e.children,l=!0===n.forceShow||!0===n.state||"valid"===n.state;return t(n.tag,(0,r.mergeData)(data,{class:{"valid-feedback":!n.tooltip,"valid-tooltip":n.tooltip,"d-block":l},attrs:{id:n.id}}),o)}};e.default=l},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(11),o=n(274),l=n(47),c=n(58),d=n(38),h=n(5),f=n(48),m=n(533),v={name:"BFormCheckbox",mixins:[o.default,r.default,l.default,c.default,d.default],inject:{bvGroup:{from:"bvCheckGroup",default:!1}},props:{value:{default:!0},uncheckedValue:{default:!1},indeterminate:{type:Boolean,default:!1},switch:{type:Boolean,default:!1},checked:{type:[String,Number,Object,Array,Boolean],default:null}},computed:{is_Checked:function(){var t=this.computedLocalChecked,e=this.value;return(0,h.isArray)(t)?(0,m.default)(t,e)>-1:(0,f.default)(t,e)},is_Radio:function(){return!1},is_Check:function(){return!0}},watch:{computedLocalChecked:function(t,e){this.$emit("input",t),this.$refs&&this.$refs.input&&this.$emit("update:indeterminate",this.$refs.input.indeterminate)},indeterminate:function(t,e){this.setIndeterminate(t)}},mounted:function(){this.setIndeterminate(this.indeterminate)},methods:{handleChange:function(t){var e=t.target,n=e.checked,r=e.indeterminate,o=this.computedLocalChecked,l=this.value,c=(0,h.isArray)(o),d=c?null:this.uncheckedValue;if(c){var f=(0,m.default)(o,l);n&&f<0?o=o.concat(l):!n&&f>-1&&(o=o.slice(0,f).concat(o.slice(f+1)))}else o=n?l:d;this.computedLocalChecked=o,this.$emit("change",n?l:d),this.is_Group&&this.bvGroup.$emit("change",o),this.$emit("update:indeterminate",r)},setIndeterminate:function(t){(0,h.isArray)(this.computedLocalChecked)&&(t=!1),this.$refs&&this.$refs.input&&(this.$refs.input.indeterminate=t,this.$emit("update:indeterminate",t))}}};e.default=v},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r={model:{prop:"checked",event:"input"},props:{value:{},checked:{},inline:{type:Boolean,default:!1},plain:{type:Boolean,default:!1},button:{type:Boolean,default:!1},buttonVariant:{type:String,default:null},ariaLabel:{type:String,default:null}},data:function(){return{localChecked:this.is_Group?this.bvGroup.checked:this.checked,hasFocus:!1}},computed:{computedLocalChecked:{get:function(){return this.is_Group?this.bvGroup.localChecked:this.localChecked},set:function(t){this.is_Group?this.bvGroup.localChecked=t:this.localChecked=t}},is_Group:function(){return Boolean(this.bvGroup)},is_BtnMode:function(){return this.is_Group?this.bvGroup.buttons:this.button},is_Plain:function(){return!this.is_BtnMode&&(this.is_Group?this.bvGroup.plain:this.plain)},is_Custom:function(){return!this.is_BtnMode&&!this.is_Plain},is_Switch:function(){return!(this.is_BtnMode||this.is_Radio||this.is_Plain)&&(this.is_Group?this.bvGroup.switches:this.switch)},is_Inline:function(){return this.is_Group?this.bvGroup.inline:this.inline},is_Disabled:function(){return this.is_Group&&this.bvGroup.disabled||this.disabled},is_Required:function(){return Boolean(this.get_Name&&(this.is_Group?this.bvGroup.required:this.required))},get_Name:function(){return(this.is_Group?this.bvGroup.groupName:this.name)||null},get_Form:function(){return(this.is_Group?this.bvGroup.form:this.form)||null},get_Size:function(){return(this.is_Group?this.bvGroup.size:this.size)||""},get_State:function(){return this.is_Group?this.bvGroup.computedState:this.computedState},get_ButtonVariant:function(){return this.buttonVariant?this.buttonVariant:this.is_Group&&this.bvGroup.buttonVariant?this.bvGroup.buttonVariant:"secondary"},buttonClasses:function(){return["btn","btn-".concat(this.get_ButtonVariant),this.get_Size?"btn-".concat(this.get_Size):"",this.is_Disabled?"disabled":"",this.is_Checked?"active":"",this.hasFocus?"focus":""]}},watch:{checked:function(t,e){this.computedLocalChecked=t}},methods:{handleFocus:function(t){t.target&&("focus"===t.type?this.hasFocus=!0:"blur"===t.type&&(this.hasFocus=!1))},focus:function(){!this.is_Disabled&&this.$refs.input&&this.$refs.input.focus&&this.$refs.input.focus()},blur:function(){!this.is_Disabled&&this.$refs.input&&this.$refs.input.blur&&this.$refs.input.blur()}},render:function(t){var e=this.$slots.default,n={change:this.handleChange};this.is_BtnMode&&(n.focus=n.blur=this.handleFocus);var input=t("input",{ref:"input",key:"input",on:n,class:{"form-check-input":this.is_Plain,"custom-control-input":this.is_Custom,"is-valid":!0===this.get_State&&!this.is_BtnMode,"is-invalid":!1===this.get_State&&!this.is_BtnMode,"position-static":this.is_Plain&&!e},directives:[{name:"model",rawName:"v-model",value:this.computedLocalChecked,expression:"computedLocalChecked"}],attrs:{id:this.safeId(),type:this.is_Radio?"radio":"checkbox",name:this.get_Name,form:this.get_Form,disabled:this.is_Disabled,required:this.is_Required,autocomplete:"off","aria-required":this.is_Required||null,"aria-label":this.ariaLabel||null},domProps:{value:this.value,checked:this.is_Checked}});if(this.is_BtnMode){var button=t("label",{class:this.buttonClasses},[input,e]);return this.is_Group||(button=t("div",{class:["btn-group-toggle","d-inline-block"]},[button])),button}var r,o,l,label=t(!1);return this.is_Plain&&!e||(label=t("label",{class:{"form-check-label":this.is_Plain,"custom-control-label":this.is_Custom},attrs:{for:this.safeId()}},e)),t("div",{class:(r={"form-check":this.is_Plain,"form-check-inline":this.is_Plain&&this.is_Inline,"custom-control":this.is_Custom,"custom-control-inline":this.is_Custom&&this.is_Inline,"custom-checkbox":this.is_Custom&&this.is_Check&&!this.is_Switch,"custom-switch":this.is_Switch,"custom-radio":this.is_Custom&&this.is_Radio},o="form-control-".concat(this.get_Size),l=Boolean(this.get_Size&&!this.is_BtnMode),o in r?Object.defineProperty(r,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):r[o]=l,r)},[input,label])}};e.default=r},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(10),o={model:{prop:"checked",event:"input"},props:{validated:{type:Boolean,default:!1},ariaInvalid:{type:[Boolean,String],default:!1},stacked:{type:Boolean,default:!1},plain:{type:Boolean,default:!1},buttons:{type:Boolean,default:!1},buttonVariant:{type:String,default:"secondary"}},computed:{inline:function(){return!this.stacked},groupName:function(){return this.name||this.safeId()},groupClasses:function(){return this.buttons?["btn-group-toggle",this.inline?"btn-group":"btn-group-vertical",this.size?"btn-group-".concat(this.size):"",this.validated?"was-validated":""]:[this.validated?"was-validated":""]},computedAriaInvalid:function(){var t=this.ariaInvalid;return!0===t||"true"===t||""===t?"true":!1===this.computedState?"true":null}},watch:{checked:function(t,e){this.localChecked=t},localChecked:function(t,e){this.$emit("input",t)}},render:function(t){var e=this,n=this.$slots,o=this.formOptions.map(function(option,n){var o="_BV_option_".concat(n,"_");return t(e.is_RadioGroup?"b-form-radio":"b-form-checkbox",{key:o,props:{id:e.safeId(o),value:option.value,disabled:option.disabled||!1}},[t("span",{domProps:(0,r.htmlOrText)(option.html,option.text)})])});return t("div",{class:this.groupClasses,attrs:{id:this.safeId(),role:this.is_RadioGroup?"radiogroup":"group",tabindex:"-1","aria-required":this.required?"true":null,"aria-invalid":this.computedAriaInvalid}},[n.first,o,n.default])}};e.default=o},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(11),o=n(47),l=n(38),c=n(58),d=n(274),h=n(48),f={name:"BFormRadio",mixins:[r.default,d.default,o.default,c.default,l.default],inject:{bvGroup:{from:"bvRadioGroup",default:!1}},props:{checked:{type:[String,Object,Number,Boolean],default:null}},computed:{is_Checked:function(){return(0,h.default)(this.value,this.computedLocalChecked)},is_Radio:function(){return!0},is_Check:function(){return!1}},watch:{computedLocalChecked:function(t,e){this.$emit("input",this.computedLocalChecked)}},methods:{handleChange:function(t){var e=t.target.checked,n=this.value;this.computedLocalChecked=n,this.$emit("change",e?n:null),this.is_Group&&this.bvGroup.$emit("change",e?n:null)}}};e.default=f},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r={model:{prop:"value",event:"update"},props:{value:{type:[String,Number],default:""},ariaInvalid:{type:[Boolean,String],default:!1},readonly:{type:Boolean,default:!1},plaintext:{type:Boolean,default:!1},autocomplete:{type:String,default:null},placeholder:{type:String,default:null},formatter:{type:Function,default:null},trim:{type:Boolean,default:!1},number:{type:Boolean,default:!1},lazyFormatter:{type:Boolean,value:!1}},data:function(){return{localValue:this.stringifyValue(this.value)}},computed:{computedClass:function(){return[{"custom-range":"range"===this.type,"form-control-plaintext":this.plaintext&&"range"!==this.type&&"color"!==this.type,"form-control":!this.plaintext&&"range"!==this.type||"color"===this.type},this.sizeFormClass,this.stateClass]},computedAriaInvalid:function(){return this.ariaInvalid&&"false"!==this.ariaInvalid?!0===this.ariaInvalid?"true":this.ariaInvalid:!1===this.computedState?"true":null}},watch:{value:function(t,e){t!==e&&t!==this.localValue&&(this.localValue=this.stringifyValue(t))}},mounted:function(){var t=this.stringifyValue(this.value);t!==this.localValue&&(this.localValue=t)},methods:{stringifyValue:function(t){return null==t?"":String(t)},getFormatted:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t=this.stringifyValue(t),this.lazyFormatter&&!n||"function"!=typeof this.formatter||(t=this.formatter(t,e)),t},updateValue:function(t){if(t=this.stringifyValue(t),this.localValue!==t){if(this.localValue=t,this.number){var e=parseFloat(t);t=isNaN(e)?t:e}else this.trim&&(t=t.trim());this.$emit("update",t)}},onInput:function(t){if(!t.target.composing){var e=this.getFormatted(t.target.value,t);!1===e||t.defaultPrevented?t.preventDefault():(this.updateValue(e),this.$emit("input",e))}},onChange:function(t){if(!t.target.composing){var e=this.getFormatted(t.target.value,t);!1!==e&&(this.updateValue(e),this.$emit("change",e))}},onBlur:function(t){if(this.lazyFormatter){var e=this.getFormatted(t.target.value,t,!0);if(!1===e)return;this.updateValue(e)}this.$emit("blur",t)},focus:function(){this.disabled||this.$el.focus()},blur:function(){this.disabled||this.$el.blur()}}};e.default=r},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;e.default={computed:{selectionStart:{cache:!1,get:function(){return this.$refs.input.selectionStart},set:function(t){this.$refs.input.selectionStart=t}},selectionEnd:{cache:!1,get:function(){return this.$refs.input.selectionEnd},set:function(t){this.$refs.input.selectionEnd=t}},selectionDirection:{cache:!1,get:function(){return this.$refs.input.selectionDirection},set:function(t){this.$refs.input.selectionDirection=t}}},methods:{select:function(){var t;(t=this.$refs.input).select.apply(t,arguments)},setSelectionRange:function(){var t;(t=this.$refs.input).setSelectionRange.apply(t,arguments)},setRangeText:function(){var t;(t=this.$refs.input).setRangeText.apply(t,arguments)}}}},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;e.default={computed:{validity:{cache:!1,get:function(){return this.$refs.input.validity}},validationMessage:{cache:!1,get:function(){return this.$refs.input.validationMessage}},willValidate:{cache:!1,get:function(){return this.$refs.input.willValidate}}},methods:{setCustomValidity:function(){var t;return(t=this.$refs.input).setCustomValidity.apply(t,arguments)},checkValidity:function(){var t;return(t=this.$refs.input).checkValidity.apply(t,arguments)},reportValidity:function(){var t;return(t=this.$refs.input).reportValidity.apply(t,arguments)}}}},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r={props:{plain:{type:Boolean,default:!1}},computed:{custom:function(){return!this.plain}}};e.default=r},function(t,e,n){"use strict";e.__esModule=!0,e.default=e.props=void 0;var r=n(2),o={tag:{type:String,default:"div"}};e.props=o;var l={name:"BMediaBody",functional:!0,props:o,render:function(t,e){var n=e.props,data=e.data,o=e.children;return t(n.tag,(0,r.mergeData)(data,{staticClass:"media-body"}),o)}};e.default=l},function(t,e,n){"use strict";e.__esModule=!0,e.default=e.props=void 0;var r=n(2);var o={tag:{type:String,default:"div"},verticalAlign:{type:String,default:"top"}};e.props=o;var l={name:"BMediaAside",functional:!0,props:o,render:function(t,e){var n,o,l,c=e.props,data=e.data,d=e.children;return t(c.tag,(0,r.mergeData)(data,{staticClass:"d-flex",class:(n={},o="align-self-".concat(c.verticalAlign),l=c.verticalAlign,o in n?Object.defineProperty(n,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):n[o]=l,n)}),d)}};e.default=l},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(557),o=n(3),l={BModal:r.default},c={install:(0,o.installFactory)({directives:l})};e.default=c},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(558),o=n(559),l=n(560),c=n(561),d=n(562),h=n(174),f=n(3),m={BNav:r.default,BNavItem:o.default,BNavText:l.default,BNavForm:c.default,BNavItemDropdown:d.default,BNavItemDd:d.default,BNavDropdown:d.default,BNavDd:d.default},v={DropdownPlugin:h.default},y={install:(0,f.installFactory)({components:m,plugins:v})};e.default=y},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(20),o=n(570),l=n(46),c=n(6),d=n(87),h=n(177),f=n(32),m=5;function v(t){var e=parseInt(t,10)||1;return e<1?m:e}function y(t,e){var n=parseInt(t,10)||1;return n>e?e:n<1?1:n}function w(t){if(t.keyCode===l.default.SPACE)return t.preventDefault(),t.stopImmediatePropagation(),t.stopPropagation(),t.currentTarget.click(),!1}var _={disabled:{type:Boolean,default:!1},value:{type:[Number,String],default:null,validator:function(t){var e=parseInt(t,10);return null===t||!(isNaN(e)||e<1)||((0,r.default)("pagination: v-model value must be a number greater than 0"),!1)}},limit:{type:[Number,String],default:m,validator:function(t){var e=parseInt(t,10);return!(isNaN(e)||e<1)||((0,r.default)('pagination: prop "limit" must be a number greater than 0'),!1)}},size:{type:String,default:"md"},align:{type:String,default:"left"},hideGotoEndButtons:{type:Boolean,default:!1},ariaLabel:{type:String,default:"Pagination"},labelFirstPage:{type:String,default:"Go to first page"},firstText:{type:String,default:"«"},labelPrevPage:{type:String,default:"Go to previous page"},prevText:{type:String,default:"‹"},labelNextPage:{type:String,default:"Go to next page"},nextText:{type:String,default:"›"},labelLastPage:{type:String,default:"Go to last page"},lastText:{type:String,default:"»"},labelPage:{type:[String,Function],default:"Go to page"},hideEllipsis:{type:Boolean,default:!1},ellipsisText:{type:String,default:"…"}},S={components:{BLink:f.default},mixins:[h.default],model:{prop:"value",event:"input"},props:_,data:function(){var t=parseInt(this.value,10);return{currentPage:t>0?t:-1,localNumPages:1,localLimit:m}},computed:{btnSize:function(){return this.size?"pagination-".concat(this.size):""},alignment:function(){var t=this.align;return"center"===t?"justify-content-center":"end"===t||"right"===t?"justify-content-end":"fill"===t?"text-center":""},computedCurrentPage:function(){return y(this.currentPage,this.localNumPages)},paginationParams:function(){var t=this.limit,e=this.localNumPages,n=this.computedCurrentPage,r=this.hideEllipsis,o=!1,l=!1,c=t,d=1;return e<=t?c=e:n<t-1&&t>3?r||(l=!0,c=t-1):e-n+2<t&&t>3?(r||(c=t-1,o=!0),d=e-c+1):(t>3&&!r&&(c=t-2,o=l=!0),d=n-Math.floor(c/2)),d<1?d=1:d>e-c&&(d=e-c+1),{showFirstDots:o,showLastDots:l,numLinks:c,startNum:d}},pageList:function(){var t=this.paginationParams,e=t.numLinks,n=t.startNum,r=this.computedCurrentPage,l=function(t,e){return(0,o.default)(e).map(function(e,n){return{number:n+t,classes:null}})}(n,e);if(l.length>3){var c=r-n,d="bv-d-xs-down-none";if(0===c)for(var i=3;i<l.length;i++)l[i].classes=d;else if(c===l.length-1)for(var h=0;h<l.length-3;h++)l[h].classes=d;else{for(var f=0;f<c-1;f++)l[f].classes=d;for(var m=l.length-1;m>c+1;m--)l[m].classes=d}}return l}},watch:{value:function(t,e){t!==e&&(this.currentPage=y(t,this.localNumPages))},currentPage:function(t,e){t!==e&&this.$emit("input",t>0?t:null)},limit:function(t,e){t!==e&&(this.localLimit=v(t))}},created:function(){var t=this;this.localLimit=v(this.limit),this.$nextTick(function(){t.currentPage=t.currentPage>t.localNumPages?t.localNumPages:t.currentPage})},methods:{getButtons:function(){return(0,c.selectAll)("a.page-link",this.$el).filter(function(t){return(0,c.isVisible)(t)})},setBtnFocus:function(t){t.focus()},focusCurrent:function(){var t=this;this.$nextTick(function(){var e=t.getButtons().find(function(e){return parseInt((0,c.getAttr)(e,"aria-posinset"),10)===t.computedCurrentPage});e&&e.focus?t.setBtnFocus(e):t.focusFirst()})},focusFirst:function(){var t=this;this.$nextTick(function(){var e=t.getButtons().find(function(t){return!(0,c.isDisabled)(t)});e&&e.focus&&e!==document.activeElement&&t.setBtnFocus(e)})},focusLast:function(){var t=this;this.$nextTick(function(){var e=t.getButtons().reverse().find(function(t){return!(0,c.isDisabled)(t)});e&&e.focus&&e!==document.activeElement&&t.setBtnFocus(e)})},focusPrev:function(){var t=this;this.$nextTick(function(){var e=t.getButtons(),n=e.indexOf(document.activeElement);n>0&&!(0,c.isDisabled)(e[n-1])&&e[n-1].focus&&t.setBtnFocus(e[n-1])})},focusNext:function(){var t=this;this.$nextTick(function(){var e=t.getButtons(),n=e.indexOf(document.activeElement);n<e.length-1&&!(0,c.isDisabled)(e[n+1])&&e[n+1].focus&&t.setBtnFocus(e[n+1])})}},render:function(t){var e=this,n=[],r=this.localNumPages,o=this.disabled,c=this.paginationParams,h=c.showFirstDots,f=c.showLastDots,m=this.computedCurrentPage,v="fill"===this.align,y=function(t){return t===m},_=this.currentPage<1,S=function(n,l,c,h,f,m){var S=o||y(f)||_||n<1||n>r,E=n<1?1:n>r?r:n,T={disabled:S,page:E,index:E-1},k=e.normalizeSlot(c,T)||(0,d.default)(h)||t(!1),x=t(S?"span":"b-link",{staticClass:"page-link",props:S?{}:e.linkProps(n),attrs:{role:"menuitem",tabindex:S?null:"-1","aria-label":l,"aria-controls":e.ariaControls||null,"aria-disabled":S?"true":null},on:S?{}:{click:function(t){e.onClick(n,t)},keydown:w}},[k]);return t("li",{key:m,staticClass:"page-item",class:{disabled:S,"flex-fill":v},attrs:{role:"none presentation","aria-hidden":S?"true":null}},[x])},E=function(n){return t("li",{key:"elipsis-".concat(n?"last":"first"),staticClass:"page-item",class:["disabled","bv-d-xs-down-none",v?"flex-fill":""],attrs:{role:"separator"}},[t("span",{staticClass:"page-link"},[e.normalizeSlot("ellipsis-text",{})||(0,d.default)(e.ellipsisText)||t(!1)])])};n.push(this.hideGotoEndButtons?t(!1):S(1,this.labelFirstPage,"first-text",this.firstText,1,"bookend-goto-first")),n.push(S(m-1,this.labelPrevPage,"prev-text",this.prevText,1,"bookend-goto-prev")),n.push(h?E(!1):t(!1)),this.pageList.forEach(function(l,c){var h=y(l.number)&&!_,f=o?null:h||_&&0===c?"0":"-1",m={role:"menuitemradio","aria-disabled":o?"true":null,"aria-controls":e.ariaControls||null,"aria-label":"function"==typeof e.labelPage?e.labelPage(l.number):"".concat(e.labelPage," ").concat(l.number),"aria-checked":h?"true":"false","aria-posinset":l.number,"aria-setsize":r,tabindex:f},S=(0,d.default)(e.makePage(l.number)),E={page:l.number,index:l.number-1,content:S,active:h,disabled:o},T=t(o?"span":"b-link",{props:o?{}:e.linkProps(l.number),staticClass:"page-link",attrs:m,on:o?{}:{click:function(t){e.onClick(l.number,t)},keydown:w}},[e.normalizeSlot("page",E)||S]);n.push(t("li",{key:"page-".concat(l.number),staticClass:"page-item",class:[{disabled:o,active:h,"flex-fill":v},l.classes],attrs:{role:"none presentation"}},[T]))}),n.push(f?E(!0):t(!1)),n.push(S(m+1,this.labelNextPage,"next-text",this.nextText,r,"bookend-goto-next")),n.push(this.hideGotoEndButtons?t(!1):S(r,this.labelLastPage,"last-text",this.lastText,r,"bookend-goto-last"));var T=t("ul",{ref:"ul",staticClass:"pagination",class:["b-pagination",this.btnSize,this.alignment],attrs:{role:"menubar","aria-disabled":o?"true":"false","aria-label":this.ariaLabel||null},on:{keydown:function(t){var n=t.keyCode,r=t.shiftKey;n===l.default.LEFT?(t.preventDefault(),r?e.focusFirst():e.focusPrev()):n===l.default.RIGHT&&(t.preventDefault(),r?e.focusLast():e.focusNext())}}},n);return this.isNav?t("nav",{attrs:{"aria-disabled":o?"true":null,"aria-hidden":o?"true":"false"}},[T]):T}};e.default=S},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(178),o=n(6);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function d(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,p){return(f=Object.setPrototypeOf||function(t,p){return t.__proto__=p,t})(t,p)}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var v=new RegExp("\\b".concat("bs-popover","\\S+"),"g"),y=function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},e=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(source).filter(function(t){return Object.getOwnPropertyDescriptor(source,t).enumerable}))),e.forEach(function(e){m(t,e,source[e])})}return t}({},r.default.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),w="fade",_="show",S=".popover-header",E=".popover-body",T=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),d(this,h(e).apply(this,arguments))}var n,m,T;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,r.default),n=e,T=[{key:"Default",get:function(){return y}},{key:"NAME",get:function(){return"popover"}}],(m=[{key:"isWithContent",value:function(t){if(!(t=t||this.$tip))return!1;var e=Boolean(((0,o.select)(S,t)||{}).innerHTML),n=Boolean(((0,o.select)(E,t)||{}).innerHTML);return e||n}},{key:"addAttachmentClass",value:function(t){(0,o.addClass)(this.getTipElement(),"".concat("bs-popover","-").concat(t))}},{key:"setContent",value:function(t){this.setElementContent((0,o.select)(S,t),this.getTitle()),this.setElementContent((0,o.select)(E,t),this.getContent()),(0,o.removeClass)(t,w),(0,o.removeClass)(t,_)}},{key:"cleanTipClass",value:function(){var t=this.getTipElement(),e=t.className.match(v);null!==e&&e.length>0&&e.forEach(function(e){(0,o.removeClass)(t,e)})}},{key:"getTitle",value:function(){var title=this.$config.title||"";return"function"==typeof title&&(title=title(this.$element)),"object"===l(title)&&title.nodeType&&!title.innerHTML.trim()&&(title=""),"string"==typeof title&&(title=title.trim()),title||(title=(title=(0,o.getAttr)(this.$element,"title")||(0,o.getAttr)(this.$element,"data-original-title")||"").trim()),title}},{key:"getContent",value:function(){var content=this.$config.content||"";return"function"==typeof content&&(content=content(this.$element)),"object"===l(content)&&content.nodeType&&!content.innerHTML.trim()&&(content=""),"string"==typeof content&&(content=content.trim()),content}}])&&c(n.prototype,m),T&&c(n,T),e}();e.default=T},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(5),o=n(6),l=n(575),c=n(88);function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var f={top:"top",topleft:"topleft",topright:"topright",right:"right",righttop:"righttop",rightbottom:"rightbottom",bottom:"bottom",bottomleft:"bottomleft",bottomright:"bottomright",left:"left",lefttop:"lefttop",leftbottom:"leftbottom",auto:"auto"},m={subtree:!0,childList:!0,characterData:!0,attributes:!0,attributeFilter:["class","style"]},v={props:{target:{type:[String,Object,l.HTMLElement,Function]},delay:{type:[Number,Object,String],default:0},offset:{type:[Number,String],default:0},noFade:{type:Boolean,default:!1},container:{type:String,default:null},boundary:{type:[String,l.HTMLElement],default:"scrollParent"},boundaryPadding:{type:Number,default:5},show:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},computed:{baseConfig:function(){var t=this.container,e="object"===h(this.delay)?this.delay:parseInt(this.delay,10)||0;return{title:(this.title||"").trim()||"",content:(this.content||"").trim()||"",placement:f[this.placement]||"auto",container:!!t&&(/^#/.test(t)?t:"#".concat(t)),boundary:this.boundary,boundaryPadding:this.boundaryPadding,delay:e||0,offset:this.offset||0,animation:!this.noFade,trigger:(0,r.isArray)(this.triggers)?this.triggers.join(" "):this.triggers,callbacks:{show:this.onShow,shown:this.onShown,hide:this.onHide,hidden:this.onHidden,enabled:this.onEnabled,disabled:this.onDisabled}}}},watch:{show:function(t,e){t!==e&&(t?this.onOpen():this.onClose())},disabled:function(t,e){t!==e&&(t?this.onDisable():this.onEnable())}},created:function(){this._toolpop=null,this._obs_title=null,this._obs_content=null},mounted:function(){var t=this;this.$nextTick(function(){t.createToolpop()&&(t.disabled&&t.onDisable(),t.$on("open",t.onOpen),t.$on("close",t.onClose),t.$on("disable",t.onDisable),t.$on("enable",t.onEnable),t.setObservers(!0),t.show&&t.onOpen())})},updated:function(){this._toolpop&&this._toolpop.updateConfig(this.getConfig())},activated:function(){this.setObservers(!0)},deactivated:function(){this._toolpop&&(this.setObservers(!1),this._toolpop.hide())},beforeDestroy:function(){this.$off("open",this.onOpen),this.$off("close",this.onClose),this.$off("disable",this.onDisable),this.$off("enable",this.onEnable),this.setObservers(!1),this.bringItBack(),this._toolpop&&(this._toolpop.destroy(),this._toolpop=null)},methods:{getConfig:function(){var t=function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},e=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(source).filter(function(t){return Object.getOwnPropertyDescriptor(source,t).enumerable}))),e.forEach(function(e){d(t,e,source[e])})}return t}({},this.baseConfig);return this.$refs.title&&this.$refs.title.innerHTML.trim()&&(t.title=this.$refs.title,t.html=!0),this.$refs.content&&this.$refs.content.innerHTML.trim()&&(t.content=this.$refs.content,t.html=!0),t},onOpen:function(){this._toolpop&&this._toolpop.show()},onClose:function(t){this._toolpop?this._toolpop.hide(t):"function"==typeof t&&t()},onDisable:function(){this._toolpop&&this._toolpop.disable()},onEnable:function(){this._toolpop&&this._toolpop.enable()},updatePosition:function(){this._toolpop&&this._toolpop.update()},getTarget:function(){var t=this.target;return"function"==typeof t&&(t=t()),"string"==typeof t?(0,o.getById)(t):"object"===h(t)&&(0,o.isElement)(t.$el)?t.$el:"object"===h(t)&&(0,o.isElement)(t)?t:null},onShow:function(t){this.$emit("show",t)},onShown:function(t){this.setObservers(!0),this.$emit("update:show",!0),this.$emit("shown",t)},onHide:function(t){this.$emit("hide",t)},onHidden:function(t){this.setObservers(!1),this.bringItBack(),this.$emit("update:show",!1),this.$emit("hidden",t)},onEnabled:function(t){t&&"enabled"===t.type&&(this.$emit("update:disabled",!1),this.$emit("disabled"))},onDisabled:function(t){t&&"disabled"===t.type&&(this.$emit("update:disabled",!0),this.$emit("enabled"))},bringItBack:function(){this.$el&&this.$refs.title&&this.$el.appendChild(this.$refs.title),this.$el&&this.$refs.content&&this.$el.appendChild(this.$refs.content)},setObservers:function(t){t?(this.$refs.title&&(this._obs_title=(0,c.default)(this.$refs.title,this.updatePosition.bind(this),m)),this.$refs.content&&(this._obs_content=(0,c.default)(this.$refs.content,this.updatePosition.bind(this),m))):(this._obs_title&&(this._obs_title.disconnect(),this._obs_title=null),this._obs_content&&(this._obs_content.disconnect(),this._obs_content=null))}}};e.default=v},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(576),o=n(3),l={BPopover:r.default},c={install:(0,o.installFactory)({directives:l})};e.default=c},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(10),o={name:"BProgressBar",inject:{bvProgress:{default:function(){return{}}}},props:{value:{type:Number,default:0},label:{type:String,default:null},labelHtml:{type:String},max:{type:Number,default:null},precision:{type:Number,default:null},variant:{type:String,default:null},striped:{type:Boolean,default:null},animated:{type:Boolean,default:null},showProgress:{type:Boolean,default:null},showValue:{type:Boolean,default:null}},computed:{progressBarClasses:function(){return[this.computedVariant?"bg-".concat(this.computedVariant):"",this.computedStriped||this.computedAnimated?"progress-bar-striped":"",this.computedAnimated?"progress-bar-animated":""]},progressBarStyles:function(){return{width:this.value/this.computedMax*100+"%"}},computedProgress:function(){var p=Math.pow(10,this.computedPrecision);return Math.round(100*p*this.value/this.computedMax)/p},computedMax:function(){return"number"==typeof this.max?this.max:this.bvProgress.max||100},computedVariant:function(){return this.variant||this.bvProgress.variant},computedPrecision:function(){return"number"==typeof this.precision?this.precision:this.bvProgress.precision||0},computedStriped:function(){return"boolean"==typeof this.striped?this.striped:this.bvProgress.striped||!1},computedAnimated:function(){return"boolean"==typeof this.animated?this.animated:this.bvProgress.animated||!1},computedShowProgress:function(){return"boolean"==typeof this.showProgress?this.showProgress:this.bvProgress.showProgress||!1},computedShowValue:function(){return"boolean"==typeof this.showValue?this.showValue:this.bvProgress.showValue||!1}},render:function(t){var e=t(!1);return this.$slots.default?e=this.$slots.default:this.label||this.labelHtml?e=t("span",{domProps:(0,r.htmlOrText)(this.labelHtml,this.label)}):this.computedShowProgress?e=this.computedProgress.toFixed(this.computedPrecision):this.computedShowValue&&(e=this.value.toFixed(this.computedPrecision)),t("div",{staticClass:"progress-bar",class:this.progressBarClasses,style:this.progressBarStyles,attrs:{role:"progressbar","aria-valuemin":"0","aria-valuemax":this.computedMax.toString(),"aria-valuenow":this.value.toFixed(this.computedPrecision)}},[e])}};e.default=o},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){return(0,r.keys)(t).reduce(function(e,n){return o.IGNORED_FIELD_KEYS[n]||(e[n]=t[n]),e},{})};var r=n(7),o=n(180)},function(t,e,n){"use strict";e.__esModule=!0,e.default=function t(e){if(null==e)return"";if(e instanceof Object&&!(e instanceof Date))return(0,r.keys)(e).sort().filter(function(t){return null!=t}).map(function(n){return t(e[n])}).join(" ");return String(e)};var r=n(7)},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){if(!t||!t.target)return;var e=t.target;if("TD"===e.tagName||"TH"===e.tagName||"TR"===e.tagName||e.disabled)return!1;if((0,r.closest)(".dropdown-menu",e))return!0;var label="LABEL"===e.tagName?e:(0,r.closest)("label",e);if(label&&label.control&&!label.control.disabled)return!0;return(0,r.matches)(e,o.EVENT_FILTER)};var r=n(6),o=n(180)},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,e=window;if(e&&e.getSelection&&""!==e.getSelection().toString()&&(0,r.isElement)(t)){var n=e.getSelection();return!!n.containsNode&&n.containsNode(t,!0)}return!1};var r=n(6)},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(608),o=n(3),l={BTooltip:r.default},c={install:(0,o.installFactory)({directives:l})};e.default=c},,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={inject:{$mapPromise:{default:"abcdef"}},provide:function(){var t=this;return this.$mapPromise.then(function(map){t.$map=map}),{}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=0;t(function(){e+=1},function(){e=Math.max(0,e-1)},function(){return 0===e})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(input){var t=input.addEventListener?input.addEventListener:input.attachEvent;function e(e,n){if("keydown"===e){var r=n;n=function(t){var e=document.getElementsByClassName("pac-item-selected").length>0;if(13===t.which&&!e){var n=document.createEvent("Event");n.keyCode=40,n.which=40,r.apply(input,[n])}r.apply(input,[t])}}t.apply(input,[e,n])}input.addEventListener=e,input.attachEvent=e}},function(t,e,n){var r=n(304),o=n(648),l=n(649),c="[object Null]",d="[object Undefined]",h=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?d:c:h&&h in Object(t)?o(t):l(t)}},function(t,e,n){var r=n(185).Symbol;t.exports=r},function(t,e,n){var r=n(50),o=n(652),l=NaN,c=/^\s+|\s+$/g,d=/^[-+]0x[0-9a-f]+$/i,h=/^0b[01]+$/i,f=/^0o[0-7]+$/i,m=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return l;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(c,"");var n=h.test(t);return n||f.test(t)?m(t.slice(2),n?2:8):d.test(t)?l:+t}},function(t,e,n){"use strict";var r=n(39);t.exports=function(){return r(this).length=0,this}},function(t,e,n){"use strict";t.exports=function(){}},function(t,e,n){"use strict";var r=n(663),o=Math.max;t.exports=function(t){return o(0,r(t))}},function(t,e,n){"use strict";var r=Object.create,o=Object.getPrototypeOf,l={};t.exports=function(){var t=Object.setPrototypeOf,e=arguments[0]||r;return"function"==typeof t&&o(t(e(null),l))===l}},function(t,e,n){"use strict";var r,o,l,c,d=n(667),h=n(39),f=Object.prototype.isPrototypeOf,m=Object.defineProperty,v={configurable:!0,enumerable:!1,writable:!0,value:void 0};r=function(t,e){if(h(t),null===e||d(e))return t;throw new TypeError("Prototype must be null or an object")},t.exports=(o=function(){var t,e=Object.create(null),n={},desc=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(desc){try{(t=desc.set).call(e,n)}catch(t){}if(Object.getPrototypeOf(e)===n)return{set:t,level:2}}return e.__proto__=n,Object.getPrototypeOf(e)===n?{level:2}:((e={}).__proto__=n,Object.getPrototypeOf(e)===n&&{level:1})}())?(2===o.level?o.set?(c=o.set,l=function(t,e){return c.call(r(t,e),e),t}):l=function(t,e){return r(t,e).__proto__=e,t}:l=function t(e,n){var o;return r(e,n),(o=f.call(t.nullPolyfill,e))&&delete t.nullPolyfill.__proto__,null===n&&(n=t.nullPolyfill),e.__proto__=n,o&&m(t.nullPolyfill,"__proto__",v),e},Object.defineProperty(l,"level",{configurable:!1,enumerable:!1,writable:!1,value:o.level})):null,n(668)},function(t,e,n){"use strict";var r=n(669),o=/^\s*class[\s{\/}]/,l=Function.prototype.toString;t.exports=function(t){return!!r(t)&&!o.test(l.call(t))}},function(t,e,n){"use strict";var r=n(71),o=Array.prototype.forEach,l=Object.create;t.exports=function(t){var e=l(null);return o.call(arguments,function(t){r(t)&&function(t,e){var n;for(n in t)e[n]=t[n]}(Object(t),e)}),e}},function(t,e,n){"use strict";t.exports=n(676)()?String.prototype.contains:n(677)},function(t,e,n){"use strict";var r=n(683);t.exports=function(t){if(!r(t))throw new TypeError(t+" is not iterable");return t}},function(t,e,n){"use strict";var r=n(72),o=n(186),l=n(689),c=n(690),d=function(t,e){return t.replace("%v",c(e))};t.exports=function(t,e,n){if(!o(n))throw new TypeError(d(e,t));if(!r(t)){if("default"in n)return n.default;if(n.isOptional)return null}var c=l(n.errorMessage);throw r(c)||(c=e),new TypeError(d(c,t))}},,function(t,e,n){"use strict";var r={name:"NoSsr",functional:!0,props:{placeholder:String,placeholderTag:{type:String,default:"div"}},render:function(t,e){var n=e.parent,r=e.slots,o=e.props,l=r(),c=l.default;void 0===c&&(c=[]);var d=l.placeholder;return n._isMounted?c:(n.$once("hook:mounted",function(){n.$forceUpdate()}),o.placeholderTag&&(o.placeholder||d)?t(o.placeholderTag,{class:["no-ssr-placeholder"]},o.placeholder||d):c.length>0?c.map(function(){return t(!1)}):t(!1))}};t.exports=r},function(t,e,n){!function(t){"use strict";function e(t){return new Promise(function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function n(t,n,r){var o,p=new Promise(function(l,c){e(o=t[n].apply(t,r)).then(l,c)});return p.request=o,p}function r(t,e,n){n.forEach(function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})})}function o(t,e,r,o){o.forEach(function(o){o in r.prototype&&(t.prototype[o]=function(){return n(this[e],o,arguments)})})}function l(t,e,n,r){r.forEach(function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})})}function c(t,e,r,o){o.forEach(function(o){o in r.prototype&&(t.prototype[o]=function(){return t=this[e],(p=n(t,o,arguments)).then(function(t){if(t)return new h(t,p.request)});var t,p})})}function d(t){this._index=t}function h(cursor,t){this._cursor=cursor,this._request=t}function f(t){this._store=t}function m(t){this._tx=t,this.complete=new Promise(function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}})}function v(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new m(n)}function y(t){this._db=t}r(d,"_index",["name","keyPath","multiEntry","unique"]),o(d,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),c(d,"_index",IDBIndex,["openCursor","openKeyCursor"]),r(h,"_cursor",["direction","key","primaryKey","value"]),o(h,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(t){t in IDBCursor.prototype&&(h.prototype[t]=function(){var cursor=this,n=arguments;return Promise.resolve().then(function(){return cursor._cursor[t].apply(cursor._cursor,n),e(cursor._request).then(function(t){if(t)return new h(t,cursor._request)})})})}),f.prototype.createIndex=function(){return new d(this._store.createIndex.apply(this._store,arguments))},f.prototype.index=function(){return new d(this._store.index.apply(this._store,arguments))},r(f,"_store",["name","keyPath","indexNames","autoIncrement"]),o(f,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),c(f,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),l(f,"_store",IDBObjectStore,["deleteIndex"]),m.prototype.objectStore=function(){return new f(this._tx.objectStore.apply(this._tx,arguments))},r(m,"_tx",["objectStoreNames","mode"]),l(m,"_tx",IDBTransaction,["abort"]),v.prototype.createObjectStore=function(){return new f(this._db.createObjectStore.apply(this._db,arguments))},r(v,"_db",["name","version","objectStoreNames"]),l(v,"_db",IDBDatabase,["deleteObjectStore","close"]),y.prototype.transaction=function(){return new m(this._db.transaction.apply(this._db,arguments))},r(y,"_db",["name","version","objectStoreNames"]),l(y,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(t){[f,d].forEach(function(e){t in e.prototype&&(e.prototype[t.replace("open","iterate")]=function(){var e,n=(e=arguments,Array.prototype.slice.call(e)),r=n[n.length-1],o=this._store||this._index,l=o[t].apply(o,n.slice(0,-1));l.onsuccess=function(){r(l.result)}})})}),[d,f].forEach(function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise(function(o){n.iterateCursor(t,function(cursor){cursor?(r.push(cursor.value),void 0===e||r.length!=e?cursor.continue():o(r)):o(r)})})})}),t.openDb=function(t,e,r){var p=n(indexedDB,"open",[t,e]),o=p.request;return o&&(o.onupgradeneeded=function(t){r&&r(new v(o.result,t.oldVersion,o.transaction))}),p.then(function(t){return new y(t)})},t.deleteDb=function(t){return n(indexedDB,"deleteDatabase",[t])},Object.defineProperty(t,"__esModule",{value:!0})}(e)},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(486),o=n(609),l=n(3),c=n(16),d={install:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,c.setConfig)(e),(0,l.registerPlugins)(t,r),(0,l.registerPlugins)(t,o)},setConfig:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,c.setConfig)(t)}};(0,l.vueUse)(d);var h=d;e.default=h},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StreetViewPanorama=e.MountableMixin=e.Autocomplete=e.MapElementFactory=e.MapElementMixin=e.PlaceInput=e.Map=e.InfoWindow=e.Rectangle=e.Cluster=e.Circle=e.Polygon=e.Polyline=e.Marker=e.loadGmapApi=void 0;var r=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var e in source)Object.prototype.hasOwnProperty.call(source,e)&&(t[e]=source[e])}return t};e.install=function(t,e){e=r({installComponents:!0,autobindAllEvents:!1},e),C=new t({data:{gmapApi:null}});var n=new t,E=function(t){function e(){return C.gmapApi={},window.google}if(t.load)return(0,o.default)(function(){return"undefined"==typeof window?new Promise(function(){}).then(e):new Promise(function(e,n){try{window.vueGoogleMapsInit=e,(0,l.loadGmapApi)(t.load,t.loadCn)}catch(t){n(t)}}).then(e)});var n=new Promise(function(t){"undefined"!=typeof window&&(window.vueGoogleMapsInit=t)}).then(e);return(0,o.default)(function(){return n})}(e);t.mixin({created:function(){this.$gmapDefaultResizeBus=n,this.$gmapOptions=e,this.$gmapApiPromiseLazy=E}}),t.$gmapDefaultResizeBus=n,t.$gmapApiPromiseLazy=E,e.installComponents&&(t.component("GmapMap",y.default),t.component("GmapMarker",c.default),t.component("GmapInfoWindow",v.default),t.component("GmapPolyline",d.default),t.component("GmapPolygon",h.default),t.component("GmapCircle",f.default),t.component("GmapRectangle",m.default),t.component("GmapAutocomplete",S.default),t.component("GmapPlaceInput",_.default),t.component("GmapStreetViewPanorama",w.default))},e.gmapApi=function(){return C.gmapApi&&window.google};var o=x(n(631)),l=n(632),c=x(n(633)),d=x(n(634)),h=x(n(635)),f=x(n(636)),m=x(n(637)),v=x(n(707)),y=x(n(709)),w=x(n(710)),_=x(n(645)),S=x(n(708)),E=x(n(300)),T=x(n(33)),k=x(n(184));function x(t){return t&&t.__esModule?t:{default:t}}var C=null;e.loadGmapApi=l.loadGmapApi,e.Marker=c.default,e.Polyline=d.default,e.Polygon=h.default,e.Circle=f.default,e.Cluster=void 0,e.Rectangle=m.default,e.InfoWindow=v.default,e.Map=y.default,e.PlaceInput=_.default,e.MapElementMixin=E.default,e.MapElementFactory=T.default,e.Autocomplete=S.default,e.MountableMixin=k.default,e.StreetViewPanorama=w.default},function(t,e,n){"use strict";(function(t){var r=n(50),o=n.n(r),l=n(90),c=n.n(l),d=n(192),h=n.n(d),f=n(193),m=n.n(f),v=n(189),y=n.n(v),w=n(323),_=n.n(w),S=(n(655),Array.isArray),E="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},T="object"==typeof E&&E&&E.Object===Object&&E,k="object"==typeof self&&self&&self.Object===Object&&self,x=T||k||Function("return this")(),C=x.Symbol,I=Object.prototype,O=I.hasOwnProperty,A=I.toString,N=C?C.toStringTag:void 0;var D=function(t){var e=O.call(t,N),n=t[N];try{t[N]=void 0;var r=!0}catch(t){}var o=A.call(t);return r&&(e?t[N]=n:delete t[N]),o},P=Object.prototype.toString;var R=function(t){return P.call(t)},M="[object Null]",L="[object Undefined]",j=C?C.toStringTag:void 0;var B=function(t){return null==t?void 0===t?L:M:j&&j in Object(t)?D(t):R(t)};var F=function(t){return null!=t&&"object"==typeof t},U="[object Symbol]";var V=function(t){return"symbol"==typeof t||F(t)&&B(t)==U},$=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,W=/^\w*$/;var z=function(t,object){if(S(t))return!1;var e=typeof t;return!("number"!=e&&"symbol"!=e&&"boolean"!=e&&null!=t&&!V(t))||W.test(t)||!$.test(t)||null!=object&&t in Object(object)};var H=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},K="[object AsyncFunction]",G="[object Function]",Q="[object GeneratorFunction]",Y="[object Proxy]";var X,J=function(t){if(!H(t))return!1;var e=B(t);return e==G||e==Q||e==K||e==Y},Z=x["__core-js_shared__"],tt=(X=/[^.]+$/.exec(Z&&Z.keys&&Z.keys.IE_PROTO||""))?"Symbol(src)_1."+X:"";var et=function(t){return!!tt&&tt in t},nt=Function.prototype.toString;var ot=function(t){if(null!=t){try{return nt.call(t)}catch(t){}try{return t+""}catch(t){}}return""},it=/^\[object .+?Constructor\]$/,at=Function.prototype,st=Object.prototype,ut=at.toString,lt=st.hasOwnProperty,ct=RegExp("^"+ut.call(lt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var ht=function(t){return!(!H(t)||et(t))&&(J(t)?ct:it).test(ot(t))};var ft=function(object,t){return null==object?void 0:object[t]};var pt=function(object,t){var e=ft(object,t);return ht(e)?e:void 0},mt=pt(Object,"create");var gt=function(){this.__data__=mt?mt(null):{},this.size=0};var vt=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},yt="__lodash_hash_undefined__",bt=Object.prototype.hasOwnProperty;var wt=function(t){var data=this.__data__;if(mt){var e=data[t];return e===yt?void 0:e}return bt.call(data,t)?data[t]:void 0},_t=Object.prototype.hasOwnProperty;var St=function(t){var data=this.__data__;return mt?void 0!==data[t]:_t.call(data,t)},Et="__lodash_hash_undefined__";var Tt=function(t,e){var data=this.__data__;return this.size+=this.has(t)?0:1,data[t]=mt&&void 0===e?Et:e,this};function kt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}kt.prototype.clear=gt,kt.prototype.delete=vt,kt.prototype.get=wt,kt.prototype.has=St,kt.prototype.set=Tt;var xt=kt;var Ct=function(){this.__data__=[],this.size=0};var It=function(t,e){return t===e||t!=t&&e!=e};var Ot=function(t,e){for(var n=t.length;n--;)if(It(t[n][0],e))return n;return-1},At=Array.prototype.splice;var Nt=function(t){var data=this.__data__,e=Ot(data,t);return!(e<0||(e==data.length-1?data.pop():At.call(data,e,1),--this.size,0))};var Dt=function(t){var data=this.__data__,e=Ot(data,t);return e<0?void 0:data[e][1]};var Pt=function(t){return Ot(this.__data__,t)>-1};var Rt=function(t,e){var data=this.__data__,n=Ot(data,t);return n<0?(++this.size,data.push([t,e])):data[n][1]=e,this};function Mt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Mt.prototype.clear=Ct,Mt.prototype.delete=Nt,Mt.prototype.get=Dt,Mt.prototype.has=Pt,Mt.prototype.set=Rt;var Lt=Mt,jt=pt(x,"Map");var Bt=function(){this.size=0,this.__data__={hash:new xt,map:new(jt||Lt),string:new xt}};var Ft=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var Ut=function(map,t){var data=map.__data__;return Ft(t)?data["string"==typeof t?"string":"hash"]:data.map};var Vt=function(t){var e=Ut(this,t).delete(t);return this.size-=e?1:0,e};var qt=function(t){return Ut(this,t).get(t)};var $t=function(t){return Ut(this,t).has(t)};var Wt=function(t,e){var data=Ut(this,t),n=data.size;return data.set(t,e),this.size+=data.size==n?0:1,this};function zt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}zt.prototype.clear=Bt,zt.prototype.delete=Vt,zt.prototype.get=qt,zt.prototype.has=$t,zt.prototype.set=Wt;var Ht=zt,Kt="Expected a function";function Gt(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(Kt);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],l=n.cache;if(l.has(o))return l.get(o);var c=t.apply(this,r);return n.cache=l.set(o,c)||l,c};return n.cache=new(Gt.Cache||Ht),n}Gt.Cache=Ht;var Qt=Gt,Yt=500;var Xt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Jt=/\\(\\)?/g,Zt=function(t){var e=Qt(t,function(t){return n.size===Yt&&n.clear(),t}),n=e.cache;return e}(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Xt,function(t,n,r,o){e.push(r?o.replace(Jt,"$1"):n||t)}),e});var te=function(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o},ee=1/0,ne=C?C.prototype:void 0,re=ne?ne.toString:void 0;var oe=function t(e){if("string"==typeof e)return e;if(S(e))return te(e,t)+"";if(V(e))return re?re.call(e):"";var n=e+"";return"0"==n&&1/e==-ee?"-0":n};var ie=function(t){return null==t?"":oe(t)};var ae=function(t,object){return S(t)?t:z(t,object)?[t]:Zt(ie(t))},se=1/0;var ue=function(t){if("string"==typeof t||V(t))return t;var e=t+"";return"0"==e&&1/t==-se?"-0":e};var le=function(object,path){for(var t=0,e=(path=ae(path,object)).length;null!=object&&t<e;)object=object[ue(path[t++])];return t&&t==e?object:void 0};var ce=function(object,path,t){var e=null==object?void 0:le(object,path);return void 0===e?t:e},de=function(){var t=new Map,e="scroll";return{bind:function(element,n,r,l){var d,f;if(!c()(r))throw new Error("Scroll handler is not a function");t.has(element)||t.set(element,new Map),(d=t.get(element)).has(n)||d.set(n,[]),(f=d.get(n)).length||function(element,t,n,r){function l(t){var data,r=t.target||t.srcElement;(t=t||window.e).type===e&&(data=r===document?{scrollTop:ce(document,"body.scrollTop",0),scrollLeft:ce(document,"body.scrollLeft",0)}:{scrollTop:ce(r,"scrollTop",0),scrollLeft:ce(r,"scrollLeft",0)}),n.forEach(function(e){e(t,data)})}o()(r)&&(h()(r.throttle)&&m()(r.throttle)&&r.throttle>-1&&(l=_()(l,r.throttle)),h()(r.debounce)&&m()(r.debounce)&&r.debounce>-1&&(l=y()(l,r.debounce))),t===e&&(element===document.body||element===document||element===window?document.onscroll=l:element.addEventListener?element.addEventListener(t,l):element.attachEvent("on"+t,l))}(element,n,f,l),f.push(r)},unbind:function(element,e,n){var r,o;if(c()(n))return t.has(element)||t.set(element,new Map),(r=t.get(element)).has(e)||r.set(e,[]),(o=r.get(e)).indexOf(n)>-1&&(o.splice(o.indexOf(n),1),!0)}}}(),he=new Object;he.install=function(t,e){e=e||{};var n="scroll",r="throttle",l="debounce",d=[r,l];function h(t,h,f){var m,v=Object.assign({},e);if(o()(h)||c()(h)){m=h,d.indexOf(f)>-1&&(m=h.fn,f===r?v={throttle:h.throttle}:f===l&&(v={debounce:h.debounce}));try{de.bind(t,n,m,v)}catch(t){console.warn("Unexpected error happened when binding listener")}}else console.warn("Unexpected scroll properties")}function f(t,e,r){var l;(o()(e)||c()(e))&&(l=e,d.indexOf(r)>-1&&(l=e.fn),de.unbind(t,n,l))}t.directive(n,{bind:function(t,e,n,r){h(t,e.value,e.arg)},inserted:function(t,e){},update:function(t,e){e.value!==e.oldValue&&(h(t,e.value,e.arg),f(t,e.oldValue,e.arg))},unbind:function(t,e){f(t,e.value,e.arg)}})},e.a=he}).call(this,n(18))},function(t,e,n){var r=n(189),o=n(50),l="Expected a function";t.exports=function(t,e,n){var c=!0,d=!0;if("function"!=typeof t)throw new TypeError(l);return o(n)&&(c="leading"in n?!!n.leading:c,d="trailing"in n?!!n.trailing:d),r(t,e,{leading:c,maxWait:e,trailing:d})}},function(t,e,n){"use strict";function r(t){return function(t){if(Array.isArray(t)){for(var i=0,e=new Array(t.length);i<t.length;i++)e[i]=t[i];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";t.exports=function(t,e){return"string"!=typeof t?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),/["'() \t\n]/.test(t)||e?'"'+t.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':t)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){var content=n(365);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(52).default)("29755fa6",content,!0,{sourceMap:!1})},function(t,e,n){(t.exports=n(51)(!1)).push([t.i,"/*!\n * Bootstrap v4.3.1 (https://getbootstrap.com/)\n * Copyright 2011-2019 The Bootstrap Authors\n * Copyright 2011-2019 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n */:root{--blue:#007bff;--indigo:#6610f2;--purple:#6f42c1;--pink:#e83e8c;--red:#dc3545;--orange:#fd7e14;--yellow:#ffc107;--green:#28a745;--teal:#20c997;--cyan:#17a2b8;--white:#fff;--gray:#6c757d;--gray-dark:#343a40;--primary:#007bff;--secondary:#6c757d;--success:#28a745;--info:#17a2b8;--warning:#ffc107;--danger:#dc3545;--light:#f8f9fa;--dark:#343a40;--breakpoint-xs:0;--breakpoint-sm:576px;--breakpoint-md:768px;--breakpoint-lg:992px;--breakpoint-xl:1200px;--font-family-sans-serif:-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,\"Helvetica Neue\",Arial,\"Noto Sans\",sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\",\"Noto Color Emoji\";--font-family-monospace:SFMono-Regular,Menlo,Monaco,Consolas,\"Liberation Mono\",\"Courier New\",monospace}*,:after,:before{box-sizing:border-box}html{font-family:sans-serif;line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:rgba(0,0,0,0)}article,aside,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}body{margin:0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-size:1rem;font-weight:400;line-height:1.5;color:#212529;text-align:left;background-color:#fff}[tabindex=\"-1\"]:focus{outline:0!important}hr{box-sizing:content-box;height:0;overflow:visible}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem}p{margin-top:0;margin-bottom:1rem}abbr[data-original-title],abbr[title]{text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;border-bottom:0;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{font-style:normal;line-height:inherit}address,dl,ol,ul{margin-bottom:1rem}dl,ol,ul{margin-top:0}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:80%}sub,sup{position:relative;font-size:75%;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#007bff;text-decoration:none;background-color:transparent}a:hover{color:#0056b3;text-decoration:underline}a:not([href]):not([tabindex]),a:not([href]):not([tabindex]):focus,a:not([href]):not([tabindex]):hover{color:inherit;text-decoration:none}a:not([href]):not([tabindex]):focus{outline:0}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}pre{margin-top:0;margin-bottom:1rem;overflow:auto}figure{margin:0 0 1rem}img{border-style:none}img,svg{vertical-align:middle}svg{overflow:hidden}table{border-collapse:collapse}caption{padding-top:.75rem;padding-bottom:.75rem;color:#6c757d;text-align:left;caption-side:bottom}th{text-align:inherit}label{display:inline-block;margin-bottom:.5rem}button{border-radius:0}button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,input{overflow:visible}button,select{text-transform:none}select{word-wrap:normal}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{padding:0;border-style:none}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}input[type=date],input[type=datetime-local],input[type=month],input[type=time]{-webkit-appearance:listbox}textarea{overflow:auto;resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{display:block;width:100%;max-width:100%;padding:0;margin-bottom:.5rem;font-size:1.5rem;line-height:inherit;color:inherit;white-space:normal}progress{vertical-align:baseline}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:none}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}summary{display:list-item;cursor:pointer}template{display:none}[hidden]{display:none!important}.h1,.h2,.h3,.h4,.h5,.h6,h1,h2,h3,h4,h5,h6{margin-bottom:.5rem;font-weight:500;line-height:1.2}.h1,h1{font-size:2.5rem}.h2,h2{font-size:2rem}.h3,h3{font-size:1.75rem}.h4,h4{font-size:1.5rem}.h5,h5{font-size:1.25rem}.h6,h6{font-size:1rem}.lead{font-size:1.25rem;font-weight:300}.display-1{font-size:6rem}.display-1,.display-2{font-weight:300;line-height:1.2}.display-2{font-size:5.5rem}.display-3{font-size:4.5rem}.display-3,.display-4{font-weight:300;line-height:1.2}.display-4{font-size:3.5rem}hr{margin-top:1rem;margin-bottom:1rem;border:0;border-top:1px solid rgba(0,0,0,.1)}.small,small{font-size:80%;font-weight:400}.mark,mark{padding:.2em;background-color:#fcf8e3}.list-inline,.list-unstyled{padding-left:0;list-style:none}.list-inline-item{display:inline-block}.list-inline-item:not(:last-child){margin-right:.5rem}.initialism{font-size:90%;text-transform:uppercase}.blockquote{margin-bottom:1rem;font-size:1.25rem}.blockquote-footer{display:block;font-size:80%;color:#6c757d}.blockquote-footer:before{content:\"\\2014\\00A0\"}.img-fluid,.img-thumbnail{max-width:100%;height:auto}.img-thumbnail{padding:.25rem;background-color:#fff;border:1px solid #dee2e6;border-radius:.25rem}.figure{display:inline-block}.figure-img{margin-bottom:.5rem;line-height:1}.figure-caption{font-size:90%;color:#6c757d}code{font-size:87.5%;color:#e83e8c;word-break:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:87.5%;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:100%;font-weight:700}pre{display:block;font-size:87.5%;color:#212529}pre code{font-size:inherit;color:inherit;word-break:normal}.pre-scrollable{max-height:340px;overflow-y:scroll}.container{width:100%;padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}@media (min-width:576px){.container{max-width:540px}}@media (min-width:768px){.container{max-width:720px}}@media (min-width:992px){.container{max-width:960px}}@media (min-width:1200px){.container{max-width:1140px}}.container-fluid{width:100%;padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}.row{display:flex;flex-wrap:wrap;margin-right:-15px;margin-left:-15px}.no-gutters{margin-right:0;margin-left:0}.no-gutters>.col,.no-gutters>[class*=col-]{padding-right:0;padding-left:0}.col,.col-1,.col-2,.col-3,.col-4,.col-5,.col-6,.col-7,.col-8,.col-9,.col-10,.col-11,.col-12,.col-auto,.col-lg,.col-lg-1,.col-lg-2,.col-lg-3,.col-lg-4,.col-lg-5,.col-lg-6,.col-lg-7,.col-lg-8,.col-lg-9,.col-lg-10,.col-lg-11,.col-lg-12,.col-lg-auto,.col-md,.col-md-1,.col-md-2,.col-md-3,.col-md-4,.col-md-5,.col-md-6,.col-md-7,.col-md-8,.col-md-9,.col-md-10,.col-md-11,.col-md-12,.col-md-auto,.col-sm,.col-sm-1,.col-sm-2,.col-sm-3,.col-sm-4,.col-sm-5,.col-sm-6,.col-sm-7,.col-sm-8,.col-sm-9,.col-sm-10,.col-sm-11,.col-sm-12,.col-sm-auto,.col-xl,.col-xl-1,.col-xl-2,.col-xl-3,.col-xl-4,.col-xl-5,.col-xl-6,.col-xl-7,.col-xl-8,.col-xl-9,.col-xl-10,.col-xl-11,.col-xl-12,.col-xl-auto{position:relative;width:100%;padding-right:15px;padding-left:15px}.col{flex-basis:0;flex-grow:1;max-width:100%}.col-auto{flex:0 0 auto;width:auto;max-width:100%}.col-1{flex:0 0 8.333333%;max-width:8.333333%}.col-2{flex:0 0 16.666667%;max-width:16.666667%}.col-3{flex:0 0 25%;max-width:25%}.col-4{flex:0 0 33.333333%;max-width:33.333333%}.col-5{flex:0 0 41.666667%;max-width:41.666667%}.col-6{flex:0 0 50%;max-width:50%}.col-7{flex:0 0 58.333333%;max-width:58.333333%}.col-8{flex:0 0 66.666667%;max-width:66.666667%}.col-9{flex:0 0 75%;max-width:75%}.col-10{flex:0 0 83.333333%;max-width:83.333333%}.col-11{flex:0 0 91.666667%;max-width:91.666667%}.col-12{flex:0 0 100%;max-width:100%}.order-first{order:-1}.order-last{order:13}.order-0{order:0}.order-1{order:1}.order-2{order:2}.order-3{order:3}.order-4{order:4}.order-5{order:5}.order-6{order:6}.order-7{order:7}.order-8{order:8}.order-9{order:9}.order-10{order:10}.order-11{order:11}.order-12{order:12}.offset-1{margin-left:8.333333%}.offset-2{margin-left:16.666667%}.offset-3{margin-left:25%}.offset-4{margin-left:33.333333%}.offset-5{margin-left:41.666667%}.offset-6{margin-left:50%}.offset-7{margin-left:58.333333%}.offset-8{margin-left:66.666667%}.offset-9{margin-left:75%}.offset-10{margin-left:83.333333%}.offset-11{margin-left:91.666667%}@media (min-width:576px){.col-sm{flex-basis:0;flex-grow:1;max-width:100%}.col-sm-auto{flex:0 0 auto;width:auto;max-width:100%}.col-sm-1{flex:0 0 8.333333%;max-width:8.333333%}.col-sm-2{flex:0 0 16.666667%;max-width:16.666667%}.col-sm-3{flex:0 0 25%;max-width:25%}.col-sm-4{flex:0 0 33.333333%;max-width:33.333333%}.col-sm-5{flex:0 0 41.666667%;max-width:41.666667%}.col-sm-6{flex:0 0 50%;max-width:50%}.col-sm-7{flex:0 0 58.333333%;max-width:58.333333%}.col-sm-8{flex:0 0 66.666667%;max-width:66.666667%}.col-sm-9{flex:0 0 75%;max-width:75%}.col-sm-10{flex:0 0 83.333333%;max-width:83.333333%}.col-sm-11{flex:0 0 91.666667%;max-width:91.666667%}.col-sm-12{flex:0 0 100%;max-width:100%}.order-sm-first{order:-1}.order-sm-last{order:13}.order-sm-0{order:0}.order-sm-1{order:1}.order-sm-2{order:2}.order-sm-3{order:3}.order-sm-4{order:4}.order-sm-5{order:5}.order-sm-6{order:6}.order-sm-7{order:7}.order-sm-8{order:8}.order-sm-9{order:9}.order-sm-10{order:10}.order-sm-11{order:11}.order-sm-12{order:12}.offset-sm-0{margin-left:0}.offset-sm-1{margin-left:8.333333%}.offset-sm-2{margin-left:16.666667%}.offset-sm-3{margin-left:25%}.offset-sm-4{margin-left:33.333333%}.offset-sm-5{margin-left:41.666667%}.offset-sm-6{margin-left:50%}.offset-sm-7{margin-left:58.333333%}.offset-sm-8{margin-left:66.666667%}.offset-sm-9{margin-left:75%}.offset-sm-10{margin-left:83.333333%}.offset-sm-11{margin-left:91.666667%}}@media (min-width:768px){.col-md{flex-basis:0;flex-grow:1;max-width:100%}.col-md-auto{flex:0 0 auto;width:auto;max-width:100%}.col-md-1{flex:0 0 8.333333%;max-width:8.333333%}.col-md-2{flex:0 0 16.666667%;max-width:16.666667%}.col-md-3{flex:0 0 25%;max-width:25%}.col-md-4{flex:0 0 33.333333%;max-width:33.333333%}.col-md-5{flex:0 0 41.666667%;max-width:41.666667%}.col-md-6{flex:0 0 50%;max-width:50%}.col-md-7{flex:0 0 58.333333%;max-width:58.333333%}.col-md-8{flex:0 0 66.666667%;max-width:66.666667%}.col-md-9{flex:0 0 75%;max-width:75%}.col-md-10{flex:0 0 83.333333%;max-width:83.333333%}.col-md-11{flex:0 0 91.666667%;max-width:91.666667%}.col-md-12{flex:0 0 100%;max-width:100%}.order-md-first{order:-1}.order-md-last{order:13}.order-md-0{order:0}.order-md-1{order:1}.order-md-2{order:2}.order-md-3{order:3}.order-md-4{order:4}.order-md-5{order:5}.order-md-6{order:6}.order-md-7{order:7}.order-md-8{order:8}.order-md-9{order:9}.order-md-10{order:10}.order-md-11{order:11}.order-md-12{order:12}.offset-md-0{margin-left:0}.offset-md-1{margin-left:8.333333%}.offset-md-2{margin-left:16.666667%}.offset-md-3{margin-left:25%}.offset-md-4{margin-left:33.333333%}.offset-md-5{margin-left:41.666667%}.offset-md-6{margin-left:50%}.offset-md-7{margin-left:58.333333%}.offset-md-8{margin-left:66.666667%}.offset-md-9{margin-left:75%}.offset-md-10{margin-left:83.333333%}.offset-md-11{margin-left:91.666667%}}@media (min-width:992px){.col-lg{flex-basis:0;flex-grow:1;max-width:100%}.col-lg-auto{flex:0 0 auto;width:auto;max-width:100%}.col-lg-1{flex:0 0 8.333333%;max-width:8.333333%}.col-lg-2{flex:0 0 16.666667%;max-width:16.666667%}.col-lg-3{flex:0 0 25%;max-width:25%}.col-lg-4{flex:0 0 33.333333%;max-width:33.333333%}.col-lg-5{flex:0 0 41.666667%;max-width:41.666667%}.col-lg-6{flex:0 0 50%;max-width:50%}.col-lg-7{flex:0 0 58.333333%;max-width:58.333333%}.col-lg-8{flex:0 0 66.666667%;max-width:66.666667%}.col-lg-9{flex:0 0 75%;max-width:75%}.col-lg-10{flex:0 0 83.333333%;max-width:83.333333%}.col-lg-11{flex:0 0 91.666667%;max-width:91.666667%}.col-lg-12{flex:0 0 100%;max-width:100%}.order-lg-first{order:-1}.order-lg-last{order:13}.order-lg-0{order:0}.order-lg-1{order:1}.order-lg-2{order:2}.order-lg-3{order:3}.order-lg-4{order:4}.order-lg-5{order:5}.order-lg-6{order:6}.order-lg-7{order:7}.order-lg-8{order:8}.order-lg-9{order:9}.order-lg-10{order:10}.order-lg-11{order:11}.order-lg-12{order:12}.offset-lg-0{margin-left:0}.offset-lg-1{margin-left:8.333333%}.offset-lg-2{margin-left:16.666667%}.offset-lg-3{margin-left:25%}.offset-lg-4{margin-left:33.333333%}.offset-lg-5{margin-left:41.666667%}.offset-lg-6{margin-left:50%}.offset-lg-7{margin-left:58.333333%}.offset-lg-8{margin-left:66.666667%}.offset-lg-9{margin-left:75%}.offset-lg-10{margin-left:83.333333%}.offset-lg-11{margin-left:91.666667%}}@media (min-width:1200px){.col-xl{flex-basis:0;flex-grow:1;max-width:100%}.col-xl-auto{flex:0 0 auto;width:auto;max-width:100%}.col-xl-1{flex:0 0 8.333333%;max-width:8.333333%}.col-xl-2{flex:0 0 16.666667%;max-width:16.666667%}.col-xl-3{flex:0 0 25%;max-width:25%}.col-xl-4{flex:0 0 33.333333%;max-width:33.333333%}.col-xl-5{flex:0 0 41.666667%;max-width:41.666667%}.col-xl-6{flex:0 0 50%;max-width:50%}.col-xl-7{flex:0 0 58.333333%;max-width:58.333333%}.col-xl-8{flex:0 0 66.666667%;max-width:66.666667%}.col-xl-9{flex:0 0 75%;max-width:75%}.col-xl-10{flex:0 0 83.333333%;max-width:83.333333%}.col-xl-11{flex:0 0 91.666667%;max-width:91.666667%}.col-xl-12{flex:0 0 100%;max-width:100%}.order-xl-first{order:-1}.order-xl-last{order:13}.order-xl-0{order:0}.order-xl-1{order:1}.order-xl-2{order:2}.order-xl-3{order:3}.order-xl-4{order:4}.order-xl-5{order:5}.order-xl-6{order:6}.order-xl-7{order:7}.order-xl-8{order:8}.order-xl-9{order:9}.order-xl-10{order:10}.order-xl-11{order:11}.order-xl-12{order:12}.offset-xl-0{margin-left:0}.offset-xl-1{margin-left:8.333333%}.offset-xl-2{margin-left:16.666667%}.offset-xl-3{margin-left:25%}.offset-xl-4{margin-left:33.333333%}.offset-xl-5{margin-left:41.666667%}.offset-xl-6{margin-left:50%}.offset-xl-7{margin-left:58.333333%}.offset-xl-8{margin-left:66.666667%}.offset-xl-9{margin-left:75%}.offset-xl-10{margin-left:83.333333%}.offset-xl-11{margin-left:91.666667%}}.table{width:100%;margin-bottom:1rem;color:#212529}.table td,.table th{padding:.75rem;vertical-align:top;border-top:1px solid #dee2e6}.table thead th{vertical-align:bottom;border-bottom:2px solid #dee2e6}.table tbody+tbody{border-top:2px solid #dee2e6}.table-sm td,.table-sm th{padding:.3rem}.table-bordered,.table-bordered td,.table-bordered th{border:1px solid #dee2e6}.table-bordered thead td,.table-bordered thead th{border-bottom-width:2px}.table-borderless tbody+tbody,.table-borderless td,.table-borderless th,.table-borderless thead th{border:0}.table-striped tbody tr:nth-of-type(odd){background-color:rgba(0,0,0,.05)}.table-hover tbody tr:hover{color:#212529;background-color:rgba(0,0,0,.075)}.table-primary,.table-primary>td,.table-primary>th{background-color:#b8daff}.table-primary tbody+tbody,.table-primary td,.table-primary th,.table-primary thead th{border-color:#7abaff}.table-hover .table-primary:hover,.table-hover .table-primary:hover>td,.table-hover .table-primary:hover>th{background-color:#9fcdff}.table-secondary,.table-secondary>td,.table-secondary>th{background-color:#d6d8db}.table-secondary tbody+tbody,.table-secondary td,.table-secondary th,.table-secondary thead th{border-color:#b3b7bb}.table-hover .table-secondary:hover,.table-hover .table-secondary:hover>td,.table-hover .table-secondary:hover>th{background-color:#c8cbcf}.table-success,.table-success>td,.table-success>th{background-color:#c3e6cb}.table-success tbody+tbody,.table-success td,.table-success th,.table-success thead th{border-color:#8fd19e}.table-hover .table-success:hover,.table-hover .table-success:hover>td,.table-hover .table-success:hover>th{background-color:#b1dfbb}.table-info,.table-info>td,.table-info>th{background-color:#bee5eb}.table-info tbody+tbody,.table-info td,.table-info th,.table-info thead th{border-color:#86cfda}.table-hover .table-info:hover,.table-hover .table-info:hover>td,.table-hover .table-info:hover>th{background-color:#abdde5}.table-warning,.table-warning>td,.table-warning>th{background-color:#ffeeba}.table-warning tbody+tbody,.table-warning td,.table-warning th,.table-warning thead th{border-color:#ffdf7e}.table-hover .table-warning:hover,.table-hover .table-warning:hover>td,.table-hover .table-warning:hover>th{background-color:#ffe8a1}.table-danger,.table-danger>td,.table-danger>th{background-color:#f5c6cb}.table-danger tbody+tbody,.table-danger td,.table-danger th,.table-danger thead th{border-color:#ed969e}.table-hover .table-danger:hover,.table-hover .table-danger:hover>td,.table-hover .table-danger:hover>th{background-color:#f1b0b7}.table-light,.table-light>td,.table-light>th{background-color:#fdfdfe}.table-light tbody+tbody,.table-light td,.table-light th,.table-light thead th{border-color:#fbfcfc}.table-hover .table-light:hover,.table-hover .table-light:hover>td,.table-hover .table-light:hover>th{background-color:#ececf6}.table-dark,.table-dark>td,.table-dark>th{background-color:#c6c8ca}.table-dark tbody+tbody,.table-dark td,.table-dark th,.table-dark thead th{border-color:#95999c}.table-hover .table-dark:hover,.table-hover .table-dark:hover>td,.table-hover .table-dark:hover>th{background-color:#b9bbbe}.table-active,.table-active>td,.table-active>th,.table-hover .table-active:hover,.table-hover .table-active:hover>td,.table-hover .table-active:hover>th{background-color:rgba(0,0,0,.075)}.table .thead-dark th{color:#fff;background-color:#343a40;border-color:#454d55}.table .thead-light th{color:#495057;background-color:#e9ecef;border-color:#dee2e6}.table-dark{color:#fff;background-color:#343a40}.table-dark td,.table-dark th,.table-dark thead th{border-color:#454d55}.table-dark.table-bordered{border:0}.table-dark.table-striped tbody tr:nth-of-type(odd){background-color:hsla(0,0%,100%,.05)}.table-dark.table-hover tbody tr:hover{color:#fff;background-color:hsla(0,0%,100%,.075)}@media (max-width:575.98px){.table-responsive-sm{display:block;width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch}.table-responsive-sm>.table-bordered{border:0}}@media (max-width:767.98px){.table-responsive-md{display:block;width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch}.table-responsive-md>.table-bordered{border:0}}@media (max-width:991.98px){.table-responsive-lg{display:block;width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch}.table-responsive-lg>.table-bordered{border:0}}@media (max-width:1199.98px){.table-responsive-xl{display:block;width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch}.table-responsive-xl>.table-bordered{border:0}}.table-responsive{display:block;width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch}.table-responsive>.table-bordered{border:0}.form-control{display:block;width:100%;height:calc(1.5em + .75rem + 2px);padding:.375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:#495057;background-color:#fff;background-clip:padding-box;border:1px solid #ced4da;border-radius:.25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.form-control{transition:none}}.form-control::-ms-expand{background-color:transparent;border:0}.form-control:focus{color:#495057;background-color:#fff;border-color:#80bdff;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.form-control::-webkit-input-placeholder{color:#6c757d;opacity:1}.form-control:-ms-input-placeholder{color:#6c757d;opacity:1}.form-control::-ms-input-placeholder{color:#6c757d;opacity:1}.form-control::placeholder{color:#6c757d;opacity:1}.form-control:disabled,.form-control[readonly]{background-color:#e9ecef;opacity:1}select.form-control:focus::-ms-value{color:#495057;background-color:#fff}.form-control-file,.form-control-range{display:block;width:100%}.col-form-label{padding-top:calc(.375rem + 1px);padding-bottom:calc(.375rem + 1px);margin-bottom:0;font-size:inherit;line-height:1.5}.col-form-label-lg{padding-top:calc(.5rem + 1px);padding-bottom:calc(.5rem + 1px);font-size:1.25rem;line-height:1.5}.col-form-label-sm{padding-top:calc(.25rem + 1px);padding-bottom:calc(.25rem + 1px);font-size:.875rem;line-height:1.5}.form-control-plaintext{display:block;width:100%;padding-top:.375rem;padding-bottom:.375rem;margin-bottom:0;line-height:1.5;color:#212529;background-color:transparent;border:solid transparent;border-width:1px 0}.form-control-plaintext.form-control-lg,.form-control-plaintext.form-control-sm{padding-right:0;padding-left:0}.form-control-sm{height:calc(1.5em + .5rem + 2px);padding:.25rem .5rem;font-size:.875rem;line-height:1.5;border-radius:.2rem}.form-control-lg{height:calc(1.5em + 1rem + 2px);padding:.5rem 1rem;font-size:1.25rem;line-height:1.5;border-radius:.3rem}select.form-control[multiple],select.form-control[size],textarea.form-control{height:auto}.form-group{margin-bottom:1rem}.form-text{display:block;margin-top:.25rem}.form-row{display:flex;flex-wrap:wrap;margin-right:-5px;margin-left:-5px}.form-row>.col,.form-row>[class*=col-]{padding-right:5px;padding-left:5px}.form-check{position:relative;display:block;padding-left:1.25rem}.form-check-input{position:absolute;margin-top:.3rem;margin-left:-1.25rem}.form-check-input:disabled~.form-check-label{color:#6c757d}.form-check-label{margin-bottom:0}.form-check-inline{display:inline-flex;align-items:center;padding-left:0;margin-right:.75rem}.form-check-inline .form-check-input{position:static;margin-top:0;margin-right:.3125rem;margin-left:0}.valid-feedback{display:none;width:100%;margin-top:.25rem;font-size:80%;color:#28a745}.valid-tooltip{position:absolute;top:100%;z-index:5;display:none;max-width:100%;padding:.25rem .5rem;margin-top:.1rem;font-size:.875rem;line-height:1.5;color:#fff;background-color:rgba(40,167,69,.9);border-radius:.25rem}.form-control.is-valid,.was-validated .form-control:valid{border-color:#28a745;padding-right:calc(1.5em + .75rem);background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'%3E%3Cpath fill='%2328a745' d='M2.3 6.73L.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z'/%3E%3C/svg%3E\");background-repeat:no-repeat;background-position:100% calc(.375em + .1875rem);background-size:calc(.75em + .375rem) calc(.75em + .375rem)}.form-control.is-valid:focus,.was-validated .form-control:valid:focus{border-color:#28a745;box-shadow:0 0 0 .2rem rgba(40,167,69,.25)}.form-control.is-valid~.valid-feedback,.form-control.is-valid~.valid-tooltip,.was-validated .form-control:valid~.valid-feedback,.was-validated .form-control:valid~.valid-tooltip{display:block}.was-validated textarea.form-control:valid,textarea.form-control.is-valid{padding-right:calc(1.5em + .75rem);background-position:top calc(.375em + .1875rem) right calc(.375em + .1875rem)}.custom-select.is-valid,.was-validated .custom-select:valid{border-color:#28a745;padding-right:calc((3em + 2.25rem)/4 + 1.75rem);background:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 4 5'%3E%3Cpath fill='%23343a40' d='M2 0L0 2h4zm0 5L0 3h4z'/%3E%3C/svg%3E\") no-repeat right .75rem center/8px 10px,url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'%3E%3Cpath fill='%2328a745' d='M2.3 6.73L.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z'/%3E%3C/svg%3E\") #fff no-repeat center right 1.75rem/calc(.75em + .375rem) calc(.75em + .375rem)}.custom-select.is-valid:focus,.was-validated .custom-select:valid:focus{border-color:#28a745;box-shadow:0 0 0 .2rem rgba(40,167,69,.25)}.custom-select.is-valid~.valid-feedback,.custom-select.is-valid~.valid-tooltip,.form-control-file.is-valid~.valid-feedback,.form-control-file.is-valid~.valid-tooltip,.was-validated .custom-select:valid~.valid-feedback,.was-validated .custom-select:valid~.valid-tooltip,.was-validated .form-control-file:valid~.valid-feedback,.was-validated .form-control-file:valid~.valid-tooltip{display:block}.form-check-input.is-valid~.form-check-label,.was-validated .form-check-input:valid~.form-check-label{color:#28a745}.form-check-input.is-valid~.valid-feedback,.form-check-input.is-valid~.valid-tooltip,.was-validated .form-check-input:valid~.valid-feedback,.was-validated .form-check-input:valid~.valid-tooltip{display:block}.custom-control-input.is-valid~.custom-control-label,.was-validated .custom-control-input:valid~.custom-control-label{color:#28a745}.custom-control-input.is-valid~.custom-control-label:before,.was-validated .custom-control-input:valid~.custom-control-label:before{border-color:#28a745}.custom-control-input.is-valid~.valid-feedback,.custom-control-input.is-valid~.valid-tooltip,.was-validated .custom-control-input:valid~.valid-feedback,.was-validated .custom-control-input:valid~.valid-tooltip{display:block}.custom-control-input.is-valid:checked~.custom-control-label:before,.was-validated .custom-control-input:valid:checked~.custom-control-label:before{border-color:#34ce57;background-color:#34ce57}.custom-control-input.is-valid:focus~.custom-control-label:before,.was-validated .custom-control-input:valid:focus~.custom-control-label:before{box-shadow:0 0 0 .2rem rgba(40,167,69,.25)}.custom-control-input.is-valid:focus:not(:checked)~.custom-control-label:before,.custom-file-input.is-valid~.custom-file-label,.was-validated .custom-control-input:valid:focus:not(:checked)~.custom-control-label:before,.was-validated .custom-file-input:valid~.custom-file-label{border-color:#28a745}.custom-file-input.is-valid~.valid-feedback,.custom-file-input.is-valid~.valid-tooltip,.was-validated .custom-file-input:valid~.valid-feedback,.was-validated .custom-file-input:valid~.valid-tooltip{display:block}.custom-file-input.is-valid:focus~.custom-file-label,.was-validated .custom-file-input:valid:focus~.custom-file-label{border-color:#28a745;box-shadow:0 0 0 .2rem rgba(40,167,69,.25)}.invalid-feedback{display:none;width:100%;margin-top:.25rem;font-size:80%;color:#dc3545}.invalid-tooltip{position:absolute;top:100%;z-index:5;display:none;max-width:100%;padding:.25rem .5rem;margin-top:.1rem;font-size:.875rem;line-height:1.5;color:#fff;background-color:rgba(220,53,69,.9);border-radius:.25rem}.form-control.is-invalid,.was-validated .form-control:invalid{border-color:#dc3545;padding-right:calc(1.5em + .75rem);background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23dc3545' viewBox='-2 -2 7 7'%3E%3Cpath stroke='%23dc3545' d='M0 0l3 3m0-3L0 3'/%3E%3Ccircle r='.5'/%3E%3Ccircle cx='3' r='.5'/%3E%3Ccircle cy='3' r='.5'/%3E%3Ccircle cx='3' cy='3' r='.5'/%3E%3C/svg%3E\");background-repeat:no-repeat;background-position:100% calc(.375em + .1875rem);background-size:calc(.75em + .375rem) calc(.75em + .375rem)}.form-control.is-invalid:focus,.was-validated .form-control:invalid:focus{border-color:#dc3545;box-shadow:0 0 0 .2rem rgba(220,53,69,.25)}.form-control.is-invalid~.invalid-feedback,.form-control.is-invalid~.invalid-tooltip,.was-validated .form-control:invalid~.invalid-feedback,.was-validated .form-control:invalid~.invalid-tooltip{display:block}.was-validated textarea.form-control:invalid,textarea.form-control.is-invalid{padding-right:calc(1.5em + .75rem);background-position:top calc(.375em + .1875rem) right calc(.375em + .1875rem)}.custom-select.is-invalid,.was-validated .custom-select:invalid{border-color:#dc3545;padding-right:calc((3em + 2.25rem)/4 + 1.75rem);background:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 4 5'%3E%3Cpath fill='%23343a40' d='M2 0L0 2h4zm0 5L0 3h4z'/%3E%3C/svg%3E\") no-repeat right .75rem center/8px 10px,url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23dc3545' viewBox='-2 -2 7 7'%3E%3Cpath stroke='%23dc3545' d='M0 0l3 3m0-3L0 3'/%3E%3Ccircle r='.5'/%3E%3Ccircle cx='3' r='.5'/%3E%3Ccircle cy='3' r='.5'/%3E%3Ccircle cx='3' cy='3' r='.5'/%3E%3C/svg%3E\") #fff no-repeat center right 1.75rem/calc(.75em + .375rem) calc(.75em + .375rem)}.custom-select.is-invalid:focus,.was-validated .custom-select:invalid:focus{border-color:#dc3545;box-shadow:0 0 0 .2rem rgba(220,53,69,.25)}.custom-select.is-invalid~.invalid-feedback,.custom-select.is-invalid~.invalid-tooltip,.form-control-file.is-invalid~.invalid-feedback,.form-control-file.is-invalid~.invalid-tooltip,.was-validated .custom-select:invalid~.invalid-feedback,.was-validated .custom-select:invalid~.invalid-tooltip,.was-validated .form-control-file:invalid~.invalid-feedback,.was-validated .form-control-file:invalid~.invalid-tooltip{display:block}.form-check-input.is-invalid~.form-check-label,.was-validated .form-check-input:invalid~.form-check-label{color:#dc3545}.form-check-input.is-invalid~.invalid-feedback,.form-check-input.is-invalid~.invalid-tooltip,.was-validated .form-check-input:invalid~.invalid-feedback,.was-validated .form-check-input:invalid~.invalid-tooltip{display:block}.custom-control-input.is-invalid~.custom-control-label,.was-validated .custom-control-input:invalid~.custom-control-label{color:#dc3545}.custom-control-input.is-invalid~.custom-control-label:before,.was-validated .custom-control-input:invalid~.custom-control-label:before{border-color:#dc3545}.custom-control-input.is-invalid~.invalid-feedback,.custom-control-input.is-invalid~.invalid-tooltip,.was-validated .custom-control-input:invalid~.invalid-feedback,.was-validated .custom-control-input:invalid~.invalid-tooltip{display:block}.custom-control-input.is-invalid:checked~.custom-control-label:before,.was-validated .custom-control-input:invalid:checked~.custom-control-label:before{border-color:#e4606d;background-color:#e4606d}.custom-control-input.is-invalid:focus~.custom-control-label:before,.was-validated .custom-control-input:invalid:focus~.custom-control-label:before{box-shadow:0 0 0 .2rem rgba(220,53,69,.25)}.custom-control-input.is-invalid:focus:not(:checked)~.custom-control-label:before,.custom-file-input.is-invalid~.custom-file-label,.was-validated .custom-control-input:invalid:focus:not(:checked)~.custom-control-label:before,.was-validated .custom-file-input:invalid~.custom-file-label{border-color:#dc3545}.custom-file-input.is-invalid~.invalid-feedback,.custom-file-input.is-invalid~.invalid-tooltip,.was-validated .custom-file-input:invalid~.invalid-feedback,.was-validated .custom-file-input:invalid~.invalid-tooltip{display:block}.custom-file-input.is-invalid:focus~.custom-file-label,.was-validated .custom-file-input:invalid:focus~.custom-file-label{border-color:#dc3545;box-shadow:0 0 0 .2rem rgba(220,53,69,.25)}.form-inline{display:flex;flex-flow:row wrap;align-items:center}.form-inline .form-check{width:100%}@media (min-width:576px){.form-inline label{justify-content:center}.form-inline .form-group,.form-inline label{display:flex;align-items:center;margin-bottom:0}.form-inline .form-group{flex:0 0 auto;flex-flow:row wrap}.form-inline .form-control{display:inline-block;width:auto;vertical-align:middle}.form-inline .form-control-plaintext{display:inline-block}.form-inline .custom-select,.form-inline .input-group{width:auto}.form-inline .form-check{display:flex;align-items:center;justify-content:center;width:auto;padding-left:0}.form-inline .form-check-input{position:relative;flex-shrink:0;margin-top:0;margin-right:.25rem;margin-left:0}.form-inline .custom-control{align-items:center;justify-content:center}.form-inline .custom-control-label{margin-bottom:0}}.btn{display:inline-block;font-weight:400;color:#212529;text-align:center;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:transparent;border:1px solid transparent;padding:.375rem .75rem;font-size:1rem;line-height:1.5;border-radius:.25rem;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.btn{transition:none}}.btn:hover{color:#212529;text-decoration:none}.btn.focus,.btn:focus{outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.btn.disabled,.btn:disabled{opacity:.65}a.btn.disabled,fieldset:disabled a.btn{pointer-events:none}.btn-primary{color:#fff;background-color:#007bff;border-color:#007bff}.btn-primary:hover{color:#fff;background-color:#0069d9;border-color:#0062cc}.btn-primary.focus,.btn-primary:focus{box-shadow:0 0 0 .2rem rgba(38,143,255,.5)}.btn-primary.disabled,.btn-primary:disabled{color:#fff;background-color:#007bff;border-color:#007bff}.btn-primary:not(:disabled):not(.disabled).active,.btn-primary:not(:disabled):not(.disabled):active,.show>.btn-primary.dropdown-toggle{color:#fff;background-color:#0062cc;border-color:#005cbf}.btn-primary:not(:disabled):not(.disabled).active:focus,.btn-primary:not(:disabled):not(.disabled):active:focus,.show>.btn-primary.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(38,143,255,.5)}.btn-secondary{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn-secondary:hover{color:#fff;background-color:#5a6268;border-color:#545b62}.btn-secondary.focus,.btn-secondary:focus{box-shadow:0 0 0 .2rem rgba(130,138,145,.5)}.btn-secondary.disabled,.btn-secondary:disabled{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn-secondary:not(:disabled):not(.disabled).active,.btn-secondary:not(:disabled):not(.disabled):active,.show>.btn-secondary.dropdown-toggle{color:#fff;background-color:#545b62;border-color:#4e555b}.btn-secondary:not(:disabled):not(.disabled).active:focus,.btn-secondary:not(:disabled):not(.disabled):active:focus,.show>.btn-secondary.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(130,138,145,.5)}.btn-success{color:#fff;background-color:#28a745;border-color:#28a745}.btn-success:hover{color:#fff;background-color:#218838;border-color:#1e7e34}.btn-success.focus,.btn-success:focus{box-shadow:0 0 0 .2rem rgba(72,180,97,.5)}.btn-success.disabled,.btn-success:disabled{color:#fff;background-color:#28a745;border-color:#28a745}.btn-success:not(:disabled):not(.disabled).active,.btn-success:not(:disabled):not(.disabled):active,.show>.btn-success.dropdown-toggle{color:#fff;background-color:#1e7e34;border-color:#1c7430}.btn-success:not(:disabled):not(.disabled).active:focus,.btn-success:not(:disabled):not(.disabled):active:focus,.show>.btn-success.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(72,180,97,.5)}.btn-info{color:#fff;background-color:#17a2b8;border-color:#17a2b8}.btn-info:hover{color:#fff;background-color:#138496;border-color:#117a8b}.btn-info.focus,.btn-info:focus{box-shadow:0 0 0 .2rem rgba(58,176,195,.5)}.btn-info.disabled,.btn-info:disabled{color:#fff;background-color:#17a2b8;border-color:#17a2b8}.btn-info:not(:disabled):not(.disabled).active,.btn-info:not(:disabled):not(.disabled):active,.show>.btn-info.dropdown-toggle{color:#fff;background-color:#117a8b;border-color:#10707f}.btn-info:not(:disabled):not(.disabled).active:focus,.btn-info:not(:disabled):not(.disabled):active:focus,.show>.btn-info.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(58,176,195,.5)}.btn-warning{color:#212529;background-color:#ffc107;border-color:#ffc107}.btn-warning:hover{color:#212529;background-color:#e0a800;border-color:#d39e00}.btn-warning.focus,.btn-warning:focus{box-shadow:0 0 0 .2rem rgba(222,170,12,.5)}.btn-warning.disabled,.btn-warning:disabled{color:#212529;background-color:#ffc107;border-color:#ffc107}.btn-warning:not(:disabled):not(.disabled).active,.btn-warning:not(:disabled):not(.disabled):active,.show>.btn-warning.dropdown-toggle{color:#212529;background-color:#d39e00;border-color:#c69500}.btn-warning:not(:disabled):not(.disabled).active:focus,.btn-warning:not(:disabled):not(.disabled):active:focus,.show>.btn-warning.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(222,170,12,.5)}.btn-danger{color:#fff;background-color:#dc3545;border-color:#dc3545}.btn-danger:hover{color:#fff;background-color:#c82333;border-color:#bd2130}.btn-danger.focus,.btn-danger:focus{box-shadow:0 0 0 .2rem rgba(225,83,97,.5)}.btn-danger.disabled,.btn-danger:disabled{color:#fff;background-color:#dc3545;border-color:#dc3545}.btn-danger:not(:disabled):not(.disabled).active,.btn-danger:not(:disabled):not(.disabled):active,.show>.btn-danger.dropdown-toggle{color:#fff;background-color:#bd2130;border-color:#b21f2d}.btn-danger:not(:disabled):not(.disabled).active:focus,.btn-danger:not(:disabled):not(.disabled):active:focus,.show>.btn-danger.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(225,83,97,.5)}.btn-light{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-light:hover{color:#212529;background-color:#e2e6ea;border-color:#dae0e5}.btn-light.focus,.btn-light:focus{box-shadow:0 0 0 .2rem rgba(216,217,219,.5)}.btn-light.disabled,.btn-light:disabled{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-light:not(:disabled):not(.disabled).active,.btn-light:not(:disabled):not(.disabled):active,.show>.btn-light.dropdown-toggle{color:#212529;background-color:#dae0e5;border-color:#d3d9df}.btn-light:not(:disabled):not(.disabled).active:focus,.btn-light:not(:disabled):not(.disabled):active:focus,.show>.btn-light.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(216,217,219,.5)}.btn-dark{color:#fff;background-color:#343a40;border-color:#343a40}.btn-dark:hover{color:#fff;background-color:#23272b;border-color:#1d2124}.btn-dark.focus,.btn-dark:focus{box-shadow:0 0 0 .2rem rgba(82,88,93,.5)}.btn-dark.disabled,.btn-dark:disabled{color:#fff;background-color:#343a40;border-color:#343a40}.btn-dark:not(:disabled):not(.disabled).active,.btn-dark:not(:disabled):not(.disabled):active,.show>.btn-dark.dropdown-toggle{color:#fff;background-color:#1d2124;border-color:#171a1d}.btn-dark:not(:disabled):not(.disabled).active:focus,.btn-dark:not(:disabled):not(.disabled):active:focus,.show>.btn-dark.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(82,88,93,.5)}.btn-outline-primary{color:#007bff;border-color:#007bff}.btn-outline-primary:hover{color:#fff;background-color:#007bff;border-color:#007bff}.btn-outline-primary.focus,.btn-outline-primary:focus{box-shadow:0 0 0 .2rem rgba(0,123,255,.5)}.btn-outline-primary.disabled,.btn-outline-primary:disabled{color:#007bff;background-color:transparent}.btn-outline-primary:not(:disabled):not(.disabled).active,.btn-outline-primary:not(:disabled):not(.disabled):active,.show>.btn-outline-primary.dropdown-toggle{color:#fff;background-color:#007bff;border-color:#007bff}.btn-outline-primary:not(:disabled):not(.disabled).active:focus,.btn-outline-primary:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-primary.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(0,123,255,.5)}.btn-outline-secondary{color:#6c757d;border-color:#6c757d}.btn-outline-secondary:hover{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn-outline-secondary.focus,.btn-outline-secondary:focus{box-shadow:0 0 0 .2rem rgba(108,117,125,.5)}.btn-outline-secondary.disabled,.btn-outline-secondary:disabled{color:#6c757d;background-color:transparent}.btn-outline-secondary:not(:disabled):not(.disabled).active,.btn-outline-secondary:not(:disabled):not(.disabled):active,.show>.btn-outline-secondary.dropdown-toggle{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn-outline-secondary:not(:disabled):not(.disabled).active:focus,.btn-outline-secondary:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-secondary.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(108,117,125,.5)}.btn-outline-success{color:#28a745;border-color:#28a745}.btn-outline-success:hover{color:#fff;background-color:#28a745;border-color:#28a745}.btn-outline-success.focus,.btn-outline-success:focus{box-shadow:0 0 0 .2rem rgba(40,167,69,.5)}.btn-outline-success.disabled,.btn-outline-success:disabled{color:#28a745;background-color:transparent}.btn-outline-success:not(:disabled):not(.disabled).active,.btn-outline-success:not(:disabled):not(.disabled):active,.show>.btn-outline-success.dropdown-toggle{color:#fff;background-color:#28a745;border-color:#28a745}.btn-outline-success:not(:disabled):not(.disabled).active:focus,.btn-outline-success:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-success.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(40,167,69,.5)}.btn-outline-info{color:#17a2b8;border-color:#17a2b8}.btn-outline-info:hover{color:#fff;background-color:#17a2b8;border-color:#17a2b8}.btn-outline-info.focus,.btn-outline-info:focus{box-shadow:0 0 0 .2rem rgba(23,162,184,.5)}.btn-outline-info.disabled,.btn-outline-info:disabled{color:#17a2b8;background-color:transparent}.btn-outline-info:not(:disabled):not(.disabled).active,.btn-outline-info:not(:disabled):not(.disabled):active,.show>.btn-outline-info.dropdown-toggle{color:#fff;background-color:#17a2b8;border-color:#17a2b8}.btn-outline-info:not(:disabled):not(.disabled).active:focus,.btn-outline-info:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-info.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(23,162,184,.5)}.btn-outline-warning{color:#ffc107;border-color:#ffc107}.btn-outline-warning:hover{color:#212529;background-color:#ffc107;border-color:#ffc107}.btn-outline-warning.focus,.btn-outline-warning:focus{box-shadow:0 0 0 .2rem rgba(255,193,7,.5)}.btn-outline-warning.disabled,.btn-outline-warning:disabled{color:#ffc107;background-color:transparent}.btn-outline-warning:not(:disabled):not(.disabled).active,.btn-outline-warning:not(:disabled):not(.disabled):active,.show>.btn-outline-warning.dropdown-toggle{color:#212529;background-color:#ffc107;border-color:#ffc107}.btn-outline-warning:not(:disabled):not(.disabled).active:focus,.btn-outline-warning:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-warning.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(255,193,7,.5)}.btn-outline-danger{color:#dc3545;border-color:#dc3545}.btn-outline-danger:hover{color:#fff;background-color:#dc3545;border-color:#dc3545}.btn-outline-danger.focus,.btn-outline-danger:focus{box-shadow:0 0 0 .2rem rgba(220,53,69,.5)}.btn-outline-danger.disabled,.btn-outline-danger:disabled{color:#dc3545;background-color:transparent}.btn-outline-danger:not(:disabled):not(.disabled).active,.btn-outline-danger:not(:disabled):not(.disabled):active,.show>.btn-outline-danger.dropdown-toggle{color:#fff;background-color:#dc3545;border-color:#dc3545}.btn-outline-danger:not(:disabled):not(.disabled).active:focus,.btn-outline-danger:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-danger.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(220,53,69,.5)}.btn-outline-light{color:#f8f9fa;border-color:#f8f9fa}.btn-outline-light:hover{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-outline-light.focus,.btn-outline-light:focus{box-shadow:0 0 0 .2rem rgba(248,249,250,.5)}.btn-outline-light.disabled,.btn-outline-light:disabled{color:#f8f9fa;background-color:transparent}.btn-outline-light:not(:disabled):not(.disabled).active,.btn-outline-light:not(:disabled):not(.disabled):active,.show>.btn-outline-light.dropdown-toggle{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-outline-light:not(:disabled):not(.disabled).active:focus,.btn-outline-light:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-light.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(248,249,250,.5)}.btn-outline-dark{color:#343a40;border-color:#343a40}.btn-outline-dark:hover{color:#fff;background-color:#343a40;border-color:#343a40}.btn-outline-dark.focus,.btn-outline-dark:focus{box-shadow:0 0 0 .2rem rgba(52,58,64,.5)}.btn-outline-dark.disabled,.btn-outline-dark:disabled{color:#343a40;background-color:transparent}.btn-outline-dark:not(:disabled):not(.disabled).active,.btn-outline-dark:not(:disabled):not(.disabled):active,.show>.btn-outline-dark.dropdown-toggle{color:#fff;background-color:#343a40;border-color:#343a40}.btn-outline-dark:not(:disabled):not(.disabled).active:focus,.btn-outline-dark:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-dark.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(52,58,64,.5)}.btn-link{font-weight:400;color:#007bff;text-decoration:none}.btn-link:hover{color:#0056b3;text-decoration:underline}.btn-link.focus,.btn-link:focus{text-decoration:underline;box-shadow:none}.btn-link.disabled,.btn-link:disabled{color:#6c757d;pointer-events:none}.btn-group-lg>.btn,.btn-lg{padding:.5rem 1rem;font-size:1.25rem;line-height:1.5;border-radius:.3rem}.btn-group-sm>.btn,.btn-sm{padding:.25rem .5rem;font-size:.875rem;line-height:1.5;border-radius:.2rem}.btn-block{display:block;width:100%}.btn-block+.btn-block{margin-top:.5rem}input[type=button].btn-block,input[type=reset].btn-block,input[type=submit].btn-block{width:100%}.fade{transition:opacity .15s linear}@media (prefers-reduced-motion:reduce){.fade{transition:none}}.fade:not(.show){opacity:0}.collapse:not(.show){display:none}.collapsing{position:relative;height:0;overflow:hidden;transition:height .35s ease}@media (prefers-reduced-motion:reduce){.collapsing{transition:none}}.dropdown,.dropleft,.dropright,.dropup{position:relative}.dropdown-toggle{white-space:nowrap}.dropdown-toggle:after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:\"\";border-top:.3em solid;border-right:.3em solid transparent;border-bottom:0;border-left:.3em solid transparent}.dropdown-toggle:empty:after{margin-left:0}.dropdown-menu{position:absolute;top:100%;left:0;z-index:1000;display:none;float:left;min-width:10rem;padding:.5rem 0;margin:.125rem 0 0;font-size:1rem;color:#212529;text-align:left;list-style:none;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.15);border-radius:.25rem}.dropdown-menu-left{right:auto;left:0}.dropdown-menu-right{right:0;left:auto}@media (min-width:576px){.dropdown-menu-sm-left{right:auto;left:0}.dropdown-menu-sm-right{right:0;left:auto}}@media (min-width:768px){.dropdown-menu-md-left{right:auto;left:0}.dropdown-menu-md-right{right:0;left:auto}}@media (min-width:992px){.dropdown-menu-lg-left{right:auto;left:0}.dropdown-menu-lg-right{right:0;left:auto}}@media (min-width:1200px){.dropdown-menu-xl-left{right:auto;left:0}.dropdown-menu-xl-right{right:0;left:auto}}.dropup .dropdown-menu{top:auto;bottom:100%;margin-top:0;margin-bottom:.125rem}.dropup .dropdown-toggle:after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:\"\";border-top:0;border-right:.3em solid transparent;border-bottom:.3em solid;border-left:.3em solid transparent}.dropup .dropdown-toggle:empty:after{margin-left:0}.dropright .dropdown-menu{top:0;right:auto;left:100%;margin-top:0;margin-left:.125rem}.dropright .dropdown-toggle:after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:\"\";border-top:.3em solid transparent;border-right:0;border-bottom:.3em solid transparent;border-left:.3em solid}.dropright .dropdown-toggle:empty:after{margin-left:0}.dropright .dropdown-toggle:after{vertical-align:0}.dropleft .dropdown-menu{top:0;right:100%;left:auto;margin-top:0;margin-right:.125rem}.dropleft .dropdown-toggle:after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:\"\";display:none}.dropleft .dropdown-toggle:before{display:inline-block;margin-right:.255em;vertical-align:.255em;content:\"\";border-top:.3em solid transparent;border-right:.3em solid;border-bottom:.3em solid transparent}.dropleft .dropdown-toggle:empty:after{margin-left:0}.dropleft .dropdown-toggle:before{vertical-align:0}.dropdown-menu[x-placement^=bottom],.dropdown-menu[x-placement^=left],.dropdown-menu[x-placement^=right],.dropdown-menu[x-placement^=top]{right:auto;bottom:auto}.dropdown-divider{height:0;margin:.5rem 0;overflow:hidden;border-top:1px solid #e9ecef}.dropdown-item{display:block;width:100%;padding:.25rem 1.5rem;clear:both;font-weight:400;color:#212529;text-align:inherit;white-space:nowrap;background-color:transparent;border:0}.dropdown-item:focus,.dropdown-item:hover{color:#16181b;text-decoration:none;background-color:#f8f9fa}.dropdown-item.active,.dropdown-item:active{color:#fff;text-decoration:none;background-color:#007bff}.dropdown-item.disabled,.dropdown-item:disabled{color:#6c757d;pointer-events:none;background-color:transparent}.dropdown-menu.show{display:block}.dropdown-header{display:block;padding:.5rem 1.5rem;margin-bottom:0;font-size:.875rem;color:#6c757d;white-space:nowrap}.dropdown-item-text{display:block;padding:.25rem 1.5rem;color:#212529}.btn-group,.btn-group-vertical{position:relative;display:inline-flex;vertical-align:middle}.btn-group-vertical>.btn,.btn-group>.btn{position:relative;flex:1 1 auto}.btn-group-vertical>.btn.active,.btn-group-vertical>.btn:active,.btn-group-vertical>.btn:focus,.btn-group-vertical>.btn:hover,.btn-group>.btn.active,.btn-group>.btn:active,.btn-group>.btn:focus,.btn-group>.btn:hover{z-index:1}.btn-toolbar{display:flex;flex-wrap:wrap;justify-content:flex-start}.btn-toolbar .input-group{width:auto}.btn-group>.btn-group:not(:first-child),.btn-group>.btn:not(:first-child){margin-left:-1px}.btn-group>.btn-group:not(:last-child)>.btn,.btn-group>.btn:not(:last-child):not(.dropdown-toggle){border-top-right-radius:0;border-bottom-right-radius:0}.btn-group>.btn-group:not(:first-child)>.btn,.btn-group>.btn:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.dropdown-toggle-split{padding-right:.5625rem;padding-left:.5625rem}.dropdown-toggle-split:after,.dropright .dropdown-toggle-split:after,.dropup .dropdown-toggle-split:after{margin-left:0}.dropleft .dropdown-toggle-split:before{margin-right:0}.btn-group-sm>.btn+.dropdown-toggle-split,.btn-sm+.dropdown-toggle-split{padding-right:.375rem;padding-left:.375rem}.btn-group-lg>.btn+.dropdown-toggle-split,.btn-lg+.dropdown-toggle-split{padding-right:.75rem;padding-left:.75rem}.btn-group-vertical{flex-direction:column;align-items:flex-start;justify-content:center}.btn-group-vertical>.btn,.btn-group-vertical>.btn-group{width:100%}.btn-group-vertical>.btn-group:not(:first-child),.btn-group-vertical>.btn:not(:first-child){margin-top:-1px}.btn-group-vertical>.btn-group:not(:last-child)>.btn,.btn-group-vertical>.btn:not(:last-child):not(.dropdown-toggle){border-bottom-right-radius:0;border-bottom-left-radius:0}.btn-group-vertical>.btn-group:not(:first-child)>.btn,.btn-group-vertical>.btn:not(:first-child){border-top-left-radius:0;border-top-right-radius:0}.btn-group-toggle>.btn,.btn-group-toggle>.btn-group>.btn{margin-bottom:0}.btn-group-toggle>.btn-group>.btn input[type=checkbox],.btn-group-toggle>.btn-group>.btn input[type=radio],.btn-group-toggle>.btn input[type=checkbox],.btn-group-toggle>.btn input[type=radio]{position:absolute;clip:rect(0,0,0,0);pointer-events:none}.input-group{position:relative;display:flex;flex-wrap:wrap;align-items:stretch;width:100%}.input-group>.custom-file,.input-group>.custom-select,.input-group>.form-control,.input-group>.form-control-plaintext{position:relative;flex:1 1 auto;width:1%;margin-bottom:0}.input-group>.custom-file+.custom-file,.input-group>.custom-file+.custom-select,.input-group>.custom-file+.form-control,.input-group>.custom-select+.custom-file,.input-group>.custom-select+.custom-select,.input-group>.custom-select+.form-control,.input-group>.form-control+.custom-file,.input-group>.form-control+.custom-select,.input-group>.form-control+.form-control,.input-group>.form-control-plaintext+.custom-file,.input-group>.form-control-plaintext+.custom-select,.input-group>.form-control-plaintext+.form-control{margin-left:-1px}.input-group>.custom-file .custom-file-input:focus~.custom-file-label,.input-group>.custom-select:focus,.input-group>.form-control:focus{z-index:3}.input-group>.custom-file .custom-file-input:focus{z-index:4}.input-group>.custom-select:not(:last-child),.input-group>.form-control:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.input-group>.custom-select:not(:first-child),.input-group>.form-control:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.input-group>.custom-file{display:flex;align-items:center}.input-group>.custom-file:not(:last-child) .custom-file-label,.input-group>.custom-file:not(:last-child) .custom-file-label:after{border-top-right-radius:0;border-bottom-right-radius:0}.input-group>.custom-file:not(:first-child) .custom-file-label{border-top-left-radius:0;border-bottom-left-radius:0}.input-group-append,.input-group-prepend{display:flex}.input-group-append .btn,.input-group-prepend .btn{position:relative;z-index:2}.input-group-append .btn:focus,.input-group-prepend .btn:focus{z-index:3}.input-group-append .btn+.btn,.input-group-append .btn+.input-group-text,.input-group-append .input-group-text+.btn,.input-group-append .input-group-text+.input-group-text,.input-group-prepend .btn+.btn,.input-group-prepend .btn+.input-group-text,.input-group-prepend .input-group-text+.btn,.input-group-prepend .input-group-text+.input-group-text{margin-left:-1px}.input-group-prepend{margin-right:-1px}.input-group-append{margin-left:-1px}.input-group-text{display:flex;align-items:center;padding:.375rem .75rem;margin-bottom:0;font-size:1rem;font-weight:400;line-height:1.5;color:#495057;text-align:center;white-space:nowrap;background-color:#e9ecef;border:1px solid #ced4da;border-radius:.25rem}.input-group-text input[type=checkbox],.input-group-text input[type=radio]{margin-top:0}.input-group-lg>.custom-select,.input-group-lg>.form-control:not(textarea){height:calc(1.5em + 1rem + 2px)}.input-group-lg>.custom-select,.input-group-lg>.form-control,.input-group-lg>.input-group-append>.btn,.input-group-lg>.input-group-append>.input-group-text,.input-group-lg>.input-group-prepend>.btn,.input-group-lg>.input-group-prepend>.input-group-text{padding:.5rem 1rem;font-size:1.25rem;line-height:1.5;border-radius:.3rem}.input-group-sm>.custom-select,.input-group-sm>.form-control:not(textarea){height:calc(1.5em + .5rem + 2px)}.input-group-sm>.custom-select,.input-group-sm>.form-control,.input-group-sm>.input-group-append>.btn,.input-group-sm>.input-group-append>.input-group-text,.input-group-sm>.input-group-prepend>.btn,.input-group-sm>.input-group-prepend>.input-group-text{padding:.25rem .5rem;font-size:.875rem;line-height:1.5;border-radius:.2rem}.input-group-lg>.custom-select,.input-group-sm>.custom-select{padding-right:1.75rem}.input-group>.input-group-append:last-child>.btn:not(:last-child):not(.dropdown-toggle),.input-group>.input-group-append:last-child>.input-group-text:not(:last-child),.input-group>.input-group-append:not(:last-child)>.btn,.input-group>.input-group-append:not(:last-child)>.input-group-text,.input-group>.input-group-prepend>.btn,.input-group>.input-group-prepend>.input-group-text{border-top-right-radius:0;border-bottom-right-radius:0}.input-group>.input-group-append>.btn,.input-group>.input-group-append>.input-group-text,.input-group>.input-group-prepend:first-child>.btn:not(:first-child),.input-group>.input-group-prepend:first-child>.input-group-text:not(:first-child),.input-group>.input-group-prepend:not(:first-child)>.btn,.input-group>.input-group-prepend:not(:first-child)>.input-group-text{border-top-left-radius:0;border-bottom-left-radius:0}.custom-control{position:relative;display:block;min-height:1.5rem;padding-left:1.5rem}.custom-control-inline{display:inline-flex;margin-right:1rem}.custom-control-input{position:absolute;z-index:-1;opacity:0}.custom-control-input:checked~.custom-control-label:before{color:#fff;border-color:#007bff;background-color:#007bff}.custom-control-input:focus~.custom-control-label:before{box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.custom-control-input:focus:not(:checked)~.custom-control-label:before{border-color:#80bdff}.custom-control-input:not(:disabled):active~.custom-control-label:before{color:#fff;background-color:#b3d7ff;border-color:#b3d7ff}.custom-control-input:disabled~.custom-control-label{color:#6c757d}.custom-control-input:disabled~.custom-control-label:before{background-color:#e9ecef}.custom-control-label{position:relative;margin-bottom:0;vertical-align:top}.custom-control-label:before{pointer-events:none;background-color:#fff;border:1px solid #adb5bd}.custom-control-label:after,.custom-control-label:before{position:absolute;top:.25rem;left:-1.5rem;display:block;width:1rem;height:1rem;content:\"\"}.custom-control-label:after{background:no-repeat 50%/50% 50%}.custom-checkbox .custom-control-label:before{border-radius:.25rem}.custom-checkbox .custom-control-input:checked~.custom-control-label:after{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'%3E%3Cpath fill='%23fff' d='M6.564.75l-3.59 3.612-1.538-1.55L0 4.26l2.974 2.99L8 2.193z'/%3E%3C/svg%3E\")}.custom-checkbox .custom-control-input:indeterminate~.custom-control-label:before{border-color:#007bff;background-color:#007bff}.custom-checkbox .custom-control-input:indeterminate~.custom-control-label:after{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 4 4'%3E%3Cpath stroke='%23fff' d='M0 2h4'/%3E%3C/svg%3E\")}.custom-checkbox .custom-control-input:disabled:checked~.custom-control-label:before{background-color:rgba(0,123,255,.5)}.custom-checkbox .custom-control-input:disabled:indeterminate~.custom-control-label:before{background-color:rgba(0,123,255,.5)}.custom-radio .custom-control-label:before{border-radius:50%}.custom-radio .custom-control-input:checked~.custom-control-label:after{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3E%3Ccircle r='3' fill='%23fff'/%3E%3C/svg%3E\")}.custom-radio .custom-control-input:disabled:checked~.custom-control-label:before{background-color:rgba(0,123,255,.5)}.custom-switch{padding-left:2.25rem}.custom-switch .custom-control-label:before{left:-2.25rem;width:1.75rem;pointer-events:all;border-radius:.5rem}.custom-switch .custom-control-label:after{top:calc(.25rem + 2px);left:calc(-2.25rem + 2px);width:calc(1rem - 4px);height:calc(1rem - 4px);background-color:#adb5bd;border-radius:.5rem;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out,-webkit-transform .15s ease-in-out;transition:transform .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:transform .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out,-webkit-transform .15s ease-in-out}@media (prefers-reduced-motion:reduce){.custom-switch .custom-control-label:after{transition:none}}.custom-switch .custom-control-input:checked~.custom-control-label:after{background-color:#fff;-webkit-transform:translateX(.75rem);transform:translateX(.75rem)}.custom-switch .custom-control-input:disabled:checked~.custom-control-label:before{background-color:rgba(0,123,255,.5)}.custom-select{display:inline-block;width:100%;height:calc(1.5em + .75rem + 2px);padding:.375rem 1.75rem .375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:#495057;vertical-align:middle;background:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 4 5'%3E%3Cpath fill='%23343a40' d='M2 0L0 2h4zm0 5L0 3h4z'/%3E%3C/svg%3E\") no-repeat right .75rem center/8px 10px;background-color:#fff;border:1px solid #ced4da;border-radius:.25rem;-webkit-appearance:none;-moz-appearance:none;appearance:none}.custom-select:focus{border-color:#80bdff;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.custom-select:focus::-ms-value{color:#495057;background-color:#fff}.custom-select[multiple],.custom-select[size]:not([size=\"1\"]){height:auto;padding-right:.75rem;background-image:none}.custom-select:disabled{color:#6c757d;background-color:#e9ecef}.custom-select::-ms-expand{display:none}.custom-select-sm{height:calc(1.5em + .5rem + 2px);padding-top:.25rem;padding-bottom:.25rem;padding-left:.5rem;font-size:.875rem}.custom-select-lg{height:calc(1.5em + 1rem + 2px);padding-top:.5rem;padding-bottom:.5rem;padding-left:1rem;font-size:1.25rem}.custom-file{display:inline-block;margin-bottom:0}.custom-file,.custom-file-input{position:relative;width:100%;height:calc(1.5em + .75rem + 2px)}.custom-file-input{z-index:2;margin:0;opacity:0}.custom-file-input:focus~.custom-file-label{border-color:#80bdff;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.custom-file-input:disabled~.custom-file-label{background-color:#e9ecef}.custom-file-input:lang(en)~.custom-file-label:after{content:\"Browse\"}.custom-file-input~.custom-file-label[data-browse]:after{content:attr(data-browse)}.custom-file-label{left:0;z-index:1;height:calc(1.5em + .75rem + 2px);font-weight:400;background-color:#fff;border:1px solid #ced4da;border-radius:.25rem}.custom-file-label,.custom-file-label:after{position:absolute;top:0;right:0;padding:.375rem .75rem;line-height:1.5;color:#495057}.custom-file-label:after{bottom:0;z-index:3;display:block;height:calc(1.5em + .75rem);content:\"Browse\";background-color:#e9ecef;border-left:inherit;border-radius:0 .25rem .25rem 0}.custom-range{width:100%;height:1.4rem;padding:0;background-color:transparent;-webkit-appearance:none;-moz-appearance:none;appearance:none}.custom-range:focus{outline:none}.custom-range:focus::-webkit-slider-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .2rem rgba(0,123,255,.25)}.custom-range:focus::-moz-range-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .2rem rgba(0,123,255,.25)}.custom-range:focus::-ms-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .2rem rgba(0,123,255,.25)}.custom-range::-moz-focus-outer{border:0}.custom-range::-webkit-slider-thumb{width:1rem;height:1rem;margin-top:-.25rem;background-color:#007bff;border:0;border-radius:1rem;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;-webkit-appearance:none;appearance:none}@media (prefers-reduced-motion:reduce){.custom-range::-webkit-slider-thumb{transition:none}}.custom-range::-webkit-slider-thumb:active{background-color:#b3d7ff}.custom-range::-webkit-slider-runnable-track{width:100%;height:.5rem;color:transparent;cursor:pointer;background-color:#dee2e6;border-color:transparent;border-radius:1rem}.custom-range::-moz-range-thumb{width:1rem;height:1rem;background-color:#007bff;border:0;border-radius:1rem;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;-moz-appearance:none;appearance:none}@media (prefers-reduced-motion:reduce){.custom-range::-moz-range-thumb{transition:none}}.custom-range::-moz-range-thumb:active{background-color:#b3d7ff}.custom-range::-moz-range-track{width:100%;height:.5rem;color:transparent;cursor:pointer;background-color:#dee2e6;border-color:transparent;border-radius:1rem}.custom-range::-ms-thumb{width:1rem;height:1rem;margin-top:0;margin-right:.2rem;margin-left:.2rem;background-color:#007bff;border:0;border-radius:1rem;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;appearance:none}@media (prefers-reduced-motion:reduce){.custom-range::-ms-thumb{transition:none}}.custom-range::-ms-thumb:active{background-color:#b3d7ff}.custom-range::-ms-track{width:100%;height:.5rem;color:transparent;cursor:pointer;background-color:transparent;border-color:transparent;border-width:.5rem}.custom-range::-ms-fill-lower,.custom-range::-ms-fill-upper{background-color:#dee2e6;border-radius:1rem}.custom-range::-ms-fill-upper{margin-right:15px}.custom-range:disabled::-webkit-slider-thumb{background-color:#adb5bd}.custom-range:disabled::-webkit-slider-runnable-track{cursor:default}.custom-range:disabled::-moz-range-thumb{background-color:#adb5bd}.custom-range:disabled::-moz-range-track{cursor:default}.custom-range:disabled::-ms-thumb{background-color:#adb5bd}.custom-control-label:before,.custom-file-label,.custom-select{transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.custom-control-label:before,.custom-file-label,.custom-select{transition:none}}.nav{display:flex;flex-wrap:wrap;padding-left:0;margin-bottom:0;list-style:none}.nav-link{display:block;padding:.5rem 1rem}.nav-link:focus,.nav-link:hover{text-decoration:none}.nav-link.disabled{color:#6c757d;pointer-events:none;cursor:default}.nav-tabs{border-bottom:1px solid #dee2e6}.nav-tabs .nav-item{margin-bottom:-1px}.nav-tabs .nav-link{border:1px solid transparent;border-top-left-radius:.25rem;border-top-right-radius:.25rem}.nav-tabs .nav-link:focus,.nav-tabs .nav-link:hover{border-color:#e9ecef #e9ecef #dee2e6}.nav-tabs .nav-link.disabled{color:#6c757d;background-color:transparent;border-color:transparent}.nav-tabs .nav-item.show .nav-link,.nav-tabs .nav-link.active{color:#495057;background-color:#fff;border-color:#dee2e6 #dee2e6 #fff}.nav-tabs .dropdown-menu{margin-top:-1px;border-top-left-radius:0;border-top-right-radius:0}.nav-pills .nav-link{border-radius:.25rem}.nav-pills .nav-link.active,.nav-pills .show>.nav-link{color:#fff;background-color:#007bff}.nav-fill .nav-item{flex:1 1 auto;text-align:center}.nav-justified .nav-item{flex-basis:0;flex-grow:1;text-align:center}.tab-content>.tab-pane{display:none}.tab-content>.active{display:block}.navbar{position:relative;padding:.5rem 1rem}.navbar,.navbar>.container,.navbar>.container-fluid{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between}.navbar-brand{display:inline-block;padding-top:.3125rem;padding-bottom:.3125rem;margin-right:1rem;font-size:1.25rem;line-height:inherit;white-space:nowrap}.navbar-brand:focus,.navbar-brand:hover{text-decoration:none}.navbar-nav{display:flex;flex-direction:column;padding-left:0;margin-bottom:0;list-style:none}.navbar-nav .nav-link{padding-right:0;padding-left:0}.navbar-nav .dropdown-menu{position:static;float:none}.navbar-text{display:inline-block;padding-top:.5rem;padding-bottom:.5rem}.navbar-collapse{flex-basis:100%;flex-grow:1;align-items:center}.navbar-toggler{padding:.25rem .75rem;font-size:1.25rem;line-height:1;background-color:transparent;border:1px solid transparent;border-radius:.25rem}.navbar-toggler:focus,.navbar-toggler:hover{text-decoration:none}.navbar-toggler-icon{display:inline-block;width:1.5em;height:1.5em;vertical-align:middle;content:\"\";background:no-repeat 50%;background-size:100% 100%}@media (max-width:575.98px){.navbar-expand-sm>.container,.navbar-expand-sm>.container-fluid{padding-right:0;padding-left:0}}@media (min-width:576px){.navbar-expand-sm{flex-flow:row nowrap;justify-content:flex-start}.navbar-expand-sm .navbar-nav{flex-direction:row}.navbar-expand-sm .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-sm .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand-sm>.container,.navbar-expand-sm>.container-fluid{flex-wrap:nowrap}.navbar-expand-sm .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand-sm .navbar-toggler{display:none}}@media (max-width:767.98px){.navbar-expand-md>.container,.navbar-expand-md>.container-fluid{padding-right:0;padding-left:0}}@media (min-width:768px){.navbar-expand-md{flex-flow:row nowrap;justify-content:flex-start}.navbar-expand-md .navbar-nav{flex-direction:row}.navbar-expand-md .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-md .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand-md>.container,.navbar-expand-md>.container-fluid{flex-wrap:nowrap}.navbar-expand-md .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand-md .navbar-toggler{display:none}}@media (max-width:991.98px){.navbar-expand-lg>.container,.navbar-expand-lg>.container-fluid{padding-right:0;padding-left:0}}@media (min-width:992px){.navbar-expand-lg{flex-flow:row nowrap;justify-content:flex-start}.navbar-expand-lg .navbar-nav{flex-direction:row}.navbar-expand-lg .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-lg .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand-lg>.container,.navbar-expand-lg>.container-fluid{flex-wrap:nowrap}.navbar-expand-lg .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand-lg .navbar-toggler{display:none}}@media (max-width:1199.98px){.navbar-expand-xl>.container,.navbar-expand-xl>.container-fluid{padding-right:0;padding-left:0}}@media (min-width:1200px){.navbar-expand-xl{flex-flow:row nowrap;justify-content:flex-start}.navbar-expand-xl .navbar-nav{flex-direction:row}.navbar-expand-xl .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-xl .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand-xl>.container,.navbar-expand-xl>.container-fluid{flex-wrap:nowrap}.navbar-expand-xl .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand-xl .navbar-toggler{display:none}}.navbar-expand{flex-flow:row nowrap;justify-content:flex-start}.navbar-expand>.container,.navbar-expand>.container-fluid{padding-right:0;padding-left:0}.navbar-expand .navbar-nav{flex-direction:row}.navbar-expand .navbar-nav .dropdown-menu{position:absolute}.navbar-expand .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand>.container,.navbar-expand>.container-fluid{flex-wrap:nowrap}.navbar-expand .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand .navbar-toggler{display:none}.navbar-light .navbar-brand,.navbar-light .navbar-brand:focus,.navbar-light .navbar-brand:hover{color:rgba(0,0,0,.9)}.navbar-light .navbar-nav .nav-link{color:rgba(0,0,0,.5)}.navbar-light .navbar-nav .nav-link:focus,.navbar-light .navbar-nav .nav-link:hover{color:rgba(0,0,0,.7)}.navbar-light .navbar-nav .nav-link.disabled{color:rgba(0,0,0,.3)}.navbar-light .navbar-nav .active>.nav-link,.navbar-light .navbar-nav .nav-link.active,.navbar-light .navbar-nav .nav-link.show,.navbar-light .navbar-nav .show>.nav-link{color:rgba(0,0,0,.9)}.navbar-light .navbar-toggler{color:rgba(0,0,0,.5);border-color:rgba(0,0,0,.1)}.navbar-light .navbar-toggler-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 30 30' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath stroke='rgba(0, 0, 0, 0.5)' stroke-width='2' stroke-linecap='round' stroke-miterlimit='10' d='M4 7h22M4 15h22M4 23h22'/%3E%3C/svg%3E\")}.navbar-light .navbar-text{color:rgba(0,0,0,.5)}.navbar-light .navbar-text a,.navbar-light .navbar-text a:focus,.navbar-light .navbar-text a:hover{color:rgba(0,0,0,.9)}.navbar-dark .navbar-brand,.navbar-dark .navbar-brand:focus,.navbar-dark .navbar-brand:hover{color:#fff}.navbar-dark .navbar-nav .nav-link{color:hsla(0,0%,100%,.5)}.navbar-dark .navbar-nav .nav-link:focus,.navbar-dark .navbar-nav .nav-link:hover{color:hsla(0,0%,100%,.75)}.navbar-dark .navbar-nav .nav-link.disabled{color:hsla(0,0%,100%,.25)}.navbar-dark .navbar-nav .active>.nav-link,.navbar-dark .navbar-nav .nav-link.active,.navbar-dark .navbar-nav .nav-link.show,.navbar-dark .navbar-nav .show>.nav-link{color:#fff}.navbar-dark .navbar-toggler{color:hsla(0,0%,100%,.5);border-color:hsla(0,0%,100%,.1)}.navbar-dark .navbar-toggler-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 30 30' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath stroke='rgba(255, 255, 255, 0.5)' stroke-width='2' stroke-linecap='round' stroke-miterlimit='10' d='M4 7h22M4 15h22M4 23h22'/%3E%3C/svg%3E\")}.navbar-dark .navbar-text{color:hsla(0,0%,100%,.5)}.navbar-dark .navbar-text a,.navbar-dark .navbar-text a:focus,.navbar-dark .navbar-text a:hover{color:#fff}.card{position:relative;display:flex;flex-direction:column;min-width:0;word-wrap:break-word;background-color:#fff;background-clip:border-box;border:1px solid rgba(0,0,0,.125);border-radius:.25rem}.card>hr{margin-right:0;margin-left:0}.card>.list-group:first-child .list-group-item:first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.card>.list-group:last-child .list-group-item:last-child{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.card-body{flex:1 1 auto;padding:1.25rem}.card-title{margin-bottom:.75rem}.card-subtitle{margin-top:-.375rem}.card-subtitle,.card-text:last-child{margin-bottom:0}.card-link:hover{text-decoration:none}.card-link+.card-link{margin-left:1.25rem}.card-header{padding:.75rem 1.25rem;margin-bottom:0;background-color:rgba(0,0,0,.03);border-bottom:1px solid rgba(0,0,0,.125)}.card-header:first-child{border-radius:calc(.25rem - 1px) calc(.25rem - 1px) 0 0}.card-header+.list-group .list-group-item:first-child{border-top:0}.card-footer{padding:.75rem 1.25rem;background-color:rgba(0,0,0,.03);border-top:1px solid rgba(0,0,0,.125)}.card-footer:last-child{border-radius:0 0 calc(.25rem - 1px) calc(.25rem - 1px)}.card-header-tabs{margin-bottom:-.75rem;border-bottom:0}.card-header-pills,.card-header-tabs{margin-right:-.625rem;margin-left:-.625rem}.card-img-overlay{position:absolute;top:0;right:0;bottom:0;left:0;padding:1.25rem}.card-img{width:100%;border-radius:calc(.25rem - 1px)}.card-img-top{width:100%;border-top-left-radius:calc(.25rem - 1px);border-top-right-radius:calc(.25rem - 1px)}.card-img-bottom{width:100%;border-bottom-right-radius:calc(.25rem - 1px);border-bottom-left-radius:calc(.25rem - 1px)}.card-deck{display:flex;flex-direction:column}.card-deck .card{margin-bottom:15px}@media (min-width:576px){.card-deck{flex-flow:row wrap;margin-right:-15px;margin-left:-15px}.card-deck .card{display:flex;flex:1 0 0%;flex-direction:column;margin-right:15px;margin-bottom:0;margin-left:15px}}.card-group{display:flex;flex-direction:column}.card-group>.card{margin-bottom:15px}@media (min-width:576px){.card-group{flex-flow:row wrap}.card-group>.card{flex:1 0 0%;margin-bottom:0}.card-group>.card+.card{margin-left:0;border-left:0}.card-group>.card:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.card-group>.card:not(:last-child) .card-header,.card-group>.card:not(:last-child) .card-img-top{border-top-right-radius:0}.card-group>.card:not(:last-child) .card-footer,.card-group>.card:not(:last-child) .card-img-bottom{border-bottom-right-radius:0}.card-group>.card:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.card-group>.card:not(:first-child) .card-header,.card-group>.card:not(:first-child) .card-img-top{border-top-left-radius:0}.card-group>.card:not(:first-child) .card-footer,.card-group>.card:not(:first-child) .card-img-bottom{border-bottom-left-radius:0}}.card-columns .card{margin-bottom:.75rem}@media (min-width:576px){.card-columns{-webkit-column-count:3;column-count:3;-webkit-column-gap:1.25rem;-moz-column-gap:1.25rem;grid-column-gap:1.25rem;column-gap:1.25rem;orphans:1;widows:1}.card-columns .card{display:inline-block;width:100%}}.accordion>.card{overflow:hidden}.accordion>.card:not(:first-of-type) .card-header:first-child{border-radius:0}.accordion>.card:not(:first-of-type):not(:last-of-type){border-bottom:0;border-radius:0}.accordion>.card:first-of-type{border-bottom:0;border-bottom-right-radius:0;border-bottom-left-radius:0}.accordion>.card:last-of-type{border-top-left-radius:0;border-top-right-radius:0}.accordion>.card .card-header{margin-bottom:-1px}.breadcrumb{display:flex;flex-wrap:wrap;padding:.75rem 1rem;margin-bottom:1rem;list-style:none;background-color:#e9ecef;border-radius:.25rem}.breadcrumb-item+.breadcrumb-item{padding-left:.5rem}.breadcrumb-item+.breadcrumb-item:before{display:inline-block;padding-right:.5rem;color:#6c757d;content:\"/\"}.breadcrumb-item+.breadcrumb-item:hover:before{text-decoration:underline;text-decoration:none}.breadcrumb-item.active{color:#6c757d}.pagination{display:flex;padding-left:0;list-style:none;border-radius:.25rem}.page-link{position:relative;display:block;padding:.5rem .75rem;margin-left:-1px;line-height:1.25;color:#007bff;background-color:#fff;border:1px solid #dee2e6}.page-link:hover{z-index:2;color:#0056b3;text-decoration:none;background-color:#e9ecef;border-color:#dee2e6}.page-link:focus{z-index:2;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.page-item:first-child .page-link{margin-left:0;border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.page-item:last-child .page-link{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.page-item.active .page-link{z-index:1;color:#fff;background-color:#007bff;border-color:#007bff}.page-item.disabled .page-link{color:#6c757d;pointer-events:none;cursor:auto;background-color:#fff;border-color:#dee2e6}.pagination-lg .page-link{padding:.75rem 1.5rem;font-size:1.25rem;line-height:1.5}.pagination-lg .page-item:first-child .page-link{border-top-left-radius:.3rem;border-bottom-left-radius:.3rem}.pagination-lg .page-item:last-child .page-link{border-top-right-radius:.3rem;border-bottom-right-radius:.3rem}.pagination-sm .page-link{padding:.25rem .5rem;font-size:.875rem;line-height:1.5}.pagination-sm .page-item:first-child .page-link{border-top-left-radius:.2rem;border-bottom-left-radius:.2rem}.pagination-sm .page-item:last-child .page-link{border-top-right-radius:.2rem;border-bottom-right-radius:.2rem}.badge{display:inline-block;padding:.25em .4em;font-size:75%;font-weight:700;line-height:1;text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:.25rem;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.badge{transition:none}}a.badge:focus,a.badge:hover{text-decoration:none}.badge:empty{display:none}.btn .badge{position:relative;top:-1px}.badge-pill{padding-right:.6em;padding-left:.6em;border-radius:10rem}.badge-primary{color:#fff;background-color:#007bff}a.badge-primary:focus,a.badge-primary:hover{color:#fff;background-color:#0062cc}a.badge-primary.focus,a.badge-primary:focus{outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.5)}.badge-secondary{color:#fff;background-color:#6c757d}a.badge-secondary:focus,a.badge-secondary:hover{color:#fff;background-color:#545b62}a.badge-secondary.focus,a.badge-secondary:focus{outline:0;box-shadow:0 0 0 .2rem rgba(108,117,125,.5)}.badge-success{color:#fff;background-color:#28a745}a.badge-success:focus,a.badge-success:hover{color:#fff;background-color:#1e7e34}a.badge-success.focus,a.badge-success:focus{outline:0;box-shadow:0 0 0 .2rem rgba(40,167,69,.5)}.badge-info{color:#fff;background-color:#17a2b8}a.badge-info:focus,a.badge-info:hover{color:#fff;background-color:#117a8b}a.badge-info.focus,a.badge-info:focus{outline:0;box-shadow:0 0 0 .2rem rgba(23,162,184,.5)}.badge-warning{color:#212529;background-color:#ffc107}a.badge-warning:focus,a.badge-warning:hover{color:#212529;background-color:#d39e00}a.badge-warning.focus,a.badge-warning:focus{outline:0;box-shadow:0 0 0 .2rem rgba(255,193,7,.5)}.badge-danger{color:#fff;background-color:#dc3545}a.badge-danger:focus,a.badge-danger:hover{color:#fff;background-color:#bd2130}a.badge-danger.focus,a.badge-danger:focus{outline:0;box-shadow:0 0 0 .2rem rgba(220,53,69,.5)}.badge-light{color:#212529;background-color:#f8f9fa}a.badge-light:focus,a.badge-light:hover{color:#212529;background-color:#dae0e5}a.badge-light.focus,a.badge-light:focus{outline:0;box-shadow:0 0 0 .2rem rgba(248,249,250,.5)}.badge-dark{color:#fff;background-color:#343a40}a.badge-dark:focus,a.badge-dark:hover{color:#fff;background-color:#1d2124}a.badge-dark.focus,a.badge-dark:focus{outline:0;box-shadow:0 0 0 .2rem rgba(52,58,64,.5)}.jumbotron{padding:2rem 1rem;margin-bottom:2rem;background-color:#e9ecef;border-radius:.3rem}@media (min-width:576px){.jumbotron{padding:4rem 2rem}}.jumbotron-fluid{padding-right:0;padding-left:0;border-radius:0}.alert{position:relative;padding:.75rem 1.25rem;margin-bottom:1rem;border:1px solid transparent;border-radius:.25rem}.alert-heading{color:inherit}.alert-link{font-weight:700}.alert-dismissible{padding-right:4rem}.alert-dismissible .close{position:absolute;top:0;right:0;padding:.75rem 1.25rem;color:inherit}.alert-primary{color:#004085;background-color:#cce5ff;border-color:#b8daff}.alert-primary hr{border-top-color:#9fcdff}.alert-primary .alert-link{color:#002752}.alert-secondary{color:#383d41;background-color:#e2e3e5;border-color:#d6d8db}.alert-secondary hr{border-top-color:#c8cbcf}.alert-secondary .alert-link{color:#202326}.alert-success{color:#155724;background-color:#d4edda;border-color:#c3e6cb}.alert-success hr{border-top-color:#b1dfbb}.alert-success .alert-link{color:#0b2e13}.alert-info{color:#0c5460;background-color:#d1ecf1;border-color:#bee5eb}.alert-info hr{border-top-color:#abdde5}.alert-info .alert-link{color:#062c33}.alert-warning{color:#856404;background-color:#fff3cd;border-color:#ffeeba}.alert-warning hr{border-top-color:#ffe8a1}.alert-warning .alert-link{color:#533f03}.alert-danger{color:#721c24;background-color:#f8d7da;border-color:#f5c6cb}.alert-danger hr{border-top-color:#f1b0b7}.alert-danger .alert-link{color:#491217}.alert-light{color:#818182;background-color:#fefefe;border-color:#fdfdfe}.alert-light hr{border-top-color:#ececf6}.alert-light .alert-link{color:#686868}.alert-dark{color:#1b1e21;background-color:#d6d8d9;border-color:#c6c8ca}.alert-dark hr{border-top-color:#b9bbbe}.alert-dark .alert-link{color:#040505}@-webkit-keyframes progress-bar-stripes{0%{background-position:1rem 0}to{background-position:0 0}}@keyframes progress-bar-stripes{0%{background-position:1rem 0}to{background-position:0 0}}.progress{display:flex;height:1rem;overflow:hidden;font-size:.75rem;background-color:#e9ecef;border-radius:.25rem}.progress-bar{display:flex;flex-direction:column;justify-content:center;color:#fff;text-align:center;white-space:nowrap;background-color:#007bff;transition:width .6s ease}@media (prefers-reduced-motion:reduce){.progress-bar{transition:none}}.progress-bar-striped{background-image:linear-gradient(45deg,hsla(0,0%,100%,.15) 25%,transparent 0,transparent 50%,hsla(0,0%,100%,.15) 0,hsla(0,0%,100%,.15) 75%,transparent 0,transparent);background-size:1rem 1rem}.progress-bar-animated{-webkit-animation:progress-bar-stripes 1s linear infinite;animation:progress-bar-stripes 1s linear infinite}@media (prefers-reduced-motion:reduce){.progress-bar-animated{-webkit-animation:none;animation:none}}.media{display:flex;align-items:flex-start}.media-body{flex:1}.list-group{display:flex;flex-direction:column;padding-left:0;margin-bottom:0}.list-group-item-action{width:100%;color:#495057;text-align:inherit}.list-group-item-action:focus,.list-group-item-action:hover{z-index:1;color:#495057;text-decoration:none;background-color:#f8f9fa}.list-group-item-action:active{color:#212529;background-color:#e9ecef}.list-group-item{position:relative;display:block;padding:.75rem 1.25rem;margin-bottom:-1px;background-color:#fff;border:1px solid rgba(0,0,0,.125)}.list-group-item:first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.list-group-item:last-child{margin-bottom:0;border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.list-group-item.disabled,.list-group-item:disabled{color:#6c757d;pointer-events:none;background-color:#fff}.list-group-item.active{z-index:2;color:#fff;background-color:#007bff;border-color:#007bff}.list-group-horizontal{flex-direction:row}.list-group-horizontal .list-group-item{margin-right:-1px;margin-bottom:0}.list-group-horizontal .list-group-item:first-child{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem;border-top-right-radius:0}.list-group-horizontal .list-group-item:last-child{margin-right:0;border-top-right-radius:.25rem;border-bottom-right-radius:.25rem;border-bottom-left-radius:0}@media (min-width:576px){.list-group-horizontal-sm{flex-direction:row}.list-group-horizontal-sm .list-group-item{margin-right:-1px;margin-bottom:0}.list-group-horizontal-sm .list-group-item:first-child{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem;border-top-right-radius:0}.list-group-horizontal-sm .list-group-item:last-child{margin-right:0;border-top-right-radius:.25rem;border-bottom-right-radius:.25rem;border-bottom-left-radius:0}}@media (min-width:768px){.list-group-horizontal-md{flex-direction:row}.list-group-horizontal-md .list-group-item{margin-right:-1px;margin-bottom:0}.list-group-horizontal-md .list-group-item:first-child{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem;border-top-right-radius:0}.list-group-horizontal-md .list-group-item:last-child{margin-right:0;border-top-right-radius:.25rem;border-bottom-right-radius:.25rem;border-bottom-left-radius:0}}@media (min-width:992px){.list-group-horizontal-lg{flex-direction:row}.list-group-horizontal-lg .list-group-item{margin-right:-1px;margin-bottom:0}.list-group-horizontal-lg .list-group-item:first-child{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem;border-top-right-radius:0}.list-group-horizontal-lg .list-group-item:last-child{margin-right:0;border-top-right-radius:.25rem;border-bottom-right-radius:.25rem;border-bottom-left-radius:0}}@media (min-width:1200px){.list-group-horizontal-xl{flex-direction:row}.list-group-horizontal-xl .list-group-item{margin-right:-1px;margin-bottom:0}.list-group-horizontal-xl .list-group-item:first-child{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem;border-top-right-radius:0}.list-group-horizontal-xl .list-group-item:last-child{margin-right:0;border-top-right-radius:.25rem;border-bottom-right-radius:.25rem;border-bottom-left-radius:0}}.list-group-flush .list-group-item{border-right:0;border-left:0;border-radius:0}.list-group-flush .list-group-item:last-child{margin-bottom:-1px}.list-group-flush:first-child .list-group-item:first-child{border-top:0}.list-group-flush:last-child .list-group-item:last-child{margin-bottom:0;border-bottom:0}.list-group-item-primary{color:#004085;background-color:#b8daff}.list-group-item-primary.list-group-item-action:focus,.list-group-item-primary.list-group-item-action:hover{color:#004085;background-color:#9fcdff}.list-group-item-primary.list-group-item-action.active{color:#fff;background-color:#004085;border-color:#004085}.list-group-item-secondary{color:#383d41;background-color:#d6d8db}.list-group-item-secondary.list-group-item-action:focus,.list-group-item-secondary.list-group-item-action:hover{color:#383d41;background-color:#c8cbcf}.list-group-item-secondary.list-group-item-action.active{color:#fff;background-color:#383d41;border-color:#383d41}.list-group-item-success{color:#155724;background-color:#c3e6cb}.list-group-item-success.list-group-item-action:focus,.list-group-item-success.list-group-item-action:hover{color:#155724;background-color:#b1dfbb}.list-group-item-success.list-group-item-action.active{color:#fff;background-color:#155724;border-color:#155724}.list-group-item-info{color:#0c5460;background-color:#bee5eb}.list-group-item-info.list-group-item-action:focus,.list-group-item-info.list-group-item-action:hover{color:#0c5460;background-color:#abdde5}.list-group-item-info.list-group-item-action.active{color:#fff;background-color:#0c5460;border-color:#0c5460}.list-group-item-warning{color:#856404;background-color:#ffeeba}.list-group-item-warning.list-group-item-action:focus,.list-group-item-warning.list-group-item-action:hover{color:#856404;background-color:#ffe8a1}.list-group-item-warning.list-group-item-action.active{color:#fff;background-color:#856404;border-color:#856404}.list-group-item-danger{color:#721c24;background-color:#f5c6cb}.list-group-item-danger.list-group-item-action:focus,.list-group-item-danger.list-group-item-action:hover{color:#721c24;background-color:#f1b0b7}.list-group-item-danger.list-group-item-action.active{color:#fff;background-color:#721c24;border-color:#721c24}.list-group-item-light{color:#818182;background-color:#fdfdfe}.list-group-item-light.list-group-item-action:focus,.list-group-item-light.list-group-item-action:hover{color:#818182;background-color:#ececf6}.list-group-item-light.list-group-item-action.active{color:#fff;background-color:#818182;border-color:#818182}.list-group-item-dark{color:#1b1e21;background-color:#c6c8ca}.list-group-item-dark.list-group-item-action:focus,.list-group-item-dark.list-group-item-action:hover{color:#1b1e21;background-color:#b9bbbe}.list-group-item-dark.list-group-item-action.active{color:#fff;background-color:#1b1e21;border-color:#1b1e21}.close{float:right;font-size:1.5rem;font-weight:700;line-height:1;color:#000;text-shadow:0 1px 0 #fff;opacity:.5}.close:hover{color:#000;text-decoration:none}.close:not(:disabled):not(.disabled):focus,.close:not(:disabled):not(.disabled):hover{opacity:.75}button.close{padding:0;background-color:transparent;border:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}a.close.disabled{pointer-events:none}.toast{max-width:350px;overflow:hidden;font-size:.875rem;background-color:hsla(0,0%,100%,.85);background-clip:padding-box;border:1px solid rgba(0,0,0,.1);box-shadow:0 .25rem .75rem rgba(0,0,0,.1);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);opacity:0;border-radius:.25rem}.toast:not(:last-child){margin-bottom:.75rem}.toast.showing{opacity:1}.toast.show{display:block;opacity:1}.toast.hide{display:none}.toast-header{display:flex;align-items:center;padding:.25rem .75rem;color:#6c757d;background-color:hsla(0,0%,100%,.85);background-clip:padding-box;border-bottom:1px solid rgba(0,0,0,.05)}.toast-body{padding:.75rem}.modal-open{overflow:hidden}.modal-open .modal{overflow-x:hidden;overflow-y:auto}.modal{position:fixed;top:0;left:0;z-index:1050;display:none;width:100%;height:100%;overflow:hidden;outline:0}.modal-dialog{position:relative;width:auto;margin:.5rem;pointer-events:none}.modal.fade .modal-dialog{transition:-webkit-transform .3s ease-out;transition:transform .3s ease-out;transition:transform .3s ease-out,-webkit-transform .3s ease-out;-webkit-transform:translateY(-50px);transform:translateY(-50px)}@media (prefers-reduced-motion:reduce){.modal.fade .modal-dialog{transition:none}}.modal.show .modal-dialog{-webkit-transform:none;transform:none}.modal-dialog-scrollable{display:flex;max-height:calc(100% - 1rem)}.modal-dialog-scrollable .modal-content{max-height:calc(100vh - 1rem);overflow:hidden}.modal-dialog-scrollable .modal-footer,.modal-dialog-scrollable .modal-header{flex-shrink:0}.modal-dialog-scrollable .modal-body{overflow-y:auto}.modal-dialog-centered{display:flex;align-items:center;min-height:calc(100% - 1rem)}.modal-dialog-centered:before{display:block;height:calc(100vh - 1rem);content:\"\"}.modal-dialog-centered.modal-dialog-scrollable{flex-direction:column;justify-content:center;height:100%}.modal-dialog-centered.modal-dialog-scrollable .modal-content{max-height:none}.modal-dialog-centered.modal-dialog-scrollable:before{content:none}.modal-content{position:relative;display:flex;flex-direction:column;width:100%;pointer-events:auto;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.2);border-radius:.3rem;outline:0}.modal-backdrop{position:fixed;top:0;left:0;z-index:1040;width:100vw;height:100vh;background-color:#000}.modal-backdrop.fade{opacity:0}.modal-backdrop.show{opacity:.5}.modal-header{display:flex;align-items:flex-start;justify-content:space-between;padding:1rem;border-bottom:1px solid #dee2e6;border-top-left-radius:.3rem;border-top-right-radius:.3rem}.modal-header .close{padding:1rem;margin:-1rem -1rem -1rem auto}.modal-title{margin-bottom:0;line-height:1.5}.modal-body{position:relative;flex:1 1 auto;padding:1rem}.modal-footer{display:flex;align-items:center;justify-content:flex-end;padding:1rem;border-top:1px solid #dee2e6;border-bottom-right-radius:.3rem;border-bottom-left-radius:.3rem}.modal-footer>:not(:first-child){margin-left:.25rem}.modal-footer>:not(:last-child){margin-right:.25rem}.modal-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}@media (min-width:576px){.modal-dialog{max-width:500px;margin:1.75rem auto}.modal-dialog-scrollable{max-height:calc(100% - 3.5rem)}.modal-dialog-scrollable .modal-content{max-height:calc(100vh - 3.5rem)}.modal-dialog-centered{min-height:calc(100% - 3.5rem)}.modal-dialog-centered:before{height:calc(100vh - 3.5rem)}.modal-sm{max-width:300px}}@media (min-width:992px){.modal-lg,.modal-xl{max-width:800px}}@media (min-width:1200px){.modal-xl{max-width:1140px}}[dir=ltr] .tooltip{text-align:left}[dir=rtl] .tooltip{text-align:right}.tooltip{position:absolute;z-index:1070;display:block;margin:0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-style:normal;font-weight:400;line-height:1.5;text-align:left;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-break:normal;word-spacing:normal;white-space:normal;line-break:auto;font-size:.875rem;word-wrap:break-word;opacity:0}.tooltip.show{opacity:.9}.tooltip .arrow{position:absolute;display:block;width:.8rem;height:.4rem}.tooltip .arrow:before{position:absolute;content:\"\";border-color:transparent;border-style:solid}.bs-tooltip-auto[x-placement^=top],.bs-tooltip-top{padding:.4rem 0}.bs-tooltip-auto[x-placement^=top] .arrow,.bs-tooltip-top .arrow{bottom:0}.bs-tooltip-auto[x-placement^=top] .arrow:before,.bs-tooltip-top .arrow:before{top:0;border-width:.4rem .4rem 0;border-top-color:#000}.bs-tooltip-auto[x-placement^=right],.bs-tooltip-right{padding:0 .4rem}.bs-tooltip-auto[x-placement^=right] .arrow,.bs-tooltip-right .arrow{left:0;width:.4rem;height:.8rem}.bs-tooltip-auto[x-placement^=right] .arrow:before,.bs-tooltip-right .arrow:before{right:0;border-width:.4rem .4rem .4rem 0;border-right-color:#000}.bs-tooltip-auto[x-placement^=bottom],.bs-tooltip-bottom{padding:.4rem 0}.bs-tooltip-auto[x-placement^=bottom] .arrow,.bs-tooltip-bottom .arrow{top:0}.bs-tooltip-auto[x-placement^=bottom] .arrow:before,.bs-tooltip-bottom .arrow:before{bottom:0;border-width:0 .4rem .4rem;border-bottom-color:#000}.bs-tooltip-auto[x-placement^=left],.bs-tooltip-left{padding:0 .4rem}.bs-tooltip-auto[x-placement^=left] .arrow,.bs-tooltip-left .arrow{right:0;width:.4rem;height:.8rem}.bs-tooltip-auto[x-placement^=left] .arrow:before,.bs-tooltip-left .arrow:before{left:0;border-width:.4rem 0 .4rem .4rem;border-left-color:#000}.tooltip-inner{max-width:200px;padding:.25rem .5rem;color:#fff;text-align:center;background-color:#000;border-radius:.25rem}[dir=ltr] .popover{text-align:left}[dir=rtl] .popover{text-align:right}.popover{top:0;left:0;z-index:1060;max-width:276px;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-style:normal;font-weight:400;line-height:1.5;text-align:left;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-break:normal;word-spacing:normal;white-space:normal;line-break:auto;font-size:.875rem;word-wrap:break-word;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.2);border-radius:.3rem}.popover,.popover .arrow{position:absolute;display:block}.popover .arrow{width:1rem;height:.5rem;margin:0 .3rem}.popover .arrow:after,.popover .arrow:before{position:absolute;display:block;content:\"\";border-color:transparent;border-style:solid}.bs-popover-auto[x-placement^=top],.bs-popover-top{margin-bottom:.5rem}.bs-popover-auto[x-placement^=top]>.arrow,.bs-popover-top>.arrow{bottom:calc(-.5rem + -1px)}.bs-popover-auto[x-placement^=top]>.arrow:before,.bs-popover-top>.arrow:before{bottom:0;border-width:.5rem .5rem 0;border-top-color:rgba(0,0,0,.25)}.bs-popover-auto[x-placement^=top]>.arrow:after,.bs-popover-top>.arrow:after{bottom:1px;border-width:.5rem .5rem 0;border-top-color:#fff}.bs-popover-auto[x-placement^=right],.bs-popover-right{margin-left:.5rem}.bs-popover-auto[x-placement^=right]>.arrow,.bs-popover-right>.arrow{left:calc(-.5rem + -1px);width:.5rem;height:1rem;margin:.3rem 0}.bs-popover-auto[x-placement^=right]>.arrow:before,.bs-popover-right>.arrow:before{left:0;border-width:.5rem .5rem .5rem 0;border-right-color:rgba(0,0,0,.25)}.bs-popover-auto[x-placement^=right]>.arrow:after,.bs-popover-right>.arrow:after{left:1px;border-width:.5rem .5rem .5rem 0;border-right-color:#fff}.bs-popover-auto[x-placement^=bottom],.bs-popover-bottom{margin-top:.5rem}.bs-popover-auto[x-placement^=bottom]>.arrow,.bs-popover-bottom>.arrow{top:calc(-.5rem + -1px)}.bs-popover-auto[x-placement^=bottom]>.arrow:before,.bs-popover-bottom>.arrow:before{top:0;border-width:0 .5rem .5rem;border-bottom-color:rgba(0,0,0,.25)}.bs-popover-auto[x-placement^=bottom]>.arrow:after,.bs-popover-bottom>.arrow:after{top:1px;border-width:0 .5rem .5rem;border-bottom-color:#fff}.bs-popover-auto[x-placement^=bottom] .popover-header:before,.bs-popover-bottom .popover-header:before{position:absolute;top:0;left:50%;display:block;width:1rem;margin-left:-.5rem;content:\"\";border-bottom:1px solid #f7f7f7}.bs-popover-auto[x-placement^=left],.bs-popover-left{margin-right:.5rem}.bs-popover-auto[x-placement^=left]>.arrow,.bs-popover-left>.arrow{right:calc(-.5rem + -1px);width:.5rem;height:1rem;margin:.3rem 0}.bs-popover-auto[x-placement^=left]>.arrow:before,.bs-popover-left>.arrow:before{right:0;border-width:.5rem 0 .5rem .5rem;border-left-color:rgba(0,0,0,.25)}.bs-popover-auto[x-placement^=left]>.arrow:after,.bs-popover-left>.arrow:after{right:1px;border-width:.5rem 0 .5rem .5rem;border-left-color:#fff}.popover-header{padding:.5rem .75rem;margin-bottom:0;font-size:1rem;background-color:#f7f7f7;border-bottom:1px solid #ebebeb;border-top-left-radius:calc(.3rem - 1px);border-top-right-radius:calc(.3rem - 1px)}.popover-header:empty{display:none}.popover-body{padding:.5rem .75rem;color:#212529}.carousel{position:relative}.carousel.pointer-event{touch-action:pan-y}.carousel-inner{position:relative;width:100%;overflow:hidden}.carousel-inner:after{display:block;clear:both;content:\"\"}.carousel-item{position:relative;display:none;float:left;width:100%;margin-right:-100%;-webkit-backface-visibility:hidden;backface-visibility:hidden;transition:-webkit-transform .6s ease-in-out;transition:transform .6s ease-in-out;transition:transform .6s ease-in-out,-webkit-transform .6s ease-in-out}@media (prefers-reduced-motion:reduce){.carousel-item{transition:none}}.carousel-item-next,.carousel-item-prev,.carousel-item.active{display:block}.active.carousel-item-right,.carousel-item-next:not(.carousel-item-left){-webkit-transform:translateX(100%);transform:translateX(100%)}.active.carousel-item-left,.carousel-item-prev:not(.carousel-item-right){-webkit-transform:translateX(-100%);transform:translateX(-100%)}.carousel-fade .carousel-item{opacity:0;transition-property:opacity;-webkit-transform:none;transform:none}.carousel-fade .carousel-item-next.carousel-item-left,.carousel-fade .carousel-item-prev.carousel-item-right,.carousel-fade .carousel-item.active{z-index:1;opacity:1}.carousel-fade .active.carousel-item-left,.carousel-fade .active.carousel-item-right{z-index:0;opacity:0;transition:opacity 0s .6s}@media (prefers-reduced-motion:reduce){.carousel-fade .active.carousel-item-left,.carousel-fade .active.carousel-item-right{transition:none}}.carousel-control-next,.carousel-control-prev{position:absolute;top:0;bottom:0;z-index:1;display:flex;align-items:center;justify-content:center;width:15%;color:#fff;text-align:center;opacity:.5;transition:opacity .15s ease}@media (prefers-reduced-motion:reduce){.carousel-control-next,.carousel-control-prev{transition:none}}.carousel-control-next:focus,.carousel-control-next:hover,.carousel-control-prev:focus,.carousel-control-prev:hover{color:#fff;text-decoration:none;outline:0;opacity:.9}.carousel-control-prev{left:0}.carousel-control-next{right:0}.carousel-control-next-icon,.carousel-control-prev-icon{display:inline-block;width:20px;height:20px;background:no-repeat 50%/100% 100%}.carousel-control-prev-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23fff' viewBox='0 0 8 8'%3E%3Cpath d='M5.25 0l-4 4 4 4 1.5-1.5L4.25 4l2.5-2.5L5.25 0z'/%3E%3C/svg%3E\")}.carousel-control-next-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23fff' viewBox='0 0 8 8'%3E%3Cpath d='M2.75 0l-1.5 1.5L3.75 4l-2.5 2.5L2.75 8l4-4-4-4z'/%3E%3C/svg%3E\")}.carousel-indicators{position:absolute;right:0;bottom:0;left:0;z-index:15;display:flex;justify-content:center;padding-left:0;margin-right:15%;margin-left:15%;list-style:none}.carousel-indicators li{box-sizing:content-box;flex:0 1 auto;width:30px;height:3px;margin-right:3px;margin-left:3px;text-indent:-999px;cursor:pointer;background-color:#fff;background-clip:padding-box;border-top:10px solid transparent;border-bottom:10px solid transparent;opacity:.5;transition:opacity .6s ease}@media (prefers-reduced-motion:reduce){.carousel-indicators li{transition:none}}.carousel-indicators .active{opacity:1}.carousel-caption{position:absolute;right:15%;bottom:20px;left:15%;z-index:10;padding-top:20px;padding-bottom:20px;color:#fff;text-align:center}@-webkit-keyframes spinner-border{to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes spinner-border{to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.spinner-border{display:inline-block;width:2rem;height:2rem;vertical-align:text-bottom;border:.25em solid;border-right:.25em solid transparent;border-radius:50%;-webkit-animation:spinner-border .75s linear infinite;animation:spinner-border .75s linear infinite}.spinner-border-sm{width:1rem;height:1rem;border-width:.2em}@-webkit-keyframes spinner-grow{0%{-webkit-transform:scale(0);transform:scale(0)}50%{opacity:1}}@keyframes spinner-grow{0%{-webkit-transform:scale(0);transform:scale(0)}50%{opacity:1}}.spinner-grow{display:inline-block;width:2rem;height:2rem;vertical-align:text-bottom;background-color:currentColor;border-radius:50%;opacity:0;-webkit-animation:spinner-grow .75s linear infinite;animation:spinner-grow .75s linear infinite}.spinner-grow-sm{width:1rem;height:1rem}.align-baseline{vertical-align:baseline!important}.align-top{vertical-align:top!important}.align-middle{vertical-align:middle!important}.align-bottom{vertical-align:bottom!important}.align-text-bottom{vertical-align:text-bottom!important}.align-text-top{vertical-align:text-top!important}.bg-primary{background-color:#007bff!important}a.bg-primary:focus,a.bg-primary:hover,button.bg-primary:focus,button.bg-primary:hover{background-color:#0062cc!important}.bg-secondary{background-color:#6c757d!important}a.bg-secondary:focus,a.bg-secondary:hover,button.bg-secondary:focus,button.bg-secondary:hover{background-color:#545b62!important}.bg-success{background-color:#28a745!important}a.bg-success:focus,a.bg-success:hover,button.bg-success:focus,button.bg-success:hover{background-color:#1e7e34!important}.bg-info{background-color:#17a2b8!important}a.bg-info:focus,a.bg-info:hover,button.bg-info:focus,button.bg-info:hover{background-color:#117a8b!important}.bg-warning{background-color:#ffc107!important}a.bg-warning:focus,a.bg-warning:hover,button.bg-warning:focus,button.bg-warning:hover{background-color:#d39e00!important}.bg-danger{background-color:#dc3545!important}a.bg-danger:focus,a.bg-danger:hover,button.bg-danger:focus,button.bg-danger:hover{background-color:#bd2130!important}.bg-light{background-color:#f8f9fa!important}a.bg-light:focus,a.bg-light:hover,button.bg-light:focus,button.bg-light:hover{background-color:#dae0e5!important}.bg-dark{background-color:#343a40!important}a.bg-dark:focus,a.bg-dark:hover,button.bg-dark:focus,button.bg-dark:hover{background-color:#1d2124!important}.bg-white{background-color:#fff!important}.bg-transparent{background-color:transparent!important}.border{border:1px solid #dee2e6!important}.border-top{border-top:1px solid #dee2e6!important}.border-right{border-right:1px solid #dee2e6!important}.border-bottom{border-bottom:1px solid #dee2e6!important}.border-left{border-left:1px solid #dee2e6!important}.border-0{border:0!important}.border-top-0{border-top:0!important}.border-right-0{border-right:0!important}.border-bottom-0{border-bottom:0!important}.border-left-0{border-left:0!important}.border-primary{border-color:#007bff!important}.border-secondary{border-color:#6c757d!important}.border-success{border-color:#28a745!important}.border-info{border-color:#17a2b8!important}.border-warning{border-color:#ffc107!important}.border-danger{border-color:#dc3545!important}.border-light{border-color:#f8f9fa!important}.border-dark{border-color:#343a40!important}.border-white{border-color:#fff!important}.rounded-sm{border-radius:.2rem!important}.rounded{border-radius:.25rem!important}.rounded-top{border-top-left-radius:.25rem!important}.rounded-right,.rounded-top{border-top-right-radius:.25rem!important}.rounded-bottom,.rounded-right{border-bottom-right-radius:.25rem!important}.rounded-bottom,.rounded-left{border-bottom-left-radius:.25rem!important}.rounded-left{border-top-left-radius:.25rem!important}.rounded-lg{border-radius:.3rem!important}.rounded-circle{border-radius:50%!important}.rounded-pill{border-radius:50rem!important}.rounded-0{border-radius:0!important}.clearfix:after{display:block;clear:both;content:\"\"}.d-none{display:none!important}.d-inline{display:inline!important}.d-inline-block{display:inline-block!important}.d-block{display:block!important}.d-table{display:table!important}.d-table-row{display:table-row!important}.d-table-cell{display:table-cell!important}.d-flex{display:flex!important}.d-inline-flex{display:inline-flex!important}@media (min-width:576px){.d-sm-none{display:none!important}.d-sm-inline{display:inline!important}.d-sm-inline-block{display:inline-block!important}.d-sm-block{display:block!important}.d-sm-table{display:table!important}.d-sm-table-row{display:table-row!important}.d-sm-table-cell{display:table-cell!important}.d-sm-flex{display:flex!important}.d-sm-inline-flex{display:inline-flex!important}}@media (min-width:768px){.d-md-none{display:none!important}.d-md-inline{display:inline!important}.d-md-inline-block{display:inline-block!important}.d-md-block{display:block!important}.d-md-table{display:table!important}.d-md-table-row{display:table-row!important}.d-md-table-cell{display:table-cell!important}.d-md-flex{display:flex!important}.d-md-inline-flex{display:inline-flex!important}}@media (min-width:992px){.d-lg-none{display:none!important}.d-lg-inline{display:inline!important}.d-lg-inline-block{display:inline-block!important}.d-lg-block{display:block!important}.d-lg-table{display:table!important}.d-lg-table-row{display:table-row!important}.d-lg-table-cell{display:table-cell!important}.d-lg-flex{display:flex!important}.d-lg-inline-flex{display:inline-flex!important}}@media (min-width:1200px){.d-xl-none{display:none!important}.d-xl-inline{display:inline!important}.d-xl-inline-block{display:inline-block!important}.d-xl-block{display:block!important}.d-xl-table{display:table!important}.d-xl-table-row{display:table-row!important}.d-xl-table-cell{display:table-cell!important}.d-xl-flex{display:flex!important}.d-xl-inline-flex{display:inline-flex!important}}@media print{.d-print-none{display:none!important}.d-print-inline{display:inline!important}.d-print-inline-block{display:inline-block!important}.d-print-block{display:block!important}.d-print-table{display:table!important}.d-print-table-row{display:table-row!important}.d-print-table-cell{display:table-cell!important}.d-print-flex{display:flex!important}.d-print-inline-flex{display:inline-flex!important}}.embed-responsive{position:relative;display:block;width:100%;padding:0;overflow:hidden}.embed-responsive:before{display:block;content:\"\"}.embed-responsive .embed-responsive-item,.embed-responsive embed,.embed-responsive iframe,.embed-responsive object,.embed-responsive video{position:absolute;top:0;bottom:0;left:0;width:100%;height:100%;border:0}.embed-responsive-21by9:before{padding-top:42.857143%}.embed-responsive-16by9:before{padding-top:56.25%}.embed-responsive-4by3:before{padding-top:75%}.embed-responsive-1by1:before{padding-top:100%}.flex-row{flex-direction:row!important}.flex-column{flex-direction:column!important}.flex-row-reverse{flex-direction:row-reverse!important}.flex-column-reverse{flex-direction:column-reverse!important}.flex-wrap{flex-wrap:wrap!important}.flex-nowrap{flex-wrap:nowrap!important}.flex-wrap-reverse{flex-wrap:wrap-reverse!important}.flex-fill{flex:1 1 auto!important}.flex-grow-0{flex-grow:0!important}.flex-grow-1{flex-grow:1!important}.flex-shrink-0{flex-shrink:0!important}.flex-shrink-1{flex-shrink:1!important}.justify-content-start{justify-content:flex-start!important}.justify-content-end{justify-content:flex-end!important}.justify-content-center{justify-content:center!important}.justify-content-between{justify-content:space-between!important}.justify-content-around{justify-content:space-around!important}.align-items-start{align-items:flex-start!important}.align-items-end{align-items:flex-end!important}.align-items-center{align-items:center!important}.align-items-baseline{align-items:baseline!important}.align-items-stretch{align-items:stretch!important}.align-content-start{align-content:flex-start!important}.align-content-end{align-content:flex-end!important}.align-content-center{align-content:center!important}.align-content-between{align-content:space-between!important}.align-content-around{align-content:space-around!important}.align-content-stretch{align-content:stretch!important}.align-self-auto{align-self:auto!important}.align-self-start{align-self:flex-start!important}.align-self-end{align-self:flex-end!important}.align-self-center{align-self:center!important}.align-self-baseline{align-self:baseline!important}.align-self-stretch{align-self:stretch!important}@media (min-width:576px){.flex-sm-row{flex-direction:row!important}.flex-sm-column{flex-direction:column!important}.flex-sm-row-reverse{flex-direction:row-reverse!important}.flex-sm-column-reverse{flex-direction:column-reverse!important}.flex-sm-wrap{flex-wrap:wrap!important}.flex-sm-nowrap{flex-wrap:nowrap!important}.flex-sm-wrap-reverse{flex-wrap:wrap-reverse!important}.flex-sm-fill{flex:1 1 auto!important}.flex-sm-grow-0{flex-grow:0!important}.flex-sm-grow-1{flex-grow:1!important}.flex-sm-shrink-0{flex-shrink:0!important}.flex-sm-shrink-1{flex-shrink:1!important}.justify-content-sm-start{justify-content:flex-start!important}.justify-content-sm-end{justify-content:flex-end!important}.justify-content-sm-center{justify-content:center!important}.justify-content-sm-between{justify-content:space-between!important}.justify-content-sm-around{justify-content:space-around!important}.align-items-sm-start{align-items:flex-start!important}.align-items-sm-end{align-items:flex-end!important}.align-items-sm-center{align-items:center!important}.align-items-sm-baseline{align-items:baseline!important}.align-items-sm-stretch{align-items:stretch!important}.align-content-sm-start{align-content:flex-start!important}.align-content-sm-end{align-content:flex-end!important}.align-content-sm-center{align-content:center!important}.align-content-sm-between{align-content:space-between!important}.align-content-sm-around{align-content:space-around!important}.align-content-sm-stretch{align-content:stretch!important}.align-self-sm-auto{align-self:auto!important}.align-self-sm-start{align-self:flex-start!important}.align-self-sm-end{align-self:flex-end!important}.align-self-sm-center{align-self:center!important}.align-self-sm-baseline{align-self:baseline!important}.align-self-sm-stretch{align-self:stretch!important}}@media (min-width:768px){.flex-md-row{flex-direction:row!important}.flex-md-column{flex-direction:column!important}.flex-md-row-reverse{flex-direction:row-reverse!important}.flex-md-column-reverse{flex-direction:column-reverse!important}.flex-md-wrap{flex-wrap:wrap!important}.flex-md-nowrap{flex-wrap:nowrap!important}.flex-md-wrap-reverse{flex-wrap:wrap-reverse!important}.flex-md-fill{flex:1 1 auto!important}.flex-md-grow-0{flex-grow:0!important}.flex-md-grow-1{flex-grow:1!important}.flex-md-shrink-0{flex-shrink:0!important}.flex-md-shrink-1{flex-shrink:1!important}.justify-content-md-start{justify-content:flex-start!important}.justify-content-md-end{justify-content:flex-end!important}.justify-content-md-center{justify-content:center!important}.justify-content-md-between{justify-content:space-between!important}.justify-content-md-around{justify-content:space-around!important}.align-items-md-start{align-items:flex-start!important}.align-items-md-end{align-items:flex-end!important}.align-items-md-center{align-items:center!important}.align-items-md-baseline{align-items:baseline!important}.align-items-md-stretch{align-items:stretch!important}.align-content-md-start{align-content:flex-start!important}.align-content-md-end{align-content:flex-end!important}.align-content-md-center{align-content:center!important}.align-content-md-between{align-content:space-between!important}.align-content-md-around{align-content:space-around!important}.align-content-md-stretch{align-content:stretch!important}.align-self-md-auto{align-self:auto!important}.align-self-md-start{align-self:flex-start!important}.align-self-md-end{align-self:flex-end!important}.align-self-md-center{align-self:center!important}.align-self-md-baseline{align-self:baseline!important}.align-self-md-stretch{align-self:stretch!important}}@media (min-width:992px){.flex-lg-row{flex-direction:row!important}.flex-lg-column{flex-direction:column!important}.flex-lg-row-reverse{flex-direction:row-reverse!important}.flex-lg-column-reverse{flex-direction:column-reverse!important}.flex-lg-wrap{flex-wrap:wrap!important}.flex-lg-nowrap{flex-wrap:nowrap!important}.flex-lg-wrap-reverse{flex-wrap:wrap-reverse!important}.flex-lg-fill{flex:1 1 auto!important}.flex-lg-grow-0{flex-grow:0!important}.flex-lg-grow-1{flex-grow:1!important}.flex-lg-shrink-0{flex-shrink:0!important}.flex-lg-shrink-1{flex-shrink:1!important}.justify-content-lg-start{justify-content:flex-start!important}.justify-content-lg-end{justify-content:flex-end!important}.justify-content-lg-center{justify-content:center!important}.justify-content-lg-between{justify-content:space-between!important}.justify-content-lg-around{justify-content:space-around!important}.align-items-lg-start{align-items:flex-start!important}.align-items-lg-end{align-items:flex-end!important}.align-items-lg-center{align-items:center!important}.align-items-lg-baseline{align-items:baseline!important}.align-items-lg-stretch{align-items:stretch!important}.align-content-lg-start{align-content:flex-start!important}.align-content-lg-end{align-content:flex-end!important}.align-content-lg-center{align-content:center!important}.align-content-lg-between{align-content:space-between!important}.align-content-lg-around{align-content:space-around!important}.align-content-lg-stretch{align-content:stretch!important}.align-self-lg-auto{align-self:auto!important}.align-self-lg-start{align-self:flex-start!important}.align-self-lg-end{align-self:flex-end!important}.align-self-lg-center{align-self:center!important}.align-self-lg-baseline{align-self:baseline!important}.align-self-lg-stretch{align-self:stretch!important}}@media (min-width:1200px){.flex-xl-row{flex-direction:row!important}.flex-xl-column{flex-direction:column!important}.flex-xl-row-reverse{flex-direction:row-reverse!important}.flex-xl-column-reverse{flex-direction:column-reverse!important}.flex-xl-wrap{flex-wrap:wrap!important}.flex-xl-nowrap{flex-wrap:nowrap!important}.flex-xl-wrap-reverse{flex-wrap:wrap-reverse!important}.flex-xl-fill{flex:1 1 auto!important}.flex-xl-grow-0{flex-grow:0!important}.flex-xl-grow-1{flex-grow:1!important}.flex-xl-shrink-0{flex-shrink:0!important}.flex-xl-shrink-1{flex-shrink:1!important}.justify-content-xl-start{justify-content:flex-start!important}.justify-content-xl-end{justify-content:flex-end!important}.justify-content-xl-center{justify-content:center!important}.justify-content-xl-between{justify-content:space-between!important}.justify-content-xl-around{justify-content:space-around!important}.align-items-xl-start{align-items:flex-start!important}.align-items-xl-end{align-items:flex-end!important}.align-items-xl-center{align-items:center!important}.align-items-xl-baseline{align-items:baseline!important}.align-items-xl-stretch{align-items:stretch!important}.align-content-xl-start{align-content:flex-start!important}.align-content-xl-end{align-content:flex-end!important}.align-content-xl-center{align-content:center!important}.align-content-xl-between{align-content:space-between!important}.align-content-xl-around{align-content:space-around!important}.align-content-xl-stretch{align-content:stretch!important}.align-self-xl-auto{align-self:auto!important}.align-self-xl-start{align-self:flex-start!important}.align-self-xl-end{align-self:flex-end!important}.align-self-xl-center{align-self:center!important}.align-self-xl-baseline{align-self:baseline!important}.align-self-xl-stretch{align-self:stretch!important}}.float-left{float:left!important}.float-right{float:right!important}.float-none{float:none!important}@media (min-width:576px){.float-sm-left{float:left!important}.float-sm-right{float:right!important}.float-sm-none{float:none!important}}@media (min-width:768px){.float-md-left{float:left!important}.float-md-right{float:right!important}.float-md-none{float:none!important}}@media (min-width:992px){.float-lg-left{float:left!important}.float-lg-right{float:right!important}.float-lg-none{float:none!important}}@media (min-width:1200px){.float-xl-left{float:left!important}.float-xl-right{float:right!important}.float-xl-none{float:none!important}}.overflow-auto{overflow:auto!important}.overflow-hidden{overflow:hidden!important}.position-static{position:static!important}.position-relative{position:relative!important}.position-absolute{position:absolute!important}.position-fixed{position:fixed!important}.position-sticky{position:-webkit-sticky!important;position:sticky!important}.fixed-top{top:0}.fixed-bottom,.fixed-top{position:fixed;right:0;left:0;z-index:1030}.fixed-bottom{bottom:0}@supports ((position:-webkit-sticky) or (position:sticky)){.sticky-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}}.sr-only{position:absolute;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}.sr-only-focusable:active,.sr-only-focusable:focus{position:static;width:auto;height:auto;overflow:visible;clip:auto;white-space:normal}.shadow-sm{box-shadow:0 .125rem .25rem rgba(0,0,0,.075)!important}.shadow{box-shadow:0 .5rem 1rem rgba(0,0,0,.15)!important}.shadow-lg{box-shadow:0 1rem 3rem rgba(0,0,0,.175)!important}.shadow-none{box-shadow:none!important}.w-25{width:25%!important}.w-50{width:50%!important}.w-75{width:75%!important}.w-100{width:100%!important}.w-auto{width:auto!important}.h-25{height:25%!important}.h-50{height:50%!important}.h-75{height:75%!important}.h-100{height:100%!important}.h-auto{height:auto!important}.mw-100{max-width:100%!important}.mh-100{max-height:100%!important}.min-vw-100{min-width:100vw!important}.min-vh-100{min-height:100vh!important}.vw-100{width:100vw!important}.vh-100{height:100vh!important}.stretched-link:after{position:absolute;top:0;right:0;bottom:0;left:0;z-index:1;pointer-events:auto;content:\"\";background-color:transparent}.m-0{margin:0!important}.mt-0,.my-0{margin-top:0!important}.mr-0,.mx-0{margin-right:0!important}.mb-0,.my-0{margin-bottom:0!important}.ml-0,.mx-0{margin-left:0!important}.m-1{margin:.25rem!important}.mt-1,.my-1{margin-top:.25rem!important}.mr-1,.mx-1{margin-right:.25rem!important}.mb-1,.my-1{margin-bottom:.25rem!important}.ml-1,.mx-1{margin-left:.25rem!important}.m-2{margin:.5rem!important}.mt-2,.my-2{margin-top:.5rem!important}.mr-2,.mx-2{margin-right:.5rem!important}.mb-2,.my-2{margin-bottom:.5rem!important}.ml-2,.mx-2{margin-left:.5rem!important}.m-3{margin:1rem!important}.mt-3,.my-3{margin-top:1rem!important}.mr-3,.mx-3{margin-right:1rem!important}.mb-3,.my-3{margin-bottom:1rem!important}.ml-3,.mx-3{margin-left:1rem!important}.m-4{margin:1.5rem!important}.mt-4,.my-4{margin-top:1.5rem!important}.mr-4,.mx-4{margin-right:1.5rem!important}.mb-4,.my-4{margin-bottom:1.5rem!important}.ml-4,.mx-4{margin-left:1.5rem!important}.m-5{margin:3rem!important}.mt-5,.my-5{margin-top:3rem!important}.mr-5,.mx-5{margin-right:3rem!important}.mb-5,.my-5{margin-bottom:3rem!important}.ml-5,.mx-5{margin-left:3rem!important}.p-0{padding:0!important}.pt-0,.py-0{padding-top:0!important}.pr-0,.px-0{padding-right:0!important}.pb-0,.py-0{padding-bottom:0!important}.pl-0,.px-0{padding-left:0!important}.p-1{padding:.25rem!important}.pt-1,.py-1{padding-top:.25rem!important}.pr-1,.px-1{padding-right:.25rem!important}.pb-1,.py-1{padding-bottom:.25rem!important}.pl-1,.px-1{padding-left:.25rem!important}.p-2{padding:.5rem!important}.pt-2,.py-2{padding-top:.5rem!important}.pr-2,.px-2{padding-right:.5rem!important}.pb-2,.py-2{padding-bottom:.5rem!important}.pl-2,.px-2{padding-left:.5rem!important}.p-3{padding:1rem!important}.pt-3,.py-3{padding-top:1rem!important}.pr-3,.px-3{padding-right:1rem!important}.pb-3,.py-3{padding-bottom:1rem!important}.pl-3,.px-3{padding-left:1rem!important}.p-4{padding:1.5rem!important}.pt-4,.py-4{padding-top:1.5rem!important}.pr-4,.px-4{padding-right:1.5rem!important}.pb-4,.py-4{padding-bottom:1.5rem!important}.pl-4,.px-4{padding-left:1.5rem!important}.p-5{padding:3rem!important}.pt-5,.py-5{padding-top:3rem!important}.pr-5,.px-5{padding-right:3rem!important}.pb-5,.py-5{padding-bottom:3rem!important}.pl-5,.px-5{padding-left:3rem!important}.m-n1{margin:-.25rem!important}.mt-n1,.my-n1{margin-top:-.25rem!important}.mr-n1,.mx-n1{margin-right:-.25rem!important}.mb-n1,.my-n1{margin-bottom:-.25rem!important}.ml-n1,.mx-n1{margin-left:-.25rem!important}.m-n2{margin:-.5rem!important}.mt-n2,.my-n2{margin-top:-.5rem!important}.mr-n2,.mx-n2{margin-right:-.5rem!important}.mb-n2,.my-n2{margin-bottom:-.5rem!important}.ml-n2,.mx-n2{margin-left:-.5rem!important}.m-n3{margin:-1rem!important}.mt-n3,.my-n3{margin-top:-1rem!important}.mr-n3,.mx-n3{margin-right:-1rem!important}.mb-n3,.my-n3{margin-bottom:-1rem!important}.ml-n3,.mx-n3{margin-left:-1rem!important}.m-n4{margin:-1.5rem!important}.mt-n4,.my-n4{margin-top:-1.5rem!important}.mr-n4,.mx-n4{margin-right:-1.5rem!important}.mb-n4,.my-n4{margin-bottom:-1.5rem!important}.ml-n4,.mx-n4{margin-left:-1.5rem!important}.m-n5{margin:-3rem!important}.mt-n5,.my-n5{margin-top:-3rem!important}.mr-n5,.mx-n5{margin-right:-3rem!important}.mb-n5,.my-n5{margin-bottom:-3rem!important}.ml-n5,.mx-n5{margin-left:-3rem!important}.m-auto{margin:auto!important}.mt-auto,.my-auto{margin-top:auto!important}.mr-auto,.mx-auto{margin-right:auto!important}.mb-auto,.my-auto{margin-bottom:auto!important}.ml-auto,.mx-auto{margin-left:auto!important}@media (min-width:576px){.m-sm-0{margin:0!important}.mt-sm-0,.my-sm-0{margin-top:0!important}.mr-sm-0,.mx-sm-0{margin-right:0!important}.mb-sm-0,.my-sm-0{margin-bottom:0!important}.ml-sm-0,.mx-sm-0{margin-left:0!important}.m-sm-1{margin:.25rem!important}.mt-sm-1,.my-sm-1{margin-top:.25rem!important}.mr-sm-1,.mx-sm-1{margin-right:.25rem!important}.mb-sm-1,.my-sm-1{margin-bottom:.25rem!important}.ml-sm-1,.mx-sm-1{margin-left:.25rem!important}.m-sm-2{margin:.5rem!important}.mt-sm-2,.my-sm-2{margin-top:.5rem!important}.mr-sm-2,.mx-sm-2{margin-right:.5rem!important}.mb-sm-2,.my-sm-2{margin-bottom:.5rem!important}.ml-sm-2,.mx-sm-2{margin-left:.5rem!important}.m-sm-3{margin:1rem!important}.mt-sm-3,.my-sm-3{margin-top:1rem!important}.mr-sm-3,.mx-sm-3{margin-right:1rem!important}.mb-sm-3,.my-sm-3{margin-bottom:1rem!important}.ml-sm-3,.mx-sm-3{margin-left:1rem!important}.m-sm-4{margin:1.5rem!important}.mt-sm-4,.my-sm-4{margin-top:1.5rem!important}.mr-sm-4,.mx-sm-4{margin-right:1.5rem!important}.mb-sm-4,.my-sm-4{margin-bottom:1.5rem!important}.ml-sm-4,.mx-sm-4{margin-left:1.5rem!important}.m-sm-5{margin:3rem!important}.mt-sm-5,.my-sm-5{margin-top:3rem!important}.mr-sm-5,.mx-sm-5{margin-right:3rem!important}.mb-sm-5,.my-sm-5{margin-bottom:3rem!important}.ml-sm-5,.mx-sm-5{margin-left:3rem!important}.p-sm-0{padding:0!important}.pt-sm-0,.py-sm-0{padding-top:0!important}.pr-sm-0,.px-sm-0{padding-right:0!important}.pb-sm-0,.py-sm-0{padding-bottom:0!important}.pl-sm-0,.px-sm-0{padding-left:0!important}.p-sm-1{padding:.25rem!important}.pt-sm-1,.py-sm-1{padding-top:.25rem!important}.pr-sm-1,.px-sm-1{padding-right:.25rem!important}.pb-sm-1,.py-sm-1{padding-bottom:.25rem!important}.pl-sm-1,.px-sm-1{padding-left:.25rem!important}.p-sm-2{padding:.5rem!important}.pt-sm-2,.py-sm-2{padding-top:.5rem!important}.pr-sm-2,.px-sm-2{padding-right:.5rem!important}.pb-sm-2,.py-sm-2{padding-bottom:.5rem!important}.pl-sm-2,.px-sm-2{padding-left:.5rem!important}.p-sm-3{padding:1rem!important}.pt-sm-3,.py-sm-3{padding-top:1rem!important}.pr-sm-3,.px-sm-3{padding-right:1rem!important}.pb-sm-3,.py-sm-3{padding-bottom:1rem!important}.pl-sm-3,.px-sm-3{padding-left:1rem!important}.p-sm-4{padding:1.5rem!important}.pt-sm-4,.py-sm-4{padding-top:1.5rem!important}.pr-sm-4,.px-sm-4{padding-right:1.5rem!important}.pb-sm-4,.py-sm-4{padding-bottom:1.5rem!important}.pl-sm-4,.px-sm-4{padding-left:1.5rem!important}.p-sm-5{padding:3rem!important}.pt-sm-5,.py-sm-5{padding-top:3rem!important}.pr-sm-5,.px-sm-5{padding-right:3rem!important}.pb-sm-5,.py-sm-5{padding-bottom:3rem!important}.pl-sm-5,.px-sm-5{padding-left:3rem!important}.m-sm-n1{margin:-.25rem!important}.mt-sm-n1,.my-sm-n1{margin-top:-.25rem!important}.mr-sm-n1,.mx-sm-n1{margin-right:-.25rem!important}.mb-sm-n1,.my-sm-n1{margin-bottom:-.25rem!important}.ml-sm-n1,.mx-sm-n1{margin-left:-.25rem!important}.m-sm-n2{margin:-.5rem!important}.mt-sm-n2,.my-sm-n2{margin-top:-.5rem!important}.mr-sm-n2,.mx-sm-n2{margin-right:-.5rem!important}.mb-sm-n2,.my-sm-n2{margin-bottom:-.5rem!important}.ml-sm-n2,.mx-sm-n2{margin-left:-.5rem!important}.m-sm-n3{margin:-1rem!important}.mt-sm-n3,.my-sm-n3{margin-top:-1rem!important}.mr-sm-n3,.mx-sm-n3{margin-right:-1rem!important}.mb-sm-n3,.my-sm-n3{margin-bottom:-1rem!important}.ml-sm-n3,.mx-sm-n3{margin-left:-1rem!important}.m-sm-n4{margin:-1.5rem!important}.mt-sm-n4,.my-sm-n4{margin-top:-1.5rem!important}.mr-sm-n4,.mx-sm-n4{margin-right:-1.5rem!important}.mb-sm-n4,.my-sm-n4{margin-bottom:-1.5rem!important}.ml-sm-n4,.mx-sm-n4{margin-left:-1.5rem!important}.m-sm-n5{margin:-3rem!important}.mt-sm-n5,.my-sm-n5{margin-top:-3rem!important}.mr-sm-n5,.mx-sm-n5{margin-right:-3rem!important}.mb-sm-n5,.my-sm-n5{margin-bottom:-3rem!important}.ml-sm-n5,.mx-sm-n5{margin-left:-3rem!important}.m-sm-auto{margin:auto!important}.mt-sm-auto,.my-sm-auto{margin-top:auto!important}.mr-sm-auto,.mx-sm-auto{margin-right:auto!important}.mb-sm-auto,.my-sm-auto{margin-bottom:auto!important}.ml-sm-auto,.mx-sm-auto{margin-left:auto!important}}@media (min-width:768px){.m-md-0{margin:0!important}.mt-md-0,.my-md-0{margin-top:0!important}.mr-md-0,.mx-md-0{margin-right:0!important}.mb-md-0,.my-md-0{margin-bottom:0!important}.ml-md-0,.mx-md-0{margin-left:0!important}.m-md-1{margin:.25rem!important}.mt-md-1,.my-md-1{margin-top:.25rem!important}.mr-md-1,.mx-md-1{margin-right:.25rem!important}.mb-md-1,.my-md-1{margin-bottom:.25rem!important}.ml-md-1,.mx-md-1{margin-left:.25rem!important}.m-md-2{margin:.5rem!important}.mt-md-2,.my-md-2{margin-top:.5rem!important}.mr-md-2,.mx-md-2{margin-right:.5rem!important}.mb-md-2,.my-md-2{margin-bottom:.5rem!important}.ml-md-2,.mx-md-2{margin-left:.5rem!important}.m-md-3{margin:1rem!important}.mt-md-3,.my-md-3{margin-top:1rem!important}.mr-md-3,.mx-md-3{margin-right:1rem!important}.mb-md-3,.my-md-3{margin-bottom:1rem!important}.ml-md-3,.mx-md-3{margin-left:1rem!important}.m-md-4{margin:1.5rem!important}.mt-md-4,.my-md-4{margin-top:1.5rem!important}.mr-md-4,.mx-md-4{margin-right:1.5rem!important}.mb-md-4,.my-md-4{margin-bottom:1.5rem!important}.ml-md-4,.mx-md-4{margin-left:1.5rem!important}.m-md-5{margin:3rem!important}.mt-md-5,.my-md-5{margin-top:3rem!important}.mr-md-5,.mx-md-5{margin-right:3rem!important}.mb-md-5,.my-md-5{margin-bottom:3rem!important}.ml-md-5,.mx-md-5{margin-left:3rem!important}.p-md-0{padding:0!important}.pt-md-0,.py-md-0{padding-top:0!important}.pr-md-0,.px-md-0{padding-right:0!important}.pb-md-0,.py-md-0{padding-bottom:0!important}.pl-md-0,.px-md-0{padding-left:0!important}.p-md-1{padding:.25rem!important}.pt-md-1,.py-md-1{padding-top:.25rem!important}.pr-md-1,.px-md-1{padding-right:.25rem!important}.pb-md-1,.py-md-1{padding-bottom:.25rem!important}.pl-md-1,.px-md-1{padding-left:.25rem!important}.p-md-2{padding:.5rem!important}.pt-md-2,.py-md-2{padding-top:.5rem!important}.pr-md-2,.px-md-2{padding-right:.5rem!important}.pb-md-2,.py-md-2{padding-bottom:.5rem!important}.pl-md-2,.px-md-2{padding-left:.5rem!important}.p-md-3{padding:1rem!important}.pt-md-3,.py-md-3{padding-top:1rem!important}.pr-md-3,.px-md-3{padding-right:1rem!important}.pb-md-3,.py-md-3{padding-bottom:1rem!important}.pl-md-3,.px-md-3{padding-left:1rem!important}.p-md-4{padding:1.5rem!important}.pt-md-4,.py-md-4{padding-top:1.5rem!important}.pr-md-4,.px-md-4{padding-right:1.5rem!important}.pb-md-4,.py-md-4{padding-bottom:1.5rem!important}.pl-md-4,.px-md-4{padding-left:1.5rem!important}.p-md-5{padding:3rem!important}.pt-md-5,.py-md-5{padding-top:3rem!important}.pr-md-5,.px-md-5{padding-right:3rem!important}.pb-md-5,.py-md-5{padding-bottom:3rem!important}.pl-md-5,.px-md-5{padding-left:3rem!important}.m-md-n1{margin:-.25rem!important}.mt-md-n1,.my-md-n1{margin-top:-.25rem!important}.mr-md-n1,.mx-md-n1{margin-right:-.25rem!important}.mb-md-n1,.my-md-n1{margin-bottom:-.25rem!important}.ml-md-n1,.mx-md-n1{margin-left:-.25rem!important}.m-md-n2{margin:-.5rem!important}.mt-md-n2,.my-md-n2{margin-top:-.5rem!important}.mr-md-n2,.mx-md-n2{margin-right:-.5rem!important}.mb-md-n2,.my-md-n2{margin-bottom:-.5rem!important}.ml-md-n2,.mx-md-n2{margin-left:-.5rem!important}.m-md-n3{margin:-1rem!important}.mt-md-n3,.my-md-n3{margin-top:-1rem!important}.mr-md-n3,.mx-md-n3{margin-right:-1rem!important}.mb-md-n3,.my-md-n3{margin-bottom:-1rem!important}.ml-md-n3,.mx-md-n3{margin-left:-1rem!important}.m-md-n4{margin:-1.5rem!important}.mt-md-n4,.my-md-n4{margin-top:-1.5rem!important}.mr-md-n4,.mx-md-n4{margin-right:-1.5rem!important}.mb-md-n4,.my-md-n4{margin-bottom:-1.5rem!important}.ml-md-n4,.mx-md-n4{margin-left:-1.5rem!important}.m-md-n5{margin:-3rem!important}.mt-md-n5,.my-md-n5{margin-top:-3rem!important}.mr-md-n5,.mx-md-n5{margin-right:-3rem!important}.mb-md-n5,.my-md-n5{margin-bottom:-3rem!important}.ml-md-n5,.mx-md-n5{margin-left:-3rem!important}.m-md-auto{margin:auto!important}.mt-md-auto,.my-md-auto{margin-top:auto!important}.mr-md-auto,.mx-md-auto{margin-right:auto!important}.mb-md-auto,.my-md-auto{margin-bottom:auto!important}.ml-md-auto,.mx-md-auto{margin-left:auto!important}}@media (min-width:992px){.m-lg-0{margin:0!important}.mt-lg-0,.my-lg-0{margin-top:0!important}.mr-lg-0,.mx-lg-0{margin-right:0!important}.mb-lg-0,.my-lg-0{margin-bottom:0!important}.ml-lg-0,.mx-lg-0{margin-left:0!important}.m-lg-1{margin:.25rem!important}.mt-lg-1,.my-lg-1{margin-top:.25rem!important}.mr-lg-1,.mx-lg-1{margin-right:.25rem!important}.mb-lg-1,.my-lg-1{margin-bottom:.25rem!important}.ml-lg-1,.mx-lg-1{margin-left:.25rem!important}.m-lg-2{margin:.5rem!important}.mt-lg-2,.my-lg-2{margin-top:.5rem!important}.mr-lg-2,.mx-lg-2{margin-right:.5rem!important}.mb-lg-2,.my-lg-2{margin-bottom:.5rem!important}.ml-lg-2,.mx-lg-2{margin-left:.5rem!important}.m-lg-3{margin:1rem!important}.mt-lg-3,.my-lg-3{margin-top:1rem!important}.mr-lg-3,.mx-lg-3{margin-right:1rem!important}.mb-lg-3,.my-lg-3{margin-bottom:1rem!important}.ml-lg-3,.mx-lg-3{margin-left:1rem!important}.m-lg-4{margin:1.5rem!important}.mt-lg-4,.my-lg-4{margin-top:1.5rem!important}.mr-lg-4,.mx-lg-4{margin-right:1.5rem!important}.mb-lg-4,.my-lg-4{margin-bottom:1.5rem!important}.ml-lg-4,.mx-lg-4{margin-left:1.5rem!important}.m-lg-5{margin:3rem!important}.mt-lg-5,.my-lg-5{margin-top:3rem!important}.mr-lg-5,.mx-lg-5{margin-right:3rem!important}.mb-lg-5,.my-lg-5{margin-bottom:3rem!important}.ml-lg-5,.mx-lg-5{margin-left:3rem!important}.p-lg-0{padding:0!important}.pt-lg-0,.py-lg-0{padding-top:0!important}.pr-lg-0,.px-lg-0{padding-right:0!important}.pb-lg-0,.py-lg-0{padding-bottom:0!important}.pl-lg-0,.px-lg-0{padding-left:0!important}.p-lg-1{padding:.25rem!important}.pt-lg-1,.py-lg-1{padding-top:.25rem!important}.pr-lg-1,.px-lg-1{padding-right:.25rem!important}.pb-lg-1,.py-lg-1{padding-bottom:.25rem!important}.pl-lg-1,.px-lg-1{padding-left:.25rem!important}.p-lg-2{padding:.5rem!important}.pt-lg-2,.py-lg-2{padding-top:.5rem!important}.pr-lg-2,.px-lg-2{padding-right:.5rem!important}.pb-lg-2,.py-lg-2{padding-bottom:.5rem!important}.pl-lg-2,.px-lg-2{padding-left:.5rem!important}.p-lg-3{padding:1rem!important}.pt-lg-3,.py-lg-3{padding-top:1rem!important}.pr-lg-3,.px-lg-3{padding-right:1rem!important}.pb-lg-3,.py-lg-3{padding-bottom:1rem!important}.pl-lg-3,.px-lg-3{padding-left:1rem!important}.p-lg-4{padding:1.5rem!important}.pt-lg-4,.py-lg-4{padding-top:1.5rem!important}.pr-lg-4,.px-lg-4{padding-right:1.5rem!important}.pb-lg-4,.py-lg-4{padding-bottom:1.5rem!important}.pl-lg-4,.px-lg-4{padding-left:1.5rem!important}.p-lg-5{padding:3rem!important}.pt-lg-5,.py-lg-5{padding-top:3rem!important}.pr-lg-5,.px-lg-5{padding-right:3rem!important}.pb-lg-5,.py-lg-5{padding-bottom:3rem!important}.pl-lg-5,.px-lg-5{padding-left:3rem!important}.m-lg-n1{margin:-.25rem!important}.mt-lg-n1,.my-lg-n1{margin-top:-.25rem!important}.mr-lg-n1,.mx-lg-n1{margin-right:-.25rem!important}.mb-lg-n1,.my-lg-n1{margin-bottom:-.25rem!important}.ml-lg-n1,.mx-lg-n1{margin-left:-.25rem!important}.m-lg-n2{margin:-.5rem!important}.mt-lg-n2,.my-lg-n2{margin-top:-.5rem!important}.mr-lg-n2,.mx-lg-n2{margin-right:-.5rem!important}.mb-lg-n2,.my-lg-n2{margin-bottom:-.5rem!important}.ml-lg-n2,.mx-lg-n2{margin-left:-.5rem!important}.m-lg-n3{margin:-1rem!important}.mt-lg-n3,.my-lg-n3{margin-top:-1rem!important}.mr-lg-n3,.mx-lg-n3{margin-right:-1rem!important}.mb-lg-n3,.my-lg-n3{margin-bottom:-1rem!important}.ml-lg-n3,.mx-lg-n3{margin-left:-1rem!important}.m-lg-n4{margin:-1.5rem!important}.mt-lg-n4,.my-lg-n4{margin-top:-1.5rem!important}.mr-lg-n4,.mx-lg-n4{margin-right:-1.5rem!important}.mb-lg-n4,.my-lg-n4{margin-bottom:-1.5rem!important}.ml-lg-n4,.mx-lg-n4{margin-left:-1.5rem!important}.m-lg-n5{margin:-3rem!important}.mt-lg-n5,.my-lg-n5{margin-top:-3rem!important}.mr-lg-n5,.mx-lg-n5{margin-right:-3rem!important}.mb-lg-n5,.my-lg-n5{margin-bottom:-3rem!important}.ml-lg-n5,.mx-lg-n5{margin-left:-3rem!important}.m-lg-auto{margin:auto!important}.mt-lg-auto,.my-lg-auto{margin-top:auto!important}.mr-lg-auto,.mx-lg-auto{margin-right:auto!important}.mb-lg-auto,.my-lg-auto{margin-bottom:auto!important}.ml-lg-auto,.mx-lg-auto{margin-left:auto!important}}@media (min-width:1200px){.m-xl-0{margin:0!important}.mt-xl-0,.my-xl-0{margin-top:0!important}.mr-xl-0,.mx-xl-0{margin-right:0!important}.mb-xl-0,.my-xl-0{margin-bottom:0!important}.ml-xl-0,.mx-xl-0{margin-left:0!important}.m-xl-1{margin:.25rem!important}.mt-xl-1,.my-xl-1{margin-top:.25rem!important}.mr-xl-1,.mx-xl-1{margin-right:.25rem!important}.mb-xl-1,.my-xl-1{margin-bottom:.25rem!important}.ml-xl-1,.mx-xl-1{margin-left:.25rem!important}.m-xl-2{margin:.5rem!important}.mt-xl-2,.my-xl-2{margin-top:.5rem!important}.mr-xl-2,.mx-xl-2{margin-right:.5rem!important}.mb-xl-2,.my-xl-2{margin-bottom:.5rem!important}.ml-xl-2,.mx-xl-2{margin-left:.5rem!important}.m-xl-3{margin:1rem!important}.mt-xl-3,.my-xl-3{margin-top:1rem!important}.mr-xl-3,.mx-xl-3{margin-right:1rem!important}.mb-xl-3,.my-xl-3{margin-bottom:1rem!important}.ml-xl-3,.mx-xl-3{margin-left:1rem!important}.m-xl-4{margin:1.5rem!important}.mt-xl-4,.my-xl-4{margin-top:1.5rem!important}.mr-xl-4,.mx-xl-4{margin-right:1.5rem!important}.mb-xl-4,.my-xl-4{margin-bottom:1.5rem!important}.ml-xl-4,.mx-xl-4{margin-left:1.5rem!important}.m-xl-5{margin:3rem!important}.mt-xl-5,.my-xl-5{margin-top:3rem!important}.mr-xl-5,.mx-xl-5{margin-right:3rem!important}.mb-xl-5,.my-xl-5{margin-bottom:3rem!important}.ml-xl-5,.mx-xl-5{margin-left:3rem!important}.p-xl-0{padding:0!important}.pt-xl-0,.py-xl-0{padding-top:0!important}.pr-xl-0,.px-xl-0{padding-right:0!important}.pb-xl-0,.py-xl-0{padding-bottom:0!important}.pl-xl-0,.px-xl-0{padding-left:0!important}.p-xl-1{padding:.25rem!important}.pt-xl-1,.py-xl-1{padding-top:.25rem!important}.pr-xl-1,.px-xl-1{padding-right:.25rem!important}.pb-xl-1,.py-xl-1{padding-bottom:.25rem!important}.pl-xl-1,.px-xl-1{padding-left:.25rem!important}.p-xl-2{padding:.5rem!important}.pt-xl-2,.py-xl-2{padding-top:.5rem!important}.pr-xl-2,.px-xl-2{padding-right:.5rem!important}.pb-xl-2,.py-xl-2{padding-bottom:.5rem!important}.pl-xl-2,.px-xl-2{padding-left:.5rem!important}.p-xl-3{padding:1rem!important}.pt-xl-3,.py-xl-3{padding-top:1rem!important}.pr-xl-3,.px-xl-3{padding-right:1rem!important}.pb-xl-3,.py-xl-3{padding-bottom:1rem!important}.pl-xl-3,.px-xl-3{padding-left:1rem!important}.p-xl-4{padding:1.5rem!important}.pt-xl-4,.py-xl-4{padding-top:1.5rem!important}.pr-xl-4,.px-xl-4{padding-right:1.5rem!important}.pb-xl-4,.py-xl-4{padding-bottom:1.5rem!important}.pl-xl-4,.px-xl-4{padding-left:1.5rem!important}.p-xl-5{padding:3rem!important}.pt-xl-5,.py-xl-5{padding-top:3rem!important}.pr-xl-5,.px-xl-5{padding-right:3rem!important}.pb-xl-5,.py-xl-5{padding-bottom:3rem!important}.pl-xl-5,.px-xl-5{padding-left:3rem!important}.m-xl-n1{margin:-.25rem!important}.mt-xl-n1,.my-xl-n1{margin-top:-.25rem!important}.mr-xl-n1,.mx-xl-n1{margin-right:-.25rem!important}.mb-xl-n1,.my-xl-n1{margin-bottom:-.25rem!important}.ml-xl-n1,.mx-xl-n1{margin-left:-.25rem!important}.m-xl-n2{margin:-.5rem!important}.mt-xl-n2,.my-xl-n2{margin-top:-.5rem!important}.mr-xl-n2,.mx-xl-n2{margin-right:-.5rem!important}.mb-xl-n2,.my-xl-n2{margin-bottom:-.5rem!important}.ml-xl-n2,.mx-xl-n2{margin-left:-.5rem!important}.m-xl-n3{margin:-1rem!important}.mt-xl-n3,.my-xl-n3{margin-top:-1rem!important}.mr-xl-n3,.mx-xl-n3{margin-right:-1rem!important}.mb-xl-n3,.my-xl-n3{margin-bottom:-1rem!important}.ml-xl-n3,.mx-xl-n3{margin-left:-1rem!important}.m-xl-n4{margin:-1.5rem!important}.mt-xl-n4,.my-xl-n4{margin-top:-1.5rem!important}.mr-xl-n4,.mx-xl-n4{margin-right:-1.5rem!important}.mb-xl-n4,.my-xl-n4{margin-bottom:-1.5rem!important}.ml-xl-n4,.mx-xl-n4{margin-left:-1.5rem!important}.m-xl-n5{margin:-3rem!important}.mt-xl-n5,.my-xl-n5{margin-top:-3rem!important}.mr-xl-n5,.mx-xl-n5{margin-right:-3rem!important}.mb-xl-n5,.my-xl-n5{margin-bottom:-3rem!important}.ml-xl-n5,.mx-xl-n5{margin-left:-3rem!important}.m-xl-auto{margin:auto!important}.mt-xl-auto,.my-xl-auto{margin-top:auto!important}.mr-xl-auto,.mx-xl-auto{margin-right:auto!important}.mb-xl-auto,.my-xl-auto{margin-bottom:auto!important}.ml-xl-auto,.mx-xl-auto{margin-left:auto!important}}.text-monospace{font-family:SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace!important}.text-justify{text-align:justify!important}.text-wrap{white-space:normal!important}.text-nowrap{white-space:nowrap!important}.text-truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.text-left{text-align:left!important}.text-right{text-align:right!important}.text-center{text-align:center!important}@media (min-width:576px){.text-sm-left{text-align:left!important}.text-sm-right{text-align:right!important}.text-sm-center{text-align:center!important}}@media (min-width:768px){.text-md-left{text-align:left!important}.text-md-right{text-align:right!important}.text-md-center{text-align:center!important}}@media (min-width:992px){.text-lg-left{text-align:left!important}.text-lg-right{text-align:right!important}.text-lg-center{text-align:center!important}}@media (min-width:1200px){.text-xl-left{text-align:left!important}.text-xl-right{text-align:right!important}.text-xl-center{text-align:center!important}}.text-lowercase{text-transform:lowercase!important}.text-uppercase{text-transform:uppercase!important}.text-capitalize{text-transform:capitalize!important}.font-weight-light{font-weight:300!important}.font-weight-lighter{font-weight:lighter!important}.font-weight-normal{font-weight:400!important}.font-weight-bold{font-weight:700!important}.font-weight-bolder{font-weight:bolder!important}.font-italic{font-style:italic!important}.text-white{color:#fff!important}.text-primary{color:#007bff!important}a.text-primary:focus,a.text-primary:hover{color:#0056b3!important}.text-secondary{color:#6c757d!important}a.text-secondary:focus,a.text-secondary:hover{color:#494f54!important}.text-success{color:#28a745!important}a.text-success:focus,a.text-success:hover{color:#19692c!important}.text-info{color:#17a2b8!important}a.text-info:focus,a.text-info:hover{color:#0f6674!important}.text-warning{color:#ffc107!important}a.text-warning:focus,a.text-warning:hover{color:#ba8b00!important}.text-danger{color:#dc3545!important}a.text-danger:focus,a.text-danger:hover{color:#a71d2a!important}.text-light{color:#f8f9fa!important}a.text-light:focus,a.text-light:hover{color:#cbd3da!important}.text-dark{color:#343a40!important}a.text-dark:focus,a.text-dark:hover{color:#121416!important}.text-body{color:#212529!important}.text-muted{color:#6c757d!important}.text-black-50{color:rgba(0,0,0,.5)!important}.text-white-50{color:hsla(0,0%,100%,.5)!important}.text-hide{font:0/0 a;color:transparent;text-shadow:none;background-color:transparent;border:0}.text-decoration-none{text-decoration:none!important}.text-break{word-break:break-word!important;word-wrap:break-word!important}.text-reset{color:inherit!important}.visible{visibility:visible!important}.invisible{visibility:hidden!important}@media print{*,:after,:before{text-shadow:none!important;box-shadow:none!important}a:not(.btn){text-decoration:underline}abbr[title]:after{content:\" (\" attr(title) \")\"}pre{white-space:pre-wrap!important}blockquote,pre{border:1px solid #adb5bd;page-break-inside:avoid}thead{display:table-header-group}img,tr{page-break-inside:avoid}h2,h3,p{orphans:3;widows:3}h2,h3{page-break-after:avoid}@page{size:a3}.container,body{min-width:992px!important}.navbar{display:none}.badge{border:1px solid #000}.table{border-collapse:collapse!important}.table td,.table th{background-color:#fff!important}.table-bordered td,.table-bordered th{border:1px solid #dee2e6!important}.table-dark{color:inherit}.table-dark tbody+tbody,.table-dark td,.table-dark th,.table-dark thead th{border-color:#dee2e6}.table .thead-dark th{color:inherit;border-color:#dee2e6}}",""])},function(t,e,n){var content=n(367);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(52).default)("2c955d46",content,!0,{sourceMap:!1})},function(t,e,n){(t.exports=n(51)(!1)).push([t.i,'/*!\n * BootstrapVue Custom CSS (https://bootstrap-vue.js.org)\n */.card-img-left{border-top-left-radius:calc(.25rem - 1px);border-bottom-left-radius:calc(.25rem - 1px)}.card-img-right{border-top-right-radius:calc(.25rem - 1px);border-bottom-right-radius:calc(.25rem - 1px)}.dropdown.dropleft .dropdown-toggle.dropdown-toggle-no-caret:before,.dropdown:not(.dropleft) .dropdown-toggle.dropdown-toggle-no-caret:after{display:none!important}.b-dropdown-form{display:inline-block;padding:.25rem 1.5rem;width:100%;clear:both;font-weight:400}.b-dropdown-form:first-child{border-top-left-radius:calc(.25rem - 1px);border-top-right-radius:calc(.25rem - 1px)}.b-dropdown-form:last-child{border-bottom-right-radius:calc(.25rem - 1px);border-bottom-left-radius:calc(.25rem - 1px)}.b-dropdown-text{display:inline-block;padding:.25rem 1.5rem;margin-bottom:0;width:100%;clear:both;font-weight:lighter}.b-dropdown-text:first-child{border-top-left-radius:calc(.25rem - 1px);border-top-right-radius:calc(.25rem - 1px)}.b-dropdown-text:last-child{border-bottom-right-radius:calc(.25rem - 1px);border-bottom-left-radius:calc(.25rem - 1px)}.input-group>.input-group-append:last-child>.btn-group:not(:last-child):not(.dropdown-toggle)>.btn,.input-group>.input-group-append:not(:last-child)>.btn-group>.btn,.input-group>.input-group-prepend>.btn-group>.btn{border-top-right-radius:0;border-bottom-right-radius:0}.input-group>.input-group-append>.btn-group>.btn,.input-group>.input-group-prepend:first-child>.btn-group:not(:first-child)>.btn,.input-group>.input-group-prepend:not(:first-child)>.btn-group>.btn{border-top-left-radius:0;border-bottom-left-radius:0}.form-control.is-invalid,.form-control.is-valid,.was-validated .form-control:invalid,.was-validated .form-control:valid{background-position:right calc(.375em + .1875rem) center}input[type=color].form-control{height:calc(1.5em + .75rem + 2px);padding:.125rem .25rem}.input-group-sm input[type=color].form-control,input[type=color].form-control.form-control-sm{height:calc(1.5em + .5rem + 2px);padding:.125rem .25rem}.input-group-lg input[type=color].form-control,input[type=color].form-control.form-control-lg{height:calc(1.5em + 1rem + 2px);padding:.125rem .25rem}input[type=color].form-control:disabled{background-color:#adb5bd;opacity:.65}.input-group>.custom-range{position:relative;flex:1 1 auto;width:1%;margin-bottom:0}.input-group>.custom-file+.custom-range,.input-group>.custom-range+.custom-file,.input-group>.custom-range+.custom-range,.input-group>.custom-range+.custom-select,.input-group>.custom-range+.form-control,.input-group>.custom-range+.form-control-plaintext,.input-group>.custom-select+.custom-range,.input-group>.form-control+.custom-range,.input-group>.form-control-plaintext+.custom-range{margin-left:-1px}.input-group>.custom-range:focus{z-index:3}.input-group>.custom-range:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.input-group>.custom-range:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.input-group>.custom-range{padding:0 .75rem;background-color:#fff;background-clip:padding-box;border:1px solid #ced4da;height:calc(1.5em + .75rem + 2px);border-radius:.25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.input-group>.custom-range{transition:none}}.input-group>.custom-range:focus{color:#495057;background-color:#fff;border-color:#80bdff;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.input-group>.custom-range:disabled,.input-group>.custom-range[readonly]{background-color:#e9ecef}.input-group-lg>.custom-range{height:calc(1.5em + 1rem + 2px);padding:0 1rem;border-radius:.3rem}.input-group-sm>.custom-range{height:calc(1.5em + .5rem + 2px);padding:0 .5rem;border-radius:.2rem}.input-group .custom-range.is-valid,.was-validated .input-group .custom-range:valid{border-color:#28a745}.input-group .custom-range.is-valid:focus,.was-validated .input-group .custom-range:valid:focus{border-color:#28a745;box-shadow:0 0 0 .2rem rgba(40,167,69,.25)}.custom-range.is-valid:focus::-webkit-slider-thumb,.was-validated .custom-range:valid:focus::-webkit-slider-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .2rem #9be7ac}.custom-range.is-valid:focus::-moz-range-thumb,.was-validated .custom-range:valid:focus::-moz-range-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .2rem #9be7ac}.custom-range.is-valid:focus::-ms-thumb,.was-validated .custom-range:valid:focus::-ms-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .2rem #9be7ac}.custom-range.is-valid::-webkit-slider-thumb,.was-validated .custom-range:valid::-webkit-slider-thumb{background-color:#28a745;background-image:none}.custom-range.is-valid::-webkit-slider-thumb:active,.was-validated .custom-range:valid::-webkit-slider-thumb:active{background-color:#9be7ac;background-image:none}.custom-range.is-valid::-webkit-slider-runnable-track,.was-validated .custom-range:valid::-webkit-slider-runnable-track{background-color:rgba(40,167,69,.35)}.custom-range.is-valid::-moz-range-thumb,.was-validated .custom-range:valid::-moz-range-thumb{background-color:#28a745;background-image:none}.custom-range.is-valid::-moz-range-thumb:active,.was-validated .custom-range:valid::-moz-range-thumb:active{background-color:#9be7ac;background-image:none}.custom-range.is-valid::-moz-range-track,.was-validated .custom-range:valid::-moz-range-track{background:rgba(40,167,69,.35)}.custom-range.is-valid~.valid-feedback,.custom-range.is-valid~.valid-tooltip,.was-validated .custom-range:valid~.valid-feedback,.was-validated .custom-range:valid~.valid-tooltip{display:block}.custom-range.is-valid::-ms-thumb,.was-validated .custom-range:valid::-ms-thumb{background-color:#28a745;background-image:none}.custom-range.is-valid::-ms-thumb:active,.was-validated .custom-range:valid::-ms-thumb:active{background-color:#9be7ac;background-image:none}.custom-range.is-valid::-ms-track-lower,.custom-range.is-valid::-ms-track-upper,.was-validated .custom-range:valid::-ms-track-lower,.was-validated .custom-range:valid::-ms-track-upper{background:rgba(40,167,69,.35)}.input-group .custom-range.is-invalid,.was-validated .input-group .custom-range:invalid{border-color:#dc3545}.input-group .custom-range.is-invalid:focus,.was-validated .input-group .custom-range:invalid:focus{border-color:#dc3545;box-shadow:0 0 0 .2rem rgba(220,53,69,.25)}.custom-range.is-invalid:focus::-webkit-slider-thumb,.was-validated .custom-range:invalid:focus::-webkit-slider-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .2rem #f6cdd1}.custom-range.is-invalid:focus::-moz-range-thumb,.was-validated .custom-range:invalid:focus::-moz-range-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .2rem #f6cdd1}.custom-range.is-invalid:focus::-ms-thumb,.was-validated .custom-range:invalid:focus::-ms-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .2rem #f6cdd1}.custom-range.is-invalid::-webkit-slider-thumb,.was-validated .custom-range:invalid::-webkit-slider-thumb{background-color:#dc3545;background-image:none}.custom-range.is-invalid::-webkit-slider-thumb:active,.was-validated .custom-range:invalid::-webkit-slider-thumb:active{background-color:#f6cdd1;background-image:none}.custom-range.is-invalid::-webkit-slider-runnable-track,.was-validated .custom-range:invalid::-webkit-slider-runnable-track{background-color:rgba(220,53,69,.35)}.custom-range.is-invalid::-moz-range-thumb,.was-validated .custom-range:invalid::-moz-range-thumb{background-color:#dc3545;background-image:none}.custom-range.is-invalid::-moz-range-thumb:active,.was-validated .custom-range:invalid::-moz-range-thumb:active{background-color:#f6cdd1;background-image:none}.custom-range.is-invalid::-moz-range-track,.was-validated .custom-range:invalid::-moz-range-track{background:rgba(220,53,69,.35)}.custom-range.is-invalid~.invalid-feedback,.custom-range.is-invalid~.invalid-tooltip,.was-validated .custom-range:invalid~.invalid-feedback,.was-validated .custom-range:invalid~.invalid-tooltip{display:block}.custom-range.is-invalid::-ms-thumb,.was-validated .custom-range:invalid::-ms-thumb{background-color:#dc3545;background-image:none}.custom-range.is-invalid::-ms-thumb:active,.was-validated .custom-range:invalid::-ms-thumb:active{background-color:#f6cdd1;background-image:none}.custom-range.is-invalid::-ms-track-lower,.custom-range.is-invalid::-ms-track-upper,.was-validated .custom-range:invalid::-ms-track-lower,.was-validated .custom-range:invalid::-ms-track-upper{background:rgba(220,53,69,.35)}@media (max-width:575.98px){.bv-d-xs-down-none{display:none!important}}@media (max-width:767.98px){.bv-d-sm-down-none{display:none!important}}@media (max-width:991.98px){.bv-d-md-down-none{display:none!important}}@media (max-width:1199.98px){.bv-d-lg-down-none{display:none!important}}.bv-d-xl-down-none{display:none!important}.b-table.table.b-table-fixed{table-layout:fixed}.b-table.table[aria-busy=true]{opacity:.55}.b-table.table>tbody>tr.b-table-details>td{border-top:none!important}.b-table.table>caption{caption-side:bottom}.b-table.table>caption.b-table-caption-top{caption-side:top!important}.b-table.table>tfoot>tr>td,.b-table.table>tfoot>tr>th,.b-table.table>thead>tr>td,.b-table.table>thead>tr>th{position:relative}.b-table.table>tfoot>tr>th[aria-sort],.b-table.table>thead>tr>th[aria-sort]{position:relative;padding-right:1.125em;cursor:pointer}.b-table.table>tfoot>tr>th[aria-sort]:after,.b-table.table>thead>tr>th[aria-sort]:after{position:absolute;display:block;bottom:0;right:.35em;padding-bottom:inherit;font-size:inherit;line-height:inherit;opacity:.4;content:"\\2195";speak:none}.b-table.table>tfoot>tr>th[aria-sort][aria-sort=ascending]:after,.b-table.table>thead>tr>th[aria-sort][aria-sort=ascending]:after{opacity:1;content:"\\2193"}.b-table.table>tfoot>tr>th[aria-sort][aria-sort=descending]:after,.b-table.table>thead>tr>th[aria-sort][aria-sort=descending]:after{opacity:1;content:"\\2191"}@media (max-width:575.98px){.b-table.table.b-table-stacked-sm{display:block;width:100%}.b-table.table.b-table-stacked-sm>caption,.b-table.table.b-table-stacked-sm>tbody,.b-table.table.b-table-stacked-sm>tbody>tr,.b-table.table.b-table-stacked-sm>tbody>tr>td{display:block}.b-table.table.b-table-stacked-sm>tfoot,.b-table.table.b-table-stacked-sm>tfoot>tr.b-table-bottom-row,.b-table.table.b-table-stacked-sm>tfoot>tr.b-table-top-row,.b-table.table.b-table-stacked-sm>thead,.b-table.table.b-table-stacked-sm>thead>tr.b-table-bottom-row,.b-table.table.b-table-stacked-sm>thead>tr.b-table-top-row{display:none}.b-table.table.b-table-stacked-sm>caption{caption-side:top!important}.b-table.table.b-table-stacked-sm>tbody>tr>[data-label]{display:grid;grid-template-columns:40% auto;grid-gap:.25rem 1rem}.b-table.table.b-table-stacked-sm>tbody>tr>[data-label]:before{content:attr(data-label);display:inline;text-align:right;word-wrap:break-word;font-weight:700;font-style:normal}.b-table.table.b-table-stacked-sm>tbody>tr.bottom-row,.b-table.table.b-table-stacked-sm>tbody>tr.top-row{display:none}.b-table.table.b-table-stacked-sm>tbody>tr>:first-child{border-top-width:3px}}@media (max-width:767.98px){.b-table.table.b-table-stacked-md{display:block;width:100%}.b-table.table.b-table-stacked-md>caption,.b-table.table.b-table-stacked-md>tbody,.b-table.table.b-table-stacked-md>tbody>tr,.b-table.table.b-table-stacked-md>tbody>tr>td{display:block}.b-table.table.b-table-stacked-md>tfoot,.b-table.table.b-table-stacked-md>tfoot>tr.b-table-bottom-row,.b-table.table.b-table-stacked-md>tfoot>tr.b-table-top-row,.b-table.table.b-table-stacked-md>thead,.b-table.table.b-table-stacked-md>thead>tr.b-table-bottom-row,.b-table.table.b-table-stacked-md>thead>tr.b-table-top-row{display:none}.b-table.table.b-table-stacked-md>caption{caption-side:top!important}.b-table.table.b-table-stacked-md>tbody>tr>[data-label]{display:grid;grid-template-columns:40% auto;grid-gap:.25rem 1rem}.b-table.table.b-table-stacked-md>tbody>tr>[data-label]:before{content:attr(data-label);display:inline;text-align:right;word-wrap:break-word;font-weight:700;font-style:normal}.b-table.table.b-table-stacked-md>tbody>tr.bottom-row,.b-table.table.b-table-stacked-md>tbody>tr.top-row{display:none}.b-table.table.b-table-stacked-md>tbody>tr>:first-child{border-top-width:3px}}@media (max-width:991.98px){.b-table.table.b-table-stacked-lg{display:block;width:100%}.b-table.table.b-table-stacked-lg>caption,.b-table.table.b-table-stacked-lg>tbody,.b-table.table.b-table-stacked-lg>tbody>tr,.b-table.table.b-table-stacked-lg>tbody>tr>td{display:block}.b-table.table.b-table-stacked-lg>tfoot,.b-table.table.b-table-stacked-lg>tfoot>tr.b-table-bottom-row,.b-table.table.b-table-stacked-lg>tfoot>tr.b-table-top-row,.b-table.table.b-table-stacked-lg>thead,.b-table.table.b-table-stacked-lg>thead>tr.b-table-bottom-row,.b-table.table.b-table-stacked-lg>thead>tr.b-table-top-row{display:none}.b-table.table.b-table-stacked-lg>caption{caption-side:top!important}.b-table.table.b-table-stacked-lg>tbody>tr>[data-label]{display:grid;grid-template-columns:40% auto;grid-gap:.25rem 1rem}.b-table.table.b-table-stacked-lg>tbody>tr>[data-label]:before{content:attr(data-label);display:inline;text-align:right;word-wrap:break-word;font-weight:700;font-style:normal}.b-table.table.b-table-stacked-lg>tbody>tr.bottom-row,.b-table.table.b-table-stacked-lg>tbody>tr.top-row{display:none}.b-table.table.b-table-stacked-lg>tbody>tr>:first-child{border-top-width:3px}}@media (max-width:1199.98px){.b-table.table.b-table-stacked-xl{display:block;width:100%}.b-table.table.b-table-stacked-xl>caption,.b-table.table.b-table-stacked-xl>tbody,.b-table.table.b-table-stacked-xl>tbody>tr,.b-table.table.b-table-stacked-xl>tbody>tr>td{display:block}.b-table.table.b-table-stacked-xl>tfoot,.b-table.table.b-table-stacked-xl>tfoot>tr.b-table-bottom-row,.b-table.table.b-table-stacked-xl>tfoot>tr.b-table-top-row,.b-table.table.b-table-stacked-xl>thead,.b-table.table.b-table-stacked-xl>thead>tr.b-table-bottom-row,.b-table.table.b-table-stacked-xl>thead>tr.b-table-top-row{display:none}.b-table.table.b-table-stacked-xl>caption{caption-side:top!important}.b-table.table.b-table-stacked-xl>tbody>tr>[data-label]{display:grid;grid-template-columns:40% auto;grid-gap:.25rem 1rem}.b-table.table.b-table-stacked-xl>tbody>tr>[data-label]:before{content:attr(data-label);display:inline;text-align:right;word-wrap:break-word;font-weight:700;font-style:normal}.b-table.table.b-table-stacked-xl>tbody>tr.bottom-row,.b-table.table.b-table-stacked-xl>tbody>tr.top-row{display:none}.b-table.table.b-table-stacked-xl>tbody>tr>:first-child{border-top-width:3px}}.b-table.table.b-table-stacked{display:block;width:100%}.b-table.table.b-table-stacked>caption,.b-table.table.b-table-stacked>tbody,.b-table.table.b-table-stacked>tbody>tr,.b-table.table.b-table-stacked>tbody>tr>td{display:block}.b-table.table.b-table-stacked>tfoot,.b-table.table.b-table-stacked>tfoot>tr.b-table-bottom-row,.b-table.table.b-table-stacked>tfoot>tr.b-table-top-row,.b-table.table.b-table-stacked>thead,.b-table.table.b-table-stacked>thead>tr.b-table-bottom-row,.b-table.table.b-table-stacked>thead>tr.b-table-top-row{display:none}.b-table.table.b-table-stacked>caption{caption-side:top!important}.b-table.table.b-table-stacked>tbody>tr>[data-label]{display:grid;grid-template-columns:40% auto;grid-gap:.25rem 1rem}.b-table.table.b-table-stacked>tbody>tr>[data-label]:before{content:attr(data-label);display:inline;text-align:right;word-wrap:break-word;font-weight:700;font-style:normal}.b-table.table.b-table-stacked>tbody>tr.bottom-row,.b-table.table.b-table-stacked>tbody>tr.top-row{display:none}.b-table.table.b-table-stacked>tbody>tr>:first-child{border-top-width:3px}.b-table.table.b-table-selectable>tbody>tr{cursor:pointer}.b-table.table.b-table-selectable.b-table-selecting.b-table-select-range>tbody>tr{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}',""])},,,function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAQAAAADQ4RFAAACf0lEQVR4AY1UM3gkARTePdvdoTxXKc+qTl3aU5U6b2Kbkz3Gtq3Zw6ziLGNPzrYx7946Tr6/ee/XeCQ4D3ykPtL5tHno4n0d/h3+xfuWHGLX81cn7r0iTNzjr7LrlxCqPtkbTQEHeqOrTy4Yyt3VCi/IOB0v7rVC7q45Q3Gr5K6jt+3Gl5nCoDD4MtO+j96Wu8atmhGqcNGHObuf8OM/x3AMx38+4Z2sPqzCxRFK2aF2e5Jol56XTLyggAMTL56XOMoS1W4pOyjUcGGQdZxU6qRh7B9Zp+PfpOFlqt0zyDZckPi1ttmIp03jX8gyJ8a/PG2yutpS/Vol7peZIbZcKBAEEheEIAgFbDkz5H6Zrkm2hVWGiXKiF4Ycw0RWKdtC16Q7qe3X4iOMxruonzegJzWaXFrU9utOSsLUmrc0YjeWYjCW4PDMADElpJSSQ0vQvA1Tm6/JlKnqFs1EGyZiFCqnRZTEJJJiKRYzVYzJck2Rm6P4iH+cmSY0YzimYa8l0EtTODFWhcMIMVqdsI2uiTvKmTisIDHJ3od5GILVhBCarCfVRmo4uTjkhrhzkiBV7SsaqS+TzrzM1qpGGUFt28pIySQHR6h7F6KSwGWm97ay+Z+ZqMcEjEWebE7wxCSQwpkhJqoZA5ivCdZDjJepuJ9IQjGGUmuXJdBFUygxVqVsxFsLMbDe8ZbDYVCGKxs+W080max1hFCarCfV+C1KATwcnvE9gRRuMP2prdbWGowm1KB1y+zwMMENkM755cJ2yPDtqhTI6ED1M/82yIDtC/4j4BijjeObflpO9I9MwXTCsSX8jWAFeHr05WoLTJ5G8IQVS/7vwR6ohirYM7f6HzYpogfS3R2OAAAAAElFTkSuQmCC"},function(t,e,n){t.exports=n.p+"img/4f0283c.png"},function(t,e,n){t.exports=n.p+"img/2273e3d.png"},,,,,,,,,function(t,e,n){"use strict";n.r(e);n(382),n(383),n(384),n(395),n(398),n(402),n(408),n(412),n(440)},function(t,e){!function(t){"use strict";if(!t.fetch){var e={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(e.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],r=function(t){return t&&DataView.prototype.isPrototypeOf(t)},o=ArrayBuffer.isView||function(t){return t&&n.indexOf(Object.prototype.toString.call(t))>-1};m.prototype.append=function(t,e){t=d(t),e=h(e);var n=this.map[t];this.map[t]=n?n+","+e:e},m.prototype.delete=function(t){delete this.map[d(t)]},m.prototype.get=function(t){return t=d(t),this.has(t)?this.map[t]:null},m.prototype.has=function(t){return this.map.hasOwnProperty(d(t))},m.prototype.set=function(t,e){this.map[d(t)]=h(e)},m.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},m.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),f(t)},m.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),f(t)},m.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),f(t)},e.iterable&&(m.prototype[Symbol.iterator]=m.prototype.entries);var l=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];E.prototype.clone=function(){return new E(this,{body:this._bodyInit})},S.call(E.prototype),S.call(k.prototype),k.prototype.clone=function(){return new k(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new m(this.headers),url:this.url})},k.error=function(){var t=new k(null,{status:0,statusText:""});return t.type="error",t};var c=[301,302,303,307,308];k.redirect=function(t,e){if(-1===c.indexOf(e))throw new RangeError("Invalid status code");return new k(null,{status:e,headers:{location:t}})},t.Headers=m,t.Request=E,t.Response=k,t.fetch=function(input,t){return new Promise(function(n,r){var o=new E(input,t),l=new XMLHttpRequest;l.onload=function(){var t,e,r={status:l.status,statusText:l.statusText,headers:(t=l.getAllResponseHeaders()||"",e=new m,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(line){var t=line.split(":"),n=t.shift().trim();if(n){var r=t.join(":").trim();e.append(n,r)}}),e)};r.url="responseURL"in l?l.responseURL:r.headers.get("X-Request-URL");var body="response"in l?l.response:l.responseText;n(new k(body,r))},l.onerror=function(){r(new TypeError("Network request failed"))},l.ontimeout=function(){r(new TypeError("Network request failed"))},l.open(o.method,o.url,!0),"include"===o.credentials?l.withCredentials=!0:"omit"===o.credentials&&(l.withCredentials=!1),"responseType"in l&&e.blob&&(l.responseType="blob"),o.headers.forEach(function(t,e){l.setRequestHeader(e,t)}),l.send(void 0===o._bodyInit?null:o._bodyInit)})},t.fetch.polyfill=!0}function d(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function h(t){return"string"!=typeof t&&(t=String(t)),t}function f(t){var n={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return e.iterable&&(n[Symbol.iterator]=function(){return n}),n}function m(t){this.map={},t instanceof m?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(header){this.append(header[0],header[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function v(body){if(body.bodyUsed)return Promise.reject(new TypeError("Already read"));body.bodyUsed=!0}function y(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function w(t){var e=new FileReader,n=y(e);return e.readAsArrayBuffer(t),n}function _(t){if(t.slice)return t.slice(0);var view=new Uint8Array(t.byteLength);return view.set(new Uint8Array(t)),view.buffer}function S(){return this.bodyUsed=!1,this._initBody=function(body){if(this._bodyInit=body,body)if("string"==typeof body)this._bodyText=body;else if(e.blob&&Blob.prototype.isPrototypeOf(body))this._bodyBlob=body;else if(e.formData&&FormData.prototype.isPrototypeOf(body))this._bodyFormData=body;else if(e.searchParams&&URLSearchParams.prototype.isPrototypeOf(body))this._bodyText=body.toString();else if(e.arrayBuffer&&e.blob&&r(body))this._bodyArrayBuffer=_(body.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!e.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(body)&&!o(body))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=_(body)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof body?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):e.searchParams&&URLSearchParams.prototype.isPrototypeOf(body)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},e.blob&&(this.blob=function(){var t=v(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?v(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(w)}),this.text=function(){var t,e,n,r=v(this);if(r)return r;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,n=y(e),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var view=new Uint8Array(t),e=new Array(view.length),i=0;i<view.length;i++)e[i]=String.fromCharCode(view[i]);return e.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},e.formData&&(this.formData=function(){return this.text().then(T)}),this.json=function(){return this.text().then(JSON.parse)},this}function E(input,t){var e,n,body=(t=t||{}).body;if(input instanceof E){if(input.bodyUsed)throw new TypeError("Already read");this.url=input.url,this.credentials=input.credentials,t.headers||(this.headers=new m(input.headers)),this.method=input.method,this.mode=input.mode,body||null==input._bodyInit||(body=input._bodyInit,input.bodyUsed=!0)}else this.url=String(input);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new m(t.headers)),this.method=(e=t.method||this.method||"GET",n=e.toUpperCase(),l.indexOf(n)>-1?n:e),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&body)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(body)}function T(body){var form=new FormData;return body.trim().split("&").forEach(function(t){if(t){var e=t.split("="),n=e.shift().replace(/\+/g," "),r=e.join("=").replace(/\+/g," ");form.append(decodeURIComponent(n),decodeURIComponent(r))}}),form}function k(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new m(e.headers),this.url=e.url||"",this._initBody(t)}}("undefined"!=typeof self?self:this)},function(t,e,n){"use strict";(function(t,e){function n(t){var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){return e.reject(n)})})}var r=setTimeout;function o(){}function l(t){if(!(this instanceof l))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],v(t,this)}function c(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,l._immediateFn(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(t){return void h(e.promise,t)}d(e.promise,r)}else(1===t._state?d:h)(e.promise,t._value)})):t._deferreds.push(e)}function d(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof l)return t._state=3,t._value=e,void f(t);if("function"==typeof n)return void v((r=n,o=e,function(){r.apply(o,arguments)}),t)}t._state=1,t._value=e,f(t)}catch(e){h(t,e)}var r,o}function h(t,e){t._state=2,t._value=e,f(t)}function f(t){2===t._state&&0===t._deferreds.length&&l._immediateFn(function(){t._handled||l._unhandledRejectionFn(t._value)});for(var i=0,e=t._deferreds.length;i<e;i++)c(t,t._deferreds[i]);t._deferreds=null}function m(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function v(t,e){var n=!1;try{t(function(t){n||(n=!0,d(e,t))},function(t){n||(n=!0,h(e,t))})}catch(t){if(n)return;n=!0,h(e,t)}}l.prototype.catch=function(t){return this.then(null,t)},l.prototype.then=function(t,e){var n=new this.constructor(o);return c(this,new m(t,e,n)),n},l.prototype.finally=n,l.all=function(t){return new l(function(e,n){if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);var o=r.length;function l(i,t){try{if(t&&("object"==typeof t||"function"==typeof t)){var c=t.then;if("function"==typeof c)return void c.call(t,function(t){l(i,t)},n)}r[i]=t,0==--o&&e(r)}catch(t){n(t)}}for(var i=0;i<r.length;i++)l(i,r[i])})},l.resolve=function(t){return t&&"object"==typeof t&&t.constructor===l?t:new l(function(e){e(t)})},l.reject=function(t){return new l(function(e,n){n(t)})},l.race=function(t){return new l(function(e,n){for(var i=0,r=t.length;i<r;i++)t[i].then(e,n)})},l._immediateFn="function"==typeof t&&function(e){t(e)}||function(t){r(t,0)},l._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var y=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==e)return e;throw new Error("unable to locate global object")}();"Promise"in y?y.Promise.prototype.finally||(y.Promise.prototype.finally=n):y.Promise=l}).call(this,n(225).setImmediate,n(18))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";n.r(e),function(t){var e=n(1),r=n.n(e);(function(){var t,e=e||{},n=this;function o(a){return"string"==typeof a}function l(a){return"boolean"==typeof a}var c=/^[\w+\/_-]+[=]{0,2}$/,d=null;function h(){}function f(a){var b=typeof a;if("object"==b){if(!a)return"null";if(a instanceof Array)return"array";if(a instanceof Object)return b;var t=Object.prototype.toString.call(a);if("[object Window]"==t)return"object";if("[object Array]"==t||"number"==typeof a.length&&void 0!==a.splice&&void 0!==a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==t||void 0!==a.call&&void 0!==a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else if("function"==b&&void 0===a.call)return"object";return b}function m(a){return null===a}function v(a){return"array"==f(a)}function y(a){var b=f(a);return"array"==b||"object"==b&&"number"==typeof a.length}function q(a){return"function"==f(a)}function w(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}var _="closure_uid_"+(1e9*Math.random()>>>0),S=0;function E(a,b,t){return a.call.apply(a.bind,arguments)}function T(a,b,t){if(!a)throw Error();if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return function(){var t=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(t,e),a.apply(b,t)}}return function(){return a.apply(b,arguments)}}function k(a,b,t){return(k=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?E:T).apply(null,arguments)}function x(a,b){var t=Array.prototype.slice.call(arguments,1);return function(){var e=t.slice();return e.push.apply(e,arguments),a.apply(this,e)}}var C=Date.now||function(){return+new Date};function u(a,b){function t(){}t.prototype=b.prototype,a.pb=b.prototype,a.prototype=new t,a.prototype.constructor=a,a.gd=function(t,e,n){for(var g=Array(arguments.length-2),r=2;r<arguments.length;r++)g[r-2]=arguments[r];return b.prototype[e].apply(t,g)}}function I(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(t){return!1}}function O(a){if(Error.captureStackTrace)Error.captureStackTrace(this,O);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}function A(a,b){for(var t="",e=(a=a.split("%s")).length-1,n=0;n<e;n++)t+=a[n]+(n<b.length?b[n]:"%s");O.call(this,t+a[e])}function N(a,b){throw new A("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1))}function D(a,b){this.c=a,this.f=b,this.b=0,this.a=null}function P(a,b){a.f(b),100>a.b&&(a.b++,b.next=a.a,a.a=b)}function R(){this.b=this.a=null}u(O,Error),O.prototype.name="CustomError",u(A,O),A.prototype.name="AssertionError",D.prototype.get=function(){if(0<this.b){this.b--;var a=this.a;this.a=a.next,a.next=null}else a=this.c();return a};var M=new D(function(){return new j},function(a){a.reset()});function L(){var a=St,b=null;return a.a&&(b=a.a,a.a=a.a.next,a.a||(a.b=null),b.next=null),b}function j(){this.next=this.b=this.a=null}R.prototype.add=function(a,b){var t=M.get();t.set(a,b),this.b?this.b.next=t:this.a=t,this.b=t},j.prototype.set=function(a,b){this.a=a,this.b=b,this.next=null},j.prototype.reset=function(){this.next=this.b=this.a=null};var B=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if(o(a))return o(b)&&1==b.length?a.indexOf(b,0):-1;for(var t=0;t<a.length;t++)if(t in a&&a[t]===b)return t;return-1},F=Array.prototype.forEach?function(a,b,t){Array.prototype.forEach.call(a,b,t)}:function(a,b,t){for(var e=a.length,n=o(a)?a.split(""):a,r=0;r<e;r++)r in n&&b.call(t,n[r],r,a)};var U=Array.prototype.map?function(a,b){return Array.prototype.map.call(a,b,void 0)}:function(a,b){for(var t=a.length,e=Array(t),n=o(a)?a.split(""):a,r=0;r<t;r++)r in n&&(e[r]=b.call(void 0,n[r],r,a));return e},V=Array.prototype.some?function(a,b){return Array.prototype.some.call(a,b,void 0)}:function(a,b){for(var t=a.length,e=o(a)?a.split(""):a,n=0;n<t;n++)if(n in e&&b.call(void 0,e[n],n,a))return!0;return!1};function $(a,b){return 0<=B(a,b)}function W(a,b){var t;return(t=0<=(b=B(a,b)))&&Array.prototype.splice.call(a,b,1),t}function z(a,b){!function(a,b){for(var t=o(a)?a.split(""):a,e=a.length-1;0<=e;--e)e in t&&b.call(void 0,t[e],e,a)}(a,function(t,e){b.call(void 0,t,e,a)&&1==Array.prototype.splice.call(a,e,1).length&&0})}function H(a){return Array.prototype.concat.apply([],arguments)}function K(a){var b=a.length;if(0<b){for(var t=Array(b),e=0;e<b;e++)t[e]=a[e];return t}return[]}var G,Q=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]},Y=/&/g,X=/</g,J=/>/g,Z=/"/g,tt=/'/g,et=/\x00/g,nt=/[\x00&<>"']/;function ot(a,b){return-1!=a.indexOf(b)}function it(a,b){return a<b?-1:a>b?1:0}t:{var at=n.navigator;if(at){var st=at.userAgent;if(st){G=st;break t}}G=""}function ut(a){return ot(G,a)}function lt(a,b){for(var t in a)b.call(void 0,a[t],t,a)}function ct(a){for(var b in a)return!1;return!0}function ht(a){var t,b={};for(t in a)b[t]=a[t];return b}var ft,pt,mt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gt(a,b){for(var t,e,n=1;n<arguments.length;n++){for(t in e=arguments[n])a[t]=e[t];for(var r=0;r<mt.length;r++)t=mt[r],Object.prototype.hasOwnProperty.call(e,t)&&(a[t]=e[t])}}function vt(a,b){for(var t=a.split("%s"),e="",n=Array.prototype.slice.call(arguments,1);n.length&&1<t.length;)e+=t.shift()+n.shift();return e+t.join("%s")}function yt(a){return nt.test(a)&&(-1!=a.indexOf("&")&&(a=a.replace(Y,"&amp;")),-1!=a.indexOf("<")&&(a=a.replace(X,"&lt;")),-1!=a.indexOf(">")&&(a=a.replace(J,"&gt;")),-1!=a.indexOf('"')&&(a=a.replace(Z,"&quot;")),-1!=a.indexOf("'")&&(a=a.replace(tt,"&#39;")),-1!=a.indexOf("\0")&&(a=a.replace(et,"&#0;"))),a}function bt(a){n.setTimeout(function(){throw a},0)}function wt(a,b){pt||function(){if(n.Promise&&n.Promise.resolve){var a=n.Promise.resolve(void 0);pt=function(){a.then(Et)}}else pt=function(){var b=Et;!q(n.setImmediate)||n.Window&&n.Window.prototype&&!ut("Edge")&&n.Window.prototype.setImmediate==n.setImmediate?(ft||(ft=function(){var a=n.MessageChannel;if(void 0===a&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ut("Presto")&&(a=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(""),t.close();var g="callImmediate"+Math.random(),n="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=k(function(t){"*"!=n&&t.origin!=n||t.data!=g||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(g,n)}}}),void 0!==a&&!ut("Trident")&&!ut("MSIE")){var b=new a,t={},e=t;return b.port1.onmessage=function(){if(void 0!==t.next){var e=(t=t.next).xb;t.xb=null,e()}},function(t){e.next={xb:t},e=e.next,b.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){n.setTimeout(t,0)}}()),ft(b)):n.setImmediate(b)}}(),_t||(pt(),_t=!0),St.add(a,b)}var _t=!1,St=new R;function Et(){for(var a;a=L();){try{a.a.call(a.b)}catch(t){bt(t)}P(M,a)}_t=!1}function Tt(a,b){if(this.a=kt,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,a!=h)try{var t=this;a.call(b,function(e){jt(t,xt,e)},function(e){if(!(e instanceof Wt))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(t){}jt(t,Ct,e)})}catch(t){jt(this,Ct,t)}}var kt=0,xt=2,Ct=3;function It(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}It.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ot=new D(function(){return new It},function(a){a.reset()});function At(a,b,t){var e=Ot.get();return e.g=a,e.b=b,e.f=t,e}function Nt(a){if(a instanceof Tt)return a;var b=new Tt(h);return jt(b,xt,a),b}function Dt(a){return new Tt(function(b,t){t(a)})}function Pt(a,b,t){Bt(a,b,t,null)||wt(x(b,a))}function Rt(a){return new Tt(function(b){var t=a.length,e=[];if(t)for(var n=function(n,r,p){t--,e[n]=r?{Eb:!0,value:p}:{Eb:!1,reason:p},0==t&&b(e)},r=0;r<a.length;r++)Pt(a[r],x(n,r,!0),x(n,r,!1));else b(e)})}function Mt(a,b){a.b||a.a!=xt&&a.a!=Ct||Ft(a),a.f?a.f.next=b:a.b=b,a.f=b}function Lt(a,b,t,e){var n=At(null,null,null);return n.a=new Tt(function(r,g){n.g=b?function(t){try{var n=b.call(e,t);r(n)}catch(t){g(t)}}:r,n.b=t?function(n){try{var o=t.call(e,n);void 0===o&&n instanceof Wt?g(n):r(o)}catch(t){g(t)}}:g}),n.a.c=a,Mt(a,n),n.a}function jt(a,b,t){a.a==kt&&(a===t&&(b=Ct,t=new TypeError("Promise cannot resolve to itself")),a.a=1,Bt(t,a.Pc,a.Qc,a)||(a.i=t,a.a=b,a.c=null,Ft(a),b!=Ct||t instanceof Wt||function(a,b){a.g=!0,wt(function(){a.g&&$t.call(null,b)})}(a,t)))}function Bt(a,b,t,e){if(a instanceof Tt)return Mt(a,At(b||h,t||null,e)),!0;if(I(a))return a.then(b,t,e),!0;if(w(a))try{var n=a.then;if(q(n))return function(a,b,t,e,n){function r(t){o||(o=!0,e.call(n,t))}var o=!1;try{b.call(a,function(e){o||(o=!0,t.call(n,e))},r)}catch(t){r(t)}}(a,n,b,t,e),!0}catch(n){return t.call(e,n),!0}return!1}function Ft(a){a.h||(a.h=!0,wt(a.Yb,a))}function Ut(a){var b=null;return a.b&&(b=a.b,a.b=b.next,b.next=null),a.b||(a.f=null),b}function Vt(a,b,t,e){if(t==Ct&&b.b&&!b.c)for(;a&&a.g;a=a.c)a.g=!1;if(b.a)b.a.c=null,qt(b,t,e);else try{b.c?b.g.call(b.f):qt(b,t,e)}catch(t){$t.call(null,t)}P(Ot,b)}function qt(a,b,t){b==xt?a.g.call(a.f,t):a.b&&a.b.call(a.f,t)}Tt.prototype.then=function(a,b,t){return Lt(this,q(a)?a:null,q(b)?b:null,t)},Tt.prototype.$goog_Thenable=!0,(t=Tt.prototype).ia=function(a,b){return(a=At(a,a,b)).c=!0,Mt(this,a),this},t.s=function(a,b){return Lt(this,null,a,b)},t.cancel=function(a){this.a==kt&&wt(function(){!function t(a,b){if(a.a==kt)if(a.c){var e=a.c;if(e.b){for(var n=0,r=null,o=null,g=e.b;g&&(g.c||(n++,g.a==a&&(r=g),!(r&&1<n)));g=g.next)r||(o=g);r&&(e.a==kt&&1==n?t(e,b):(o?((n=o).next==e.f&&(e.f=n),n.next=n.next.next):Ut(e),Vt(e,r,Ct,b)))}a.c=null}else jt(a,Ct,b)}(this,new Wt(a))},this)},t.Pc=function(a){this.a=kt,jt(this,xt,a)},t.Qc=function(a){this.a=kt,jt(this,Ct,a)},t.Yb=function(){for(var a;a=Ut(this);)Vt(this,a,this.a,this.i);this.h=!1};var $t=bt;function Wt(a){O.call(this,a)}function zt(){0!=Ht&&(Kt[this[_]||(this[_]=++S)]=this),this.qa=this.qa,this.ja=this.ja}u(Wt,O),Wt.prototype.name="cancel";var Ht=0,Kt={};function Gt(a){if(!a.qa&&(a.qa=!0,a.va(),0!=Ht)){var b=a[_]||(a[_]=++S);if(0!=Ht&&a.ja&&0<a.ja.length)throw Error(a+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Kt[b]}}function Qt(a){return Qt[" "](a),a}zt.prototype.qa=!1,zt.prototype.va=function(){if(this.ja)for(;this.ja.length;)this.ja.shift()()},Qt[" "]=h;var Yt,a,Xt=ut("Opera"),Jt=ut("Trident")||ut("MSIE"),Zt=ut("Edge"),te=Zt||Jt,ee=ut("Gecko")&&!(ot(G.toLowerCase(),"webkit")&&!ut("Edge"))&&!(ut("Trident")||ut("MSIE"))&&!ut("Edge"),ne=ot(G.toLowerCase(),"webkit")&&!ut("Edge");function re(){var a=n.document;return a?a.documentMode:void 0}t:{var oe="",ie=(a=G,ee?/rv:([^\);]+)(\)|;)/.exec(a):Zt?/Edge\/([\d\.]+)/.exec(a):Jt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a):ne?/WebKit\/(\S+)/.exec(a):Xt?/(?:Version)[ \/]?(\S+)/.exec(a):void 0);if(ie&&(oe=ie?ie[1]:""),Jt){var ae=re();if(null!=ae&&ae>parseFloat(oe)){Yt=String(ae);break t}}Yt=oe}var se,ue={};function le(a){return function(a,b){var t=ue;return Object.prototype.hasOwnProperty.call(t,a)?t[a]:t[a]=b(a)}(a,function(){for(var b=0,t=Q(String(Yt)).split("."),e=Q(String(a)).split("."),n=Math.max(t.length,e.length),r=0;0==b&&r<n;r++){var g=t[r]||"",o=e[r]||"";do{if(g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==g[0].length&&0==o[0].length)break;b=it(0==g[1].length?0:parseInt(g[1],10),0==o[1].length?0:parseInt(o[1],10))||it(0==g[2].length,0==o[2].length)||it(g[2],o[2]),g=g[3],o=o[3]}while(0==b)}return 0<=b})}var ce=n.document;se=ce&&Jt?re()||("CSS1Compat"==ce.compatMode?parseInt(Yt,10):5):void 0;var de=Object.freeze||function(a){return a},he=!Jt||9<=Number(se),fe=Jt&&!le("9"),pe=function(){if(!n.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{n.addEventListener("test",h,b),n.removeEventListener("test",h,b)}catch(t){}return a}();function me(a,b){this.type=a,this.b=this.target=b,this.Kb=!0}function ge(a,b){if(me.call(this,a?a.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,a){var t=this.type=a.type,e=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.b=b,b=a.relatedTarget){if(ee){t:{try{Qt(b.nodeName);var n=!0;break t}catch(t){}n=!1}n||(b=null)}}else"mouseover"==t?b=a.fromElement:"mouseout"==t&&(b=a.toElement);this.relatedTarget=b,e?(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0):(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=o(a.pointerType)?a.pointerType:ve[a.pointerType]||"",this.a=a,a.defaultPrevented&&this.preventDefault()}}me.prototype.preventDefault=function(){this.Kb=!1},u(ge,me);var ve=de({2:"touch",3:"pen",4:"mouse"});ge.prototype.preventDefault=function(){ge.pb.preventDefault.call(this);var a=this.a;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,fe)try{(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)&&(a.keyCode=-1)}catch(t){}},ge.prototype.f=function(){return this.a};var ye="closure_listenable_"+(1e6*Math.random()|0),be=0;function we(a,b,t,e,n){this.listener=a,this.proxy=null,this.src=b,this.type=t,this.capture=!!e,this.Ma=n,this.key=++be,this.oa=this.Ia=!1}function _e(a){a.oa=!0,a.listener=null,a.proxy=null,a.src=null,a.Ma=null}function Se(a){this.src=a,this.a={},this.b=0}function Ee(a,b){var t=b.type;t in a.a&&W(a.a[t],b)&&(_e(b),0==a.a[t].length&&(delete a.a[t],a.b--))}function Te(a,b,t,e){for(var n=0;n<a.length;++n){var r=a[n];if(!r.oa&&r.listener==b&&r.capture==!!t&&r.Ma==e)return n}return-1}Se.prototype.add=function(a,b,t,e,n){var r=a.toString();(a=this.a[r])||(a=this.a[r]=[],this.b++);var g=Te(a,b,e,n);return-1<g?(b=a[g],t||(b.Ia=!1)):((b=new we(b,this.src,r,!!e,n)).Ia=t,a.push(b)),b};var ke="closure_lm_"+(1e6*Math.random()|0),xe={};function Ce(a,b,t,e,n){if(e&&e.once)Oe(a,b,t,e,n);else if(v(b))for(var r=0;r<b.length;r++)Ce(a,b[r],t,e,n);else t=Be(t),a&&a[ye]?Ue(a,b,t,w(e)?!!e.capture:!!e,n):Ie(a,b,t,!1,e,n)}function Ie(a,b,t,e,n,r){if(!b)throw Error("Invalid event type");var g=w(n)?!!n.capture:!!n,o=Le(a);if(o||(a[ke]=o=new Se(a)),!(t=o.add(b,t,e,g,r)).proxy){if(e=function(){var a=Me,b=he?function(t){return a.call(b.src,b.listener,t)}:function(t){if(!(t=a.call(b.src,b.listener,t)))return t};return b}(),t.proxy=e,e.src=a,e.listener=t,a.addEventListener)pe||(n=g),void 0===n&&(n=!1),a.addEventListener(b.toString(),e,n);else if(a.attachEvent)a.attachEvent(De(b.toString()),e);else{if(!a.addListener||!a.removeListener)throw Error("addEventListener and attachEvent are unavailable.");a.addListener(e)}0}}function Oe(a,b,t,e,n){if(v(b))for(var r=0;r<b.length;r++)Oe(a,b[r],t,e,n);else t=Be(t),a&&a[ye]?Ve(a,b,t,w(e)?!!e.capture:!!e,n):Ie(a,b,t,!0,e,n)}function Ae(a,b,t,e,n){if(v(b))for(var r=0;r<b.length;r++)Ae(a,b[r],t,e,n);else e=w(e)?!!e.capture:!!e,t=Be(t),a&&a[ye]?(a=a.o,(b=String(b).toString())in a.a&&(-1<(t=Te(r=a.a[b],t,e,n))&&(_e(r[t]),Array.prototype.splice.call(r,t,1),0==r.length&&(delete a.a[b],a.b--)))):a&&(a=Le(a))&&(b=a.a[b.toString()],a=-1,b&&(a=Te(b,t,e,n)),(t=-1<a?b[a]:null)&&Ne(t))}function Ne(a){if("number"!=typeof a&&a&&!a.oa){var b=a.src;if(b&&b[ye])Ee(b.o,a);else{var t=a.type,e=a.proxy;b.removeEventListener?b.removeEventListener(t,e,a.capture):b.detachEvent?b.detachEvent(De(t),e):b.addListener&&b.removeListener&&b.removeListener(e),0,(t=Le(b))?(Ee(t,a),0==t.b&&(t.src=null,b[ke]=null)):_e(a)}}}function De(a){return a in xe?xe[a]:xe[a]="on"+a}function Pe(a,b,t,e){var n=!0;if((a=Le(a))&&(b=a.a[b.toString()]))for(b=b.concat(),a=0;a<b.length;a++){var r=b[a];r&&r.capture==t&&!r.oa&&(r=Re(r,e),n=n&&!1!==r)}return n}function Re(a,b){var t=a.listener,e=a.Ma||a.src;return a.Ia&&Ne(a),t.call(e,b)}function Me(a,b){if(a.oa)return!0;if(!he){if(!b)t:{b=["window","event"];for(var t=n,e=0;e<b.length;e++)if(null==(t=t[b[e]])){b=null;break t}b=t}if(b=new ge(e=b,this),t=!0,!(0>e.keyCode||null!=e.returnValue)){t:{var r=!1;if(0==e.keyCode)try{e.keyCode=-1;break t}catch(t){r=!0}(r||null==e.returnValue)&&(e.returnValue=!0)}for(e=[],r=b.b;r;r=r.parentNode)e.push(r);for(a=a.type,r=e.length-1;0<=r;r--){b.b=e[r];var o=Pe(e[r],a,!0,b);t=t&&o}for(r=0;r<e.length;r++)b.b=e[r],o=Pe(e[r],a,!1,b),t=t&&o}return t}return Re(a,new ge(b,this))}function Le(a){return(a=a[ke])instanceof Se?a:null}var je="__closure_events_fn_"+(1e9*Math.random()>>>0);function Be(a){return q(a)?a:(a[je]||(a[je]=function(b){return a.handleEvent(b)}),a[je])}function Fe(){zt.call(this),this.o=new Se(this),this.Rb=this,this.Wa=null}function Ue(a,b,t,e,n){a.o.add(String(b),t,!1,e,n)}function Ve(a,b,t,e,n){a.o.add(String(b),t,!0,e,n)}function qe(a,b,t,e){if(!(b=a.o.a[String(b)]))return!0;b=b.concat();for(var n=!0,r=0;r<b.length;++r){var g=b[r];if(g&&!g.oa&&g.capture==t){var o=g.listener,l=g.Ma||g.src;g.Ia&&Ee(a.o,g),n=!1!==o.call(l,e)&&n}}return n&&0!=e.Kb}function $e(a,b,t){if(q(a))t&&(a=k(a,t));else{if(!a||"function"!=typeof a.handleEvent)throw Error("Invalid listener argument");a=k(a.handleEvent,a)}return 2147483647<Number(b)?-1:n.setTimeout(a,b||0)}function We(a){var b=null;return new Tt(function(t,e){-1==(b=$e(function(){t(void 0)},a))&&e(Error("Failed to schedule timer."))}).s(function(t){throw n.clearTimeout(b),t})}function ze(a){if(a.S&&"function"==typeof a.S)return a.S();if(o(a))return a.split("");if(y(a)){for(var b=[],t=a.length,e=0;e<t;e++)b.push(a[e]);return b}for(e in b=[],t=0,a)b[t++]=a[e];return b}function He(a){if(a.U&&"function"==typeof a.U)return a.U();if(!a.S||"function"!=typeof a.S){if(y(a)||o(a)){var b=[];a=a.length;for(var t=0;t<a;t++)b.push(t);return b}for(var e in b=[],t=0,a)b[t++]=e;return b}}function Ke(a,b){this.b={},this.a=[],this.c=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var e=0;e<t;e+=2)this.set(arguments[e],arguments[e+1])}else if(a)if(a instanceof Ke)for(t=a.U(),e=0;e<t.length;e++)this.set(t[e],a.get(t[e]));else for(e in a)this.set(e,a[e])}function Ge(a){if(a.c!=a.a.length){for(var b=0,t=0;b<a.a.length;){var e=a.a[b];Qe(a.b,e)&&(a.a[t++]=e),b++}a.a.length=t}if(a.c!=a.a.length){var n={};for(t=b=0;b<a.a.length;)Qe(n,e=a.a[b])||(a.a[t++]=e,n[e]=1),b++;a.a.length=t}}function Qe(a,b){return Object.prototype.hasOwnProperty.call(a,b)}u(Fe,zt),Fe.prototype[ye]=!0,Fe.prototype.addEventListener=function(a,b,t,e){Ce(this,a,b,t,e)},Fe.prototype.removeEventListener=function(a,b,t,e){Ae(this,a,b,t,e)},Fe.prototype.dispatchEvent=function(a){var b,t=this.Wa;if(t)for(b=[];t;t=t.Wa)b.push(t);t=this.Rb;var e=a.type||a;if(o(a))a=new me(a,t);else if(a instanceof me)a.target=a.target||t;else{var n=a;gt(a=new me(e,t),n)}if(n=!0,b)for(var r=b.length-1;0<=r;r--){var g=a.b=b[r];n=qe(g,e,!0,a)&&n}if(n=qe(g=a.b=t,e,!0,a)&&n,n=qe(g,e,!1,a)&&n,b)for(r=0;r<b.length;r++)n=qe(g=a.b=b[r],e,!1,a)&&n;return n},Fe.prototype.va=function(){if(Fe.pb.va.call(this),this.o){var t,a=this.o;for(t in a.a){for(var e=a.a[t],n=0;n<e.length;n++)0,_e(e[n]);delete a.a[t],a.b--}}this.Wa=null},(t=Ke.prototype).S=function(){Ge(this);for(var a=[],b=0;b<this.a.length;b++)a.push(this.b[this.a[b]]);return a},t.U=function(){return Ge(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(a,b){return Qe(this.b,a)?this.b[a]:b},t.set=function(a,b){Qe(this.b,a)||(this.c++,this.a.push(a)),this.b[a]=b},t.forEach=function(a,b){for(var t=this.U(),e=0;e<t.length;e++){var n=t[e],r=this.get(n);a.call(b,r,n,this)}};var Ye=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Xe(a,b){if(this.b=this.o=this.c="",this.i=null,this.h=this.g="",this.f=!1,a instanceof Xe){this.f=void 0!==b?b:a.f,Je(this,a.c),this.o=a.o,this.b=a.b,Ze(this,a.i),this.g=a.g,b=a.a;var t=new fn;t.c=b.c,b.a&&(t.a=new Ke(b.a),t.b=b.b),tn(this,t),this.h=a.h}else a&&(t=String(a).match(Ye))?(this.f=!!b,Je(this,t[1]||"",!0),this.o=an(t[2]||""),this.b=an(t[3]||"",!0),Ze(this,t[4]),this.g=an(t[5]||"",!0),tn(this,t[6]||"",!0),this.h=an(t[7]||"")):(this.f=!!b,this.a=new fn(null,this.f))}function Je(a,b,t){a.c=t?an(b,!0):b,a.c&&(a.c=a.c.replace(/:$/,""))}function Ze(a,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);a.i=b}else a.i=null}function tn(a,b,t){b instanceof fn?(a.a=b,function(a,b){b&&!a.f&&(pn(a),a.c=null,a.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(gn(this,e),yn(this,n,t))},a)),a.f=b}(a.a,a.f)):(t||(b=sn(b,dd)),a.a=new fn(b,a.f))}function en(a,b,t){a.a.set(b,t)}function nn(a,b){return a.a.get(b)}function rn(a){return a instanceof Xe?new Xe(a):new Xe(a,void 0)}function on(a,b){var t=new Xe(null,void 0);return Je(t,"https"),a&&(t.b=a),b&&(t.g=b),t}function an(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function sn(a,b,t){return o(a)?(a=encodeURI(a).replace(b,un),t&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function un(a){return"%"+((a=a.charCodeAt(0))>>4&15).toString(16)+(15&a).toString(16)}Xe.prototype.toString=function(){var a=[],b=this.c;b&&a.push(sn(b,ln,!0),":");var t=this.b;return(t||"file"==b)&&(a.push("//"),(b=this.o)&&a.push(sn(b,ln,!0),"@"),a.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.i)&&a.push(":",String(t))),(t=this.g)&&(this.b&&"/"!=t.charAt(0)&&a.push("/"),a.push(sn(t,"/"==t.charAt(0)?dn:cn,!0))),(t=this.a.toString())&&a.push("?",t),(t=this.h)&&a.push("#",sn(t,hn)),a.join("")};var ln=/[#\/\?@]/g,cn=/[#\?:]/g,dn=/[#\?]/g,dd=/[#\?@]/g,hn=/#/g;function fn(a,b){this.b=this.a=null,this.c=a||null,this.f=!!b}function pn(a){a.a||(a.a=new Ke,a.b=0,a.c&&function(a,b){if(a){a=a.split("&");for(var t=0;t<a.length;t++){var e=a[t].indexOf("="),n=null;if(0<=e){var r=a[t].substring(0,e);n=a[t].substring(e+1)}else r=a[t];b(r,n?decodeURIComponent(n.replace(/\+/g," ")):"")}}}(a.c,function(b,t){a.add(decodeURIComponent(b.replace(/\+/g," ")),t)}))}function mn(a){var b=He(a);if(void 0===b)throw Error("Keys are undefined");var t=new fn(null,void 0);a=ze(a);for(var e=0;e<b.length;e++){var n=b[e],r=a[e];v(r)?yn(t,n,r):t.add(n,r)}return t}function gn(a,b){pn(a),b=bn(a,b),Qe(a.a.b,b)&&(a.c=null,a.b-=a.a.get(b).length,Qe((a=a.a).b,b)&&(delete a.b[b],a.c--,a.a.length>2*a.c&&Ge(a)))}function vn(a,b){return pn(a),b=bn(a,b),Qe(a.a.b,b)}function yn(a,b,t){gn(a,b),0<t.length&&(a.c=null,a.a.set(bn(a,b),K(t)),a.b+=t.length)}function bn(a,b){return b=String(b),a.f&&(b=b.toLowerCase()),b}(t=fn.prototype).add=function(a,b){pn(this),this.c=null,a=bn(this,a);var t=this.a.get(a);return t||this.a.set(a,t=[]),t.push(b),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(a,b){pn(this),this.a.forEach(function(t,e){F(t,function(t){a.call(b,t,e,this)},this)},this)},t.U=function(){pn(this);for(var a=this.a.S(),b=this.a.U(),t=[],e=0;e<b.length;e++)for(var n=a[e],r=0;r<n.length;r++)t.push(b[e]);return t},t.S=function(a){pn(this);var b=[];if(o(a))vn(this,a)&&(b=H(b,this.a.get(bn(this,a))));else{a=this.a.S();for(var t=0;t<a.length;t++)b=H(b,a[t])}return b},t.set=function(a,b){return pn(this),this.c=null,vn(this,a=bn(this,a))&&(this.b-=this.a.get(a).length),this.a.set(a,[b]),this.b+=1,this},t.get=function(a,b){return a&&0<(a=this.S(a)).length?String(a[0]):b},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var a=[],b=this.a.U(),t=0;t<b.length;t++){var e=b[t],n=encodeURIComponent(String(e));e=this.S(e);for(var r=0;r<e.length;r++){var g=n;""!==e[r]&&(g+="="+encodeURIComponent(String(e[r]))),a.push(g)}}return this.c=a.join("&")};var wn=!Jt||9<=Number(se);function _n(a,b){this.a=a===Tn&&b||"",this.b=En}function Sn(a){return a instanceof _n&&a.constructor===_n&&a.b===En?a.a:(N("expected object of type Const, got '"+a+"'"),"type_error:Const")}_n.prototype.na=!0,_n.prototype.ma=function(){return this.a},_n.prototype.toString=function(){return"Const{"+this.a+"}"};var En={},Tn={};function td(){this.a="",this.b=On}function kn(a){return a instanceof td&&a.constructor===td&&a.b===On?a.a:(N("expected object of type TrustedResourceUrl, got '"+a+"' of type "+f(a)),"type_error:TrustedResourceUrl")}function xn(a,b){var t=Sn(a);if(!In.test(t))throw Error("Invalid TrustedResourceUrl format: "+t);return function(a){var b=new td;return b.a=a,b}(a=t.replace(Cn,function(e,n){if(!Object.prototype.hasOwnProperty.call(b,n))throw Error('Found marker, "'+n+'", in format string, "'+t+'", but no valid label mapping found in args: '+JSON.stringify(b));return(e=b[n])instanceof _n?Sn(e):encodeURIComponent(String(e))}))}td.prototype.na=!0,td.prototype.ma=function(){return this.a.toString()},td.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Cn=/%{(\w+)}/g,In=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^\/\\]|[^:\/\\%]+\/|[^:\/\\%]*[?#]|about:blank#)/i,On={};function An(){this.a="",this.b=Rn}function Nn(a){return a instanceof An&&a.constructor===An&&a.b===Rn?a.a:(N("expected object of type SafeUrl, got '"+a+"' of type "+f(a)),"type_error:SafeUrl")}An.prototype.na=!0,An.prototype.ma=function(){return this.a.toString()},An.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Dn=/^(?:(?:https?|mailto|ftp):|[^:\/?#]*(?:[\/?#]|$))/i;function Pn(a){return a instanceof An?a:(a="object"==typeof a&&a.na?a.ma():String(a),Dn.test(a)||(a="about:invalid#zClosurez"),Mn(a))}var Rn={};function Mn(a){var b=new An;return b.a=a,b}function Ln(){this.a="",this.b=jn}Mn("about:blank"),Ln.prototype.na=!0,Ln.prototype.ma=function(){return this.a.toString()},Ln.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var jn={};function Bn(a){var b=new Ln;return b.a=a,b}function Fn(a){var b=document;return o(a)?b.getElementById(a):a}function Un(a,b){lt(b,function(t,e){t&&"object"==typeof t&&t.na&&(t=t.ma()),"style"==e?a.style.cssText=t:"class"==e?a.className=t:"for"==e?a.htmlFor=t:Vn.hasOwnProperty(e)?a.setAttribute(Vn[e],t):0==e.lastIndexOf("aria-",0)||0==e.lastIndexOf("data-",0)?a.setAttribute(e,t):a[e]=t})}Bn("<!DOCTYPE html>"),Bn(""),Bn("<br>");var Vn={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function qn(a,b,t){var e=arguments,n=document,r=String(e[0]),g=e[1];if(!wn&&g&&(g.name||g.type)){if(r=["<",r],g.name&&r.push(' name="',yt(g.name),'"'),g.type){r.push(' type="',yt(g.type),'"');var l={};gt(l,g),delete l.type,g=l}r.push(">"),r=r.join("")}return r=n.createElement(r),g&&(o(g)?r.className=g:v(g)?r.className=g.join(" "):Un(r,g)),2<e.length&&function(a,b,t){function e(g){g&&b.appendChild(o(g)?a.createTextNode(g):g)}for(var n=2;n<t.length;n++){var r=t[n];!y(r)||w(r)&&0<r.nodeType?e(r):F($n(r)?K(r):r,e)}}(n,r,e),r}function $n(a){if(a&&"number"==typeof a.length){if(w(a))return"function"==typeof a.item||"string"==typeof a.item;if(q(a))return"function"==typeof a.item}return!1}function Wn(a){var b=[];return function t(a,b,e){if(null==b)e.push("null");else{if("object"==typeof b){if(v(b)){var n=b;b=n.length,e.push("[");for(var r="",o=0;o<b;o++)e.push(r),t(a,n[o],e),r=",";return void e.push("]")}if(!(b instanceof String||b instanceof Number||b instanceof Boolean)){for(n in e.push("{"),r="",b)Object.prototype.hasOwnProperty.call(b,n)&&("function"!=typeof(o=b[n])&&(e.push(r),Gn(n,e),e.push(":"),t(a,o,e),r=","));return void e.push("}")}b=b.valueOf()}switch(typeof b){case"string":Gn(b,e);break;case"number":e.push(isFinite(b)&&!isNaN(b)?String(b):"null");break;case"boolean":e.push(String(b));break;case"function":e.push("null");break;default:throw Error("Unknown type: "+typeof b)}}}(new zn,a,b),b.join("")}function zn(){}var Hn={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Kn=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Gn(a,b){b.push('"',a.replace(Kn,function(t){var e=Hn[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Hn[t]=e),e}),'"')}function Qn(){var a=gr();return Jt&&!!se&&11==se||/Edge\/\d+/.test(a)}function Yn(){return n.window&&n.window.location.href||self&&self.location&&self.location.href||""}function Xn(a,b){b=b||n.window;var t="about:blank";a&&(t=Nn(Pn(a)).toString()),b.location.href=t}function Jn(a){return!!((a=(a||gr()).toLowerCase()).match(/android/)||a.match(/webos/)||a.match(/iphone|ipad|ipod/)||a.match(/blackberry/)||a.match(/windows phone/)||a.match(/iemobile/))}function Zn(a){a=a||n.window;try{a.close()}catch(t){}}function er(a,b,t){var e=Math.floor(1e9*Math.random()).toString();b=b||500,t=t||600;var n=(window.screen.availHeight-t)/2,r=(window.screen.availWidth-b)/2;for(g in b={width:b,height:t,top:0<n?n:0,left:0<r?r:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},t=gr().toLowerCase(),e&&(b.target=e,ot(t,"crios/")&&(b.target="_blank")),fr(gr())==cr&&(a=a||"http://localhost",b.scrollbars=!0),t=a||"",(a=b)||(a={}),e=window,b=t instanceof An?t:Pn(void 0!==t.href?t.href:String(t)),t=a.target||t.target,n=[],a)switch(g){case"width":case"height":case"top":case"left":n.push(g+"="+a[g]);break;case"target":case"noopener":case"noreferrer":break;default:n.push(g+"="+(a[g]?1:0))}var g=n.join(",");if((ut("iPhone")&&!ut("iPod")&&!ut("iPad")||ut("iPad")||ut("iPod"))&&e.navigator&&e.navigator.standalone&&t&&"_self"!=t?(g=e.document.createElement("A"),b instanceof An||b instanceof An||(b="object"==typeof b&&b.na?b.ma():String(b),Dn.test(b)||(b="about:invalid#zClosurez"),b=Mn(b)),g.href=Nn(b),g.setAttribute("target",t),a.noreferrer&&g.setAttribute("rel","noreferrer"),(a=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,e,1),g.dispatchEvent(a),g={}):a.noreferrer?(g=e.open("",t,g),a=Nn(b).toString(),g&&(te&&ot(a,";")&&(a="'"+a.replace(/'/g,"%27")+"'"),g.opener=null,a=Bn('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+yt(a)+'">'),g.document.write(function(a){return a instanceof Ln&&a.constructor===Ln&&a.b===jn?a.a:(N("expected object of type SafeHtml, got '"+a+"' of type "+f(a)),"type_error:SafeHtml")}(a)),g.document.close())):(g=e.open(Nn(b).toString(),t,g))&&a.noopener&&(g.opener=null),g)try{g.focus()}catch(t){}return g}var nr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rr=/^[^@]+@[^@]+$/;function or(){var a=null;return new Tt(function(b){"complete"==n.document.readyState?b():(a=function(){b()},Oe(window,"load",a))}).s(function(b){throw Ae(window,"load",a),b})}function ir(a){return a=a||gr(),!("file:"!==Sr()||!a.toLowerCase().match(/iphone|ipad|ipod|android/))}function ar(){var a=n.window;try{return!(!a||a==a.top)}catch(t){return!1}}function sr(){return void 0!==n.WorkerGlobalScope&&"function"==typeof n.importScripts}function ur(){return r.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.a.INTERNAL.hasOwnProperty("node")?"Node":sr()?"Worker":"Browser"}function lr(){var a=ur();return"ReactNative"===a||"Node"===a}var cr="Firefox",dr="Chrome";function fr(a){var b=a.toLowerCase();return ot(b,"opera/")||ot(b,"opr/")||ot(b,"opios/")?"Opera":ot(b,"iemobile")?"IEMobile":ot(b,"msie")||ot(b,"trident/")?"IE":ot(b,"edge/")?"Edge":ot(b,"firefox/")?cr:ot(b,"silk/")?"Silk":ot(b,"blackberry")?"Blackberry":ot(b,"webos")?"Webos":!ot(b,"safari/")||ot(b,"chrome/")||ot(b,"crios/")||ot(b,"android")?!ot(b,"chrome/")&&!ot(b,"crios/")||ot(b,"edge/")?ot(b,"android")?"Android":(a=a.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==a.length?a[1]:"Other":dr:"Safari"}var pr={Wc:"FirebaseCore-web",Yc:"FirebaseUI-web"};function mr(a,b){b=b||[];var t,e=[],n={};for(t in pr)n[pr[t]]=!0;for(t=0;t<b.length;t++)void 0!==n[b[t]]&&(delete n[b[t]],e.push(b[t]));return e.sort(),(b=e).length||(b=["FirebaseCore-web"]),"Browser"===(e=ur())?e=fr(n=gr()):"Worker"===e&&(e=fr(n=gr())+"-"+e),e+"/JsCore/"+a+"/"+b.join(",")}function gr(){return n.navigator&&n.navigator.userAgent||""}function vr(a,b){a=a.split("."),b=b||n;for(var t=0;t<a.length&&"object"==typeof b&&null!=b;t++)b=b[a[t]];return t!=a.length&&(b=void 0),b}function yr(){try{var a=n.localStorage,b=Cr();if(a)return a.setItem(b,"1"),a.removeItem(b),!Qn()||!!n.indexedDB}catch(t){return sr()&&!!n.indexedDB}return!1}function wr(){return(_r()||"chrome-extension:"===Sr()||ir())&&!lr()&&yr()&&!sr()}function _r(){return"http:"===Sr()||"https:"===Sr()}function Sr(){return n.location&&n.location.protocol||null}function Er(a){return!Jn(a=a||gr())&&fr(a)!=cr}function Tr(a){return void 0===a?null:Wn(a)}function kr(a){var t,b={};for(t in a)a.hasOwnProperty(t)&&null!==a[t]&&void 0!==a[t]&&(b[t]=a[t]);return b}function xr(a){if(null!==a)return JSON.parse(a)}function Cr(a){return a||Math.floor(1e9*Math.random()).toString()}function Ir(a){return"Safari"!=fr(a=a||gr())&&!a.toLowerCase().match(/iphone|ipad|ipod/)}function Or(){var a=n.___jsl;if(a&&a.H)for(var b in a.H)if(a.H[b].r=a.H[b].r||[],a.H[b].L=a.H[b].L||[],a.H[b].r=a.H[b].L.concat(),a.CP)for(var t=0;t<a.CP.length;t++)a.CP[t]=null}function Ar(a,b){if(a>b)throw Error("Short delay should be less than long delay!");this.a=a,this.c=b,a=gr(),b=ur(),this.b=Jn(a)||"ReactNative"===b}function Nr(){var a=n.document;return!a||void 0===a.visibilityState||"visible"==a.visibilityState}function Dr(a){try{var b=new Date(parseInt(a,10));if(!isNaN(b.getTime())&&!/[^0-9]/.test(a))return b.toUTCString()}catch(t){}return null}function Pr(){return!(!vr("fireauth.oauthhelper",n)&&!vr("fireauth.iframe",n))}Ar.prototype.get=function(){var a=n.navigator;return!a||"boolean"!=typeof a.onLine||!_r()&&"chrome-extension:"!==Sr()&&void 0===a.connection||a.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Rr,Mr={};function Lr(a){Mr[a]||(Mr[a]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(a))}try{var jr={};Object.defineProperty(jr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(jr,"abcd",{configurable:!0,enumerable:!0,value:2}),Rr=2==jr.abcd}catch(a){Rr=!1}function Br(a,b,t){Rr?Object.defineProperty(a,b,{configurable:!0,enumerable:!0,value:t}):a[b]=t}function Fr(a,b){if(b)for(var t in b)b.hasOwnProperty(t)&&Br(a,t,b[t])}function Ur(a){var b={};return Fr(b,a),b}function Vr(a){var b=a;if("object"==typeof a&&null!=a)for(var t in b="length"in a?[]:{},a)Br(b,t,Vr(a[t]));return b}function qr(a){var b={},t=a[Wr],e=a[zr];if(!(a=a[Hr])||a!=$r&&!t)throw Error("Invalid provider user info!");b[Gr]=e||null,b[Kr]=t||null,Br(this,Yr,a),Br(this,Qr,Vr(b))}var $r="EMAIL_SIGNIN",Wr="email",zr="newEmail",Hr="requestType",Kr="email",Gr="fromEmail",Qr="data",Yr="operation";function Xr(a,b){this.code=Zr+a,this.message=b||to[a]||""}function Jr(a){var b=a&&a.code;return b?new Xr(b.substring(Zr.length),a.message):null}u(Xr,Error),Xr.prototype.w=function(){return{code:this.code,message:this.message}},Xr.prototype.toJSON=function(){return this.w()};var Zr="auth/",to={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The OIDC ID token requires a valid unhashed nonce.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."};function eo(a){var b=a[ao];if(void 0===b)throw new Xr("missing-continue-uri");if("string"!=typeof b||"string"==typeof b&&!b.length)throw new Xr("invalid-continue-uri");this.h=b,this.b=this.a=null,this.g=!1;var t=a[no];if(t&&"object"==typeof t){b=t[lo];var e=t[so];if(t=t[uo],"string"==typeof b&&b.length){if(this.a=b,void 0!==e&&"boolean"!=typeof e)throw new Xr("argument-error",so+" property must be a boolean when specified.");if(this.g=!!e,void 0!==t&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new Xr("argument-error",uo+" property must be a non empty string when specified.");this.b=t||null}else{if(void 0!==b)throw new Xr("argument-error",lo+" property must be a non empty string when specified.");if(void 0!==e||void 0!==t)throw new Xr("missing-android-pkg-name")}}else if(void 0!==t)throw new Xr("argument-error",no+" property must be a non null object when specified.");if(this.f=null,(b=a[io])&&"object"==typeof b){if("string"==typeof(b=b[co])&&b.length)this.f=b;else if(void 0!==b)throw new Xr("argument-error",co+" property must be a non empty string when specified.")}else if(void 0!==b)throw new Xr("argument-error",io+" property must be a non null object when specified.");if(void 0!==(b=a[oo])&&"boolean"!=typeof b)throw new Xr("argument-error",oo+" property must be a boolean when specified.");if(this.c=!!b,void 0!==(a=a[ro])&&("string"!=typeof a||"string"==typeof a&&!a.length))throw new Xr("argument-error",ro+" property must be a non empty string when specified.");this.i=a||null}var no="android",ro="dynamicLinkDomain",oo="handleCodeInApp",io="iOS",ao="url",so="installApp",uo="minimumVersion",lo="packageName",co="bundleId";function ho(a){var b={};for(var t in b.continueUrl=a.h,b.canHandleCodeInApp=a.c,(b.androidPackageName=a.a)&&(b.androidMinimumVersion=a.b,b.androidInstallApp=a.g),b.iOSBundleId=a.f,b.dynamicLinkDomain=a.i,b)null===b[t]&&delete b[t];return b}var fo=null,po=null;function mo(a){var b="";return function(a,b){function t(t){for(;e<a.length;){var p=a.charAt(e++),n=po[p];if(null!=n)return n;if(!/^[\s\xa0]*$/.test(p))throw Error("Unknown base64 encoding at char: "+p)}return t}!function(){if(!fo){fo={},po={};for(var a=0;65>a;a++)fo[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a),po[fo[a]]=a,62<=a&&(po["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(a)]=a)}}();for(var e=0;;){var n=t(-1),r=t(0),g=t(64),o=t(64);if(64===o&&-1===n)break;b(n<<2|r>>4),64!=g&&(b(r<<4&240|g>>2),64!=o&&b(g<<6&192|o))}}(a,function(t){b+=String.fromCharCode(t)}),b}function go(a){this.c=a.sub,C(),this.a=a.provider_id||a.firebase&&a.firebase.sign_in_provider||null,this.b=!!a.is_anonymous||"anonymous"==this.a}function vo(a){return(a=yo(a))&&a.sub&&a.iss&&a.aud&&a.exp?new go(a):null}function yo(a){if(!a)return null;if(3!=(a=a.split(".")).length)return null;for(var b=(4-(a=a[1]).length%4)%4,t=0;t<b;t++)a+=".";try{return JSON.parse(mo(a))}catch(t){}return null}go.prototype.f=function(){return this.b};var bo,wo={bd:{bb:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",jb:"https://securetoken.googleapis.com/v1/token",id:"p"},dd:{bb:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",jb:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},ed:{bb:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",jb:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};function _o(a){for(var b in wo)if(wo[b].id===a)return{firebaseEndpoint:(a=wo[b]).bb,secureTokenEndpoint:a.jb};return null}bo=_o("__EID__")?"__EID__":void 0;var So="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Eo=["client_id","response_type","scope","redirect_uri","state"],To={Xc:{Na:"locale",Ba:500,Aa:600,Oa:"facebook.com",ib:Eo},Zc:{Na:null,Ba:500,Aa:620,Oa:"github.com",ib:Eo},$c:{Na:"hl",Ba:515,Aa:680,Oa:"google.com",ib:Eo},fd:{Na:"lang",Ba:485,Aa:705,Oa:"twitter.com",ib:So}};function ko(a){for(var b in To)if(To[b].Oa==a)return To[b];return null}function xo(a){var b={};b["facebook.com"]=No,b["google.com"]=Po,b["github.com"]=Do,b["twitter.com"]=Ro;var t=a&&a[Io];try{if(t)return b[t]?new b[t](a):new Ao(a);if(void 0!==a[Co])return new Oo(a)}catch(t){}return null}var Co="idToken",Io="providerId";function Oo(a){var b=a[Io];if(!b&&a[Co]){var t=vo(a[Co]);t&&t.a&&(b=t.a)}if(!b)throw Error("Invalid additional user info!");"anonymous"!=b&&"custom"!=b||(b=null),t=!1,void 0!==a.isNewUser?t=!!a.isNewUser:"identitytoolkit#SignupNewUserResponse"===a.kind&&(t=!0),Br(this,"providerId",b),Br(this,"isNewUser",t)}function Ao(a){Oo.call(this,a),Br(this,"profile",Vr((a=xr(a.rawUserInfo||"{}"))||{}))}function No(a){if(Ao.call(this,a),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Do(a){if(Ao.call(this,a),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Br(this,"username",this.profile&&this.profile.login||null)}function Po(a){if(Ao.call(this,a),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Ro(a){if(Ao.call(this,a),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Br(this,"username",a.screenName||null)}function Mo(a){this.a=rn(a)}function Lo(a){var b=rn(a),t=nn(b,"link"),e=nn(rn(t),"link");return b=nn(b,"deep_link_id"),nn(rn(b),"link")||b||e||t||a}function jo(){}function Bo(a,b){return a.then(function(t){if(t[ka]){var e=vo(t[ka]);if(!e||b!=e.c)throw new Xr("user-mismatch");return t}throw new Xr("user-mismatch")}).s(function(t){throw t&&t.code&&t.code==Zr+"user-not-found"?new Xr("user-mismatch"):t})}function Fo(a,b){if(!b)throw new Xr("internal-error","failed to construct a credential");this.a=b,Br(this,"providerId",a),Br(this,"signInMethod",a)}function Uo(a){return{pendingToken:a.a,requestUri:"http://localhost"}}function Vo(a){if(a&&a.providerId&&a.signInMethod&&0==a.providerId.indexOf("saml.")&&a.pendingToken)try{return new Fo(a.providerId,a.pendingToken)}catch(t){}return null}function qo(a,b,t){if(this.a=null,b.idToken||b.accessToken)b.idToken&&Br(this,"idToken",b.idToken),b.accessToken&&Br(this,"accessToken",b.accessToken),b.nonce&&!b.pendingToken&&Br(this,"nonce",b.nonce),b.pendingToken&&(this.a=b.pendingToken);else{if(!b.oauthToken||!b.oauthTokenSecret)throw new Xr("internal-error","failed to construct a credential");Br(this,"accessToken",b.oauthToken),Br(this,"secret",b.oauthTokenSecret)}Br(this,"providerId",a),Br(this,"signInMethod",t)}function $o(a){var b={};return a.idToken&&(b.id_token=a.idToken),a.accessToken&&(b.access_token=a.accessToken),a.secret&&(b.oauth_token_secret=a.secret),b.providerId=a.providerId,a.nonce&&!a.a&&(b.nonce=a.nonce),b={postBody:mn(b).toString(),requestUri:"http://localhost"},a.a&&(delete b.postBody,b.pendingToken=a.a),b}function Wo(a){if(a&&a.providerId&&a.signInMethod){var b={idToken:a.oauthIdToken,accessToken:a.oauthTokenSecret?null:a.oauthAccessToken,oauthTokenSecret:a.oauthTokenSecret,oauthToken:a.oauthTokenSecret&&a.oauthAccessToken,nonce:a.nonce,pendingToken:a.pendingToken};try{return new qo(a.providerId,b,a.signInMethod)}catch(t){}}return null}function zo(a,b){this.Fc=b||[],Fr(this,{providerId:a,isOAuthProvider:!0}),this.zb={},this.eb=(ko(a)||{}).Na||null,this.ab=null}function Ho(a){if("string"!=typeof a||0!=a.indexOf("saml."))throw new Xr("argument-error",'SAML provider IDs must be prefixed with "saml."');zo.call(this,a,[])}function Ko(a){zo.call(this,a,Eo),this.a=[]}function Go(){Ko.call(this,"facebook.com")}function Qo(a){if(!a)throw new Xr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var b=a;return w(a)&&(b=a.accessToken),(new Go).credential({accessToken:b})}function Yo(){Ko.call(this,"github.com")}function Xo(a){if(!a)throw new Xr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var b=a;return w(a)&&(b=a.accessToken),(new Yo).credential({accessToken:b})}function Jo(){Ko.call(this,"google.com"),this.ua("profile")}function Zo(a,b){var t=a;return w(a)&&(t=a.idToken,b=a.accessToken),(new Jo).credential({idToken:t,accessToken:b})}function ti(){zo.call(this,"twitter.com",So)}function ei(a,b){var t=a;if(w(t)||(t={oauthToken:a,oauthTokenSecret:b}),!t.oauthToken||!t.oauthTokenSecret)throw new Xr("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new qo("twitter.com",t,"twitter.com")}function ni(a,b,t){this.a=a,this.c=b,Br(this,"providerId","password"),Br(this,"signInMethod",t===oi.EMAIL_LINK_SIGN_IN_METHOD?oi.EMAIL_LINK_SIGN_IN_METHOD:oi.EMAIL_PASSWORD_SIGN_IN_METHOD)}function ri(a){return a&&a.email&&a.password?new ni(a.email,a.password,a.signInMethod):null}function oi(){Fr(this,{providerId:"password",isOAuthProvider:!1})}function ii(a,b){if(!(b=ai(b)))throw new Xr("argument-error","Invalid email link!");return new ni(a,b,oi.EMAIL_LINK_SIGN_IN_METHOD)}function ai(a){var b=nn((a=new Mo(a=Lo(a))).a,"oobCode")||null;return"signIn"===(nn(a.a,"mode")||null)&&b?b:null}function si(a){if(!(a.Ua&&a.Ta||a.Fa&&a.$))throw new Xr("internal-error");this.a=a,Br(this,"providerId","phone"),Br(this,"signInMethod","phone")}function ui(a){if(a&&"phone"===a.providerId&&(a.verificationId&&a.verificationCode||a.temporaryProof&&a.phoneNumber)){var b={};return F(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(t){a[t]&&(b[t]=a[t])}),new si(b)}return null}function ci(a){return a.a.Fa&&a.a.$?{temporaryProof:a.a.Fa,phoneNumber:a.a.$}:{sessionInfo:a.a.Ua,code:a.a.Ta}}function di(a){try{this.a=a||r.a.auth()}catch(t){throw new Xr("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Fr(this,{providerId:"phone",isOAuthProvider:!1})}function hi(a,b){if(!a)throw new Xr("missing-verification-id");if(!b)throw new Xr("missing-verification-code");return new si({Ua:a,Ta:b})}function fi(a){if(a.temporaryProof&&a.phoneNumber)return new si({Fa:a.temporaryProof,$:a.phoneNumber});var b=a&&a.providerId;if(!b||"password"===b)return null;var t=a&&a.oauthAccessToken,e=a&&a.oauthTokenSecret,n=a&&a.nonce,r=a&&a.oauthIdToken,g=a&&a.pendingToken;try{switch(b){case"google.com":return Zo(r,t);case"facebook.com":return Qo(t);case"github.com":return Xo(t);case"twitter.com":return ei(t,e);default:return t||e||r||g?g?0==b.indexOf("saml.")?new Fo(b,g):new qo(b,{pendingToken:g,idToken:a.oauthIdToken,accessToken:a.oauthAccessToken},b):new Ko(b).credential({idToken:r,accessToken:t,rawNonce:n}):null}}catch(t){return null}}function pi(a){if(!a.isOAuthProvider)throw new Xr("invalid-oauth-provider")}function mi(a,b,t,e,n,r){if(this.c=a,this.b=b||null,this.g=t||null,this.f=e||null,this.h=r||null,this.a=n||null,!this.g&&!this.a)throw new Xr("invalid-auth-event");if(this.g&&this.a)throw new Xr("invalid-auth-event");if(this.g&&!this.f)throw new Xr("invalid-auth-event")}function gi(a){return(a=a||{}).type?new mi(a.type,a.eventId,a.urlResponse,a.sessionId,a.error&&Jr(a.error),a.postBody):null}function vi(){this.b=null,this.a=[]}u(Ao,Oo),u(No,Ao),u(Do,Ao),u(Po,Ao),u(Ro,Ao),Fo.prototype.la=function(a){return $a(a,Uo(this))},Fo.prototype.b=function(a,b){var t=Uo(this);return t.idToken=b,Wa(a,t)},Fo.prototype.f=function(a,b){return Bo(za(a,Uo(this)),b)},Fo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},qo.prototype.la=function(a){return $a(a,$o(this))},qo.prototype.b=function(a,b){var t=$o(this);return t.idToken=b,Wa(a,t)},qo.prototype.f=function(a,b){return Bo(za(a,$o(this)),b)},qo.prototype.w=function(){var a={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(a.oauthIdToken=this.idToken),this.accessToken&&(a.oauthAccessToken=this.accessToken),this.secret&&(a.oauthTokenSecret=this.secret),this.nonce&&(a.nonce=this.nonce),this.a&&(a.pendingToken=this.a),a},zo.prototype.Da=function(a){return this.zb=ht(a),this},u(Ho,zo),u(Ko,zo),Ko.prototype.ua=function(a){return $(this.a,a)||this.a.push(a),this},Ko.prototype.Fb=function(){return K(this.a)},Ko.prototype.credential=function(a,b){var t;if(!(t=w(a)?{idToken:a.idToken||null,accessToken:a.accessToken||null,nonce:a.rawNonce||null}:{idToken:a||null,accessToken:b||null}).idToken&&!t.accessToken)throw new Xr("argument-error","credential failed: must provide the ID token and/or the access token.");return new qo(this.providerId,t,this.providerId)},u(Go,Ko),Br(Go,"PROVIDER_ID","facebook.com"),Br(Go,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),u(Yo,Ko),Br(Yo,"PROVIDER_ID","github.com"),Br(Yo,"GITHUB_SIGN_IN_METHOD","github.com"),u(Jo,Ko),Br(Jo,"PROVIDER_ID","google.com"),Br(Jo,"GOOGLE_SIGN_IN_METHOD","google.com"),u(ti,zo),Br(ti,"PROVIDER_ID","twitter.com"),Br(ti,"TWITTER_SIGN_IN_METHOD","twitter.com"),ni.prototype.la=function(a){return this.signInMethod==oi.EMAIL_LINK_SIGN_IN_METHOD?ws(a,Za,{email:this.a,oobCode:this.c}):ws(a,gs,{email:this.a,password:this.c})},ni.prototype.b=function(a,b){return this.signInMethod==oi.EMAIL_LINK_SIGN_IN_METHOD?ws(a,ts,{idToken:b,email:this.a,oobCode:this.c}):ws(a,cs,{idToken:b,email:this.a,password:this.c})},ni.prototype.f=function(a,b){return Bo(this.la(a),b)},ni.prototype.w=function(){return{email:this.a,password:this.c,signInMethod:this.signInMethod}},Fr(oi,{PROVIDER_ID:"password"}),Fr(oi,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Fr(oi,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),si.prototype.la=function(a){return a.Va(ci(this))},si.prototype.b=function(a,b){var t=ci(this);return t.idToken=b,ws(a,ys,t)},si.prototype.f=function(a,b){var t=ci(this);return t.operation="REAUTH",Bo(a=ws(a,bs,t),b)},si.prototype.w=function(){var a={providerId:"phone"};return this.a.Ua&&(a.verificationId=this.a.Ua),this.a.Ta&&(a.verificationCode=this.a.Ta),this.a.Fa&&(a.temporaryProof=this.a.Fa),this.a.$&&(a.phoneNumber=this.a.$),a},di.prototype.Va=function(a,b){var t=this.a.b;return Nt(b.verify()).then(function(e){if(!o(e))throw new Xr("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(b.type){case"recaptcha":return function(a,b){return ws(a,us,b)}(t,{phoneNumber:a,recaptchaToken:e}).then(function(t){return"function"==typeof b.reset&&b.reset(),t},function(t){throw"function"==typeof b.reset&&b.reset(),t});default:throw new Xr("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},Fr(di,{PROVIDER_ID:"phone"}),Fr(di,{PHONE_SIGN_IN_METHOD:"phone"}),mi.prototype.getUid=function(){var a=[];return a.push(this.c),this.b&&a.push(this.b),this.f&&a.push(this.f),this.i&&a.push(this.i),a.join("-")},mi.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.h,error:this.a&&this.a.w()}};var yi,bi=null;function wi(a){var b="unauthorized-domain",t=void 0,e=rn(a);a=e.b,"chrome-extension"==(e=e.c)?t=vt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",a):"http"==e||"https"==e?t=vt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",a):b="operation-not-supported-in-this-environment",Xr.call(this,b,t)}function _i(a,b,t){Xr.call(this,a,t),(a=b||{}).Ab&&Br(this,"email",a.Ab),a.$&&Br(this,"phoneNumber",a.$),a.credential&&Br(this,"credential",a.credential)}function Si(a){if(a.code){var b=a.code||"";0==b.indexOf(Zr)&&(b=b.substring(Zr.length));var t={credential:fi(a)};if(a.email)t.Ab=a.email;else if(a.phoneNumber)t.$=a.phoneNumber;else if(!t.credential)return new Xr(b,a.message||void 0);return new _i(b,t,a.message)}return null}function Ei(){}function Ti(a){return a.c||(a.c=a.b())}function ki(){}function xi(a){if(!a.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],t=0;t<b.length;t++){var e=b[t];try{return new ActiveXObject(e),a.f=e}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return a.f}function Ci(){}function Ii(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=k(this.fc,this),this.a.onerror=k(this.Gb,this),this.a.onprogress=k(this.gc,this),this.a.ontimeout=k(this.kc,this)}function Oi(a,b){a.readyState=b,a.onreadystatechange&&a.onreadystatechange()}function Ai(a,b,t){this.reset(a,b,t,void 0,void 0)}vi.prototype.subscribe=function(a){var b=this;this.a.push(a),this.b||(this.b=function(t){for(var e=0;e<b.a.length;e++)b.a[e](t)},"function"==typeof(a=vr("universalLinks.subscribe",n))&&a(null,this.b))},vi.prototype.unsubscribe=function(a){z(this.a,function(b){return b==a})},u(wi,Xr),u(_i,Xr),_i.prototype.w=function(){var a={code:this.code,message:this.message};this.email&&(a.email=this.email),this.phoneNumber&&(a.phoneNumber=this.phoneNumber);var b=this.credential&&this.credential.w();return b&&gt(a,b),a},_i.prototype.toJSON=function(){return this.w()},Ei.prototype.c=null,u(ki,Ei),ki.prototype.a=function(){var a=xi(this);return a?new ActiveXObject(a):new XMLHttpRequest},ki.prototype.b=function(){var a={};return xi(this)&&(a[0]=!0,a[1]=!0),a},yi=new ki,u(Ci,Ei),Ci.prototype.a=function(){var a=new XMLHttpRequest;if("withCredentials"in a)return a;if("undefined"!=typeof XDomainRequest)return new Ii;throw Error("Unsupported browser")},Ci.prototype.b=function(){return{}},(t=Ii.prototype).open=function(a,b,t){if(null!=t&&!t)throw Error("Only async requests are supported.");this.a.open(a,b)},t.send=function(a){if(a){if("string"!=typeof a)throw Error("Only string data is supported");this.a.send(a)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(a){return"content-type"==a.toLowerCase()?this.a.contentType:""},t.fc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Oi(this,4)},t.Gb=function(){this.status=500,this.response=this.responseText="",Oi(this,4)},t.kc=function(){this.Gb()},t.gc=function(){this.status=200,Oi(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Ai.prototype.a=null;function Ni(a){this.f=a,this.b=this.c=this.a=null}function Di(a,b){this.name=a,this.value=b}Ai.prototype.reset=function(a,b,t,e,n){"number"==typeof n||0,e||C(),delete this.a},Di.prototype.toString=function(){return this.name};var Pi=new Di("SEVERE",1e3),Ri=new Di("WARNING",900),Mi=new Di("CONFIG",700),Li=new Di("FINE",500);Ni.prototype.log=function(a,b,t){if(a.value>=function t(a){return a.c?a.c:a.a?t(a.a):(N("Root logger has no level set."),null)}(this).value)for(q(b)&&(b=b()),a=new Ai(a,String(b),this.f),t&&(a.a=t),t=this;t;)t=t.a};var ji={},Bi=null;function Fi(a){var b;if(Bi||(Bi=new Ni(""),ji[""]=Bi,Bi.c=Mi),!(b=ji[a])){b=new Ni(a);var t=a.lastIndexOf("."),e=a.substr(t+1);(t=Fi(a.substr(0,t))).b||(t.b={}),t.b[e]=b,b.a=t,ji[a]=b}return b}function Ui(a,b){a&&a.log(Li,b,void 0)}function Vi(a){this.f=a}function qi(a){Fe.call(this),this.u=a,this.readyState=$i,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=Fi("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}u(Vi,Ei),Vi.prototype.a=function(){return new qi(this.f)},Vi.prototype.b=function(a){return function(){return a}}({}),u(qi,Fe);var $i=0;function Wi(a){a.c.read().then(a.ec.bind(a)).catch(a.La.bind(a))}function zi(a,b){b&&a.f&&(a.status=a.f.status,a.statusText=a.f.statusText),a.readyState=4,a.f=null,a.c=null,a.l=null,Hi(a)}function Hi(a){a.onreadystatechange&&a.onreadystatechange.call(a)}function Ki(a){Fe.call(this),this.headers=new Ke,this.D=a||null,this.c=!1,this.A=this.a=null,this.h=this.N=this.l="",this.f=this.I=this.i=this.G=!1,this.g=0,this.u=null,this.m=Gi,this.v=this.O=!1}(t=qi.prototype).open=function(a,b){if(this.readyState!=$i)throw this.abort(),Error("Error reopening a connection");this.m=a,this.g=b,this.readyState=1,Hi(this)},t.send=function(a){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var b={headers:this.i,method:this.m,credentials:void 0,cache:void 0};a&&(b.body=a),this.u.fetch(new Request(this.g,b)).then(this.jc.bind(this),this.La.bind(this))},t.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,zi(this,!1)),this.readyState=$i},t.jc=function(a){this.a&&(this.f=a,this.b||(this.b=a.headers,this.readyState=2,Hi(this)),this.a&&(this.readyState=3,Hi(this),this.a&&("arraybuffer"===this.responseType?a.arrayBuffer().then(this.hc.bind(this),this.La.bind(this)):void 0!==n.ReadableStream&&"body"in a?(this.response=this.responseText="",this.c=a.body.getReader(),this.l=new TextDecoder,Wi(this)):a.text().then(this.ic.bind(this),this.La.bind(this)))))},t.ec=function(a){if(this.a){var b=this.l.decode(a.value?a.value:new Uint8Array(0),{stream:!a.done});b&&(this.response=this.responseText+=b),a.done?zi(this,!0):Hi(this),3==this.readyState&&Wi(this)}},t.ic=function(a){this.a&&(this.response=this.responseText=a,zi(this,!0))},t.hc=function(a){this.a&&(this.response=a,zi(this,!0))},t.La=function(a){var b=this.h;b&&b.log(Ri,"Failed to fetch url "+this.g,a instanceof Error?a:Error(a)),this.a&&zi(this,!0)},t.setRequestHeader=function(a,b){this.i.append(a,b)},t.getResponseHeader=function(a){return this.b?this.b.get(a.toLowerCase())||"":((a=this.h)&&a.log(Ri,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var a=this.h;return a&&a.log(Ri,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}a=[];for(var b=this.b.entries(),t=b.next();!t.done;)t=t.value,a.push(t[0]+": "+t[1]),t=b.next();return a.join("\r\n")},u(Ki,Fe);var Gi="";Ki.prototype.b=Fi("goog.net.XhrIo");var Qi=/^https?$/i,Yi=["POST","PUT"];function Xi(a,b,t,e,r){if(a.a)throw Error("[goog.net.XhrIo] Object is active with another request="+a.l+"; newUri="+b);t=t?t.toUpperCase():"GET",a.l=b,a.h="",a.N=t,a.G=!1,a.c=!0,a.a=a.D?a.D.a():yi.a(),a.A=a.D?Ti(a.D):Ti(yi),a.a.onreadystatechange=k(a.Jb,a);try{Ui(a.b,ia(a,"Opening Xhr")),a.I=!0,a.a.open(t,String(b),!0),a.I=!1}catch(t){return Ui(a.b,ia(a,"Error opening Xhr: "+t.message)),void th(a,t)}b=e||"";var l=new Ke(a.headers);r&&function(a,b){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,void 0);else if(y(a)||o(a))F(a,b,void 0);else for(var t=He(a),e=ze(a),n=e.length,r=0;r<n;r++)b.call(void 0,e[r],t&&t[r],a)}(r,function(g,t){l.set(t,g)}),r=function(a){t:{for(var b=Ji,t=a.length,e=o(a)?a.split(""):a,n=0;n<t;n++)if(n in e&&b.call(void 0,e[n],n,a)){b=n;break t}b=-1}return 0>b?null:o(a)?a.charAt(b):a[b]}(l.U()),e=n.FormData&&b instanceof n.FormData,!$(Yi,t)||r||e||l.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),l.forEach(function(g,t){this.a.setRequestHeader(t,g)},a),a.m&&(a.a.responseType=a.m),"withCredentials"in a.a&&a.a.withCredentials!==a.O&&(a.a.withCredentials=a.O);try{na(a),0<a.g&&(a.v=function(a){return Jt&&le(9)&&"number"==typeof a.timeout&&void 0!==a.ontimeout}(a.a),Ui(a.b,ia(a,"Will abort after "+a.g+"ms if incomplete, xhr2 "+a.v)),a.v?(a.a.timeout=a.g,a.a.ontimeout=k(a.Ga,a)):a.u=$e(a.Ga,a.g,a)),Ui(a.b,ia(a,"Sending request")),a.i=!0,a.a.send(b),a.i=!1}catch(t){Ui(a.b,ia(a,"Send error: "+t.message)),th(a,t)}}function Ji(a){return"content-type"==a.toLowerCase()}function th(a,b){a.c=!1,a.a&&(a.f=!0,a.a.abort(),a.f=!1),a.h=b,Zi(a),ea(a)}function Zi(a){a.G||(a.G=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))}function ta(a){if(a.c&&void 0!==e)if(a.A[1]&&4==ra(a)&&2==oa(a))Ui(a.b,ia(a,"Local request error detected and ignored"));else if(a.i&&4==ra(a))$e(a.Jb,0,a);else if(a.dispatchEvent("readystatechange"),4==ra(a)){Ui(a.b,ia(a,"Request complete")),a.c=!1;try{var t,b=oa(a);t:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(t=r)){var o;if(o=0===b){var l=String(a.l).match(Ye)[1]||null;if(!l&&n.self&&n.self.location){var g=n.self.location.protocol;l=g.substr(0,g.length-1)}o=!Qi.test(l?l.toLowerCase():"")}t=o}if(t)a.dispatchEvent("complete"),a.dispatchEvent("success");else{try{var c=2<ra(a)?a.a.statusText:""}catch(t){Ui(a.b,"Can not get status: "+t.message),c=""}a.h=c+" ["+oa(a)+"]",Zi(a)}}finally{ea(a)}}}function ea(a,b){if(a.a){na(a);var t=a.a,e=a.A[0]?h:null;a.a=null,a.A=null,b||a.dispatchEvent("ready");try{t.onreadystatechange=e}catch(t){(a=a.b)&&a.log(Pi,"Problem encountered resetting onreadystatechange: "+t.message,void 0)}}}function na(a){a.a&&a.v&&(a.a.ontimeout=null),a.u&&(n.clearTimeout(a.u),a.u=null)}function ra(a){return a.a?a.a.readyState:0}function oa(a){try{return 2<ra(a)?a.a.status:-1}catch(t){return-1}}function ia(a,b){return b+" ["+a.N+" "+a.l+" "+oa(a)+"]"}function aa(a){var b=va;this.g=[],this.v=b,this.u=a||null,this.f=this.a=!1,this.c=void 0,this.l=this.A=this.i=!1,this.h=0,this.b=null,this.o=0}function sa(a,b,t){a.a=!0,a.c=t,a.f=!b,da(a)}function ua(a){if(a.a){if(!a.l)throw new ha(a);a.l=!1}}function la(a,b,t,e){a.g.push([b,t,e]),a.a&&da(a)}function ca(a){return V(a.g,function(b){return q(b[1])})}function da(a){if(a.h&&a.a&&ca(a)){var b=a.h,t=ma[b];t&&(n.clearTimeout(t.a),delete ma[b]),a.h=0}a.b&&(a.b.o--,delete a.b),b=a.c;for(var e=t=!1;a.g.length&&!a.i;){var r=a.g.shift(),o=r[0],g=r[1];if(r=r[2],o=a.f?g:o)try{var l=o.call(r||a.u,b);void 0!==l&&(a.f=a.f&&(l==b||l instanceof Error),a.c=b=l),(I(b)||"function"==typeof n.Promise&&b instanceof n.Promise)&&(e=!0,a.i=!0)}catch(e){b=e,a.f=!0,ca(a)||(t=!0)}}a.c=b,e&&(l=k(a.m,a,!0),e=k(a.m,a,!1),b instanceof aa?(la(b,l,e),b.A=!0):b.then(l,e)),t&&(b=new pa(b),ma[b.a]=b,a.h=b.a)}function ha(){O.call(this)}function fa(){O.call(this)}function pa(a){this.a=n.setTimeout(k(this.c,this),0),this.b=a}(t=Ki.prototype).Ga=function(){void 0!==e&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Ui(this.b,ia(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(Ui(this.b,ia(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ea(this))},t.va=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),ea(this,!0)),Ki.pb.va.call(this)},t.Jb=function(){this.qa||(this.I||this.i||this.f?ta(this):this.yc())},t.yc=function(){ta(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Gi:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var a=this.b;return a&&a.log(Pi,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return Ui(this.b,"Can not get response: "+t.message),null}},aa.prototype.cancel=function(a){if(this.a)this.c instanceof aa&&this.c.cancel();else{if(this.b){var b=this.b;delete this.b,a?b.cancel(a):(b.o--,0>=b.o&&b.cancel())}this.v?this.v.call(this.u,this):this.l=!0,this.a||(a=new fa(this),ua(this),sa(this,!1,a))}},aa.prototype.m=function(a,b){this.i=!1,sa(this,a,b)},aa.prototype.then=function(a,b,t){var e,n,r=new Tt(function(g,t){e=g,n=t});return la(this,e,function(g){g instanceof fa?r.cancel():n(g)}),r.then(a,b,t)},aa.prototype.$goog_Thenable=!0,u(ha,O),ha.prototype.message="Deferred has already fired",ha.prototype.name="AlreadyCalledError",u(fa,O),fa.prototype.message="Deferred was canceled",fa.prototype.name="CanceledError",pa.prototype.c=function(){throw delete ma[this.a],this.b};var ma={};function ga(a){var b={},t=b.document||document,e=kn(a).toString(),r=document.createElement("SCRIPT"),o={Lb:r,Ga:void 0},g=new aa(o),l=null,h=null!=b.timeout?b.timeout:5e3;return 0<h&&(l=window.setTimeout(function(){ya(r,!0);var p=new _a(wa,"Timeout reached for loading script "+e);ua(g),sa(g,!1,p)},h),o.Ga=l),r.onload=r.onreadystatechange=function(){r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(ya(r,b.hd||!1,l),ua(g),sa(g,!0,null))},r.onerror=function(){ya(r,!0,l);var p=new _a(ba,"Error while loading script "+e);ua(g),sa(g,!1,p)},gt(o=b.attributes||{},{type:"text/javascript",charset:"UTF-8"}),Un(r,o),function(a,b){a.src=kn(b),null===d&&(d=(b=(b=n.document).querySelector&&b.querySelector("script[nonce]"))&&(b=b.nonce||b.getAttribute("nonce"))&&c.test(b)?b:""),(b=d)&&a.setAttribute("nonce",b)}(r,a),function(a){var b;return(b=(a||document).getElementsByTagName("HEAD"))&&0!=b.length?b[0]:a.documentElement}(t).appendChild(r),g}function va(){if(this&&this.Lb){var a=this.Lb;a&&"SCRIPT"==a.tagName&&ya(a,!0,this.Ga)}}function ya(a,b,t){null!=t&&n.clearTimeout(t),a.onload=h,a.onerror=h,a.onreadystatechange=h,b&&window.setTimeout(function(){a&&a.parentNode&&a.parentNode.removeChild(a)},0)}var ba=0,wa=1;function _a(a,b){var t="Jsloader error (code #"+a+")";b&&(t+=": "+b),O.call(this,t),this.code=a}function Sa(a){this.f=a}function Ea(a,b,t){if(this.b=a,a=b||{},this.i=a.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.o=a.secureTokenTimeout||xa,this.f=ht(a.secureTokenHeaders||Ca),this.g=a.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.h=a.firebaseTimeout||Ia,this.a=ht(a.firebaseHeaders||Oa),t&&(this.a["X-Client-Version"]=t,this.f["X-Client-Version"]=t),t="Node"==ur(),!(t=n.XMLHttpRequest||t&&r.a.INTERNAL.node&&r.a.INTERNAL.node.XMLHttpRequest)&&!sr())throw new Xr("internal-error","The XMLHttpRequest compatibility library was not found.");this.c=void 0,sr()?this.c=new Vi(self):lr()?this.c=new Sa(t):this.c=new Ci}u(_a,O),u(Sa,Ei),Sa.prototype.a=function(){return new this.f},Sa.prototype.b=function(){return{}};var Ta,ka="idToken",xa=new Ar(3e4,6e4),Ca={"Content-Type":"application/x-www-form-urlencoded"},Ia=new Ar(3e4,6e4),Oa={"Content-Type":"application/json"};function Aa(a,b){b?a.a["X-Firebase-Locale"]=b:delete a.a["X-Firebase-Locale"]}function Na(a,b){b?(a.a["X-Client-Version"]=b,a.f["X-Client-Version"]=b):(delete a.a["X-Client-Version"],delete a.f["X-Client-Version"])}function Da(a,b,t,e,r,o,g){(function(){var a=gr();return!((a=fr(a)!=dr?null:(a=a.match(/\sChrome\/(\d+)/i))&&2==a.length?parseInt(a[1],10):null)&&30>a||Jt&&se&&!(9<se))})()||sr()?a=k(a.m,a):(Ta||(Ta=new Tt(function(t,e){!function(a,b){if(((window.gapi||{}).client||{}).request)a();else{n[Ra]=function(){((window.gapi||{}).client||{}).request?a():b(Error("CORS_UNSUPPORTED"))};var t=xn(Pa,{onload:Ra});!function(a,b){la(a,null,b,void 0)}(ga(t),function(){b(Error("CORS_UNSUPPORTED"))})}}(t,e)})),a=k(a.l,a)),a(b,t,e,r,o,g)}Ea.prototype.m=function(a,b,t,e,r,o){if(sr()&&(void 0===n.fetch||void 0===n.Headers||void 0===n.Request))throw new Xr("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var g=new Ki(this.c);if(o){g.g=Math.max(0,o);var l=setTimeout(function(){g.dispatchEvent("timeout")},o)}Ue(g,"complete",function(){l&&clearTimeout(l);var t=null;try{t=JSON.parse(function(a){try{return a.a?a.a.responseText:""}catch(t){return Ui(a.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(e){t=null}b&&b(t)}),Ve(g,"ready",function(){l&&clearTimeout(l),Gt(this)}),Ve(g,"timeout",function(){l&&clearTimeout(l),Gt(this),b&&b(null)}),Xi(g,a,t,e,r)};var Pa=new _n(Tn,"https://apis.google.com/js/client.js?onload=%{onload}"),Ra="__fcb"+Math.floor(1e6*Math.random()).toString();function Ma(a){if(!o(a=a.email)||!rr.test(a))throw new Xr("invalid-email")}function La(a){"email"in a&&Ma(a)}function ja(a){if(!a[ka])throw new Xr("internal-error")}function Ba(a){if(a.phoneNumber||a.temporaryProof){if(!a.phoneNumber||!a.temporaryProof)throw new Xr("internal-error")}else{if(!a.sessionInfo)throw new Xr("missing-verification-id");if(!a.code)throw new Xr("missing-verification-code")}}Ea.prototype.l=function(a,b,t,e,n){var r=this;Ta.then(function(){window.gapi.client.setApiKey(r.b);var g=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:a,method:t,body:e,headers:n,authType:"none",callback:function(t){window.gapi.auth.setToken(g),b&&b(t)}})}).s(function(g){b&&b({error:{message:g&&g.message||"CORS_UNSUPPORTED"}})})},Ea.prototype.Ra=function(){return ws(this,ds,{})},Ea.prototype.qb=function(a,b){return ws(this,ls,{idToken:a,email:b})},Ea.prototype.rb=function(a,b){return ws(this,cs,{idToken:a,password:b})};var Fa={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function Ua(a){if(!a.requestUri||!a.sessionId&&!a.postBody&&!a.pendingToken)throw new Xr("internal-error")}function Va(a,b){return b.oauthIdToken&&b.providerId&&0==b.providerId.indexOf("oidc.")&&!b.pendingToken&&(a.sessionId?b.nonce=a.sessionId:a.postBody&&(vn(a=new fn(a.postBody),"nonce")&&(b.nonce=a.get("nonce")))),b}function qa(a){var b=null;if(a.needConfirmation?(a.code="account-exists-with-different-credential",b=Si(a)):"FEDERATED_USER_ID_ALREADY_LINKED"==a.errorMessage?(a.code="credential-already-in-use",b=Si(a)):"EMAIL_EXISTS"==a.errorMessage?(a.code="email-already-in-use",b=Si(a)):a.errorMessage&&(b=_s(a.errorMessage)),b)throw b;if(!a[ka])throw new Xr("internal-error")}function $a(a,b){return b.returnIdpCredential=!0,ws(a,hs,b)}function Wa(a,b){return b.returnIdpCredential=!0,ws(a,ps,b)}function za(a,b){return b.returnIdpCredential=!0,b.autoCreate=!1,ws(a,fs,b)}function Ha(a){if(!a.oobCode)throw new Xr("invalid-action-code")}(t=Ea.prototype).sb=function(a,b){var t={idToken:a},e=[];return lt(Fa,function(n,r){var g=b[r];null===g?e.push(n):r in b&&(t[r]=g)}),e.length&&(t.deleteAttribute=e),ws(this,ls,t)},t.lb=function(a,b){return gt(a={requestType:"PASSWORD_RESET",email:a},b),ws(this,os,a)},t.mb=function(a,b){return gt(a={requestType:"EMAIL_SIGNIN",email:a},b),ws(this,ns,a)},t.kb=function(a,b){return gt(a={requestType:"VERIFY_EMAIL",idToken:a},b),ws(this,rs,a)},t.Va=function(a){return ws(this,vs,a)},t.$a=function(a,b){return ws(this,ss,{oobCode:a,newPassword:b})},t.Ja=function(a){return ws(this,Ga,{oobCode:a})},t.Xa=function(a){return ws(this,Ka,{oobCode:a})};var Ka={endpoint:"setAccountInfo",C:Ha,da:"email"},Ga={endpoint:"resetPassword",C:Ha,J:function(a){var b=a.requestType;if(!b||!a.email&&"EMAIL_SIGNIN"!=b)throw new Xr("internal-error")}},Qa={endpoint:"signupNewUser",C:function(a){if(Ma(a),!a.password)throw new Xr("weak-password")},J:ja,R:!0},Ya={endpoint:"createAuthUri"},Xa={endpoint:"deleteAccount",T:["idToken"]},Ja={endpoint:"setAccountInfo",T:["idToken","deleteProvider"],C:function(a){if(!v(a.deleteProvider))throw new Xr("internal-error")}},Za={endpoint:"emailLinkSignin",T:["email","oobCode"],C:Ma,J:ja,R:!0},ts={endpoint:"emailLinkSignin",T:["idToken","email","oobCode"],C:Ma,J:ja,R:!0},es={endpoint:"getAccountInfo"},ns={endpoint:"getOobConfirmationCode",T:["requestType"],C:function(a){if("EMAIL_SIGNIN"!=a.requestType)throw new Xr("internal-error");Ma(a)},da:"email"},rs={endpoint:"getOobConfirmationCode",T:["idToken","requestType"],C:function(a){if("VERIFY_EMAIL"!=a.requestType)throw new Xr("internal-error")},da:"email"},os={endpoint:"getOobConfirmationCode",T:["requestType"],C:function(a){if("PASSWORD_RESET"!=a.requestType)throw new Xr("internal-error");Ma(a)},da:"email"},is={vb:!0,endpoint:"getProjectConfig",Ib:"GET"},as={vb:!0,endpoint:"getRecaptchaParam",Ib:"GET",J:function(a){if(!a.recaptchaSiteKey)throw new Xr("internal-error")}},ss={endpoint:"resetPassword",C:Ha,da:"email"},us={endpoint:"sendVerificationCode",T:["phoneNumber","recaptchaToken"],da:"sessionInfo"},ls={endpoint:"setAccountInfo",T:["idToken"],C:La,R:!0},cs={endpoint:"setAccountInfo",T:["idToken"],C:function(a){if(La(a),!a.password)throw new Xr("weak-password")},J:ja,R:!0},ds={endpoint:"signupNewUser",J:ja,R:!0},hs={endpoint:"verifyAssertion",C:Ua,Pa:Va,J:qa,R:!0},fs={endpoint:"verifyAssertion",C:Ua,Pa:Va,J:function(a){if(a.errorMessage&&"USER_NOT_FOUND"==a.errorMessage)throw new Xr("user-not-found");if(a.errorMessage)throw _s(a.errorMessage);if(!a[ka])throw new Xr("internal-error")},R:!0},ps={endpoint:"verifyAssertion",C:function(a){if(Ua(a),!a.idToken)throw new Xr("internal-error")},Pa:Va,J:qa,R:!0},ms={endpoint:"verifyCustomToken",C:function(a){if(!a.token)throw new Xr("invalid-custom-token")},J:ja,R:!0},gs={endpoint:"verifyPassword",C:function(a){if(Ma(a),!a.password)throw new Xr("wrong-password")},J:ja,R:!0},vs={endpoint:"verifyPhoneNumber",C:Ba,J:ja},ys={endpoint:"verifyPhoneNumber",C:function(a){if(!a.idToken)throw new Xr("internal-error");Ba(a)},J:function(a){if(a.temporaryProof)throw a.code="credential-already-in-use",Si(a);ja(a)}},bs={Xb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",C:Ba,J:ja};function ws(a,b,t){if(!function(a,b){if(!b||!b.length)return!0;if(!a)return!1;for(var t=0;t<b.length;t++){var e=a[b[t]];if(null==e||""===e)return!1}return!0}(t,b.T))return Dt(new Xr("internal-error"));var e,n=b.Ib||"POST";return Nt(t).then(b.C).then(function(){return b.R&&(t.returnSecureToken=!0),function(a,b,t,e,n,r){var g=rn(a.g+b);en(g,"key",a.b),r&&en(g,"cb",C().toString());var o="GET"==t;if(o)for(var l in e)e.hasOwnProperty(l)&&en(g,l,e[l]);return new Tt(function(p,r){Da(a,g.toString(),function(t){t?t.error?r(Ss(t,n||{})):p(t):r(new Xr("network-request-failed"))},t,o?void 0:Wn(kr(e)),a.a,a.h.get())})}(a,b.endpoint,n,t,b.Xb,b.vb||!1)}).then(function(n){return e=n,b.Pa?b.Pa(t,e):e}).then(b.J).then(function(){if(!b.da)return e;if(!(b.da in e))throw new Xr("internal-error");return e[b.da]})}function _s(a){return Ss({error:{errors:[{message:a}],code:400,message:a}})}function Ss(a,b){var t=(a.error&&a.error.errors&&a.error.errors[0]||{}).reason||"",e={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(t=e[t]?new Xr(e[t]):null)return t;for(var n in t=a.error&&a.error.message||"",gt(e={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",ADMIN_ONLY_OPERATION:"admin-restricted-operation"},b||{}),b=(b=t.match(/^[^\s]+\s*:\s*(.*)$/))&&1<b.length?b[1]:void 0,e)if(0===t.indexOf(n))return new Xr(e[n],b);return!b&&a&&(b=Tr(a)),new Xr("internal-error",b)}function Es(a){this.b=a,this.a=null,this.gb=function(a){return(Cs||(Cs=new Tt(function(a,b){function t(){Or(),vr("gapi.load")("gapi.iframes",{callback:a,ontimeout:function(){Or(),b(Error("Network Error"))},timeout:ks.get()})}if(vr("gapi.iframes.Iframe"))a();else if(vr("gapi.load"))t();else{var e="__iframefcb"+Math.floor(1e6*Math.random()).toString();n[e]=function(){vr("gapi.load")?t():b(Error("Network Error"))},Nt(ga(e=xn(Ts,{onload:e}))).s(function(){b(Error("Network Error"))})}}).s(function(a){throw Cs=null,a}))).then(function(){return new Tt(function(b,t){vr("gapi.iframes.getContext")().open({where:document.body,url:a.b,messageHandlersFilter:vr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(e){function n(){clearTimeout(r),b()}a.a=e,a.a.restyle({setHideOnLeave:!1});var r=setTimeout(function(){t(Error("Network Error"))},xs.get());e.ping(n).then(n,function(){t(Error("Network Error"))})})})})}(this)}var Ts=new _n(Tn,"https://apis.google.com/js/api.js?onload=%{onload}"),ks=new Ar(3e4,6e4),xs=new Ar(5e3,15e3),Cs=null;function Is(a,b,t){this.i=a,this.g=b,this.h=t,this.f=null,this.a=on(this.i,"/__/auth/iframe"),en(this.a,"apiKey",this.g),en(this.a,"appName",this.h),this.b=null,this.c=[]}function Os(a,b,t,e,n){this.m=a,this.l=b,this.c=t,this.o=e,this.h=this.g=this.i=null,this.a=n,this.f=null}function As(a){try{return r.a.app(a).auth().ya()}catch(t){return[]}}function Ns(a,b,t,e,n){this.l=a,this.f=b,this.b=t,this.c=e||null,this.h=n||null,this.m=this.u=this.v=null,this.g=[],this.o=this.a=null}function Ds(a){var b=Yn();return function(a){return ws(a,is,{}).then(function(b){return b.authorizedDomains||[]})}(a).then(function(t){t:{var e=rn(b),n=e.c;e=e.b;for(var r=0;r<t.length;r++){var g=t[r],o=e,l=n;if(0==g.indexOf("chrome-extension://")?o=rn(g).b==o&&"chrome-extension"==l:"http"!=l&&"https"!=l?o=!1:nr.test(g)?o=o==g:(g=g.split(".").join("\\."),o=new RegExp("^(.+\\."+g+"|"+g+")$","i").test(o)),o){t=!0;break t}}t=!1}if(!t)throw new wi(Yn())})}function Ps(a){return a.o?a.o:(a.o=or().then(function(){if(!a.u){var b=a.c,t=a.h,e=As(a.b),n=new Is(a.l,a.f,a.b);n.f=b,n.b=t,n.c=K(e||[]),a.u=n.toString()}a.i=new Es(a.u),function(a){if(!a.i)throw Error("IfcHandler must be initialized!");!function(a,b){a.gb.then(function(){a.a.register("authEvent",b,vr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(a.i,function(b){var t={};if(b&&b.authEvent){var e=!1;for(b=gi(b.authEvent),t=0;t<a.g.length;t++)e=a.g[t](b)||e;return(t={}).status=e?"ACK":"ERROR",Nt(t)}return t.status="ERROR",Nt(t)})}(a)}),a.o)}function Rs(a){return a.m||(a.v=a.c?mr(a.c,As(a.b)):null,a.m=new Ea(a.f,_o(a.h),a.v)),a.m}function Ms(a,b,t,e,n,r,g,o,l,p){return(a=new Os(a,b,t,e,n)).i=r,a.g=g,a.h=o,a.b=ht(l||null),a.f=p,a.toString()}function Ls(a){if(this.a=a||r.a.INTERNAL.reactNative&&r.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new Xr("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function js(a){this.b=a,this.a={},this.c=k(this.f,this)}Is.prototype.toString=function(){return this.f?en(this.a,"v",this.f):gn(this.a.a,"v"),this.b?en(this.a,"eid",this.b):gn(this.a.a,"eid"),this.c.length?en(this.a,"fw",this.c.join(",")):gn(this.a.a,"fw"),this.a.toString()},Os.prototype.toString=function(){var a=on(this.m,"/__/auth/handler");if(en(a,"apiKey",this.l),en(a,"appName",this.c),en(a,"authType",this.o),this.a.isOAuthProvider){var b=this.a;try{var t=r.a.app(this.c).auth().ea()}catch(e){t=null}for(var e in b.ab=t,en(a,"providerId",this.a.providerId),t=kr((b=this.a).zb))t[e]=t[e].toString();e=b.Fc,t=ht(t);for(var n=0;n<e.length;n++){var o=e[n];o in t&&delete t[o]}b.eb&&b.ab&&!t[b.eb]&&(t[b.eb]=b.ab),ct(t)||en(a,"customParameters",Tr(t))}if("function"==typeof this.a.Fb&&((b=this.a.Fb()).length&&en(a,"scopes",b.join(","))),this.i?en(a,"redirectUrl",this.i):gn(a.a,"redirectUrl"),this.g?en(a,"eventId",this.g):gn(a.a,"eventId"),this.h?en(a,"v",this.h):gn(a.a,"v"),this.b)for(var g in this.b)this.b.hasOwnProperty(g)&&!nn(a,g)&&en(a,g,this.b[g]);return this.f?en(a,"eid",this.f):gn(a.a,"eid"),(g=As(this.c)).length&&en(a,"fw",g.join(",")),a.toString()},(t=Ns.prototype).Ea=function(a,b,t){var e=new Xr("popup-closed-by-user"),n=new Xr("web-storage-unsupported"),r=this,g=!1;return this.ga().then(function(){(function(a){var b={type:"webStorageSupport"};return Ps(a).then(function(){return function(a,b){return a.gb.then(function(){return new Tt(function(t){a.a.send(b.type,b,t,vr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(a.i,b)}).then(function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})})(r).then(function(t){t||(a&&Zn(a),b(n),g=!0)})}).s(function(){}).then(function(){if(!g)return function(a){return new Tt(function(b){return function t(){We(2e3).then(function(){if(a&&!a.closed)return t();b()})}()})}(a)}).then(function(){if(!g)return We(t).then(function(){b(e)})})},t.Mb=function(){var a=gr();return!Er(a)&&!Ir(a)},t.Hb=function(){return!1},t.Db=function(a,b,t,e,n,r,g){if(!a)return Dt(new Xr("popup-blocked"));if(g&&!Er())return this.ga().s(function(t){Zn(a),n(t)}),e(),Nt();this.a||(this.a=Ds(Rs(this)));var o=this;return this.a.then(function(){var t=o.ga().s(function(p){throw Zn(a),n(p),p});return e(),t}).then(function(){(pi(t),g)||Xn(Ms(o.l,o.f,o.b,b,t,null,r,o.c,void 0,o.h),a)}).s(function(t){throw"auth/network-request-failed"==t.code&&(o.a=null),t})},t.Ca=function(a,b,t){this.a||(this.a=Ds(Rs(this)));var e=this;return this.a.then(function(){pi(b),Xn(Ms(e.l,e.f,e.b,a,b,Yn(),t,e.c,void 0,e.h))}).s(function(t){throw"auth/network-request-failed"==t.code&&(e.a=null),t})},t.ga=function(){var a=this;return Ps(this).then(function(){return a.i.gb}).s(function(){throw a.a=null,new Xr("network-request-failed")})},t.Qb=function(){return!0},t.wa=function(a){this.g.push(a)},t.Ka=function(a){z(this.g,function(b){return b==a})},(t=Ls.prototype).get=function(a){return Nt(this.a.getItem(a)).then(function(b){return b&&xr(b)})},t.set=function(a,b){return Nt(this.a.setItem(a,Tr(b)))},t.P=function(a){return Nt(this.a.removeItem(a))},t.Y=function(){},t.ca=function(){};var Bs,Fs=[];function Us(a){this.a=a}function Vs(a){this.c=a,this.b=!1,this.a=[]}function qs(a,b,t,e){var n,g,r,o,l=t||{},p=null;if(a.b)return Dt(Error("connection_unavailable"));var c=e?800:50,d="undefined"!=typeof MessageChannel?new MessageChannel:null;return new Tt(function(t,e){d?(n=Math.floor(Math.random()*Math.pow(10,20)).toString(),d.port1.start(),r=setTimeout(function(){e(Error("unsupported_event"))},c),p={messageChannel:d,onMessage:g=function(l){l.data.eventId===n&&("ack"===l.data.status?(clearTimeout(r),o=setTimeout(function(){e(Error("timeout"))},3e3)):"done"===l.data.status?(clearTimeout(o),void 0!==l.data.response?t(l.data.response):e(Error("unknown_error"))):(clearTimeout(r),clearTimeout(o),e(Error("invalid_response"))))}},a.a.push(p),d.port1.addEventListener("message",g),a.c.postMessage({eventType:b,eventId:n,data:l},[d.port2])):e(Error("connection_unavailable"))}).then(function(t){return $s(a,p),t}).s(function(t){throw $s(a,p),t})}function $s(a,b){if(b){var t=b.messageChannel,e=b.onMessage;t&&(t.port1.removeEventListener("message",e),t.port1.close()),z(a.a,function(t){return t==b})}}function Ws(){if(!Ks())throw new Xr("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.l=n.indexedDB,this.type="indexedDB",this.g=this.o=this.f=this.i=null,this.u=!1,this.h=null;var a=this;sr()&&self?(this.o=function(){var a=sr()?self:null;if(F(Fs,function(t){t.b==a&&(b=t)}),!b){var b=new js(a);Fs.push(b)}return b}(),this.o.subscribe("keyChanged",function(b,t){return Js(a).then(function(e){return 0<e.length&&F(a.a,function(t){t(e)}),{keyProcessed:$(e,t.key)}})}),this.o.subscribe("ping",function(){return Nt(["keyChanged"])})):function(){var a=n.navigator;return a&&a.serviceWorker?Nt().then(function(){return a.serviceWorker.ready}).then(function(b){return b.active||null}).s(function(){return null}):Nt(null)}().then(function(b){(a.h=b)&&(a.g=new Vs(new Us(b)),qs(a.g,"ping",null,!0).then(function(t){t[0].fulfilled&&$(t[0].value,"keyChanged")&&(a.u=!0)}).s(function(){}))})}function zs(a){return new Tt(function(b,t){var e=a.l.open("firebaseLocalStorageDb",1);e.onerror=function(e){try{e.preventDefault()}catch(t){}t(Error(e.target.error))},e.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){t(e)}},e.onsuccess=function(e){(e=e.target.result).objectStoreNames.contains("firebaseLocalStorage")?b(e):function(a){return new Tt(function(b,t){var e=a.l.deleteDatabase("firebaseLocalStorageDb");e.onsuccess=function(){b()},e.onerror=function(e){t(Error(e.target.error))}})}(a).then(function(){return zs(a)}).then(function(t){b(t)}).s(function(e){t(e)})}})}function Hs(a){return a.m||(a.m=zs(a)),a.m}function Ks(){try{return!!n.indexedDB}catch(t){return!1}}function Gs(a){return a.objectStore("firebaseLocalStorage")}function Qs(a,b){return a.transaction(["firebaseLocalStorage"],b?"readwrite":"readonly")}function Ys(a){return new Tt(function(b,t){a.onsuccess=function(t){t&&t.target?b(t.target.result):b()},a.onerror=function(e){t(e.target.error)}})}function Xs(a,b){return a.g&&a.h&&function(){var a=n.navigator;return a&&a.serviceWorker&&a.serviceWorker.controller||null}()===a.h?qs(a.g,"keyChanged",{key:b},a.u).then(function(){}).s(function(){}):Nt()}function Js(a){return Hs(a).then(function(b){var t=Gs(Qs(b,!1));return t.getAll?Ys(t.getAll()):new Tt(function(e,n){var r=[],g=t.openCursor();g.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},g.onerror=function(t){n(t.target.error)}})}).then(function(b){var t={},e=[];if(0==a.b){for(e=0;e<b.length;e++)t[b[e].fbase_key]=b[e].value;e=function t(a,b){var e,n=[];for(e in a)e in b?typeof a[e]!=typeof b[e]?n.push(e):"object"==typeof a[e]&&null!=a[e]&&null!=b[e]?0<t(a[e],b[e]).length&&n.push(e):a[e]!==b[e]&&n.push(e):n.push(e);for(e in b)e in a||n.push(e);return n}(a.c,t),a.c=t}return e})}function Zs(a){a.i&&a.i.cancel("STOP_EVENT"),a.f&&(clearTimeout(a.f),a.f=null)}function tu(a){var b=this,t=null;this.a=[],this.type="indexedDB",this.c=a,this.b=Nt().then(function(){if(Ks()){var e=Cr(),n="__sak"+e;return Bs||(Bs=new Ws),(t=Bs).set(n,e).then(function(){return t.get(n)}).then(function(r){if(r!==e)throw Error("indexedDB not supported!");return t.P(n)}).then(function(){return t}).s(function(){return b.c})}return b.c}).then(function(t){return b.type=t.type,t.Y(function(t){F(b.a,function(e){e(t)})}),t})}function eu(){this.a={},this.type="inMemory"}function nu(){if(!function(){var a="Node"==ur();if(!(a=ru()||a&&r.a.INTERNAL.node&&r.a.INTERNAL.node.localStorage))return!1;try{return a.setItem("__sak","1"),a.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==ur())throw new Xr("internal-error","The LocalStorage compatibility library was not found.");throw new Xr("web-storage-unsupported")}this.a=ru()||r.a.INTERNAL.node.localStorage,this.type="localStorage"}function ru(){try{var a=n.localStorage,b=Cr();return a&&(a.setItem(b,"1"),a.removeItem(b)),a}catch(t){return null}}function ou(){this.type="nullStorage"}function iu(){if(!function(){var a="Node"==ur();if(!(a=au()||a&&r.a.INTERNAL.node&&r.a.INTERNAL.node.sessionStorage))return!1;try{return a.setItem("__sak","1"),a.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==ur())throw new Xr("internal-error","The SessionStorage compatibility library was not found.");throw new Xr("web-storage-unsupported")}this.a=au()||r.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function au(){try{var a=n.sessionStorage,b=Cr();return a&&(a.setItem(b,"1"),a.removeItem(b)),a}catch(t){return null}}function su(){var a={};a.Browser=cu,a.Node=du,a.ReactNative=hu,a.Worker=fu,this.a=a[ur()]}js.prototype.f=function(a){var b=a.data.eventType,t=a.data.eventId,e=this.a[b];if(e&&0<e.length){a.ports[0].postMessage({status:"ack",eventId:t,eventType:b,response:null});var n=[];F(e,function(t){n.push(Nt().then(function(){return t(a.origin,a.data.data)}))}),Rt(n).then(function(e){var g=[];F(e,function(t){g.push({fulfilled:t.Eb,value:t.value,reason:t.reason?t.reason.message:void 0})}),F(g,function(t){for(var e in t)void 0===t[e]&&delete t[e]}),a.ports[0].postMessage({status:"done",eventId:t,eventType:b,response:g})})}},js.prototype.subscribe=function(a,b){ct(this.a)&&this.b.addEventListener("message",this.c),void 0===this.a[a]&&(this.a[a]=[]),this.a[a].push(b)},js.prototype.unsubscribe=function(a,b){void 0!==this.a[a]&&b?(z(this.a[a],function(t){return t==b}),0==this.a[a].length&&delete this.a[a]):b||delete this.a[a],ct(this.a)&&this.b.removeEventListener("message",this.c)},Us.prototype.postMessage=function(a,b){this.a.postMessage(a,b)},Vs.prototype.close=function(){for(;0<this.a.length;)$s(this,this.a[0]);this.b=!0},(t=Ws.prototype).set=function(a,b){var t,e=!1,n=this;return Hs(this).then(function(e){return Ys((e=Gs(Qs(t=e,!0))).get(a))}).then(function(r){var g=Gs(Qs(t,!0));return r?(r.value=b,Ys(g.put(r))):(n.b++,e=!0,(r={}).fbase_key=a,r.value=b,Ys(g.add(r)))}).then(function(){return n.c[a]=b,Xs(n,a)}).ia(function(){e&&n.b--})},t.get=function(a){return Hs(this).then(function(b){return Ys(Gs(Qs(b,!1)).get(a))}).then(function(b){return b&&b.value})},t.P=function(a){var b=!1,t=this;return Hs(this).then(function(e){return b=!0,t.b++,Ys(Gs(Qs(e,!0)).delete(a))}).then(function(){return delete t.c[a],Xs(t,a)}).ia(function(){b&&t.b--})},t.Y=function(a){0==this.a.length&&function(a){Zs(a),function b(){a.f=setTimeout(function(){a.i=Js(a).then(function(t){0<t.length&&F(a.a,function(e){e(t)})}).then(function(){b()}).s(function(t){"STOP_EVENT"!=t.message&&b()})},800)}()}(this),this.a.push(a)},t.ca=function(a){z(this.a,function(b){return b==a}),0==this.a.length&&Zs(this)},(t=tu.prototype).get=function(a){return this.b.then(function(b){return b.get(a)})},t.set=function(a,b){return this.b.then(function(t){return t.set(a,b)})},t.P=function(a){return this.b.then(function(b){return b.P(a)})},t.Y=function(a){this.a.push(a)},t.ca=function(a){z(this.a,function(b){return b==a})},(t=eu.prototype).get=function(a){return Nt(this.a[a])},t.set=function(a,b){return this.a[a]=b,Nt()},t.P=function(a){return delete this.a[a],Nt()},t.Y=function(){},t.ca=function(){},(t=nu.prototype).get=function(a){var b=this;return Nt().then(function(){return xr(b.a.getItem(a))})},t.set=function(a,b){var t=this;return Nt().then(function(){var e=Tr(b);null===e?t.P(a):t.a.setItem(a,e)})},t.P=function(a){var b=this;return Nt().then(function(){b.a.removeItem(a)})},t.Y=function(a){n.window&&Ce(n.window,"storage",a)},t.ca=function(a){n.window&&Ae(n.window,"storage",a)},(t=ou.prototype).get=function(){return Nt(null)},t.set=function(){return Nt()},t.P=function(){return Nt()},t.Y=function(){},t.ca=function(){},(t=iu.prototype).get=function(a){var b=this;return Nt().then(function(){return xr(b.a.getItem(a))})},t.set=function(a,b){var t=this;return Nt().then(function(){var e=Tr(b);null===e?t.P(a):t.a.setItem(a,e)})},t.P=function(a){var b=this;return Nt().then(function(){b.a.removeItem(a)})},t.Y=function(){},t.ca=function(){};var uu,lu,cu={B:nu,Sa:iu},du={B:nu,Sa:iu},hu={B:Ls,Sa:ou},fu={B:nu,Sa:ou},pu={ad:"local",NONE:"none",cd:"session"};function mu(){var a=!(Ir(gr())||!ar()),b=Er(),t=yr();this.m=a,this.h=b,this.o=t,this.a={},uu||(uu=new su),a=uu;try{this.g=!Qn()&&Pr()||!n.indexedDB?new a.a.B:new tu(sr()?new eu:new a.a.B)}catch(t){this.g=new eu,this.h=!0}try{this.i=new a.a.Sa}catch(t){this.i=new eu}this.l=new eu,this.f=k(this.Pb,this),this.b={}}function gu(){return lu||(lu=new mu),lu}function vu(a,b){switch(b){case"session":return a.i;case"none":return a.l;default:return a.g}}function yu(a,b){return"firebase:"+a.name+(b?":"+b:"")}function bu(a,b,t){return t=yu(b,t),"local"==b.B&&(a.b[t]=null),vu(a,b.B).P(t)}function wu(a){a.c&&(clearInterval(a.c),a.c=null)}function _u(a){this.a=a,this.b=gu()}(t=mu.prototype).get=function(a,b){return vu(this,a.B).get(yu(a,b))},t.set=function(a,b,t){var e=yu(a,t),n=this,r=vu(this,a.B);return r.set(e,b).then(function(){return r.get(e)}).then(function(g){"local"==a.B&&(n.b[e]=g)})},t.addListener=function(a,b,t){a=yu(a,b),this.o&&(this.b[a]=n.localStorage.getItem(a)),ct(this.a)&&(vu(this,"local").Y(this.f),this.h||(Qn()||!Pr())&&n.indexedDB||!this.o||function(a){wu(a),a.c=setInterval(function(){for(var b in a.a){var t=n.localStorage.getItem(b),e=a.b[b];t!=e&&(a.b[b]=t,t=new ge({type:"storage",key:b,target:window,oldValue:e,newValue:t,a:!0}),a.Pb(t))}},1e3)}(this)),this.a[a]||(this.a[a]=[]),this.a[a].push(t)},t.removeListener=function(a,b,t){a=yu(a,b),this.a[a]&&(z(this.a[a],function(e){return e==t}),0==this.a[a].length&&delete this.a[a]),ct(this.a)&&(vu(this,"local").ca(this.f),wu(this))},t.Pb=function(a){if(a&&a.f){var b=a.a.key;if(null==b)for(var t in this.a){var e=this.b[t];void 0===e&&(e=null);var r=n.localStorage.getItem(t);r!==e&&(this.b[t]=r,this.Ya(t))}else if(0==b.indexOf("firebase:")&&this.a[b]){if(void 0!==a.a.a?vu(this,"local").ca(this.f):wu(this),this.m)if(t=n.localStorage.getItem(b),(e=a.a.newValue)!==t)null!==e?n.localStorage.setItem(b,e):n.localStorage.removeItem(b);else if(this.b[b]===e&&void 0===a.a.a)return;var o=this;t=function(){void 0===a.a.a&&o.b[b]===n.localStorage.getItem(b)||(o.b[b]=n.localStorage.getItem(b),o.Ya(b))},Jt&&se&&10==se&&n.localStorage.getItem(b)!==a.a.newValue&&a.a.newValue!==a.a.oldValue?setTimeout(t,10):t()}}else F(a,k(this.Ya,this))},t.Ya=function(a){this.a[a]&&F(this.a[a],function(b){b()})};var Su,Eu={name:"authEvent",B:"local"};function Tu(){this.a=gu()}function ku(a,b){this.b=xu,this.f=n.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=a,this.h=b,this.o=n.Int32Array?new Int32Array(64):Array(64),void 0!==Su||(Su=n.Int32Array?new Int32Array(Pu):Pu),this.reset()}u(ku,function(){this.b=-1});for(var xu=64,Cu=xu-1,Iu=[],Ou=0;Ou<Cu;Ou++)Iu[Ou]=0;var Au=H(128,Iu);function Nu(a){for(var b=a.f,t=a.o,e=0,n=0;n<b.length;)t[e++]=b[n]<<24|b[n+1]<<16|b[n+2]<<8|b[n+3],n=4*e;for(b=16;64>b;b++){n=0|t[b-15],e=0|t[b-2];var r=(0|t[b-16])+((n>>>7|n<<25)^(n>>>18|n<<14)^n>>>3)|0,g=(0|t[b-7])+((e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10)|0;t[b]=r+g|0}e=0|a.a[0],n=0|a.a[1];var o=0|a.a[2],l=0|a.a[3],p=0|a.a[4],c=0|a.a[5],d=0|a.a[6];for(r=0|a.a[7],b=0;64>b;b++){var h=((e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10))+(e&n^e&o^n&o)|0;g=(r=r+((p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))|0)+((g=(g=p&c^~p&d)+(0|Su[b])|0)+(0|t[b])|0)|0,r=d,d=c,c=p,p=l+g|0,l=o,o=n,n=e,e=g+h|0}a.a[0]=a.a[0]+e|0,a.a[1]=a.a[1]+n|0,a.a[2]=a.a[2]+o|0,a.a[3]=a.a[3]+l|0,a.a[4]=a.a[4]+p|0,a.a[5]=a.a[5]+c|0,a.a[6]=a.a[6]+d|0,a.a[7]=a.a[7]+r|0}function Du(a,b,t){void 0===t&&(t=b.length);var e=0,n=a.c;if(o(b))for(;e<t;)a.f[n++]=b.charCodeAt(e++),n==a.b&&(Nu(a),n=0);else{if(!y(b))throw Error("message must be string or array");for(;e<t;){var r=b[e++];if(!("number"==typeof r&&0<=r&&255>=r&&r==(0|r)))throw Error("message must be a byte array");a.f[n++]=r,n==a.b&&(Nu(a),n=0)}}a.c=n,a.g+=t}ku.prototype.reset=function(){this.g=this.c=0,this.a=n.Int32Array?new Int32Array(this.h):K(this.h)};var Pu=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Ru(){ku.call(this,8,Mu)}u(Ru,ku);var Mu=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Lu(a,b,t,e,n){this.l=a,this.i=b,this.o=t,this.m=e||null,this.u=n||null,this.h=b+":"+t,this.v=new Tu,this.g=new _u(this.h),this.f=null,this.b=[],this.a=this.c=null}function ju(a){return new Xr("invalid-cordova-configuration",a)}function Bu(a){var b=new Ru;Du(b,a),a=[];var t=8*b.g;56>b.c?Du(b,Au,56-b.c):Du(b,Au,b.b-(b.c-56));for(var e=63;56<=e;e--)b.f[e]=255&t,t/=256;for(Nu(b),e=t=0;e<b.i;e++)for(var n=24;0<=n;n-=8)a[t++]=b.a[e]>>n&255;return function(a){return U(a,function(b){return 1<(b=b.toString(16)).length?b:"0"+b}).join("")}(a)}function Fu(a,b){for(var t=0;t<a.b.length;t++)try{a.b[t](b)}catch(t){}}function Uu(a){return a.f||(a.f=a.ga().then(function(){return new Tt(function(b){a.wa(function t(e){return b(e),a.Ka(t),!1}),function(a){function b(g){e=!0,r&&r.cancel(),Vu(a).then(function(e){var n=t;if(e&&g&&g.url){var p=null;-1!=(n=Lo(g.url)).indexOf("/__/auth/callback")&&(p=(p="object"==typeof(p=xr(nn(p=rn(n),"firebaseError")||null))?Jr(p):null)?new mi(e.c,e.b,null,null,p):new mi(e.c,e.b,n,e.f)),n=p||t}Fu(a,n)})}var t=new mi("unknown",null,null,null,new Xr("no-auth-event")),e=!1,r=We(500).then(function(){return Vu(a).then(function(){e||Fu(a,t)})}),o=n.handleOpenURL;n.handleOpenURL=function(g){if(0==g.toLowerCase().indexOf(vr("BuildInfo.packageName",n).toLowerCase()+"://")&&b({url:g}),"function"==typeof o)try{o(g)}catch(t){console.error(t)}},bi||(bi=new vi),bi.subscribe(b)}(a)})})),a.f}function Vu(a){var b=null;return function(a){return a.b.get(Eu,a.a).then(function(b){return gi(b)})}(a.g).then(function(t){return b=t,bu((t=a.g).b,Eu,t.a)}).then(function(){return b})}function qu(a){this.a=a,this.b=gu()}(t=Lu.prototype).ga=function(){return this.za?this.za:this.za=(ir(void 0)?or().then(function(){return new Tt(function(a,b){var t=n.document,e=setTimeout(function(){b(Error("Cordova framework is not ready."))},1e3);t.addEventListener("deviceready",function(){clearTimeout(e),a()},!1)})}):Dt(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof vr("universalLinks.subscribe",n))throw ju("cordova-universal-links-plugin-fix is not installed");if(void 0===vr("BuildInfo.packageName",n))throw ju("cordova-plugin-buildinfo is not installed");if("function"!=typeof vr("cordova.plugins.browsertab.openUrl",n))throw ju("cordova-plugin-browsertab is not installed");if("function"!=typeof vr("cordova.InAppBrowser.open",n))throw ju("cordova-plugin-inappbrowser is not installed")},function(){throw new Xr("cordova-not-ready")})},t.Ea=function(a,b){return b(new Xr("operation-not-supported-in-this-environment")),Nt()},t.Db=function(){return Dt(new Xr("operation-not-supported-in-this-environment"))},t.Qb=function(){return!1},t.Mb=function(){return!0},t.Hb=function(){return!0},t.Ca=function(a,b,t){if(this.c)return Dt(new Xr("redirect-operation-pending"));var e=this,r=n.document,o=null,g=null,l=null,c=null;return this.c=Nt().then(function(){return pi(b),Uu(e)}).then(function(){return function(a,b,t,e){var r=function(){for(var a=20,b=[];0<a;)b.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),a--;return b.join("")}(),o=new mi(b,e,null,r,new Xr("no-auth-event")),g=vr("BuildInfo.packageName",n);if("string"!=typeof g)throw new Xr("invalid-cordova-configuration");var l=vr("BuildInfo.displayName",n),c={};if(gr().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=g;else{if(!gr().toLowerCase().match(/android/))return Dt(new Xr("operation-not-supported-in-this-environment"));c.apn=g}l&&(c.appDisplayName=l),r=Bu(r),c.sessionId=r;var p=Ms(a.l,a.i,a.o,b,t,null,e,a.m,c,a.u);return a.ga().then(function(){var t=a.h;return a.v.a.set(Eu,o.w(),t)}).then(function(){var t=vr("cordova.plugins.browsertab.isAvailable",n);if("function"!=typeof t)throw new Xr("invalid-cordova-configuration");var e=null;t(function(t){if(t){if("function"!=typeof(e=vr("cordova.plugins.browsertab.openUrl",n)))throw new Xr("invalid-cordova-configuration");e(p)}else{if("function"!=typeof(e=vr("cordova.InAppBrowser.open",n)))throw new Xr("invalid-cordova-configuration");t=gr(),a.a=e(p,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(e,a,b,t)}).then(function(){return new Tt(function(p,t){g=function(){var t=vr("cordova.plugins.browsertab.close",n);return p(),"function"==typeof t&&t(),e.a&&"function"==typeof e.a.close&&(e.a.close(),e.a=null),!1},e.wa(g),l=function(){o||(o=We(2e3).then(function(){t(new Xr("redirect-cancelled-by-user"))}))},c=function(){Nr()&&l()},r.addEventListener("resume",l,!1),gr().toLowerCase().match(/android/)||r.addEventListener("visibilitychange",c,!1)}).s(function(p){return Vu(e).then(function(){throw p})})}).ia(function(){l&&r.removeEventListener("resume",l,!1),c&&r.removeEventListener("visibilitychange",c,!1),o&&o.cancel(),g&&e.Ka(g),e.c=null})},t.wa=function(a){this.b.push(a),Uu(this).s(function(b){"auth/invalid-cordova-configuration"===b.code&&(b=new mi("unknown",null,null,null,new Xr("no-auth-event")),a(b))})},t.Ka=function(a){z(this.b,function(b){return b==a})};var $u={name:"pendingRedirect",B:"session"};function Wu(a){return bu(a.b,$u,a.a)}function zu(a,b,t){this.i={},this.u=0,this.A=a,this.l=b,this.m=t,this.h=[],this.f=!1,this.o=k(this.cb,this),this.b=new el,this.v=new al,this.g=new qu(this.l+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.v,this.c.linkViaPopup=this.v,this.c.reauthViaPopup=this.v,this.a=Hu(this.A,this.l,this.m,bo)}function Hu(a,b,t,e){var n=r.a.SDK_VERSION||null;return ir()?new Lu(a,b,t,n,e):new Ns(a,b,t,n,e)}function Ku(a){a.f||(a.f=!0,a.a.wa(a.o));var b=a.a;return a.a.ga().s(function(t){throw a.a==b&&a.reset(),t})}function Gu(a){a.a.Mb()&&Ku(a).s(function(b){var t=new mi("unknown",null,null,null,new Xr("operation-not-supported-in-this-environment"));Ju(b)&&a.cb(t)}),a.a.Hb()||nl(a.b)}(t=zu.prototype).reset=function(){this.f=!1,this.a.Ka(this.o),this.a=Hu(this.A,this.l,this.m),this.i={}},t.Za=function(){this.b.Za()},t.subscribe=function(a){if($(this.h,a)||this.h.push(a),!this.f){var b=this;(function(a){return a.b.get($u,a.a).then(function(b){return"pending"==b})})(this.g).then(function(t){t?Wu(b.g).then(function(){Ku(b).s(function(t){var e=new mi("unknown",null,null,null,new Xr("operation-not-supported-in-this-environment"));Ju(t)&&b.cb(e)})}):Gu(b)}).s(function(){Gu(b)})}},t.unsubscribe=function(a){z(this.h,function(b){return b==a})},t.cb=function(a){if(!a)throw new Xr("invalid-auth-event");if(6e5<=C()-this.u&&(this.i={},this.u=0),a&&a.getUid()&&this.i.hasOwnProperty(a.getUid()))return!1;for(var b=!1,t=0;t<this.h.length;t++){var e=this.h[t];if(e.wb(a.c,a.b)){(b=this.c[a.c])&&(b.h(a,e),a&&(a.f||a.b)&&(this.i[a.getUid()]=!0,this.u=C())),b=!0;break}}return nl(this.b),b};var Qu=new Ar(2e3,1e4),Yu=new Ar(3e4,6e4);function Xu(a,b,t,e,n,r){return a.a.Db(b,t,e,function(){a.f||(a.f=!0,a.a.wa(a.o))},function(){a.reset()},n,r)}function Ju(a){return!(!a||"auth/cordova-not-ready"!=a.code)}zu.prototype.fa=function(){return this.b.fa()},zu.prototype.Ca=function(a,b,t){var e,n=this;return function(a){return a.b.set($u,"pending",a.a)}(this.g).then(function(){return n.a.Ca(a,b,t).s(function(t){if(Ju(t))throw new Xr("operation-not-supported-in-this-environment");return e=t,Wu(n.g).then(function(){throw e})}).then(function(){return n.a.Qb()?new Tt(function(){}):Wu(n.g).then(function(){return n.fa()}).then(function(){}).s(function(){})})})},zu.prototype.Ea=function(a,b,t,e){return this.a.Ea(t,function(t){a.ha(b,null,t,e)},Qu.get())};var Zu={};function tl(a,b,t){var e=b+":"+t;return Zu[e]||(Zu[e]=new zu(a,b,t)),Zu[e]}function el(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function nl(a){a.g||(a.g=!0,il(a,!1,null,null))}function rl(a,b){if(a.b=function(){return Nt(b)},a.f.length)for(var t=0;t<a.f.length;t++)a.f[t](b)}function il(a,b,t,e){b?e?function(a,b){if(a.b=function(){return Dt(b)},a.c.length)for(var t=0;t<a.c.length;t++)a.c[t](b)}(a,e):rl(a,t):rl(a,{user:null}),a.f=[],a.c=[]}function al(){}function sl(){this.tb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.tb},set:function(a){this.tb=a},enumerable:!1})}function dl(a,b){this.a=b,Br(this,"verificationId",a)}function ll(a,b,t,e){return new di(a).Va(b,t).then(function(t){return new dl(t,e)})}function cl(a){var b=yo(a);if(!(b&&b.exp&&b.auth_time&&b.iat))throw new Xr("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Fr(this,{token:a,expirationTime:Dr(1e3*b.exp),authTime:Dr(1e3*b.auth_time),issuedAtTime:Dr(1e3*b.iat),signInProvider:b.firebase&&b.firebase.sign_in_provider?b.firebase.sign_in_provider:null,claims:b})}function hl(a,b,t){if(this.h=a,this.i=b,this.g=t,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function fl(a){this.f=a,this.b=this.a=null,this.c=0}function pl(a,b){var t=b[ka],e=b.refreshToken;b=ml(b.expiresIn),a.b=t,a.c=b,a.a=e}function ml(a){return C()+1e3*parseInt(a,10)}function gl(a,b){return function(a,b){return new Tt(function(t,e){"refresh_token"==b.grant_type&&b.refresh_token||"authorization_code"==b.grant_type&&b.code?Da(a,a.i+"?key="+encodeURIComponent(a.b),function(n){n?n.error?e(Ss(n)):n.access_token&&n.refresh_token?t(n):e(new Xr("internal-error")):e(new Xr("network-request-failed"))},"POST",mn(b).toString(),a.f,a.o.get()):e(new Xr("internal-error"))})}(a.f,b).then(function(t){return a.b=t.access_token,a.c=ml(t.expires_in),a.a=t.refresh_token,{accessToken:a.b,expirationTime:a.c,refreshToken:a.a}}).s(function(t){throw"auth/user-token-expired"==t.code&&(a.a=null),t})}function ol(a,b){this.a=a||null,this.b=b||null,Fr(this,{lastSignInTime:Dr(b||null),creationTime:Dr(a||null)})}function vl(a,b,t,e,n,r){Fr(this,{uid:a,displayName:e||null,photoURL:n||null,email:t||null,phoneNumber:r||null,providerId:b})}function yl(a,b){for(var t in me.call(this,a),b)this[t]=b[t]}function bl(a,b,t){this.G=[],this.l=a.apiKey,this.m=a.appName,this.u=a.authDomain||null,a=r.a.SDK_VERSION?mr(r.a.SDK_VERSION):null,this.b=new Ea(this.l,_o(bo),a),this.h=new fl(this.b),xl(this,b[ka]),pl(this.h,b),Br(this,"refreshToken",this.h.a),Ol(this,t||{}),Fe.call(this),this.I=!1,this.u&&wr()&&(this.a=tl(this.u,this.l,this.m)),this.N=[],this.i=null,this.A=function(a){return new hl(function(){return a.F(!0)},function(b){return!(!b||"auth/network-request-failed"!=b.code)},function(){var b=a.h.c-C()-3e5;return 0<b?b:0})}(this),this.V=k(this.Ha,this);var e=this;this.ka=null,this.ta=function(t){e.pa(t.g)},this.X=null,this.O=[],this.sa=function(t){_l(e,t.c)},this.W=null}function wl(a,b){a.X&&Ae(a.X,"languageCodeChanged",a.ta),(a.X=b)&&Ce(b,"languageCodeChanged",a.ta)}function _l(a,b){a.O=b,Na(a.b,r.a.SDK_VERSION?mr(r.a.SDK_VERSION,a.O):null)}function Sl(a,b){a.W&&Ae(a.W,"frameworkChanged",a.sa),(a.W=b)&&Ce(b,"frameworkChanged",a.sa)}function El(a){try{return r.a.app(a.m).auth()}catch(t){throw new Xr("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+a.m+"'!")}}function Tl(a){a.D||a.A.b||(a.A.start(),Ae(a,"tokenChanged",a.V),Ce(a,"tokenChanged",a.V))}function kl(a){Ae(a,"tokenChanged",a.V),a.A.stop()}function xl(a,b){a.ra=b,Br(a,"_lat",b)}function Cl(a){for(var b=[],t=0;t<a.N.length;t++)b.push(a.N[t](a));return Rt(b).then(function(){return a})}function Il(a){a.a&&!a.I&&(a.I=!0,a.a.subscribe(a))}function Ol(a,b){Fr(a,{uid:b.uid,displayName:b.displayName||null,photoURL:b.photoURL||null,email:b.email||null,emailVerified:b.emailVerified||!1,phoneNumber:b.phoneNumber||null,isAnonymous:b.isAnonymous||!1,metadata:new ol(b.createdAt,b.lastLoginAt),providerData:[]})}function Al(){}function Nl(a){return Nt().then(function(){if(a.D)throw new Xr("app-deleted")})}function Dl(a){return U(a.providerData,function(b){return b.providerId})}function Pl(a,b){b&&(Rl(a,b.providerId),a.providerData.push(b))}function Rl(a,b){z(a.providerData,function(t){return t.providerId==b})}function Ml(a,b,t){("uid"!=b||t)&&a.hasOwnProperty(b)&&Br(a,b,t)}function Ll(a,b){a!=b&&(Fr(a,{uid:b.uid,displayName:b.displayName,photoURL:b.photoURL,email:b.email,emailVerified:b.emailVerified,phoneNumber:b.phoneNumber,isAnonymous:b.isAnonymous,providerData:[]}),b.metadata?Br(a,"metadata",function(a){return new ol(a.a,a.b)}(b.metadata)):Br(a,"metadata",new ol),F(b.providerData,function(t){Pl(a,t)}),function(a,b){a.b=b.b,a.a=b.a,a.c=b.c}(a.h,b.h),Br(a,"refreshToken",a.h.a))}function jl(a){return a.F().then(function(b){var t=a.isAnonymous;return function(a,b){return ws(a.b,es,{idToken:b}).then(k(a.zc,a))}(a,b).then(function(){return t||Ml(a,"isAnonymous",!1),b})})}function Bl(a,b){b[ka]&&a.ra!=b[ka]&&(pl(a.h,b),a.dispatchEvent(new yl("tokenChanged")),xl(a,b[ka]),Ml(a,"refreshToken",a.h.a))}function Fl(a,b){return jl(a).then(function(){if($(Dl(a),b))return Cl(a).then(function(){throw new Xr("provider-already-linked")})})}function Ul(a,b,t){return Ur({user:a,credential:fi(b),additionalUserInfo:b=xo(b),operationType:t})}function Vl(a,b){return Bl(a,b),a.reload().then(function(){return a})}function ql(a,b,t,e,n){if(!wr())return Dt(new Xr("operation-not-supported-in-this-environment"));if(a.i&&!n)return Dt(a.i);var o=ko(t.providerId),g=Cr(a.uid+":::"),l=null;(!Er()||ar())&&a.u&&t.isOAuthProvider&&(l=Ms(a.u,a.l,a.m,b,t,null,g,r.a.SDK_VERSION||null));var c=er(l,o&&o.Ba,o&&o.Aa);return e=e().then(function(){if(Wl(a),!n)return a.F().then(function(){})}).then(function(){return Xu(a.a,c,b,t,g,!!l)}).then(function(){return new Tt(function(p,t){a.ha(b,null,new Xr("cancelled-popup-request"),a.g||null),a.f=p,a.v=t,a.g=g,a.c=a.a.Ea(a,b,c,g)})}).then(function(p){return c&&Zn(c),p?Ur(p):null}).s(function(p){throw c&&Zn(c),p}),zl(a,e,n)}function $l(a,b,t,e,n){if(!wr())return Dt(new Xr("operation-not-supported-in-this-environment"));if(a.i&&!n)return Dt(a.i);var r=null,g=Cr(a.uid+":::");return e=e().then(function(){if(Wl(a),!n)return a.F().then(function(){})}).then(function(){return a.aa=g,Cl(a)}).then(function(t){return a.ba&&(t=(t=a.ba).b.set(Gl,a.w(),t.a)),t}).then(function(){return a.a.Ca(b,t,g)}).s(function(t){if(r=t,a.ba)return Ql(a.ba);throw r}).then(function(){if(r)throw r}),zl(a,e,n)}function Wl(a){if(!a.a||!a.I){if(a.a&&!a.I)throw new Xr("internal-error");throw new Xr("auth-domain-config-required")}}function zl(a,b,t){var e=function(a,b,t){return a.i&&!t?(b.cancel(),Dt(a.i)):b.s(function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(a.i||a.dispatchEvent(new yl("userInvalidated")),a.i=t),t})}(a,b,t);return a.G.push(e),e.ia(function(){W(a.G,e)}),e}function Hl(a){if(!a.apiKey)return null;var b={apiKey:a.apiKey,authDomain:a.authDomain,appName:a.appName},t={};if(!(a.stsTokenManager&&a.stsTokenManager.accessToken&&a.stsTokenManager.expirationTime))return null;t[ka]=a.stsTokenManager.accessToken,t.refreshToken=a.stsTokenManager.refreshToken||null,t.expiresIn=(a.stsTokenManager.expirationTime-C())/1e3;var e=new bl(b,t,a);return a.providerData&&F(a.providerData,function(t){t&&Pl(e,Ur(t))}),a.redirectEventId&&(e.aa=a.redirectEventId),e}function Kl(a){this.a=a,this.b=gu()}el.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},el.prototype.h=function(a,b){if(a){this.reset(),this.g=!0;var t=a.c,e=a.b,n=a.a&&"auth/web-storage-unsupported"==a.a.code,r=a.a&&"auth/operation-not-supported-in-this-environment"==a.a.code;this.i=!(!n&&!r),"unknown"!=t||n||r?a.a?(il(this,!0,null,a.a),Nt()):b.xa(t,e)?function(a,b,t){t=t.xa(b.c,b.b);var e=b.g,n=b.f,r=b.h,g=!!b.c.match(/Redirect$/);t(e,n,r).then(function(t){il(a,g,t,null)}).s(function(t){il(a,g,null,t)})}(this,a,b):Dt(new Xr("invalid-auth-event")):(il(this,!1,null,null),Nt())}else Dt(new Xr("invalid-auth-event"))},el.prototype.Za=function(){this.g&&!this.i&&il(this,!1,null,null)},el.prototype.fa=function(){var a=this;return new Tt(function(b,t){a.b?a.b().then(b,t):(a.f.push(b),a.c.push(t),function(a){var b=new Xr("timeout");a.a&&a.a.cancel(),a.a=We(Yu.get()).then(function(){a.b||(a.g=!0,il(a,!0,null,b))})}(a))})},al.prototype.h=function(a,b){if(a){var t=a.c,e=a.b;a.a?(b.ha(a.c,null,a.a,a.b),Nt()):b.xa(t,e)?function(a,b){var t=a.b,e=a.c;b.xa(e,t)(a.g,a.f,a.h).then(function(n){b.ha(e,n,null,t)}).s(function(n){b.ha(e,null,n,t)})}(a,b):Dt(new Xr("invalid-auth-event"))}else Dt(new Xr("invalid-auth-event"))},dl.prototype.confirm=function(a){return a=hi(this.verificationId,a),this.a(a)},hl.prototype.start=function(){this.a=this.c,function t(a,b){a.stop();a.b=We(function(a,b){return b?(a.a=a.c,a.g()):(b=a.a,a.a*=2,a.a>a.f&&(a.a=a.f),b)}(a,b)).then(function(){return a=n.document,b=null,Nr()||!a?Nt():new Tt(function(t){b=function(){Nr()&&(a.removeEventListener("visibilitychange",b,!1),t())},a.addEventListener("visibilitychange",b,!1)}).s(function(t){throw a.removeEventListener("visibilitychange",b,!1),t});var a,b}).then(function(){return a.h()}).then(function(){t(a,!0)}).s(function(e){a.i(e)&&t(a,!1)})}(this,!0)},hl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},fl.prototype.w=function(){return{apiKey:this.f.b,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},fl.prototype.getToken=function(a){return a=!!a,this.b&&!this.a?Dt(new Xr("user-token-expired")):a||!this.b||C()>this.c-3e4?this.a?gl(this,{grant_type:"refresh_token",refresh_token:this.a}):Nt(null):Nt({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},ol.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},u(yl,me),u(bl,Fe),bl.prototype.pa=function(a){this.ka=a,Aa(this.b,a)},bl.prototype.ea=function(){return this.ka},bl.prototype.ya=function(){return K(this.O)},bl.prototype.Ha=function(){this.A.b&&(this.A.stop(),this.A.start())},Br(bl.prototype,"providerId","firebase"),(t=bl.prototype).reload=function(){var a=this;return zl(this,Nl(this).then(function(){return jl(a).then(function(){return Cl(a)}).then(Al)}))},t.dc=function(a){return this.F(a).then(function(b){return new cl(b)})},t.F=function(a){var b=this;return zl(this,Nl(this).then(function(){return b.h.getToken(a)}).then(function(t){if(!t)throw new Xr("internal-error");return t.accessToken!=b.ra&&(xl(b,t.accessToken),b.dispatchEvent(new yl("tokenChanged"))),Ml(b,"refreshToken",t.refreshToken),t.accessToken}))},t.zc=function(a){if(!(a=a.users)||!a.length)throw new Xr("internal-error");Ol(this,{uid:(a=a[0]).localId,displayName:a.displayName,photoURL:a.photoUrl,email:a.email,emailVerified:!!a.emailVerified,phoneNumber:a.phoneNumber,lastLoginAt:a.lastLoginAt,createdAt:a.createdAt});for(var b=function(a){return(a=a.providerUserInfo)&&a.length?U(a,function(b){return new vl(b.rawId,b.providerId,b.email,b.displayName,b.photoUrl,b.phoneNumber)}):[]}(a),t=0;t<b.length;t++)Pl(this,b[t]);Ml(this,"isAnonymous",!(this.email&&a.passwordHash||this.providerData&&this.providerData.length))},t.hb=function(a){var b=this,t=null;return zl(this,a.f(this.b,this.uid).then(function(e){return Bl(b,e),t=Ul(b,e,"reauthenticate"),b.i=null,b.reload()}).then(function(){return t}),!0)},t.Ac=function(a){return Lr("firebase.User.prototype.reauthenticateWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential instead."),this.hb(a).then(function(){})},t.fb=function(a){var b=this,t=null;return zl(this,Fl(this,a.providerId).then(function(){return b.F()}).then(function(t){return a.b(b.b,t)}).then(function(e){return t=Ul(b,e,"link"),Vl(b,e)}).then(function(){return t}))},t.rc=function(a){return Lr("firebase.User.prototype.linkWithCredential is deprecated. Please use firebase.User.prototype.linkAndRetrieveDataWithCredential instead."),this.fb(a).then(function(b){return b.user})},t.sc=function(a,b){var t=this;return zl(this,Fl(this,"phone").then(function(){return ll(El(t),a,b,k(t.fb,t))}))},t.Bc=function(a,b){var t=this;return zl(this,Nt().then(function(){return ll(El(t),a,b,k(t.hb,t))}),!0)},t.qb=function(a){var b=this;return zl(this,this.F().then(function(t){return b.b.qb(t,a)}).then(function(t){return Bl(b,t),b.reload()}))},t.Tc=function(a){var b=this;return zl(this,this.F().then(function(t){return a.b(b.b,t)}).then(function(t){return Bl(b,t),b.reload()}))},t.rb=function(a){var b=this;return zl(this,this.F().then(function(t){return b.b.rb(t,a)}).then(function(t){return Bl(b,t),b.reload()}))},t.sb=function(a){if(void 0===a.displayName&&void 0===a.photoURL)return Nl(this);var b=this;return zl(this,this.F().then(function(t){return b.b.sb(t,{displayName:a.displayName,photoUrl:a.photoURL})}).then(function(t){return Bl(b,t),Ml(b,"displayName",t.displayName||null),Ml(b,"photoURL",t.photoUrl||null),F(b.providerData,function(t){"password"===t.providerId&&(Br(t,"displayName",b.displayName),Br(t,"photoURL",b.photoURL))}),Cl(b)}).then(Al))},t.Rc=function(a){var b=this;return zl(this,jl(this).then(function(t){return $(Dl(b),a)?function(a,b,t){return ws(a,Ja,{idToken:b,deleteProvider:t})}(b.b,t,[a]).then(function(t){var e={};return F(t.providerUserInfo||[],function(t){e[t.providerId]=!0}),F(Dl(b),function(t){e[t]||Rl(b,t)}),e[di.PROVIDER_ID]||Br(b,"phoneNumber",null),Cl(b)}):Cl(b).then(function(){throw new Xr("no-such-provider")})}))},t.delete=function(){var a=this;return zl(this,this.F().then(function(b){return ws(a.b,Xa,{idToken:b})}).then(function(){a.dispatchEvent(new yl("userDeleted"))})).then(function(){for(var b=0;b<a.G.length;b++)a.G[b].cancel("app-deleted");wl(a,null),Sl(a,null),a.G=[],a.D=!0,kl(a),Br(a,"refreshToken",null),a.a&&a.a.unsubscribe(a)})},t.wb=function(a,b){return!!("linkViaPopup"==a&&(this.g||null)==b&&this.f||"reauthViaPopup"==a&&(this.g||null)==b&&this.f||"linkViaRedirect"==a&&(this.aa||null)==b||"reauthViaRedirect"==a&&(this.aa||null)==b)},t.ha=function(a,b,t,e){"linkViaPopup"!=a&&"reauthViaPopup"!=a||e!=(this.g||null)||(t&&this.v?this.v(t):b&&!t&&this.f&&this.f(b),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.xa=function(a,b){return"linkViaPopup"==a&&b==(this.g||null)?k(this.Bb,this):"reauthViaPopup"==a&&b==(this.g||null)?k(this.Cb,this):"linkViaRedirect"==a&&(this.aa||null)==b?k(this.Bb,this):"reauthViaRedirect"==a&&(this.aa||null)==b?k(this.Cb,this):null},t.tc=function(a){var b=this;return ql(this,"linkViaPopup",a,function(){return Fl(b,a.providerId).then(function(){return Cl(b)})},!1)},t.Cc=function(a){return ql(this,"reauthViaPopup",a,function(){return Nt()},!0)},t.uc=function(a){var b=this;return $l(this,"linkViaRedirect",a,function(){return Fl(b,a.providerId)},!1)},t.Dc=function(a){return $l(this,"reauthViaRedirect",a,function(){return Nt()},!0)},t.Bb=function(a,b,t){var e=this;this.c&&(this.c.cancel(),this.c=null);var n=null;return zl(this,this.F().then(function(g){return Wa(e.b,{requestUri:a,postBody:t,sessionId:b,idToken:g})}).then(function(g){return n=Ul(e,g,"link"),Vl(e,g)}).then(function(){return n}))},t.Cb=function(a,b,t){var e=this;this.c&&(this.c.cancel(),this.c=null);var n=null;return zl(this,Nt().then(function(){return Bo(za(e.b,{requestUri:a,sessionId:b,postBody:t}),e.uid)}).then(function(g){return n=Ul(e,g,"reauthenticate"),Bl(e,g),e.i=null,e.reload()}).then(function(){return n}),!0)},t.kb=function(a){var b=this,t=null;return zl(this,this.F().then(function(e){return t=e,void 0===a||ct(a)?{}:ho(new eo(a))}).then(function(e){return b.b.kb(t,e)}).then(function(t){if(b.email!=t)return b.reload()}).then(function(){}))},t.toJSON=function(){return this.w()},t.w=function(){var a={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.u,stsTokenManager:this.h.w(),redirectEventId:this.aa||null};return this.metadata&&gt(a,this.metadata.w()),F(this.providerData,function(b){a.providerData.push(function(a){var t,b={};for(t in a)a.hasOwnProperty(t)&&(b[t]=a[t]);return b}(b))}),a};var Gl={name:"redirectUser",B:"session"};function Ql(a){return bu(a.b,Gl,a.a)}function Yl(a){this.a=a,this.b=gu(),this.c=null,this.f=function(a){var b=em("local"),t=em("session"),e=em("none");return function(a,b,t){var e=yu(b,t),r=vu(a,b.B);return a.get(b,t).then(function(o){var g=null;try{g=xr(n.localStorage.getItem(e))}catch(t){}if(g&&!o)return n.localStorage.removeItem(e),a.set(b,g,t);g&&o&&"localStorage"!=r.type&&n.localStorage.removeItem(e)})}(a.b,b,a.a).then(function(){return a.b.get(t,a.a)}).then(function(n){return n?t:a.b.get(e,a.a).then(function(t){return t?e:a.b.get(b,a.a).then(function(g){return g?b:a.b.get(Jl,a.a).then(function(t){return t?em(t):b})})})}).then(function(t){return a.c=t,Xl(a,t.B)}).s(function(){a.c||(a.c=b)})}(this),this.b.addListener(em("local"),this.a,k(this.g,this))}function Xl(a,b){var t,e=[];for(t in pu)pu[t]!==b&&e.push(bu(a.b,em(pu[t]),a.a));return e.push(bu(a.b,Jl,a.a)),function(a){return new Tt(function(b,t){var e=a.length,n=[];if(e)for(var r=function(p,t){e--,n[p]=t,0==e&&b(n)},g=function(p){t(p)},o=0;o<a.length;o++)Pt(a[o],x(r,o),g);else b(n)})}(e)}Yl.prototype.g=function(){var a=this,b=em("local");nc(this,function(){return Nt().then(function(){return a.c&&"local"!=a.c.B?a.b.get(b,a.a):null}).then(function(t){if(t)return Xl(a,"local").then(function(){a.c=b})})})};var Jl={name:"persistence",B:"session"};function em(a){return{name:"authUser",B:a}}function Zl(a,b){return nc(a,function(){return a.b.set(a.c,b.w(),a.a)})}function tc(a){return nc(a,function(){return bu(a.b,a.c,a.a)})}function ec(a,b){return nc(a,function(){return a.b.get(a.c,a.a).then(function(t){return t&&b&&(t.authDomain=b),Hl(t||{})})})}function nc(a,b){return a.f=a.f.then(b,b),a.f}function rc(a){if(this.l=!1,Br(this,"settings",new sl),Br(this,"app",a),!cc(this).options||!cc(this).options.apiKey)throw new Xr("invalid-api-key");a=r.a.SDK_VERSION?mr(r.a.SDK_VERSION):null,this.b=new Ea(cc(this).options&&cc(this).options.apiKey,_o(bo),a),this.N=[],this.m=[],this.I=[],this.Tb=r.a.INTERNAL.createSubscribe(k(this.oc,this)),this.O=void 0,this.Ub=r.a.INTERNAL.createSubscribe(k(this.pc,this)),uc(this,null),this.h=new Yl(cc(this).options.apiKey+":"+cc(this).name),this.A=new Kl(cc(this).options.apiKey+":"+cc(this).name),this.V=pc(this,function(a){var b=cc(a).options.authDomain,t=function(a){var b=function(a,b){return a.b.get(Gl,a.a).then(function(t){return t&&b&&(t.authDomain=b),Hl(t||{})})}(a.A,cc(a).options.authDomain).then(function(t){return(a.D=t)&&(t.ba=a.A),Ql(a.A)});return pc(a,b)}(a).then(function(){return ec(a.h,b)}).then(function(t){return t?(t.ba=a.A,a.D&&(a.D.aa||null)==(t.aa||null)?t:t.reload().then(function(){return Zl(a.h,t).then(function(){return t})}).s(function(e){return"auth/network-request-failed"==e.code?t:tc(a.h)})):null}).then(function(t){uc(a,t||null)});return pc(a,t)}(this)),this.i=pc(this,function(a){return a.V.then(function(){return a.fa()}).s(function(){}).then(function(){if(!a.l)return a.ka()}).s(function(){}).then(function(){if(!a.l){a.X=!0;var b=a.h;b.b.addListener(em("local"),b.a,a.ka)}})}(this)),this.X=!1,this.ka=k(this.Oc,this),this.Ha=k(this.Z,this),this.ra=k(this.bc,this),this.sa=k(this.mc,this),this.ta=k(this.nc,this),function(a){var b=cc(a).options.authDomain,t=cc(a).options.apiKey;b&&wr()&&(a.Sb=a.V.then(function(){if(!a.l){if(a.a=tl(b,t,cc(a).name),a.a.subscribe(a),dc(a)&&Il(dc(a)),a.D){Il(a.D);var e=a.D;e.pa(a.ea()),wl(e,a),_l(e=a.D,a.G),Sl(e,a),a.D=null}return a.a}}))}(this),this.INTERNAL={},this.INTERNAL.delete=k(this.delete,this),this.INTERNAL.logFramework=k(this.vc,this),this.u=0,Fe.call(this),function(a){Object.defineProperty(a,"lc",{get:function(){return this.ea()},set:function(b){this.pa(b)},enumerable:!1}),a.W=null}(this),this.G=[]}function oc(a){me.call(this,"languageCodeChanged"),this.g=a}function ic(a){me.call(this,"frameworkChanged"),this.c=a}function ac(a){return a.Sb||Dt(new Xr("auth-domain-config-required"))}function sc(a,b){var t={};return t.apiKey=cc(a).options.apiKey,t.authDomain=cc(a).options.authDomain,t.appName=cc(a).name,a.V.then(function(){return function(a,b,t,e){var n=new bl(a,b);return t&&(n.ba=t),e&&_l(n,e),n.reload().then(function(){return n})}(t,b,a.A,a.ya())}).then(function(t){return dc(a)&&t.uid==dc(a).uid?(Ll(dc(a),t),a.Z(t)):(uc(a,t),Il(t),a.Z(t))}).then(function(){fc(a)})}function uc(a,b){dc(a)&&(function(a,b){z(a.N,function(t){return t==b})}(dc(a),a.Ha),Ae(dc(a),"tokenChanged",a.ra),Ae(dc(a),"userDeleted",a.sa),Ae(dc(a),"userInvalidated",a.ta),kl(dc(a))),b&&(b.N.push(a.Ha),Ce(b,"tokenChanged",a.ra),Ce(b,"userDeleted",a.sa),Ce(b,"userInvalidated",a.ta),0<a.u&&Tl(b)),Br(a,"currentUser",b),b&&(b.pa(a.ea()),wl(b,a),_l(b,a.G),Sl(b,a))}function lc(a,b){var t=null,e=null;return pc(a,b.then(function(n){return t=fi(n),e=xo(n),sc(a,n)}).then(function(){return Ur({user:dc(a),credential:t,additionalUserInfo:e,operationType:"signIn"})}))}function cc(a){return a.app}function dc(a){return a.currentUser}function hc(a){return dc(a)&&dc(a)._lat||null}function fc(a){if(a.X){for(var b=0;b<a.m.length;b++)a.m[b]&&a.m[b](hc(a));if(a.O!==a.getUid()&&a.I.length)for(a.O=a.getUid(),b=0;b<a.I.length;b++)a.I[b]&&a.I[b](hc(a))}}function pc(a,b){return a.N.push(b),b.ia(function(){W(a.N,b)}),b}function mc(){}function gc(){this.a={},this.b=1e12}Yl.prototype.nb=function(a){var b=null,t=this;return function(a){var b=new Xr("invalid-persistence-type"),t=new Xr("unsupported-persistence-type");t:{for(e in pu)if(pu[e]==a){var e=!0;break t}e=!1}if(!e||"string"!=typeof a)throw b;switch(ur()){case"ReactNative":if("session"===a)throw t;break;case"Node":if("none"!==a)throw t;break;default:if(!yr()&&"none"!==a)throw t}}(a),nc(this,function(){return a!=t.c.B?t.b.get(t.c,t.a).then(function(e){return b=e,Xl(t,a)}).then(function(){if(t.c=em(a),b)return t.b.set(t.c,b,t.a)}):Nt()})},u(rc,Fe),u(oc,me),u(ic,me),(t=rc.prototype).nb=function(a){return pc(this,a=this.h.nb(a))},t.pa=function(a){this.W===a||this.l||(this.W=a,Aa(this.b,this.W),this.dispatchEvent(new oc(this.ea())))},t.ea=function(){return this.W},t.Uc=function(){var a=n.navigator;this.pa(a&&(a.languages&&a.languages[0]||a.language||a.userLanguage)||null)},t.vc=function(a){this.G.push(a),Na(this.b,r.a.SDK_VERSION?mr(r.a.SDK_VERSION,this.G):null),this.dispatchEvent(new ic(this.G))},t.ya=function(){return K(this.G)},t.toJSON=function(){return{apiKey:cc(this).options.apiKey,authDomain:cc(this).options.authDomain,appName:cc(this).name,currentUser:dc(this)&&dc(this).w()}},t.wb=function(a,b){switch(a){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==b&&!!this.f;default:return!1}},t.ha=function(a,b,t,e){"signInViaPopup"==a&&this.g==e&&(t&&this.v?this.v(t):b&&!t&&this.f&&this.f(b),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.xa=function(a,b){return"signInViaRedirect"==a||"signInViaPopup"==a&&this.g==b&&this.f?k(this.ac,this):null},t.ac=function(a,b,t){var e=this;a={requestUri:a,postBody:t,sessionId:b},this.c&&(this.c.cancel(),this.c=null);var n=null,r=null,g=$a(e.b,a).then(function(t){return n=fi(t),r=xo(t),t});return pc(this,a=e.V.then(function(){return g}).then(function(t){return sc(e,t)}).then(function(){return Ur({user:dc(e),credential:n,additionalUserInfo:r,operationType:"signIn"})}))},t.Mc=function(a){if(!wr())return Dt(new Xr("operation-not-supported-in-this-environment"));var b=this,t=ko(a.providerId),e=Cr(),n=null;(!Er()||ar())&&cc(this).options.authDomain&&a.isOAuthProvider&&(n=Ms(cc(this).options.authDomain,cc(this).options.apiKey,cc(this).name,"signInViaPopup",a,null,e,r.a.SDK_VERSION||null));var o=er(n,t&&t.Ba,t&&t.Aa);return pc(this,t=ac(this).then(function(g){return Xu(g,o,"signInViaPopup",a,e,!!n)}).then(function(){return new Tt(function(g,t){b.ha("signInViaPopup",null,new Xr("cancelled-popup-request"),b.g),b.f=g,b.v=t,b.g=e,b.c=b.a.Ea(b,"signInViaPopup",o,e)})}).then(function(g){return o&&Zn(o),g?Ur(g):null}).s(function(g){throw o&&Zn(o),g}))},t.Nc=function(a){if(!wr())return Dt(new Xr("operation-not-supported-in-this-environment"));var b=this;return pc(this,ac(this).then(function(){return nc(a=b.h,function(){return a.b.set(Jl,a.c.B,a.a)});var a}).then(function(){return b.a.Ca("signInViaRedirect",a)}))},t.fa=function(){if(!wr())return Dt(new Xr("operation-not-supported-in-this-environment"));var a=this;return pc(this,ac(this).then(function(){return a.a.fa()}).then(function(t){return t?Ur(t):null}))},t.Sc=function(a){if(!a)return Dt(new Xr("null-user"));var b=this,t={};t.apiKey=cc(this).options.apiKey,t.authDomain=cc(this).options.authDomain,t.appName=cc(this).name;var e=function(a,b,t,e){b=b||{apiKey:a.l,authDomain:a.u,appName:a.m};var n=a.h,r={};return r[ka]=n.b,r.refreshToken=n.a,r.expiresIn=(n.c-C())/1e3,b=new bl(b,r),t&&(b.ba=t),e&&_l(b,e),Ll(b,a),b}(a,t,b.A,b.ya());return pc(this,this.i.then(function(){if(cc(b).options.apiKey!=a.l)return e.reload()}).then(function(){return dc(b)&&a.uid==dc(b).uid?(Ll(dc(b),a),b.Z(a)):(uc(b,e),Il(e),b.Z(e))}).then(function(){fc(b)}))},t.ob=function(){var a=this;return pc(this,this.i.then(function(){return dc(a)?(uc(a,null),tc(a.h).then(function(){fc(a)})):Nt()}))},t.Oc=function(){var a=this;return ec(this.h,cc(this).options.authDomain).then(function(b){if(!a.l){var t;if(t=dc(a)&&b){t=dc(a).uid;var e=b.uid;t=null!=t&&""!==t&&null!=e&&""!==e&&t==e}if(t)return Ll(dc(a),b),dc(a).F();(dc(a)||b)&&(uc(a,b),b&&(Il(b),b.ba=a.A),a.a&&a.a.subscribe(a),fc(a))}})},t.Z=function(a){return Zl(this.h,a)},t.bc=function(){fc(this),this.Z(dc(this))},t.mc=function(){this.ob()},t.nc=function(){this.ob()},t.oc=function(a){var b=this;this.addAuthTokenListener(function(){a.next(dc(b))})},t.pc=function(a){var b=this;!function(a,b){a.I.push(b),pc(a,a.i.then(function(){!a.l&&$(a.I,b)&&a.O!==a.getUid()&&(a.O=a.getUid(),b(hc(a)))}))}(this,function(){a.next(dc(b))})},t.xc=function(a,b,t){var e=this;return this.X&&r.a.Promise.resolve().then(function(){q(a)?a(dc(e)):q(a.next)&&a.next(dc(e))}),this.Tb(a,b,t)},t.wc=function(a,b,t){var e=this;return this.X&&r.a.Promise.resolve().then(function(){e.O=e.getUid(),q(a)?a(dc(e)):q(a.next)&&a.next(dc(e))}),this.Ub(a,b,t)},t.cc=function(a){var b=this;return pc(this,this.i.then(function(){return dc(b)?dc(b).F(a).then(function(t){return{accessToken:t}}):null}))},t.Nb=function(a){var b=this;return this.i.then(function(){return lc(b,ws(b.b,ms,{token:a}))}).then(function(t){var e=t.user;return Ml(e,"isAnonymous",!1),b.Z(e),t})},t.Gc=function(a){return Lr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCustomToken is deprecated. Please use firebase.auth.Auth.prototype.signInWithCustomToken instead."),this.Nb(a)},t.Hc=function(a,b){return Lr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithEmailAndPassword is deprecated. Please use firebase.auth.Auth.prototype.signInWithEmailAndPassword instead."),this.Ob(a,b)},t.Ob=function(a,b){var t=this;return this.i.then(function(){return lc(t,ws(t.b,gs,{email:a,password:b}))})},t.yb=function(a,b){var t=this;return this.i.then(function(){return lc(t,ws(t.b,Qa,{email:a,password:b}))})},t.Wb=function(a,b){return Lr("firebase.auth.Auth.prototype.createUserAndRetrieveDataWithEmailAndPassword is deprecated. Please use firebase.auth.Auth.prototype.createUserWithEmailAndPassword instead."),this.yb(a,b)},t.Jc=function(a){return Lr("firebase.auth.Auth.prototype.signInWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential instead."),this.Qa(a).then(function(b){return b.user})},t.Qa=function(a){var b=this;return this.i.then(function(){return lc(b,a.la(b.b))})},t.Ra=function(){var a=this;return this.i.then(function(){var b=dc(a);if(b&&b.isAnonymous){var t=Ur({providerId:null,isNewUser:!1});return Ur({user:b,credential:null,additionalUserInfo:t,operationType:"signIn"})}return lc(a,a.b.Ra()).then(function(t){var e=t.user;return Ml(e,"isAnonymous",!0),a.Z(e),t})})},t.Ic=function(){return Lr("firebase.auth.Auth.prototype.signInAnonymouslyAndRetrieveData is deprecated. Please use firebase.auth.Auth.prototype.signInAnonymously instead."),this.Ra()},t.getUid=function(){return dc(this)&&dc(this).uid||null},t.Vb=function(a){this.addAuthTokenListener(a),this.u++,0<this.u&&dc(this)&&Tl(dc(this))},t.Ec=function(a){var b=this;F(this.m,function(t){t==a&&b.u--}),0>this.u&&(this.u=0),0==this.u&&dc(this)&&kl(dc(this)),this.removeAuthTokenListener(a)},t.addAuthTokenListener=function(a){var b=this;this.m.push(a),pc(this,this.i.then(function(){b.l||$(b.m,a)&&a(hc(b))}))},t.removeAuthTokenListener=function(a){z(this.m,function(b){return b==a})},t.delete=function(){this.l=!0;for(var a=0;a<this.N.length;a++)this.N[a].cancel("app-deleted");return this.N=[],this.h&&(a=this.h).b.removeListener(em("local"),a.a,this.ka),this.a&&(this.a.unsubscribe(this),this.a.Za()),r.a.Promise.resolve()},t.Zb=function(a){return Lr("firebase.auth.Auth.prototype.fetchProvidersForEmail is deprecated. Please use firebase.auth.Auth.prototype.fetchSignInMethodsForEmail instead."),pc(this,function(a,b){return ws(a,Ya,{identifier:b,continueUri:_r()?Yn():"http://localhost"}).then(function(t){return t.allProviders||[]})}(this.b,a))},t.$b=function(a){return pc(this,function(a,b){return ws(a,Ya,{identifier:b,continueUri:_r()?Yn():"http://localhost"}).then(function(t){return t.signinMethods||[]})}(this.b,a))},t.qc=function(a){return!!ai(a)},t.mb=function(a,b){var t=this;return pc(this,Nt().then(function(){var t=new eo(b);if(!t.c)throw new Xr("argument-error",oo+" must be true when sending sign in link to email");return ho(t)}).then(function(e){return t.b.mb(a,e)}).then(function(){}))},t.Vc=function(a){return this.Ja(a).then(function(b){return b.data.email})},t.$a=function(a,b){return pc(this,this.b.$a(a,b).then(function(){}))},t.Ja=function(a){return pc(this,this.b.Ja(a).then(function(b){return new qr(b)}))},t.Xa=function(a){return pc(this,this.b.Xa(a).then(function(){}))},t.lb=function(a,b){var t=this;return pc(this,Nt().then(function(){return void 0===b||ct(b)?{}:ho(new eo(b))}).then(function(e){return t.b.lb(a,e)}).then(function(){}))},t.Lc=function(a,b){return pc(this,ll(this,a,b,k(this.Qa,this)))},t.Kc=function(a,b){var t=this;return pc(this,Nt().then(function(){var e=ii(a,b||Yn());return t.Qa(e)}))},mc.prototype.render=function(){},mc.prototype.reset=function(){},mc.prototype.getResponse=function(){},mc.prototype.execute=function(){};var vc=null;function yc(a,b){return(b=bc(b))&&a.a[b]||null}function bc(a){return(a=void 0===a?1e12:a)?a.toString():null}function wc(a,b){this.g=!1,this.c=b,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=Fn(a);var t=this;this.i=function(){t.execute()},this.h?this.execute():Ce(this.f,"click",this.i)}function _c(a){if(a.g)throw Error("reCAPTCHA mock was already deleted!")}function Sc(){}gc.prototype.render=function(a,b){return this.a[this.b.toString()]=new wc(a,b),this.b++},gc.prototype.reset=function(a){var b=yc(this,a);a=bc(a),b&&a&&(b.delete(),delete this.a[a])},gc.prototype.getResponse=function(a){return(a=yc(this,a))?a.getResponse():null},gc.prototype.execute=function(a){(a=yc(this,a))&&a.execute()},wc.prototype.getResponse=function(){return _c(this),this.b},wc.prototype.execute=function(){_c(this);var a=this;this.a||(this.a=setTimeout(function(){a.b=function(){for(var a=50,b=[];0<a;)b.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),a--;return b.join("")}();var b=a.c.callback,t=a.c["expired-callback"];if(b)try{b(a.b)}catch(t){}a.a=setTimeout(function(){if(a.a=null,a.b=null,t)try{t()}catch(t){}a.h&&a.execute()},6e4)},500))},wc.prototype.delete=function(){_c(this),this.g=!0,clearTimeout(this.a),this.a=null,Ae(this.f,"click",this.i)},Sc.prototype.g=function(){return vc||(vc=new gc),Nt(vc)},Sc.prototype.c=function(){};var Ec=null;function Tc(){this.b=n.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var kc=new _n(Tn,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),xc=new Ar(3e4,6e4);Tc.prototype.g=function(a){var b=this;return new Tt(function(t,e){var r=setTimeout(function(){e(new Xr("network-request-failed"))},xc.get());!n.grecaptcha||a!==b.f&&!b.b?(n[b.a]=function(){if(n.grecaptcha){b.f=a;var g=n.grecaptcha.render;n.grecaptcha.render=function(t,e){return t=g(t,e),b.b++,t},clearTimeout(r),t(n.grecaptcha)}else clearTimeout(r),e(new Xr("internal-error"));delete n[b.a]},Nt(ga(xn(kc,{onload:b.a,hl:a||""}))).s(function(){clearTimeout(r),e(new Xr("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(r),t(n.grecaptcha))})},Tc.prototype.c=function(){this.b--};var Cc=null;function Ic(a,b,t,e,r,o,g){if(Br(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.l=b,this.g=null,g?(Ec||(Ec=new Sc),g=Ec):(Cc||(Cc=new Tc),g=Cc),this.m=g,this.a=t||{theme:"light",type:"image"},this.h=[],this.a[Nc])throw new Xr("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Dc],!n.document)throw new Xr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Fn(b)||!this.i&&Fn(b).hasChildNodes())throw new Xr("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.u=new Ea(a,o||null,r||null),this.v=e||function(){return null};var l=this;this.o=[];var c=this.a[Oc];this.a[Oc]=function(t){if(Pc(l,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=vr(c,n);"function"==typeof e&&e(t)}};var p=this.a[Ac];this.a[Ac]=function(){if(Pc(l,null),"function"==typeof p)p();else if("string"==typeof p){var t=vr(p,n);"function"==typeof t&&t()}}}var Oc="callback",Ac="expired-callback",Nc="sitekey",Dc="size";function Pc(a,b){for(var t=0;t<a.o.length;t++)try{a.o[t](b)}catch(t){}}function Rc(a,b){return a.h.push(b),b.ia(function(){W(a.h,b)}),b}function Mc(a){if(a.D)throw new Xr("internal-error","RecaptchaVerifier instance has been destroyed.")}function Lc(a,b,t){var e=!1;try{this.b=t||r.a.app()}catch(t){throw new Xr("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new Xr("invalid-api-key");t=this.b.options.apiKey;var n=this,o=null;try{o=this.b.auth().ya()}catch(t){}try{e=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}o=r.a.SDK_VERSION?mr(r.a.SDK_VERSION,o):null,Ic.call(this,t,a,b,function(){try{var g=n.b.auth().ea()}catch(t){g=null}return g},o,_o(bo),e)}function jc(a,b,t,e){t:{t=Array.prototype.slice.call(t);for(var n=0,r=!1,g=0;g<b.length;g++)if(b[g].optional)r=!0;else{if(r)throw new Xr("internal-error","Argument validator encountered a required argument after an optional argument.");n++}if(r=b.length,t.length<n||r<t.length)e="Expected "+(n==r?1==n?"1 argument":n+" arguments":n+"-"+r+" arguments")+" but got "+t.length+".";else{for(n=0;n<t.length;n++)if(r=b[n].optional&&void 0===t[n],!b[n].M(t[n])&&!r){if(b=b[n],0>n||n>=Bc.length)throw new Xr("internal-error","Argument validator received an unsupported number of arguments.");t=Bc[n],e=(e?"":t+" argument ")+(b.name?'"'+b.name+'" ':"")+"must be "+b.K+".";break t}e=null}}if(e)throw new Xr("argument-error",a+" failed: "+e)}(t=Ic.prototype).za=function(){var a=this;return this.f?this.f:this.f=Rc(this,Nt().then(function(){if(_r()&&!sr())return or();throw new Xr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return a.m.g(a.v())}).then(function(b){return a.g=b,ws(a.u,as,{})}).then(function(b){a.a[Nc]=b.recaptchaSiteKey}).s(function(b){throw a.f=null,b}))},t.render=function(){Mc(this);var a=this;return Rc(this,this.za().then(function(){if(null===a.c){var b=a.l;if(!a.i){var t=Fn(b);b=qn("DIV"),t.appendChild(b)}a.c=a.g.render(b,a.a)}return a.c}))},t.verify=function(){Mc(this);var a=this;return Rc(this,this.render().then(function(b){return new Tt(function(t){var e=a.g.getResponse(b);if(e)t(e);else{var n=function(e){e&&(function(a,b){z(a.o,function(t){return t==b})}(a,n),t(e))};a.o.push(n),a.i&&a.g.execute(a.c)}})}))},t.reset=function(){Mc(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Mc(this),this.D=!0,this.m.c();for(var a=0;a<this.h.length;a++)this.h[a].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){a=Fn(this.l);for(var b;b=a.firstChild;)a.removeChild(b)}},u(Lc,Ic);var Bc="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Fc(a,b){return{name:a||"",K:"a valid string",optional:!!b,M:o}}function Uc(a,b){return{name:a||"",K:"a boolean",optional:!!b,M:l}}function Vc(a,b){return{name:a||"",K:"a valid object",optional:!!b,M:w}}function qc(a,b){return{name:a||"",K:"a function",optional:!!b,M:q}}function $c(a,b){return{name:a||"",K:"null",optional:!!b,M:m}}function Wc(a){return{name:a?a+"Credential":"credential",K:a?"a valid "+a+" credential":"a valid credential",optional:!1,M:function(b){if(!b)return!1;var t=!a||b.providerId===a;return!(!b.la||!t)}}}function zc(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(a){return!!(a&&o(a.type)&&q(a.verify))}}}function Hc(a,b,t,e){return{name:t||"",K:a.K+" or "+b.K,optional:!!e,M:function(t){return a.M(t)||b.M(t)}}}function Kc(a,b){for(var t in b){var e=b[t].name;a[e]=Yc(e,a[t],b[t].j)}}function Gc(a,b){for(var t in b){var e=b[t].name;e!==t&&Object.defineProperty(a,e,{get:x(function(t){return this[t]},t),set:x(function(t,e,g,n){jc(t,[g],[n],!0),this[e]=n},e,t,b[t].ub),enumerable:!0})}}function Qc(a,b,t,e){a[b]=Yc(b,t,e)}function Yc(a,b,t){function e(){var g=Array.prototype.slice.call(arguments);return jc(r,t,g),b.apply(this,g)}if(!t)return b;var n,r=function(a){return(a=a.split("."))[a.length-1]}(a);for(n in b)e[n]=b[n];for(n in b.prototype)e.prototype[n]=b.prototype[n];return e}Kc(rc.prototype,{Xa:{name:"applyActionCode",j:[Fc("code")]},Ja:{name:"checkActionCode",j:[Fc("code")]},$a:{name:"confirmPasswordReset",j:[Fc("code"),Fc("newPassword")]},yb:{name:"createUserWithEmailAndPassword",j:[Fc("email"),Fc("password")]},Wb:{name:"createUserAndRetrieveDataWithEmailAndPassword",j:[Fc("email"),Fc("password")]},Zb:{name:"fetchProvidersForEmail",j:[Fc("email")]},$b:{name:"fetchSignInMethodsForEmail",j:[Fc("email")]},fa:{name:"getRedirectResult",j:[]},qc:{name:"isSignInWithEmailLink",j:[Fc("emailLink")]},wc:{name:"onAuthStateChanged",j:[Hc(Vc(),qc(),"nextOrObserver"),qc("opt_error",!0),qc("opt_completed",!0)]},xc:{name:"onIdTokenChanged",j:[Hc(Vc(),qc(),"nextOrObserver"),qc("opt_error",!0),qc("opt_completed",!0)]},lb:{name:"sendPasswordResetEmail",j:[Fc("email"),Hc(Vc("opt_actionCodeSettings",!0),$c(null,!0),"opt_actionCodeSettings",!0)]},mb:{name:"sendSignInLinkToEmail",j:[Fc("email"),Vc("actionCodeSettings")]},nb:{name:"setPersistence",j:[Fc("persistence")]},Qa:{name:"signInAndRetrieveDataWithCredential",j:[Wc()]},Ra:{name:"signInAnonymously",j:[]},Ic:{name:"signInAnonymouslyAndRetrieveData",j:[]},Jc:{name:"signInWithCredential",j:[Wc()]},Nb:{name:"signInWithCustomToken",j:[Fc("token")]},Gc:{name:"signInAndRetrieveDataWithCustomToken",j:[Fc("token")]},Ob:{name:"signInWithEmailAndPassword",j:[Fc("email"),Fc("password")]},Kc:{name:"signInWithEmailLink",j:[Fc("email"),Fc("emailLink",!0)]},Hc:{name:"signInAndRetrieveDataWithEmailAndPassword",j:[Fc("email"),Fc("password")]},Lc:{name:"signInWithPhoneNumber",j:[Fc("phoneNumber"),zc()]},Mc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},Nc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},Sc:{name:"updateCurrentUser",j:[Hc({name:"user",K:"an instance of Firebase User",optional:!1,M:function(b){return!!(b&&b instanceof bl)}},$c(),"user")]},ob:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Fc(null,!0)]},Uc:{name:"useDeviceLanguage",j:[]},Vc:{name:"verifyPasswordResetCode",j:[Fc("code")]}}),Gc(rc.prototype,{lc:{name:"languageCode",ub:Hc(Fc(),$c(),"languageCode")}}),rc.Persistence=pu,rc.Persistence.LOCAL="local",rc.Persistence.SESSION="session",rc.Persistence.NONE="none",Kc(bl.prototype,{delete:{name:"delete",j:[]},dc:{name:"getIdTokenResult",j:[Uc("opt_forceRefresh",!0)]},F:{name:"getIdToken",j:[Uc("opt_forceRefresh",!0)]},fb:{name:"linkAndRetrieveDataWithCredential",j:[Wc()]},rc:{name:"linkWithCredential",j:[Wc()]},sc:{name:"linkWithPhoneNumber",j:[Fc("phoneNumber"),zc()]},tc:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},uc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},hb:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Wc()]},Ac:{name:"reauthenticateWithCredential",j:[Wc()]},Bc:{name:"reauthenticateWithPhoneNumber",j:[Fc("phoneNumber"),zc()]},Cc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},Dc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},kb:{name:"sendEmailVerification",j:[Hc(Vc("opt_actionCodeSettings",!0),$c(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Fc(null,!0)]},Rc:{name:"unlink",j:[Fc("provider")]},qb:{name:"updateEmail",j:[Fc("email")]},rb:{name:"updatePassword",j:[Fc("password")]},Tc:{name:"updatePhoneNumber",j:[Wc("phone")]},sb:{name:"updateProfile",j:[Vc("profile")]}}),Kc(gc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Kc(mc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Kc(Tt.prototype,{ia:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),Gc(sl.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",ub:Uc("appVerificationDisabledForTesting")}}),Kc(dl.prototype,{confirm:{name:"confirm",j:[Fc("verificationCode")]}}),Qc(jo,"fromJSON",function(a){a=o(a)?JSON.parse(a):a;for(var b,t=[Wo,ri,ui,Vo],e=0;e<t.length;e++)if(b=t[e](a))return b;return null},[Hc(Fc(),Vc(),"json")]),Qc(oi,"credential",function(a,b){return new ni(a,b)},[Fc("email"),Fc("password")]),Kc(ni.prototype,{w:{name:"toJSON",j:[Fc(null,!0)]}}),Kc(Go.prototype,{ua:{name:"addScope",j:[Fc("scope")]},Da:{name:"setCustomParameters",j:[Vc("customOAuthParameters")]}}),Qc(Go,"credential",Qo,[Hc(Fc(),Vc(),"token")]),Qc(oi,"credentialWithLink",ii,[Fc("email"),Fc("emailLink")]),Kc(Yo.prototype,{ua:{name:"addScope",j:[Fc("scope")]},Da:{name:"setCustomParameters",j:[Vc("customOAuthParameters")]}}),Qc(Yo,"credential",Xo,[Hc(Fc(),Vc(),"token")]),Kc(Jo.prototype,{ua:{name:"addScope",j:[Fc("scope")]},Da:{name:"setCustomParameters",j:[Vc("customOAuthParameters")]}}),Qc(Jo,"credential",Zo,[Hc(Fc(),Hc(Vc(),$c()),"idToken"),Hc(Fc(),$c(),"accessToken",!0)]),Kc(ti.prototype,{Da:{name:"setCustomParameters",j:[Vc("customOAuthParameters")]}}),Qc(ti,"credential",ei,[Hc(Fc(),Vc(),"token"),Fc("secret",!0)]),Kc(Ko.prototype,{ua:{name:"addScope",j:[Fc("scope")]},credential:{name:"credential",j:[Hc(Fc(),Hc(Vc(),$c()),"optionsOrIdToken"),Hc(Fc(),$c(),"accessToken",!0)]},Da:{name:"setCustomParameters",j:[Vc("customOAuthParameters")]}}),Kc(qo.prototype,{w:{name:"toJSON",j:[Fc(null,!0)]}}),Kc(Fo.prototype,{w:{name:"toJSON",j:[Fc(null,!0)]}}),Qc(di,"credential",hi,[Fc("verificationId"),Fc("verificationCode")]),Kc(di.prototype,{Va:{name:"verifyPhoneNumber",j:[Fc("phoneNumber"),zc()]}}),Kc(si.prototype,{w:{name:"toJSON",j:[Fc(null,!0)]}}),Kc(Xr.prototype,{toJSON:{name:"toJSON",j:[Fc(null,!0)]}}),Kc(_i.prototype,{toJSON:{name:"toJSON",j:[Fc(null,!0)]}}),Kc(wi.prototype,{toJSON:{name:"toJSON",j:[Fc(null,!0)]}}),Kc(Lc.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),function(){if(void 0===r.a||!r.a.INTERNAL||!r.a.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var a={Auth:rc,AuthCredential:jo,Error:Xr};Qc(a,"EmailAuthProvider",oi,[]),Qc(a,"FacebookAuthProvider",Go,[]),Qc(a,"GithubAuthProvider",Yo,[]),Qc(a,"GoogleAuthProvider",Jo,[]),Qc(a,"TwitterAuthProvider",ti,[]),Qc(a,"OAuthProvider",Ko,[Fc("providerId")]),Qc(a,"SAMLAuthProvider",Ho,[Fc("providerId")]),Qc(a,"PhoneAuthProvider",di,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(a){return!!(a&&a instanceof rc)}}]),Qc(a,"RecaptchaVerifier",Lc,[Hc(Fc(),{name:"",K:"an HTML element",optional:!1,M:function(a){return!!(a&&a instanceof Element)}},"recaptchaContainer"),Vc("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(a){return!!(a&&a instanceof r.a.app.App)}}]),r.a.INTERNAL.registerService("auth",function(b,t){return t({INTERNAL:{getUid:k((b=new rc(b)).getUid,b),getToken:k(b.cc,b),addAuthTokenListener:k(b.Vb,b),removeAuthTokenListener:k(b.Ec,b)}}),b},a,function(b,t){if("create"===b)try{t.auth()}catch(t){}}),r.a.INTERNAL.extendNamespace({User:bl})}()}).apply(void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}.call(this,n(18))},function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return o}),n.d(e,"__assign",function(){return l}),n.d(e,"__rest",function(){return c}),n.d(e,"__decorate",function(){return d}),n.d(e,"__param",function(){return h}),n.d(e,"__metadata",function(){return f}),n.d(e,"__awaiter",function(){return m}),n.d(e,"__generator",function(){return v}),n.d(e,"__exportStar",function(){return y}),n.d(e,"__values",function(){return w}),n.d(e,"__read",function(){return _}),n.d(e,"__spread",function(){return S}),n.d(e,"__await",function(){return E}),n.d(e,"__asyncGenerator",function(){return T}),n.d(e,"__asyncDelegator",function(){return k}),n.d(e,"__asyncValues",function(){return x}),n.d(e,"__makeTemplateObject",function(){return C}),n.d(e,"__importStar",function(){return I}),n.d(e,"__importDefault",function(){return O});var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])};function o(t,b){function e(){this.constructor=t}r(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)}var l=Object.assign||function(t){for(var s,i=1,e=arguments.length;i<e;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t};function c(s,t){var e={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&t.indexOf(p)<0&&(e[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)t.indexOf(p[i])<0&&(e[p[i]]=s[p[i]])}return e}function d(t,e,n,desc){var r,o=arguments.length,l=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(l=(o<3?r(l):o>3?r(e,n,l):r(e,n))||l);return o>3&&l&&Object.defineProperty(e,n,l),l}function h(t,e){return function(n,r){e(n,r,t)}}function f(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function m(t,e,n,r){return new(n||(n=Promise))(function(o,l){function c(t){try{h(r.next(t))}catch(t){l(t)}}function d(t){try{h(r.throw(t))}catch(t){l(t)}}function h(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(c,d)}h((r=r.apply(t,e||[])).next())})}function v(t,body){var e,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function l(l){return function(c){return function(l){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,n&&(r=n[2&l[0]?"return":l[0]?"throw":"next"])&&!(r=r.call(n,l[1])).done)return r;switch(n=0,r&&(l=[0,r.value]),l[0]){case 0:case 1:r=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,n=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!r||l[1]>r[0]&&l[1]<r[3])){o.label=l[1];break}if(6===l[0]&&o.label<r[1]){o.label=r[1],r=l;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(l);break}r[2]&&o.ops.pop(),o.trys.pop();continue}l=body.call(t,o)}catch(t){l=[6,t],n=0}finally{e=r=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}}function y(t,e){for(var p in t)e.hasOwnProperty(p)||(e[p]=t[p])}function w(t){var e="function"==typeof Symbol&&t[Symbol.iterator],i=0;return e?e.call(t):{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}}}function _(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),l=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)l.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return l}function S(){for(var t=[],i=0;i<arguments.length;i++)t=t.concat(_(arguments[i]));return t}function E(t){return this instanceof E?(this.v=t,this):new E(t)}function T(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,g=n.apply(t,e||[]),q=[];return i={},r("next"),r("throw"),r("return"),i[Symbol.asyncIterator]=function(){return this},i;function r(t){g[t]&&(i[t]=function(e){return new Promise(function(a,b){q.push([t,e,a,b])>1||o(t,e)})})}function o(t,e){try{(n=g[t](e)).value instanceof E?Promise.resolve(n.value.v).then(l,c):d(q[0][2],n)}catch(t){d(q[0][3],t)}var n}function l(t){o("next",t)}function c(t){o("throw",t)}function d(t,e){t(e),q.shift(),q.length&&o(q[0][0],q[0][1])}}function k(t){var i,p;return i={},e("next"),e("throw",function(t){throw t}),e("return"),i[Symbol.iterator]=function(){return this},i;function e(e,n){t[e]&&(i[e]=function(r){return(p=!p)?{value:E(t[e](r)),done:"return"===e}:n?n(r):r})}}function x(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator];return e?e.call(t):w(t)}function C(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function I(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function O(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";(function(r){Object.defineProperty(e,"__esModule",{value:!0});var o,l,c=(o=n(239))&&"object"==typeof o&&"default"in o?o.default:o,d=n(0),h=n(240),f=n(454),m=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),h.stringify(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:h.jsonEval(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),v=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return h.contains(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),y=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new m(e)}}catch(t){}return new v},w=y("localStorage"),_=y("sessionStorage"),S=new f.Logger("@firebase/database"),E=(l=1,function(){return l++}),T=function(t){var e=h.stringToByteArray(t),n=new h.Sha1;n.update(e);var r=n.digest();return h.base64.encodeByteArray(r)},k=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",i=0;i<t.length;i++)Array.isArray(t[i])||t[i]&&"object"==typeof t[i]&&"number"==typeof t[i].length?n+=k.apply(null,t[i]):"object"==typeof t[i]?n+=h.stringify(t[i]):n+=t[i],n+=" ";return n},x=null,C=!0,I=function(t,e){h.assert(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(S.logLevel=f.LogLevel.VERBOSE,x=S.log.bind(S),e&&_.set("logging_enabled",!0)):"function"==typeof t?x=t:(x=null,_.remove("logging_enabled"))},O=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===C&&(C=!1,null===x&&!0===_.get("logging_enabled")&&I(!0)),x){var n=k.apply(null,t);x(n)}},A=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];O.apply(void 0,[t].concat(e))}},N=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+k.apply(void 0,t);S.error(n)},D=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+k.apply(void 0,t);throw S.error(n),new Error(n)},P=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+k.apply(void 0,t);S.warn(n)},R=function(data){return"number"==typeof data&&(data!=data||data==Number.POSITIVE_INFINITY||data==Number.NEGATIVE_INFINITY)},M="[MIN_NAME]",L="[MAX_NAME]",j=function(a,b){if(a===b)return 0;if(a===M||b===L)return-1;if(b===M||a===L)return 1;var t=H(a),e=H(b);return null!==t?null!==e?t-e==0?a.length-b.length:t-e:-1:null!==e?1:a<b?-1:1},B=function(a,b){return a===b?0:a<b?-1:1},F=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+h.stringify(e))},U=function(t){if("object"!=typeof t||null===t)return h.stringify(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",i=0;i<e.length;i++)0!==i&&(r+=","),r+=h.stringify(e[i]),r+=":",r+=U(t[e[i]]);return r+="}"},V=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],o=0;o<n;o+=e)o+e>n?r.push(t.substring(o,n)):r.push(t.substring(o,o+e));return r},$=function(t,e){if(Array.isArray(t))for(var i=0;i<t.length;++i)e(i,t[i]);else h.forEach(t,function(t,n){return e(n,t)})},W=function(t){h.assert(!R(t),"Invalid JSON number");var s,e,n,r,i,o,l;for(0===t?(e=0,n=0,s=1/t==-1/0?1:0):(s=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(e=(r=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,n=Math.round(t*Math.pow(2,52-r)-Math.pow(2,52))):(e=0,n=Math.round(t/Math.pow(2,-1074)))),o=[],i=52;i;i-=1)o.push(n%2?1:0),n=Math.floor(n/2);for(i=11;i;i-=1)o.push(e%2?1:0),e=Math.floor(e/2);o.push(s?1:0),o.reverse(),l=o.join("");var c="";for(i=0;i<64;i+=8){var d=parseInt(l.substr(i,8),2).toString(16);1===d.length&&(d="0"+d),c+=d}return c.toLowerCase()},z=new RegExp("^-?\\d{1,10}$"),H=function(t){if(z.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},K=function(t){try{t()}catch(t){setTimeout(function(){var e=t.stack||"";throw P("Exception was thrown by user callback.",e),t},Math.floor(0))}},G=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Q=function(t,time){var e=setTimeout(t,time);return"object"==typeof e&&e.unref&&e.unref(),e},Y=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[n]=this.pieces_[i],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return Object.defineProperty(t,"Empty",{get:function(){return new t("")},enumerable:!0,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var t="",i=this.pieceNum_;i<this.pieces_.length;i++)""!==this.pieces_[i]&&(t+="/"+this.pieces_[i]);return t||"/"},t.prototype.toUrlEncodedString=function(){for(var t="",i=this.pieceNum_;i<this.pieces_.length;i++)""!==this.pieces_[i]&&(t+="/"+encodeURIComponent(String(this.pieces_[i])));return t||"/"},t.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],i=this.pieceNum_;i<this.pieces_.length-1;i++)e.push(this.pieces_[i]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],i=this.pieceNum_;i<this.pieces_.length;i++)n.push(this.pieces_[i]);if(e instanceof t)for(i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{var r=e.split("/");for(i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var r=e.getFront(),o=n.getFront();if(null===r)return n;if(r===o)return t.relativePath(e.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")},t.comparePaths=function(t,e){for(var n=t.slice(),r=e.slice(),i=0;i<n.length&&i<r.length;i++){var o=j(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1},t.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var i=this.pieceNum_,e=t.pieceNum_;i<=this.pieces_.length;i++,e++)if(this.pieces_[i]!==t.pieces_[e])return!1;return!0},t.prototype.contains=function(t){var i=this.pieceNum_,e=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;i<this.pieces_.length;){if(this.pieces_[i]!==t.pieces_[e])return!1;++i,++e}return!0},t}(),X=function(){function t(path,t){this.errorPrefix_=t,this.parts_=path.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var i=0;i<this.parts_.length;i++)this.byteLength_+=h.stringLength(this.parts_[i]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!0,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!0,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=h.stringLength(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=h.stringLength(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return 0==this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},t}(),J="long_polling",Z=function(){function t(t,e,n,r,o){void 0===o&&(o=""),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.persistenceKey=o,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=w.get("host:"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()},t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&w.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){var n;if(h.assert("string"==typeof t,"typeof type must == string"),h.assert("object"==typeof e,"typeof params must == object"),"websocket"===t)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(t!==J)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var r=[];return h.forEach(e,function(t,e){r.push(t+"="+e)}),n+r.join("&")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},t}();var tt,et,nt,ot,it,at=function(t){var e=st(t),n=e.subdomain;"firebase"===e.domain&&D(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!=n||"localhost"===e.domain||D("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&P("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var r="ws"===e.scheme||"wss"===e.scheme;return{repoInfo:new Z(e.host,e.secure,n,r),path:new Y(e.pathString)}},st=function(t){var e="",n="",r="",o="",l=!0,c="https",d=443;if("string"==typeof t){var h=t.indexOf("//");h>=0&&(c=t.substring(0,h-1),t=t.substring(h+2));var f=t.indexOf("/");-1===f&&(f=t.length);var m=t.indexOf("?");-1===m&&(m=t.length),e=t.substring(0,Math.min(f,m)),f<m&&(o=function(t){for(var e="",n=t.split("/"),i=0;i<n.length;i++)if(n[i].length>0){var r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(t){}e+="/"+r}return e}(t.substring(f,m)));var v=function(t){var e={};"?"===t.charAt(0)&&(t=t.substring(1));for(var n=0,r=t.split("&");n<r.length;n++){var o=r[n];if(0!==o.length){var l=o.split("=");2===l.length?e[decodeURIComponent(l[0])]=decodeURIComponent(l[1]):P("Invalid query segment '"+o+"' in query '"+t+"'")}}return e}(t.substring(Math.min(t.length,m)));(h=e.indexOf(":"))>=0?(l="https"===c||"wss"===c,d=parseInt(e.substring(h+1),10)):h=t.length;var y=e.split(".");3===y.length?(n=y[1],r=y[0].toLowerCase()):2===y.length?n=y[0]:"localhost"===y[0].slice(0,h).toLowerCase()&&(n="localhost"),""===r&&"ns"in v&&(r=v.ns)}return{host:e,port:d,domain:n,subdomain:r,secure:l,scheme:c,pathString:o}},ut=/[\[\].#$\/\u0000-\u001F\u007F]/,lt=/[\[\].#$\u0000-\u001F\u007F]/,ct=function(t){return"string"==typeof t&&0!==t.length&&!ut.test(t)},ht=function(t){return"string"==typeof t&&0!==t.length&&!lt.test(t)},ft=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!R(t)||t&&"object"==typeof t&&h.contains(t,".sv")},pt=function(t,e,data,path,n){n&&void 0===data||mt(h.errorPrefix(t,e,n),data,path)},mt=function(t,data,e){var path=e instanceof Y?new X(e,t):e;if(void 0===data)throw new Error(t+"contains undefined "+path.toErrorString());if("function"==typeof data)throw new Error(t+"contains a function "+path.toErrorString()+" with contents = "+data.toString());if(R(data))throw new Error(t+"contains "+data.toString()+" "+path.toErrorString());if("string"==typeof data&&data.length>10485760/3&&h.stringLength(data)>10485760)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+path.toErrorString()+" ('"+data.substring(0,50)+"...')");if(data&&"object"==typeof data){var n=!1,r=!1;if(h.forEach(data,function(e,o){if(".value"===e)n=!0;else if(".priority"!==e&&".sv"!==e&&(r=!0,!ct(e)))throw new Error(t+" contains an invalid key ("+e+") "+path.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');path.push(e),mt(t,o,path),path.pop()}),n&&r)throw new Error(t+' contains ".value" child '+path.toErrorString()+" in addition to actual children.")}},gt=function(t,e,data,path,n){if(!n||void 0!==data){var r=h.errorPrefix(t,e,n);if(!data||"object"!=typeof data||Array.isArray(data))throw new Error(r+" must be an object containing the children to replace.");var o=[];h.forEach(data,function(t,e){var n=new Y(t);if(mt(r,e,path.child(n)),".priority"===n.getBack()&&!ft(e))throw new Error(r+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(n)}),function(t,e){var i,n;for(i=0;i<e.length;i++)for(var r=(n=e[i]).slice(),o=0;o<r.length;o++)if(".priority"===r[o]&&o===r.length-1);else if(!ct(r[o]))throw new Error(t+"contains an invalid key ("+r[o]+") in path "+n.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(Y.comparePaths);var l=null;for(i=0;i<e.length;i++){if(n=e[i],null!==l&&l.contains(n))throw new Error(t+"contains a path "+l.toString()+" that is ancestor of another path "+n.toString());l=n}}(r,o)}},vt=function(t,e,n,r){if(!r||void 0!==n){if(R(n))throw new Error(h.errorPrefix(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ft(n))throw new Error(h.errorPrefix(t,e,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},yt=function(t,e,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(h.errorPrefix(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},bt=function(t,e,n,r){if(!(r&&void 0===n||ct(n)))throw new Error(h.errorPrefix(t,e,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},wt=function(t,e,n,r){if(!(r&&void 0===n||ht(n)))throw new Error(h.errorPrefix(t,e,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},_t=function(t,path){if(".info"===path.getFront())throw new Error(t+" failed = Can't modify data under /.info/")},St=function(t,e,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!ct(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),ht(t)}(r))throw new Error(h.errorPrefix(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Et=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){h.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),h.validateCallback("OnDisconnect.cancel",1,t,!0);var e=new h.Deferred;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){h.validateArgCount("OnDisconnect.remove",0,1,arguments.length),_t("OnDisconnect.remove",this.path_),h.validateCallback("OnDisconnect.remove",1,t,!0);var e=new h.Deferred;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){h.validateArgCount("OnDisconnect.set",1,2,arguments.length),_t("OnDisconnect.set",this.path_),pt("OnDisconnect.set",1,t,this.path_,!1),h.validateCallback("OnDisconnect.set",2,e,!0);var n=new h.Deferred;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){h.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),_t("OnDisconnect.setWithPriority",this.path_),pt("OnDisconnect.setWithPriority",1,t,this.path_,!1),vt("OnDisconnect.setWithPriority",2,e,!1),h.validateCallback("OnDisconnect.setWithPriority",3,n,!0);var r=new h.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,r.wrapCallback(n)),r.promise},t.prototype.update=function(t,e){if(h.validateArgCount("OnDisconnect.update",1,2,arguments.length),_t("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},i=0;i<t.length;++i)n[""+i]=t[i];t=n,P("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}gt("OnDisconnect.update",1,t,this.path_,!1),h.validateCallback("OnDisconnect.update",2,e,!0);var r=new h.Deferred;return this.repo_.onDisconnectUpdate(this.path_,t,r.wrapCallback(e)),r.promise},t}(),Tt=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return h.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),kt=(tt="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",et=0,nt=[],function(t){var i,e=t===et;et=t;var n=new Array(8);for(i=7;i>=0;i--)n[i]=tt.charAt(t%64),t=Math.floor(t/64);h.assert(0===t,"Cannot push at time == 0");var r=n.join("");if(e){for(i=11;i>=0&&63===nt[i];i--)nt[i]=0;nt[i]++}else for(i=0;i<12;i++)nt[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)r+=tt.charAt(nt[i]);return h.assert(20===r.length,"nextPushId: Length should be 20."),r}),xt=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),Ct=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new xt(M,t),r=new xt(M,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return xt.MIN},t}(),It=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d.__extends(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return ot},set:function(t){ot=t},enumerable:!0,configurable:!0}),e.prototype.compare=function(a,b){return j(a.name,b.name)},e.prototype.isDefinedOn=function(t){throw h.assertionError("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return xt.MIN},e.prototype.maxPost=function(){return new xt(L,ot)},e.prototype.makePost=function(t,e){return h.assert("string"==typeof t,"KeyIndex indexValue must always be a string."),new xt(t,ot)},e.prototype.toString=function(){return".key"},e}(Ct),Ot=new It;var At,Nt,Dt,Pt=function(t){return"number"==typeof t?"number:"+W(t):"string:"+t},Rt=function(t){if(t.isLeafNode()){var e=t.val();h.assert("string"==typeof e||"number"==typeof e||"object"==typeof e&&h.contains(e,".sv"),"Priority must be a string or number.")}else h.assert(t===it||t.isEmpty(),"priority of unexpected type.");h.assert(t===it||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Mt=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,h.assert(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Rt(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return At},set:function(t){At=t},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(path){return path.isEmpty()?this:".priority"===path.getFront()?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(path,e){var n=path.getFront();return null===n?e:e.isEmpty()&&".priority"!==n?this:(h.assert(".priority"!==n||1===path.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(n,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(path.popFront(),e)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+Pt(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?W(this.value_):this.value_,this.lazyHash_=T(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(h.assert(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(n),l=t.VALUE_TYPE_ORDER.indexOf(r);return h.assert(o>=0,"Unknown leaf type: "+n),h.assert(l>=0,"Unknown leaf type: "+r),o===l?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:l-o},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}return!1},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}();var Lt,jt,Bt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d.__extends(e,t),e.prototype.compare=function(a,b){var t=a.node.getPriority(),e=b.node.getPriority(),n=t.compareTo(e);return 0===n?j(a.name,b.name):n},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return xt.MIN},e.prototype.maxPost=function(){return new xt(L,new Mt("[PRIORITY-POST]",Dt))},e.prototype.makePost=function(t,e){var n=Nt(t);return new xt(e,new Mt("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(Ct)),Ft=function(){function t(t,e,n,r,o){void 0===o&&(o=null),this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];for(var l=1;!t.isEmpty();)if(t=t,l=e?n(t.key,e):1,r&&(l*=-1),l<0)t=this.isReverse_?t.left:t.right;else{if(0===l){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Ut=function(){function t(e,n,r,o,l){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=o?o:qt.EMPTY_NODE,this.right=null!=l?l:qt.EMPTY_NODE}return t.prototype.copy=function(e,n,r,o,l){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=l?l:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r,o;return(o=(r=n(t,(o=this).key))<0?o.copy(null,null,null,o.left.insert(t,e,n),null):0===r?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return qt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return qt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){var t;if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");if((t=this.left.check_())!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Vt=function(){function t(){}return t.prototype.copy=function(t,e,n,r,o){return this},t.prototype.insert=function(t,e,n){return new Ut(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),qt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ut.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ut.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Ft(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Ft(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Ft(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Ft(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Vt,t}(),$t=Math.log(2),Wt=function(){function t(t){var e;this.count=(e=t+1,parseInt(Math.log(e)/$t,10)),this.current_=this.count-1;var n,mask=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=t+1&mask}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),zt=function(t,e,n,r){t.sort(e);var o=function(e,r){var l,c,d=r-e;if(0==d)return null;if(1==d)return l=t[e],c=n?n(l):l,new Ut(c,l.node,Ut.BLACK,null,null);var h=parseInt(d/2,10)+e,f=o(e,h),m=o(h+1,r);return l=t[h],c=n?n(l):l,new Ut(c,l.node,Ut.BLACK,f,m)},l=function(e){for(var r=null,l=null,c=t.length,d=function(e,r){var l=c-e,d=c;c-=e;var f=o(l+1,d),m=t[l],v=n?n(m):m;h(new Ut(v,m.node,r,null,f))},h=function(t){r?(r.left=t,r=t):(l=t,r=t)},i=0;i<e.count;++i){var f=e.nextBitIsOne(),m=Math.pow(2,e.count-(i+1));f?d(m,Ut.BLACK):(d(m,Ut.BLACK),d(m,Ut.RED))}return l}(new Wt(t.length));return new qt(r||e,l)},Ht={},Kt=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return h.assert(Ht&&Bt,"ChildrenNode.ts has not been loaded"),Lt=Lt||new t({".priority":Ht},{".priority":Bt})},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var e=h.safeGet(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e===Ht?null:e},t.prototype.hasIndex=function(t){return h.contains(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){h.assert(e!==Ot,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,o=[],l=!1,c=n.getIterator(xt.Wrap),d=c.getNext();d;)l=l||e.isDefinedOn(d.node),o.push(d),d=c.getNext();r=l?zt(o,e.getCompare()):Ht;var f=e.toString(),m=h.clone(this.indexSet_);m[f]=e;var v=h.clone(this.indexes_);return v[f]=r,new t(v,m)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(h.map(this.indexes_,function(t,o){var l=h.safeGet(r.indexSet_,o);if(h.assert(l,"Missing index implementation for "+o),t===Ht){if(l.isDefinedOn(e.node)){for(var c=[],d=n.getIterator(xt.Wrap),f=d.getNext();f;)f.name!=e.name&&c.push(f),f=d.getNext();return c.push(e),zt(c,l.getCompare())}return Ht}var m=n.get(e.name),v=t;return m&&(v=v.remove(new xt(e.name,m))),v.insert(e,e.node)}),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(h.map(this.indexes_,function(t){if(t===Ht)return t;var r=n.get(e.name);return r?t.remove(new xt(e.name,r)):t}),this.indexSet_)},t}();function Gt(t,e){return j(t.name,e.name)}function Qt(t,e){return j(t,e)}var Yt=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Rt(this.priorityNode_),this.children_.isEmpty()&&h.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return jt||(jt=new t(new qt(Qt),null,Kt.Default))},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||jt},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?jt:e},t.prototype.getChild=function(path){var t=path.getFront();return null===t?this:this.getImmediateChild(t).getChild(path.popFront())},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(h.assert(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r,o=new xt(e,n),l=void 0,c=void 0;return n.isEmpty()?(l=this.children_.remove(e),c=this.indexMap_.removeFromIndexes(o,this.children_)):(l=this.children_.insert(e,n),c=this.indexMap_.addToIndexes(o,this.children_)),r=l.isEmpty()?jt:this.priorityNode_,new t(l,r,c)},t.prototype.updateChild=function(path,t){var e=path.getFront();if(null===e)return t;h.assert(".priority"!==path.getFront()||1===path.getLength(),".priority must be the last token in a path");var n=this.getImmediateChild(e).updateChild(path.popFront(),t);return this.updateImmediateChild(e,n)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,o=0,l=!0;if(this.forEachChild(Bt,function(c,d){n[c]=d.val(e),r++,l&&t.INTEGER_REGEXP_.test(c)?o=Math.max(o,Number(c)):l=!1}),!e&&l&&o<2*r){var c=[];for(var d in n)c[d]=n[d];return c}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+Pt(this.getPriority().val())+":"),this.forEachChild(Bt,function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)}),this.lazyHash_=""===t?"":T(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var o=r.getPredecessorKey(new xt(t,e));return o?o.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new xt(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new xt(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal(function(t){return e(t.name,t.node)}):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,function(t){return t});for(var r=this.children_.getIteratorFrom(t.name,xt.Wrap),o=r.peek();null!=o&&e.compare(o,t)<0;)r.getNext(),o=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,function(t){return t});for(var r=this.children_.getReverseIteratorFrom(t.name,xt.Wrap),o=r.peek();null!=o&&e.compare(o,t)>0;)r.getNext(),o=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Xt?-1:0},t.prototype.withIndex=function(e){if(e===Ot||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===Ot||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(Bt),r=e.getIterator(Bt),o=n.getNext(),l=r.getNext();o&&l;){if(o.name!==l.name||!o.node.equals(l.node))return!1;o=n.getNext(),l=r.getNext()}return null===o&&null===l}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===Ot?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),Xt=new(function(t){function e(){return t.call(this,new qt(Qt),Yt.EMPTY_NODE,Kt.Default)||this}return d.__extends(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return Yt.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(Yt));Object.defineProperties(xt,{MIN:{value:new xt(M,Yt.EMPTY_NODE)},MAX:{value:new xt(L,Xt)}}),It.__EMPTY_NODE=Yt.EMPTY_NODE,Mt.__childrenNodeConstructor=Yt,it=Xt,function(t){Dt=t}(Xt);var Jt=!0;function Zt(t,e){if(void 0===e&&(e=null),null===t)return Yt.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),h.assert(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Mt(t,Zt(e));if(t instanceof Array||!Jt){var n=Yt.EMPTY_NODE,r=t;return h.forEach(r,function(t,e){if(h.contains(r,t)&&"."!==t.substring(0,1)){var o=Zt(e);!o.isLeafNode()&&o.isEmpty()||(n=n.updateImmediateChild(t,o))}}),n.updatePriority(Zt(e))}var o=[],l=!1,c=t;if(h.forEach(c,function(t,e){if("string"!=typeof t||"."!==t.substring(0,1)){var n=Zt(c[t]);n.isEmpty()||(l=l||!n.getPriority().isEmpty(),o.push(new xt(t,n)))}}),0==o.length)return Yt.EMPTY_NODE;var d=zt(o,Gt,function(t){return t.name},Qt);if(l){var f=zt(o,Bt.getCompare());return new Yt(d,Zt(e),new Kt({".priority":f},{".priority":Bt}))}return new Yt(d,Zt(e),Kt.Default)}!function(t){Nt=t}(Zt);var te,ee,ne=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d.__extends(e,t),e.prototype.compare=function(a,b){var t=a.node.compareTo(b.node);return 0===t?j(a.name,b.name):t},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return xt.MIN},e.prototype.maxPost=function(){return xt.MAX},e.prototype.makePost=function(t,e){var n=Zt(t);return new xt(e,n)},e.prototype.toString=function(){return".value"},e}(Ct)),re=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,h.assert(!e.isEmpty()&&".priority"!==e.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return d.__extends(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(a,b){var t=this.extractChild(a.node),e=this.extractChild(b.node),n=t.compareTo(e);return 0===n?j(a.name,b.name):n},e.prototype.makePost=function(t,e){var n=Zt(t),r=Yt.EMPTY_NODE.updateChild(this.indexPath_,n);return new xt(e,r)},e.prototype.maxPost=function(){var t=Yt.EMPTY_NODE.updateChild(this.indexPath_,Xt);return new xt(L,t)},e.prototype.toString=function(){return this.indexPath_.slice().join("/")},e}(Ct),oe=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return h.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return h.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return h.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return h.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){h.validateArgCount("DataSnapshot.child",0,1,arguments.length),e=String(e),wt("DataSnapshot.child",1,e,!1);var n=new Y(e),r=this.ref_.child(n);return new t(this.node_.getChild(n),r,Bt)},t.prototype.hasChild=function(t){h.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),wt("DataSnapshot.hasChild",1,t,!1);var e=new Y(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return h.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;return h.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),h.validateCallback("DataSnapshot.forEach",1,e,!1),!this.node_.isLeafNode()&&!!this.node_.forEachChild(this.index_,function(r,o){return e(new t(o,n.ref_.child(r),Bt))})},t.prototype.hasChildren=function(){return h.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!0,configurable:!0}),t.prototype.numChildren=function(){return h.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return h.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}(),ie=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+h.stringify(this.snapshot.exportVal())},t}(),ae=function(){function t(t,e,path){this.eventRegistration=t,this.error=e,this.path=path}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),se=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new ie("value",this,new oe(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){h.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,path){return this.cancelCallback_?new ae(this,t,path):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),ue=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,h.contains(this.callbacks_,e)},t.prototype.createCancelEvent=function(t,path){return this.cancelCallback_?new ae(this,t,path):null},t.prototype.createEvent=function(t,e){h.assert(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),r=e.getQueryParams().getIndex();return new ie(t.type,this,new oe(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){h.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var n=h.getCount(e.callbacks_);if(n===h.getCount(this.callbacks_)){if(1===n){var r=h.getAnyKey(e.callbacks_),o=h.getAnyKey(this.callbacks_);return!(o!==r||e.callbacks_[r]&&this.callbacks_[o]&&e.callbacks_[r]!==this.callbacks_[o])}return h.every(this.callbacks_,function(t,n){return e.callbacks_[t]===n})}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),le=function(){function t(t,path,e,n){this.repo=t,this.path=path,this.queryParams_=e,this.orderByCalled_=n}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return h.assert(te,"Reference.ts has not been loaded"),te},set:function(t){te=t},enumerable:!0,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Ot){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!=M)throw new Error(r);if("string"!=typeof e)throw new Error(o)}if(t.hasEnd()){if(t.getIndexEndName()!=L)throw new Error(r);if("string"!=typeof n)throw new Error(o)}}else if(t.getIndex()===Bt){if(null!=e&&!ft(e)||null!=n&&!ft(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(h.assert(t.getIndex()instanceof re||t.getIndex()===ne,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return h.validateArgCount("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,r,o){h.validateArgCount("Query.on",2,4,arguments.length),yt("Query.on",1,e,!1),h.validateCallback("Query.on",2,n,!1);var l=t.getCancelAndContextArgs_("Query.on",r,o);if("value"===e)this.onValueEvent(n,l.cancel,l.context);else{var c={};c[e]=n,this.onChildEvent(c,l.cancel,l.context)}return n},t.prototype.onValueEvent=function(t,e,n){var r=new se(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,r)},t.prototype.onChildEvent=function(t,e,n){var r=new ue(t,e,n);this.repo.addEventCallbackForQuery(this,r)},t.prototype.off=function(t,e,n){h.validateArgCount("Query.off",0,3,arguments.length),yt("Query.off",1,t,!0),h.validateCallback("Query.off",2,e,!0),h.validateContextObject("Query.off",3,n,!0);var r=null,o=null;"value"===t?r=new se(e||null,null,n||null):t&&(e&&((o={})[t]=e),r=new ue(o,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},t.prototype.once=function(e,n,r,o){var l=this;h.validateArgCount("Query.once",1,4,arguments.length),yt("Query.once",1,e,!1),h.validateCallback("Query.once",2,n,!0);var c=t.getCancelAndContextArgs_("Query.once",r,o),d=!0,f=new h.Deferred;f.promise.catch(function(){});var m=function(t){d&&(d=!1,l.off(e,m),n&&n.bind(c.context)(t),f.resolve(t))};return this.on(e,m,function(t){l.off(e,m),c.cancel&&c.cancel.bind(c.context)(t),f.reject(t)}),f.promise},t.prototype.limitToFirst=function(e){if(h.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(h.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(path){if(h.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===path)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===path)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===path)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');wt("Query.orderByChild",1,path,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var e=new Y(path);if(e.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var n=new re(e),r=this.queryParams_.orderBy(n);return t.validateQueryEndpoints_(r),new t(this.repo,this.path,r,!0)},t.prototype.orderByKey=function(){h.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(Ot);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){h.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(Bt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){h.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(ne);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),h.validateArgCount("Query.startAt",0,2,arguments.length),pt("Query.startAt",1,e,this.path,!0),bt("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),h.validateArgCount("Query.endAt",0,2,arguments.length),pt("Query.endAt",1,e,this.path,!0),bt("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(h.validateArgCount("Query.equalTo",1,2,arguments.length),pt("Query.equalTo",1,t,this.path,!1),bt("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return h.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return h.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=U(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if(h.validateArgCount("Query.isEqual",1,1,arguments.length),!(e instanceof t)){throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.")}var n=this.repo===e.repo,r=this.path.equals(e.path),o=this.queryIdentifier()===e.queryIdentifier();return n&&r&&o},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,h.validateCallback(t,3,r.cancel,!0),r.context=n,h.validateContextObject(t,4,r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(h.errorPrefix(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}(),ce=function(){function t(){this.set={}}return t.prototype.add=function(t,e){this.set[t]=null===e||e},t.prototype.contains=function(t){return h.contains(this.set,t)},t.prototype.get=function(t){return this.contains(t)?this.set[t]:void 0},t.prototype.remove=function(t){delete this.set[t]},t.prototype.clear=function(){this.set={}},t.prototype.isEmpty=function(){return h.isEmpty(this.set)},t.prototype.count=function(){return h.getCount(this.set)},t.prototype.each=function(t){h.forEach(this.set,function(e,n){return t(e,n)})},t.prototype.keys=function(){var t=[];return h.forEach(this.set,function(e){t.push(e)}),t},t}(),de=function(){function t(){this.value_=null,this.children_=null}return t.prototype.find=function(path){if(null!=this.value_)return this.value_.getChild(path);if(path.isEmpty()||null==this.children_)return null;var t=path.getFront();return path=path.popFront(),this.children_.contains(t)?this.children_.get(t).find(path):null},t.prototype.remember=function(path,data){if(path.isEmpty())this.value_=data,this.children_=null;else if(null!==this.value_)this.value_=this.value_.updateChild(path,data);else{null==this.children_&&(this.children_=new ce);var e=path.getFront();this.children_.contains(e)||this.children_.add(e,new t);var n=this.children_.get(e);path=path.popFront(),n.remember(path,data)}},t.prototype.forget=function(path){if(path.isEmpty())return this.value_=null,this.children_=null,!0;if(null!==this.value_){if(this.value_.isLeafNode())return!1;var t=this.value_;this.value_=null;var e=this;return t.forEachChild(Bt,function(t,n){e.remember(new Y(t),n)}),this.forget(path)}if(null!==this.children_){var n=path.getFront();if(path=path.popFront(),this.children_.contains(n))this.children_.get(n).forget(path)&&this.children_.remove(n);return!!this.children_.isEmpty()&&(this.children_=null,!0)}return!0},t.prototype.forEachTree=function(t,e){null!==this.value_?e(t,this.value_):this.forEachChild(function(n,r){var path=new Y(t.toString()+"/"+n);r.forEachTree(path,e)})},t.prototype.forEachChild=function(t){null!==this.children_&&this.children_.each(function(e,n){t(e,n)})},t}(),he=function(t,e){return t&&"object"==typeof t?(h.assert(".sv"in t,"Unexpected leaf node or priority contents"),e[t[".sv"]]):t},fe=function(t,e){var n,r=t.getPriority().val(),o=he(r,e);if(t.isLeafNode()){var l=t,c=he(l.getValue(),e);return c!==l.getValue()||o!==l.getPriority().val()?new Mt(c,Zt(o)):t}var d=t;return n=d,o!==d.getPriority().val()&&(n=n.updatePriority(new Mt(o))),d.forEachChild(Bt,function(t,r){var o=fe(r,e);o!==r&&(n=n.updateImmediateChild(t,o))}),n};!function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(ee||(ee={}));var pe,me,ge=function(){function t(t,e,n,r){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=r,h.assert(!r||e,"Tagged queries must be from server.")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}(),ve=function(){function t(path,t,e){this.path=path,this.affectedTree=t,this.revert=e,this.type=ee.ACK_USER_WRITE,this.source=ge.User}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return h.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Y(e));return new t(Y.Empty,n,this.revert)}return h.assert(this.path.getFront()===e,"operationForChild called for unrelated child."),new t(this.path.popFront(),this.affectedTree,this.revert)},t}(),ye=function(){return pe||(pe=new qt(B)),pe},be=function(){function t(t,e){void 0===e&&(e=ye()),this.value=t,this.children=e}return t.fromObject=function(e){var n=t.Empty;return h.forEach(e,function(t,e){n=n.set(new Y(t),e)}),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:Y.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),r=this.children.get(n);if(null!==r){var o=r.findRootMostMatchingPathAndValue(t.popFront(),e);return null!=o?{path:new Y(n).child(o.path),value:o.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),r=this.children.get(n);return null!==r?r.subtree(e.popFront()):t.Empty},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var r=e.getFront(),o=(this.children.get(r)||t.Empty).set(e.popFront(),n),l=this.children.insert(r,o);return new t(this.value,l)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var n=e.getFront(),r=this.children.get(n);if(r){var o=r.remove(e.popFront()),l=void 0;return l=o.isEmpty()?this.children.remove(n):this.children.insert(n,o),null===this.value&&l.isEmpty()?t.Empty:new t(this.value,l)}return this},t.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),n=this.children.get(e);return n?n.get(t.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var r=e.getFront(),o=(this.children.get(r)||t.Empty).setTree(e.popFront(),n),l=void 0;return l=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new t(this.value,l)},t.prototype.fold=function(t){return this.fold_(Y.Empty,t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal(function(r,o){n[r]=o.fold_(t.child(r),e)}),e(t,this.value,n)},t.prototype.findOnPath=function(path,t){return this.findOnPath_(path,Y.Empty,t)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(t.isEmpty())return null;var o=t.getFront(),l=this.children.get(o);return l?l.findOnPath_(t.popFront(),e.child(o),n):null},t.prototype.foreachOnPath=function(path,t){return this.foreachOnPath_(path,Y.Empty,t)},t.prototype.foreachOnPath_=function(e,n,r){if(e.isEmpty())return this;this.value&&r(n,this.value);var o=e.getFront(),l=this.children.get(o);return l?l.foreachOnPath_(e.popFront(),n.child(o),r):t.Empty},t.prototype.foreach=function(t){this.foreach_(Y.Empty,t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal(function(n,r){r.foreach_(t.child(n),e)}),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal(function(e,n){n.value&&t(e,n.value)})},t.Empty=new t(null),t}(),we=function(){function t(source,path){this.source=source,this.path=path,this.type=ee.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,Y.Empty):new t(this.source,this.path.popFront())},t}(),_e=function(){function t(source,path,t){this.source=source,this.path=path,this.snap=t,this.type=ee.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,Y.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}(),Se=function(){function t(source,path,t){this.source=source,this.path=path,this.children=t,this.type=ee.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new Y(e));return n.isEmpty()?null:n.value?new _e(this.source,Y.Empty,n.value):new t(this.source,Y.Empty,n)}return h.assert(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),Ee=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(path){if(path.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var t=path.getFront();return this.isCompleteForChild(t)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),Te=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,r){return new t(new Ee(e,n,r),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,r){return new t(this.eventCache_,new Ee(e,n,r))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new Ee(Yt.EMPTY_NODE,!1,!1),new Ee(Yt.EMPTY_NODE,!1,!1)),t}(),ke=function(){function t(t,e,n,r,o){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=r,this.prevName=o}return t.valueChange=function(e){return new t(t.VALUE,e)},t.childAddedChange=function(e,n){return new t(t.CHILD_ADDED,n,e)},t.childRemovedChange=function(e,n){return new t(t.CHILD_REMOVED,n,e)},t.childChangedChange=function(e,n,r){return new t(t.CHILD_CHANGED,n,e,r)},t.childMovedChange=function(e,n){return new t(t.CHILD_MOVED,n,e)},t.CHILD_ADDED="child_added",t.CHILD_REMOVED="child_removed",t.CHILD_CHANGED="child_changed",t.CHILD_MOVED="child_moved",t.VALUE="value",t}(),xe=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,source,o){h.assert(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var l=t.getImmediateChild(e);return l.getChild(r).equals(n.getChild(r))&&l.isEmpty()==n.isEmpty()?t:(null!=o&&(n.isEmpty()?t.hasChild(e)?o.trackChildChange(ke.childRemovedChange(e,l)):h.assert(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(ke.childAddedChange(e,n)):o.trackChildChange(ke.childChangedChange(e,n,l))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Bt,function(t,r){e.hasChild(t)||n.trackChildChange(ke.childRemovedChange(t,r))}),e.isLeafNode()||e.forEachChild(Bt,function(e,r){if(t.hasChild(e)){var o=t.getImmediateChild(e);o.equals(r)||n.trackChildChange(ke.childChangedChange(e,r,o))}else n.trackChildChange(ke.childAddedChange(e,r))})),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?Yt.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),Ce=function(){function t(){this.changeMap_={}}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;h.assert(e==ke.CHILD_ADDED||e==ke.CHILD_CHANGED||e==ke.CHILD_REMOVED,"Only child changes supported for tracking"),h.assert(".priority"!==n,"Only non-priority child changes can be tracked.");var r=h.safeGet(this.changeMap_,n);if(r){var o=r.type;if(e==ke.CHILD_ADDED&&o==ke.CHILD_REMOVED)this.changeMap_[n]=ke.childChangedChange(n,t.snapshotNode,r.snapshotNode);else if(e==ke.CHILD_REMOVED&&o==ke.CHILD_ADDED)delete this.changeMap_[n];else if(e==ke.CHILD_REMOVED&&o==ke.CHILD_CHANGED)this.changeMap_[n]=ke.childRemovedChange(n,r.oldSnap);else if(e==ke.CHILD_CHANGED&&o==ke.CHILD_ADDED)this.changeMap_[n]=ke.childAddedChange(n,t.snapshotNode);else{if(e!=ke.CHILD_CHANGED||o!=ke.CHILD_CHANGED)throw h.assertionError("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap_[n]=ke.childChangedChange(n,t.snapshotNode,r.oldSnap)}}else this.changeMap_[n]=t},t.prototype.getChanges=function(){return h.getValues(this.changeMap_)},t}(),Ie=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),Oe=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new Ee(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),o=this.writes_.calcIndexedSlice(r,e,1,n,t);return 0===o.length?null:o[0]},t}(),Ae=function(){return function(t,e){this.viewCache=t,this.changes=e}}(),Ne=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){h.assert(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),h.assert(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,n,r,o){var l,c,d=new Ce;if(n.type===ee.OVERWRITE){var f=n;f.source.fromUser?l=this.applyUserOverwrite_(e,f.path,f.snap,r,o,d):(h.assert(f.source.fromServer,"Unknown source."),c=f.source.tagged||e.getServerCache().isFiltered()&&!f.path.isEmpty(),l=this.applyServerOverwrite_(e,f.path,f.snap,r,o,c,d))}else if(n.type===ee.MERGE){var m=n;m.source.fromUser?l=this.applyUserMerge_(e,m.path,m.children,r,o,d):(h.assert(m.source.fromServer,"Unknown source."),c=m.source.tagged||e.getServerCache().isFiltered(),l=this.applyServerMerge_(e,m.path,m.children,r,o,c,d))}else if(n.type===ee.ACK_USER_WRITE){var v=n;l=v.revert?this.revertUserWrite_(e,v.path,r,o,d):this.ackUserWrite_(e,v.path,v.affectedTree,r,o,d)}else{if(n.type!==ee.LISTEN_COMPLETE)throw h.assertionError("Unknown operation type: "+n.type);l=this.listenComplete_(e,n.path,r,d)}var y=d.getChanges();return t.maybeAddValueEvent_(e,l,y),new Ae(l,y)},t.maybeAddValueEvent_=function(t,e,n){var r=e.getEventCache();if(r.isFullyInitialized()){var o=r.getNode().isLeafNode()||r.getNode().isEmpty(),l=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||o&&!r.getNode().equals(l)||!r.getNode().getPriority().equals(l.getPriority()))&&n.push(ke.valueChange(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,source,r){var o=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var l=void 0,c=void 0;if(e.isEmpty())if(h.assert(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var d=t.getCompleteServerSnap(),f=d instanceof Yt?d:Yt.EMPTY_NODE,m=n.calcCompleteEventChildren(f);l=this.filter_.updateFullNode(t.getEventCache().getNode(),m,r)}else{var v=n.calcCompleteEventCache(t.getCompleteServerSnap());l=this.filter_.updateFullNode(t.getEventCache().getNode(),v,r)}else{var y=e.getFront();if(".priority"==y){h.assert(1==e.getLength(),"Can't have a priority with additional path components");var w=o.getNode();c=t.getServerCache().getNode();var _=n.calcEventCacheAfterServerOverwrite(e,w,c);l=null!=_?this.filter_.updatePriority(w,_):o.getNode()}else{var S=e.popFront(),E=void 0;if(o.isCompleteForChild(y)){c=t.getServerCache().getNode();var T=n.calcEventCacheAfterServerOverwrite(e,o.getNode(),c);E=null!=T?o.getNode().getImmediateChild(y).updateChild(S,T):o.getNode().getImmediateChild(y)}else E=n.calcCompleteChild(y,t.getServerCache());l=null!=E?this.filter_.updateChild(o.getNode(),y,E,S,source,r):o.getNode()}}return t.updateEventSnap(l,o.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,r,o,l,c){var d,h=t.getServerCache(),f=l?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())d=f.updateFullNode(h.getNode(),n,null);else if(f.filtersNodes()&&!h.isFiltered()){var m=h.getNode().updateChild(e,n);d=f.updateFullNode(h.getNode(),m,null)}else{var v=e.getFront();if(!h.isCompleteForPath(e)&&e.getLength()>1)return t;var y=e.popFront(),w=h.getNode().getImmediateChild(v).updateChild(y,n);d=".priority"==v?f.updatePriority(h.getNode(),w):f.updateChild(h.getNode(),v,w,y,Ie,null)}var _=t.updateServerSnap(d,h.isFullyInitialized()||e.isEmpty(),f.filtersNodes()),source=new Oe(r,_,o);return this.generateEventCacheAfterServerEvent_(_,e,r,source,c)},t.prototype.applyUserOverwrite_=function(t,e,n,r,o,l){var c,d,h=t.getEventCache(),source=new Oe(r,t,o);if(e.isEmpty())d=this.filter_.updateFullNode(t.getEventCache().getNode(),n,l),c=t.updateEventSnap(d,!0,this.filter_.filtersNodes());else{var f=e.getFront();if(".priority"===f)d=this.filter_.updatePriority(t.getEventCache().getNode(),n),c=t.updateEventSnap(d,h.isFullyInitialized(),h.isFiltered());else{var m=e.popFront(),v=h.getNode().getImmediateChild(f),y=void 0;if(m.isEmpty())y=n;else{var w=source.getCompleteChild(f);y=null!=w?".priority"===m.getBack()&&w.getChild(m.parent()).isEmpty()?w:w.updateChild(m,n):Yt.EMPTY_NODE}if(v.equals(y))c=t;else{var _=this.filter_.updateChild(h.getNode(),f,y,m,source,l);c=t.updateEventSnap(_,h.isFullyInitialized(),this.filter_.filtersNodes())}}}return c},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,path,n,r,o,l){var c=this,d=e;return n.foreach(function(n,h){var f=path.child(n);t.cacheHasChild_(e,f.getFront())&&(d=c.applyUserOverwrite_(d,f,h,r,o,l))}),n.foreach(function(n,h){var f=path.child(n);t.cacheHasChild_(e,f.getFront())||(d=c.applyUserOverwrite_(d,f,h,r,o,l))}),d},t.prototype.applyMerge_=function(t,e){return e.foreach(function(e,n){t=t.updateChild(e,n)}),t},t.prototype.applyServerMerge_=function(t,path,e,n,r,o,l){var c=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var d,h=t;d=path.isEmpty()?e:be.Empty.setTree(path,e);var f=t.getServerCache().getNode();return d.children.inorderTraversal(function(e,d){if(f.hasChild(e)){var m=t.getServerCache().getNode().getImmediateChild(e),v=c.applyMerge_(m,d);h=c.applyServerOverwrite_(h,new Y(e),v,n,r,o,l)}}),d.children.inorderTraversal(function(e,d){var m=!t.getServerCache().isCompleteForChild(e)&&null==d.value;if(!f.hasChild(e)&&!m){var v=t.getServerCache().getNode().getImmediateChild(e),y=c.applyMerge_(v,d);h=c.applyServerOverwrite_(h,new Y(e),y,n,r,o,l)}}),h},t.prototype.ackUserWrite_=function(t,e,n,r,o,l){if(null!=r.shadowingWrite(e))return t;var c=t.getServerCache().isFiltered(),d=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&d.isFullyInitialized()||d.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,d.getNode().getChild(e),r,o,c,l);if(e.isEmpty()){var h=be.Empty;return d.getNode().forEachChild(Ot,function(t,e){h=h.set(new Y(t),e)}),this.applyServerMerge_(t,e,h,r,o,c,l)}return t}var f=be.Empty;return n.foreach(function(t,n){var r=e.child(t);d.isCompleteForPath(r)&&(f=f.set(t,d.getNode().getChild(r)))}),this.applyServerMerge_(t,e,f,r,o,c,l)},t.prototype.listenComplete_=function(t,path,e,n){var r=t.getServerCache(),o=t.updateServerSnap(r.getNode(),r.isFullyInitialized()||path.isEmpty(),r.isFiltered());return this.generateEventCacheAfterServerEvent_(o,path,e,Ie,n)},t.prototype.revertUserWrite_=function(t,path,e,n,r){var o;if(null!=e.shadowingWrite(path))return t;var source=new Oe(e,t,n),l=t.getEventCache().getNode(),c=void 0;if(path.isEmpty()||".priority"===path.getFront()){var d=void 0;if(t.getServerCache().isFullyInitialized())d=e.calcCompleteEventCache(t.getCompleteServerSnap());else{var f=t.getServerCache().getNode();h.assert(f instanceof Yt,"serverChildren would be complete if leaf node"),d=e.calcCompleteEventChildren(f)}d=d,c=this.filter_.updateFullNode(l,d,r)}else{var m=path.getFront(),v=e.calcCompleteChild(m,t.getServerCache());null==v&&t.getServerCache().isCompleteForChild(m)&&(v=l.getImmediateChild(m)),(c=null!=v?this.filter_.updateChild(l,m,v,path.popFront(),source,r):t.getEventCache().getNode().hasChild(m)?this.filter_.updateChild(l,m,Yt.EMPTY_NODE,path.popFront(),source,r):l).isEmpty()&&t.getServerCache().isFullyInitialized()&&(o=e.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(c=this.filter_.updateFullNode(c,o,r))}return o=t.getServerCache().isFullyInitialized()||null!=e.shadowingWrite(Y.Empty),t.updateEventSnap(c,o,this.filter_.filtersNodes())},t}(),De=function(){function t(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(t,e,n){var r=this,o=[],l=[];return t.forEach(function(t){t.type===ke.CHILD_CHANGED&&r.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&l.push(ke.childMovedChange(t.childName,t.snapshotNode))}),this.generateEventsForType_(o,ke.CHILD_REMOVED,t,n,e),this.generateEventsForType_(o,ke.CHILD_ADDED,t,n,e),this.generateEventsForType_(o,ke.CHILD_MOVED,l,n,e),this.generateEventsForType_(o,ke.CHILD_CHANGED,t,n,e),this.generateEventsForType_(o,ke.VALUE,t,n,e),o},t.prototype.generateEventsForType_=function(t,e,n,r,o){var l=this,c=n.filter(function(t){return t.type===e});c.sort(this.compareChanges_.bind(this)),c.forEach(function(e){var n=l.materializeSingleChange_(e,o);r.forEach(function(r){r.respondsTo(e.type)&&t.push(r.createEvent(n,l.query_))})})},t.prototype.materializeSingleChange_=function(t,e){return"value"===t.type||"child_removed"===t.type?t:(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_),t)},t.prototype.compareChanges_=function(a,b){if(null==a.childName||null==b.childName)throw h.assertionError("Should only compare child_ events.");var t=new xt(a.childName,a.snapshotNode),e=new xt(b.childName,b.snapshotNode);return this.index_.compare(t,e)},t}(),Pe=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new xe(n.getIndex()),filter=n.getNodeFilter();this.processor_=new Ne(filter);var o=e.getServerCache(),l=e.getEventCache(),c=r.updateFullNode(Yt.EMPTY_NODE,o.getNode(),null),d=filter.updateFullNode(Yt.EMPTY_NODE,l.getNode(),null),h=new Ee(c,o.isFullyInitialized(),r.filtersNodes()),f=new Ee(d,l.isFullyInitialized(),filter.filtersNodes());this.viewCache_=new Te(f,h),this.eventGenerator_=new De(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(path){var t=this.viewCache_.getCompleteServerSnap();return t&&(this.query_.getQueryParams().loadsAllData()||!path.isEmpty()&&!t.getImmediateChild(path.getFront()).isEmpty())?t.getChild(path):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var n=[];if(e){h.assert(null==t,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach(function(t){e=e;var o=t.createCancelEvent(e,r);o&&n.push(o)})}if(t){for(var o=[],i=0;i<this.eventRegistrations_.length;++i){var l=this.eventRegistrations_[i];if(l.matches(t)){if(t.hasAnyCallback()){o=o.concat(this.eventRegistrations_.slice(i+1));break}}else o.push(l)}this.eventRegistrations_=o}else this.eventRegistrations_=[];return n},t.prototype.applyOperation=function(t,e,n){t.type===ee.MERGE&&null!==t.source.queryId&&(h.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),h.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,o=this.processor_.applyOperation(r,t,e,n);return this.processor_.assertIndexed(o.viewCache),h.assert(o.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=o.viewCache,this.generateEventsForChanges_(o.changes,o.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];e.getNode().isLeafNode()||e.getNode().forEachChild(Bt,function(t,e){n.push(ke.childAddedChange(t,e))});return e.isFullyInitialized()&&n.push(ke.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){var r=n?[n]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(t,e,r)},t}(),Re=function(){function t(){this.views_={}}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return h.assert(me,"Reference.ts has not been loaded"),me},set:function(t){h.assert(!me,"__referenceConstructor has already been defined"),me=t},enumerable:!0,configurable:!0}),t.prototype.isEmpty=function(){return h.isEmpty(this.views_)},t.prototype.applyOperation=function(t,e,n){var r=t.source.queryId;if(null!==r){var view=h.safeGet(this.views_,r);return h.assert(null!=view,"SyncTree gave us an op for an invalid query."),view.applyOperation(t,e,n)}var o=[];return h.forEach(this.views_,function(r,view){o=o.concat(view.applyOperation(t,e,n))}),o},t.prototype.addEventRegistration=function(t,e,n,r,o){var l=t.queryIdentifier(),view=h.safeGet(this.views_,l);if(!view){var c=n.calcCompleteEventCache(o?r:null),d=!1;c?d=!0:r instanceof Yt?(c=n.calcCompleteEventChildren(r),d=!1):(c=Yt.EMPTY_NODE,d=!1);var f=new Te(new Ee(c,d,!1),new Ee(r,o,!1));view=new Pe(t,f),this.views_[l]=view}return view.addEventRegistration(e),view.getInitialEvents(e)},t.prototype.removeEventRegistration=function(e,n,r){var o=e.queryIdentifier(),l=[],c=[],d=this.hasCompleteView();if("default"===o){var f=this;h.forEach(this.views_,function(t,view){c=c.concat(view.removeEventRegistration(n,r)),view.isEmpty()&&(delete f.views_[t],view.getQuery().getQueryParams().loadsAllData()||l.push(view.getQuery()))})}else{var view=h.safeGet(this.views_,o);view&&(c=c.concat(view.removeEventRegistration(n,r)),view.isEmpty()&&(delete this.views_[o],view.getQuery().getQueryParams().loadsAllData()||l.push(view.getQuery())))}return d&&!this.hasCompleteView()&&l.push(new t.__referenceConstructor(e.repo,e.path)),{removed:l,events:c}},t.prototype.getQueryViews=function(){var t=this;return Object.keys(this.views_).map(function(e){return t.views_[e]}).filter(function(view){return!view.getQuery().getQueryParams().loadsAllData()})},t.prototype.getCompleteServerCache=function(path){var t=null;return h.forEach(this.views_,function(e,view){t=t||view.getCompleteServerCache(path)}),t},t.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var e=t.queryIdentifier();return h.safeGet(this.views_,e)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){return h.findValue(this.views_,function(view){return view.getQuery().getQueryParams().loadsAllData()})||null},t}(),Me=function(){function t(t){this.writeTree_=t}return t.prototype.addWrite=function(path,e){if(path.isEmpty())return new t(new be(e));var n=this.writeTree_.findRootMostValueAndPath(path);if(null!=n){var r=n.path,o=n.value,l=Y.relativePath(r,path);return o=o.updateChild(l,e),new t(this.writeTree_.set(r,o))}var c=new be(e);return new t(this.writeTree_.setTree(path,c))},t.prototype.addWrites=function(path,t){var e=this;return h.forEach(t,function(t,n){e=e.addWrite(path.child(t),n)}),e},t.prototype.removeWrite=function(path){return path.isEmpty()?t.Empty:new t(this.writeTree_.setTree(path,be.Empty))},t.prototype.hasCompleteWrite=function(path){return null!=this.getCompleteNode(path)},t.prototype.getCompleteNode=function(path){var t=this.writeTree_.findRootMostValueAndPath(path);return null!=t?this.writeTree_.get(t.path).getChild(Y.relativePath(t.path,path)):null},t.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Bt,function(e,n){t.push(new xt(e,n))}):this.writeTree_.children.inorderTraversal(function(e,n){null!=n.value&&t.push(new xt(e,n.value))}),t},t.prototype.childCompoundWrite=function(path){if(path.isEmpty())return this;var e=this.getCompleteNode(path);return new t(null!=e?new be(e):this.writeTree_.subtree(path))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(e){return t.applySubtreeWrite_(Y.Empty,this.writeTree_,e)},t.Empty=new t(new be(null)),t.applySubtreeWrite_=function(e,n,r){if(null!=n.value)return r.updateChild(e,n.value);var o=null;return n.children.inorderTraversal(function(n,l){".priority"===n?(h.assert(null!==l.value,"Priority writes must always be leaf nodes"),o=l.value):r=t.applySubtreeWrite_(e.child(n),l,r)}),r.getChild(e).isEmpty()||null===o||(r=r.updateChild(e.child(".priority"),o)),r},t}(),Le=function(){function t(){this.visibleWrites_=Me.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(path){return new je(path,this)},t.prototype.addOverwrite=function(path,t,e,n){h.assert(e>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===n&&(n=!0),this.allWrites_.push({path:path,snap:t,writeId:e,visible:n}),n&&(this.visibleWrites_=this.visibleWrites_.addWrite(path,t)),this.lastWriteId_=e},t.prototype.addMerge=function(path,t,e){h.assert(e>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:path,children:t,writeId:e,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(path,t),this.lastWriteId_=e},t.prototype.getWrite=function(t){for(var i=0;i<this.allWrites_.length;i++){var e=this.allWrites_[i];if(e.writeId===t)return e}return null},t.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex(function(s){return s.writeId===t});h.assert(n>=0,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var o=r.visible,l=!1,i=this.allWrites_.length-1;o&&i>=0;){var c=this.allWrites_[i];c.visible&&(i>=n&&this.recordContainsPath_(c,r.path)?o=!1:r.path.contains(c.path)&&(l=!0)),i--}if(o){if(l)return this.resetTree_(),!0;if(r.snap)this.visibleWrites_=this.visibleWrites_.removeWrite(r.path);else{var d=r.children;h.forEach(d,function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(r.path.child(t))})}return!0}return!1},t.prototype.getCompleteWriteData=function(path){return this.visibleWrites_.getCompleteNode(path)},t.prototype.calcCompleteEventCache=function(e,n,r,o){if(r||o){var l=this.visibleWrites_.childCompoundWrite(e);if(!o&&l.isEmpty())return n;if(o||null!=n||l.hasCompleteWrite(Y.Empty)){var c=t.layerTree_(this.allWrites_,function(t){return(t.visible||o)&&(!r||!~r.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))},e);f=n||Yt.EMPTY_NODE;return c.apply(f)}return null}var d=this.visibleWrites_.getCompleteNode(e);if(null!=d)return d;var h=this.visibleWrites_.childCompoundWrite(e);if(h.isEmpty())return n;if(null!=n||h.hasCompleteWrite(Y.Empty)){var f=n||Yt.EMPTY_NODE;return h.apply(f)}return null},t.prototype.calcCompleteEventChildren=function(t,e){var n=Yt.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(t);if(r)return r.isLeafNode()||r.forEachChild(Bt,function(t,e){n=n.updateImmediateChild(t,e)}),n;if(e){var o=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(Bt,function(t,e){var r=o.childCompoundWrite(new Y(t)).apply(e);n=n.updateImmediateChild(t,r)}),o.getCompleteChildren().forEach(function(t){n=n.updateImmediateChild(t.name,t.node)}),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach(function(t){n=n.updateImmediateChild(t.name,t.node)}),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,r){h.assert(n||r,"Either existingEventSnap or existingServerSnap must exist");var path=t.child(e);if(this.visibleWrites_.hasCompleteWrite(path))return null;var o=this.visibleWrites_.childCompoundWrite(path);return o.isEmpty()?r.getChild(e):o.apply(r.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var path=t.child(e),r=this.visibleWrites_.getCompleteNode(path);return null!=r?r:n.isCompleteForChild(e)?this.visibleWrites_.childCompoundWrite(path).apply(n.getNode().getImmediateChild(e)):null},t.prototype.shadowingWrite=function(path){return this.visibleWrites_.getCompleteNode(path)},t.prototype.calcIndexedSlice=function(t,e,n,r,o,l){var c,d=this.visibleWrites_.childCompoundWrite(t),h=d.getCompleteNode(Y.Empty);if(null!=h)c=h;else{if(null==e)return[];c=d.apply(e)}if((c=c.withIndex(l)).isEmpty()||c.isLeafNode())return[];for(var f=[],m=l.getCompare(),v=o?c.getReverseIteratorFrom(n,l):c.getIteratorFrom(n,l),y=v.getNext();y&&f.length<r;)0!==m(y,n)&&f.push(y),y=v.getNext();return f},t.prototype.recordContainsPath_=function(t,path){return t.snap?t.path.contains(path):!!h.findKey(t.children,function(e,n){return t.path.child(n).contains(path)})},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,Y.Empty),this.allWrites_.length>0?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,filter,e){for(var n=Me.Empty,i=0;i<t.length;++i){var r=t[i];if(filter(r)){var o=r.path,l=void 0;if(r.snap)e.contains(o)?(l=Y.relativePath(e,o),n=n.addWrite(l,r.snap)):o.contains(e)&&(l=Y.relativePath(o,e),n=n.addWrite(Y.Empty,r.snap.getChild(l)));else{if(!r.children)throw h.assertionError("WriteRecord should have .snap or .children");if(e.contains(o))l=Y.relativePath(e,o),n=n.addWrites(l,r.children);else if(o.contains(e))if((l=Y.relativePath(o,e)).isEmpty())n=n.addWrites(Y.Empty,r.children);else{var c=h.safeGet(r.children,l.getFront());if(c){var d=c.getChild(l.popFront());n=n.addWrite(Y.Empty,d)}}}}}return n},t}(),je=function(){function t(path,t){this.treePath_=path,this.writeTree_=t}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(path,t,e){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,path,t,e)},t.prototype.shadowingWrite=function(path){return this.writeTree_.shadowingWrite(this.treePath_.child(path))},t.prototype.calcIndexedSlice=function(t,e,n,r,o){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,r,o)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}(),Be=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=be.Empty,this.pendingWriteTree_=new Le,this.tagToQueryMap_={},this.queryToTagMap_={}}return t.prototype.applyUserOverwrite=function(path,t,e,n){return this.pendingWriteTree_.addOverwrite(path,t,e,n),n?this.applyOperationToSyncPoints_(new _e(ge.User,path,t)):[]},t.prototype.applyUserMerge=function(path,t,e){this.pendingWriteTree_.addMerge(path,t,e);var n=be.fromObject(t);return this.applyOperationToSyncPoints_(new Se(ge.User,path,n))},t.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var r=be.Empty;return null!=n.snap?r=r.set(Y.Empty,!0):h.forEach(n.children,function(t,e){r=r.set(new Y(t),e)}),this.applyOperationToSyncPoints_(new ve(n.path,r,e))}return[]},t.prototype.applyServerOverwrite=function(path,t){return this.applyOperationToSyncPoints_(new _e(ge.Server,path,t))},t.prototype.applyServerMerge=function(path,t){var e=be.fromObject(t);return this.applyOperationToSyncPoints_(new Se(ge.Server,path,e))},t.prototype.applyListenComplete=function(path){return this.applyOperationToSyncPoints_(new we(ge.Server,path))},t.prototype.applyTaggedQueryOverwrite=function(path,e,n){var r=this.queryKeyForTag_(n);if(null!=r){var o=t.parseQueryKey_(r),l=o.path,c=o.queryId,d=Y.relativePath(l,path),h=new _e(ge.forServerTaggedQuery(c),d,e);return this.applyTaggedOperation_(l,h)}return[]},t.prototype.applyTaggedQueryMerge=function(path,e,n){var r=this.queryKeyForTag_(n);if(r){var o=t.parseQueryKey_(r),l=o.path,c=o.queryId,d=Y.relativePath(l,path),h=be.fromObject(e),f=new Se(ge.forServerTaggedQuery(c),d,h);return this.applyTaggedOperation_(l,f)}return[]},t.prototype.applyTaggedListenComplete=function(path,e){var n=this.queryKeyForTag_(e);if(n){var r=t.parseQueryKey_(n),o=r.path,l=r.queryId,c=Y.relativePath(o,path),d=new we(ge.forServerTaggedQuery(l),c);return this.applyTaggedOperation_(o,d)}return[]},t.prototype.addEventRegistration=function(e,n){var path=e.path,r=null,o=!1;this.syncPointTree_.foreachOnPath(path,function(t,e){var n=Y.relativePath(t,path);r=r||e.getCompleteServerCache(n),o=o||e.hasCompleteView()});var l,c=this.syncPointTree_.get(path);(c?(o=o||c.hasCompleteView(),r=r||c.getCompleteServerCache(Y.Empty)):(c=new Re,this.syncPointTree_=this.syncPointTree_.set(path,c)),null!=r)?l=!0:(l=!1,r=Yt.EMPTY_NODE,this.syncPointTree_.subtree(path).foreachChild(function(t,e){var n=e.getCompleteServerCache(Y.Empty);n&&(r=r.updateImmediateChild(t,n))}));var d=c.viewExistsForQuery(e);if(!d&&!e.getQueryParams().loadsAllData()){var f=t.makeQueryKey_(e);h.assert(!(f in this.queryToTagMap_),"View does not exist, but we have a tag");var m=t.getNextQueryTag_();this.queryToTagMap_[f]=m,this.tagToQueryMap_["_"+m]=f}var v=this.pendingWriteTree_.childWrites(path),y=c.addEventRegistration(e,n,v,r,l);if(!d&&!o){var view=c.viewForQuery(e);y=y.concat(this.setupListener_(e,view))}return y},t.prototype.removeEventRegistration=function(e,n,r){var o=this,path=e.path,l=this.syncPointTree_.get(path),c=[];if(l&&("default"===e.queryIdentifier()||l.viewExistsForQuery(e))){var d=l.removeEventRegistration(e,n,r);l.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(path));var h=d.removed;c=d.events;var f=-1!==h.findIndex(function(t){return t.getQueryParams().loadsAllData()}),m=this.syncPointTree_.findOnPath(path,function(t,e){return e.hasCompleteView()});if(f&&!m){var v=this.syncPointTree_.subtree(path);if(!v.isEmpty())for(var y=this.collectDistinctViewsForSubTree_(v),i=0;i<y.length;++i){var view=y[i],w=view.getQuery(),_=this.createListenerForView_(view);this.listenProvider_.startListening(t.queryForListening_(w),this.tagForQuery_(w),_.hashFn,_.onComplete)}}if(!m&&h.length>0&&!r)if(f){this.listenProvider_.stopListening(t.queryForListening_(e),null)}else h.forEach(function(e){var n=o.queryToTagMap_[t.makeQueryKey_(e)];o.listenProvider_.stopListening(t.queryForListening_(e),n)});this.removeTags_(h)}return c},t.prototype.calcCompleteEventCache=function(path,t){var e=this.pendingWriteTree_,n=this.syncPointTree_.findOnPath(path,function(t,e){var n=Y.relativePath(t,path),r=e.getCompleteServerCache(n);if(r)return r});return e.calcCompleteEventCache(path,n,t,!0)},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold(function(t,e,n){if(e&&e.hasCompleteView())return[e.getCompleteView()];var r=[];return e&&(r=e.getQueryViews()),h.forEach(n,function(t,e){r=r.concat(e)}),r})},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var o=t.makeQueryKey_(r),l=this.queryToTagMap_[o];delete this.queryToTagMap_[o],delete this.tagToQueryMap_["_"+l]}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(e,view){var path=e.path,n=this.tagForQuery_(e),r=this.createListenerForView_(view),o=this.listenProvider_.startListening(t.queryForListening_(e),n,r.hashFn,r.onComplete),l=this.syncPointTree_.subtree(path);if(n)h.assert(!l.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var c=l.fold(function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var r=[];return e&&(r=r.concat(e.getQueryViews().map(function(view){return view.getQuery()}))),h.forEach(n,function(t,e){r=r.concat(e)}),r}),i=0;i<c.length;++i){var d=c[i];this.listenProvider_.stopListening(t.queryForListening_(d),this.tagForQuery_(d))}return o},t.prototype.createListenerForView_=function(view){var t=this,e=view.getQuery(),n=this.tagForQuery_(e);return{hashFn:function(){return(view.getServerCache()||Yt.EMPTY_NODE).hash()},onComplete:function(r){if("ok"===r)return n?t.applyTaggedListenComplete(e.path,n):t.applyListenComplete(e.path);var o=function(code,t){var e="Unknown Error";"too_big"===code?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==code?e="Client doesn't have permission to access the desired data.":"unavailable"==code&&(e="The service is unavailable");var n=new Error(code+" at "+t.path.toString()+": "+e);return n.code=code.toUpperCase(),n}(r,e);return t.removeEventRegistration(e,null,o)}}},t.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},t.parseQueryKey_=function(t){var e=t.indexOf("$");return h.assert(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Y(t.substr(0,e))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap_["_"+t]},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return h.safeGet(this.queryToTagMap_,n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);h.assert(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,r,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(Y.Empty))},t.prototype.applyOperationHelper_=function(t,e,n,r){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,r);var o=e.get(Y.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(Y.Empty));var l=[],c=t.path.getFront(),d=t.operationForChild(c),h=e.children.get(c);if(h&&d){var f=n?n.getImmediateChild(c):null,m=r.child(c);l=l.concat(this.applyOperationHelper_(d,h,f,m))}return o&&(l=l.concat(o.applyOperation(t,r,n))),l},t.prototype.applyOperationDescendantsHelper_=function(t,e,n,r){var o=this,l=e.get(Y.Empty);null==n&&null!=l&&(n=l.getCompleteServerCache(Y.Empty));var c=[];return e.children.inorderTraversal(function(e,l){var d=n?n.getImmediateChild(e):null,h=r.child(e),f=t.operationForChild(e);f&&(c=c.concat(o.applyOperationDescendantsHelper_(f,l,d,h)))}),l&&(c=c.concat(l.applyOperation(t,r,n))),c},t.nextQueryTag_=1,t}(),Fe=function(){function t(){this.rootNode_=Yt.EMPTY_NODE}return t.prototype.getNode=function(path){return this.rootNode_.getChild(path)},t.prototype.updateSnapshot=function(path,t){this.rootNode_=this.rootNode_.updateChild(path,t)},t}(),Ue=function(){function t(t){this.app_=t}return t.prototype.getToken=function(t){return this.app_.INTERNAL.getToken(t).then(null,function(t){return t&&"auth/token-not-initialized"===t.code?(O("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})},t.prototype.addTokenChangeListener=function(t){this.app_.INTERNAL.addAuthTokenListener(t)},t.prototype.removeTokenChangeListener=function(t){this.app_.INTERNAL.removeAuthTokenListener(t)},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',P(t)},t}(),Ve=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),h.contains(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return h.deepCopy(this.counters_)},t}(),qe=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new Ve),this.collections_[e]},t.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},t.collections_={},t.reporters_={},t}(),$e=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=h.clone(t);return this.last_&&h.forEach(this.last_,function(t,n){e[t]=e[t]-n}),this.last_=t,e},t}(),We=1e4,ze=3e4,He=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new $e(t);var n=We+(ze-We)*Math.random();Q(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;h.forEach(e,function(e,o){o>0&&h.contains(t.statsToReport_,e)&&(n[e]=o,r=!0)}),r&&this.server_.reportStats(n),Q(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),Ke=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(t){for(var e=null,i=0;i<t.length;i++){var n=t[i],r=n.getPath();null===e||r.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new Ge(r)),e.add(n)}e&&this.eventLists_.push(e)},t.prototype.raiseEventsAtPath=function(path,t){this.queueEvents(t),this.raiseQueuedEventsMatchingPredicate_(function(t){return t.equals(path)})},t.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_(function(e){return e.contains(t)||t.contains(e)})},t.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,i=0;i<this.eventLists_.length;i++){var n=this.eventLists_[i];if(n)t(n.getPath())?(this.eventLists_[i].raise(),this.eventLists_[i]=null):e=!1}e&&(this.eventLists_=[]),this.recursionDepth_--},t}(),Ge=function(){function t(t){this.path_=t,this.events_=[]}return t.prototype.add=function(t){this.events_.push(t)},t.prototype.raise=function(){for(var i=0;i<this.events_.length;i++){var t=this.events_[i];if(null!==t){this.events_[i]=null;var e=t.getEventRunner();x&&O("event: "+t.toString()),K(e)}}},t.prototype.getPath=function(){return this.path_},t}(),Qe=function(){function t(t){this.allowedEvents_=t,this.listeners_={},h.assert(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=this.listeners_[t].slice(),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){h.assert(this.allowedEvents_.find(function(e){return e===t}),"Unknown event: "+t)},t}(),Ye=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))},!1),r}return d.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return h.assert("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(Qe),Xe=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||h.isMobileCordova()||(window.addEventListener("online",function(){e.online_||(e.online_=!0,e.trigger("online",!0))},!1),window.addEventListener("offline",function(){e.online_&&(e.online_=!1,e.trigger("online",!1))},!1)),e}return d.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return h.assert("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(Qe),Je=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,data){var e=this;this.pendingResponses[t]=data;for(var n=function(){var t=r.pendingResponses[r.currentResponseNum];delete r.pendingResponses[r.currentResponseNum];for(var n=function(i){t[i]&&K(function(){e.onMessage_(t[i])})},i=0;i<t.length;++i)n(i);if(r.currentResponseNum===r.closeAfterResponse)return r.onClose&&(r.onClose(),r.onClose=null),"break";r.currentResponseNum++},r=this;this.pendingResponses[this.currentResponseNum];){if("break"===n())break}},t}(),Ze="pLPCommand",tn="pRTLPCB",en=function(){function t(t,e,n,r){this.connId=t,this.repoInfo=e,this.transportSessionId=n,this.lastSessionId=r,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=A(t),this.stats_=qe.getCollection(e),this.urlFn=function(t){return e.connectionURL(J,t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Je(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if(h.isNodeSdk()||"complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(function(){if(!n.isClosed_){n.scriptTagHolder=new nn(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[0],o=t[1],l=t[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"==r)n.id=o,n.password=l;else{if("close"!==r)throw new Error("Unrecognized command received: "+r);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,function(){n.onClosed_()})):n.onClosed_()}},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[0],data=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(r,data)},function(){n.onClosed_()},n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),!h.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return t.forceAllow_||!t.forceDisallow_&&"undefined"!=typeof document&&null!=document.createElement&&!("object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"==typeof Windows&&"object"==typeof Windows.UI)&&!h.isNodeSdk()},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(data){var t=h.stringify(data);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var e=h.base64Encode(t),n=V(e,1840),i=0;i<n.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,n.length,n[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!h.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=h.stringify(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),nn=function(){function t(e,n,r,o){if(this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new ce,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,h.isNodeSdk())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=E(),window[Ze+this.uniqueCallbackIdentifier]=e,window[tn+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var script="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))script='<script>document.domain="'+document.domain+'";<\/script>';var l="<html><body>"+script+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(t){O("frame writing exception"),t.stack&&O(t.stack),O(t)}}}return t.createIFrame_=function(){var iframe=document.createElement("iframe");if(iframe.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(iframe);try{iframe.contentWindow.document||O("No IE domain setting required")}catch(e){var t=document.domain;iframe.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return iframe.contentDocument?iframe.doc=iframe.contentDocument:iframe.contentWindow?iframe.doc=iframe.contentWindow.document:iframe.document&&(iframe.doc=iframe.document),iframe},t.prototype.close=function(){var e=this;if(this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)},Math.floor(0))),h.isNodeSdk()&&this.myID){var n={disconn:"t"};n.id=this.myID,n.pw=this.myPW;var r=this.urlFn(n);t.nodeRestRequest(r)}var o=this.onDisconnect;o&&(this.onDisconnect=null,o())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.count()<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",i=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var r=this.pendingSegs.shift();n=n+"&seg"+i+"="+r.seg+"&ts"+i+"="+r.ts+"&d"+i+"="+r.d,i++}return e+=n,this.addLongPollTag_(e,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,data){this.pendingSegs.push({seg:t,ts:e,d:data}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e,1);var r=function(){n.outstandingRequests.remove(e),n.newRequest_()},o=setTimeout(r,Math.floor(25e3));this.addTag(t,function(){clearTimeout(o),r()})},t.prototype.addTag=function(t,e){var n=this;h.isNodeSdk()?this.doNodeLongPoll(t,e):setTimeout(function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){O("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(t){}},Math.floor(1))},t}(),rn=null;"undefined"!=typeof MozWebSocket?rn=MozWebSocket:"undefined"!=typeof WebSocket&&(rn=WebSocket);var on=function(){function t(e,n,r,o){this.connId=e,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=A(this.connId),this.stats_=qe.getCollection(n),this.connURL=t.connectionURL_(n,r,o)}return t.connectionURL_=function(t,e,n){var r={v:"5"};return!h.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(r.r="f"),e&&(r.s=e),n&&(r.ls=n),t.connectionURL("websocket",r)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,w.set("previous_websocket_failure",!0);try{if(h.isNodeSdk()){var o=h.CONSTANTS.NODE_ADMIN?"AdminNode":"Node",l={headers:{"User-Agent":"Firebase/5/"+c.SDK_VERSION+"/"+r.platform+"/"+o}},d=r.env,f=0==this.connURL.indexOf("wss://")?d.HTTPS_PROXY||d.https_proxy:d.HTTP_PROXY||d.http_proxy;f&&(l.proxy={origin:f}),this.mySock=new rn(this.connURL,[],l)}else this.mySock=new rn(this.connURL)}catch(t){this.log_("Error instantiating WebSocket.");var m=t.message||t.data;return m&&this.log_(m),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==rn&&!t.forceDisallow_},t.previouslyFailed=function(){return w.isInMemoryStorage||!0===w.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){w.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(data){if(this.frames.push(data),this.frames.length==this.totalFrames){var t=this.frames.join("");this.frames=null;var e=h.jsonEval(t);this.onMessage(e)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(data){if(h.assert(null===this.frames,"We already have a frame buffer"),data.length<=6){var t=Number(data);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),data},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var data=t.data;if(this.bytesReceived+=data.length,this.stats_.incrementCounter("bytes_received",data.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(data);else{var e=this.extractFrameCount_(data);null!==e&&this.appendFrame_(e)}}},t.prototype.send=function(data){this.resetKeepAlive();var t=h.stringify(data);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var e=V(t,16384);e.length>1&&this.sendString_(String(e.length));for(var i=0;i<e.length;i++)this.sendString_(e[i])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),an=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[en,on]},enumerable:!0,configurable:!0}),t.prototype.initTransports_=function(e){var n=on&&on.isAvailable(),r=n&&!on.previouslyFailed();if(e.webSocketOnly&&(n||P("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[on];else{var o=this.transports_=[];$(t.ALL_TRANSPORTS,function(i,t){t&&t.isAvailable()&&o.push(t)})}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),sn=function(){function t(t,e,n,r,o,l,c){this.id=t,this.repoInfo_=e,this.onMessage_=n,this.onReady_=r,this.onDisconnect_=o,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=A("c:"+this.id+":"),this.transportManager_=new an(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(n,r)},Math.floor(0));var o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=Q(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(o)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!=e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){var e={t:"d",d:t};this.sendData_(e)},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=F("t",t),data=F("d",t);if("c"==e)this.onSecondaryControl_(data);else{if("d"!=e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(data)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=F("t",t),data=F("d",t);"c"==e?this.onControl_(data):"d"==e&&this.onDataMessage_(data)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=F("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?N("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):N("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(r),0==this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&P("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Q(function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())},Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Q(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(w.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(data){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(data)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),un=function(){function t(){}return t.prototype.put=function(t,data,e,n){},t.prototype.merge=function(t,data,e,n){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,data,e){},t.prototype.onDisconnectMerge=function(t,data,e){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),ln=1e3,cn=3e5,dn=function(t){function e(n,r,o,l,c,d){var f=t.call(this)||this;if(f.repoInfo_=n,f.onDataUpdate_=r,f.onConnectStatus_=o,f.onServerInfoUpdate_=l,f.authTokenProvider_=c,f.authOverride_=d,f.id=e.nextPersistentConnectionId_++,f.log_=A("p:"+f.id+":"),f.interruptReasons_={},f.listens_={},f.outstandingPuts_=[],f.outstandingPutCount_=0,f.onDisconnectRequestQueue_=[],f.connected_=!1,f.reconnectDelay_=ln,f.maxReconnectDelay_=cn,f.securityDebugCallback_=null,f.lastSessionId=null,f.establishConnectionTimer_=null,f.visible_=!1,f.requestCBHash_={},f.requestNumber_=0,f.realtime_=null,f.authToken_=null,f.forceTokenRefresh_=!1,f.invalidAuthTokenCount_=0,f.firstConnection_=!0,f.lastConnectionAttemptTime_=null,f.lastConnectionEstablishedTime_=null,d&&!h.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return f.scheduleConnect_(0),Ye.getInstance().on("visible",f.onVisible_,f),-1===n.host.indexOf("fblocal")&&Xe.getInstance().on("online",f.onOnline_,f),f}return d.__extends(e,t),e.prototype.sendRequest=function(t,body,e){var n=++this.requestNumber_,r={r:n,a:t,b:body};this.log_(h.stringify(r)),h.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),e&&(this.requestCBHash_[n]=e)},e.prototype.listen=function(t,e,n,r){var o=t.queryIdentifier(),l=t.path.toString();this.log_("Listen called for "+l+" "+o),this.listens_[l]=this.listens_[l]||{},h.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),h.assert(!this.listens_[l][o],"listen() called twice for same path/queryId.");var c={onComplete:r,hashFn:e,query:t,tag:n};this.listens_[l][o]=c,this.connected_&&this.sendListen_(c)},e.prototype.sendListen_=function(t){var n=this,r=t.query,o=r.path.toString(),l=r.queryIdentifier();this.log_("Listen on "+o+" for "+l);var c={p:o};t.tag&&(c.q=r.queryObject(),c.t=t.tag),c.h=t.hashFn(),this.sendRequest("q",c,function(c){var d=c.d,h=c.s;e.warnOnListenWarnings_(d,r),(n.listens_[o]&&n.listens_[o][l])===t&&(n.log_("listen response",c),"ok"!==h&&n.removeListen_(o,l),t.onComplete&&t.onComplete(h,d))})},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&h.contains(t,"w")){var n=h.safeGet(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',o=e.path.toString();P("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+o+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||h.isAdmin(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=h.isValidFormat(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,function(n){var r=n.s,data=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,data))})}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),h.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var o={p:t};r&&(o.q=n,o.t=r),this.sendRequest("n",o)},e.prototype.onDisconnectPut=function(t,data,e){this.connected_?this.sendOnDisconnect_("o",t,data,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:data,onComplete:e})},e.prototype.onDisconnectMerge=function(t,data,e){this.connected_?this.sendOnDisconnect_("om",t,data,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:data,onComplete:e})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,data,n){var r={p:e,d:data};this.log_("onDisconnect "+t,r),this.sendRequest(t,r,function(t){n&&setTimeout(function(){n(t.s,t.d)},Math.floor(0))})},e.prototype.put=function(t,data,e,n){this.putInternal("p",t,data,e,n)},e.prototype.merge=function(t,data,e,n){this.putInternal("m",t,data,e,n)},e.prototype.putInternal=function(t,e,data,n,r){var o={p:e,d:data};void 0!==r&&(o.h=r),this.outstandingPuts_.push({action:t,request:o,onComplete:n}),this.outstandingPutCount_++;var l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),o&&o(r.s,r.d)})},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,function(t){if("ok"!==t.s){var n=t.d;e.log_("reportStats","Error sending stats: "+n)}})}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+h.stringify(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,body){this.log_("handleServerMessage",t,body),"d"===t?this.onDataUpdate_(body.p,body.d,!1,body.t):"m"===t?this.onDataUpdate_(body.p,body.d,!0,body.t):"c"===t?this.onListenRevoked_(body.p,body.q):"ac"===t?this.onAuthRevoked_(body.s,body.d):"sd"===t?this.onSecurityDebugPacket_(body):N("Unrecognized action received from server: "+h.stringify(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;h.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){e.establishConnectionTimer_=null,e.establishConnection_()},Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ln,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=ln,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=ln),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+e.nextConnectionId_++,l=this,c=this.lastSessionId,d=!1,f=null,m=function(){f?f.close():(d=!0,r())};this.realtime_={close:m,sendRequest:function(t){h.assert(f,"sendRequest call when we're not connected not allowed."),f.sendRequest(t)}};var v=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(v).then(function(e){d?O("getToken() completed but was canceled"):(O("getToken() completed. Creating connection."),l.authToken_=e&&e.accessToken,f=new sn(o,l.repoInfo_,t,n,r,function(t){P(t+" ("+l.repoInfo_.toString()+")"),l.interrupt("server_kill")},c))}).then(null,function(t){l.log_("Failed to get token: "+t),d||(h.CONSTANTS.NODE_ADMIN&&P(t),m())})}},e.prototype.interrupt=function(t){O("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){O("Resuming connection for reason: "+t),delete this.interruptReasons_[t],h.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=ln,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var i=0;i<this.outstandingPuts_.length;i++){var t=this.outstandingPuts_[i];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[i],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map(function(q){return U(q)}).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new Y(t).toString();return void 0!==this.listens_[r]?(n=this.listens_[r][e],delete this.listens_[r][e],0===h.getCount(this.listens_[r])&&delete this.listens_[r]):n=void 0,n},e.prototype.onAuthRevoked_=function(t,e){O("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(body){this.securityDebugCallback_?this.securityDebugCallback_(body):"msg"in body&&console.log("FIREBASE: "+body.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t=this;this.tryAuth(),h.forEach(this.listens_,function(e,n){h.forEach(n,function(e,n){t.sendListen_(n)})});for(var i=0;i<this.outstandingPuts_.length;i++)this.outstandingPuts_[i]&&this.sendPut_(i);for(;this.onDisconnectRequestQueue_.length;){var e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}},e.prototype.sendConnectStats_=function(){var t={},e="js";h.CONSTANTS.NODE_ADMIN?e="admin_node":h.CONSTANTS.NODE_CLIENT&&(e="node"),t["sdk."+e+"."+c.SDK_VERSION.replace(/\./g,"-")]=1,h.isMobileCordova()?t["framework.cordova"]=1:h.isReactNative()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=Xe.getInstance().currentlyOnline();return h.isEmpty(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(un),hn=function(t){function e(e,n,r){var o=t.call(this)||this;return o.repoInfo_=e,o.onDataUpdate_=n,o.authTokenProvider_=r,o.log_=A("p:rest:"),o.listens_={},o}return d.__extends(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(h.assert(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},e.prototype.listen=function(t,n,r,o){var l=this,c=t.path.toString();this.log_("Listen called for "+c+" "+t.queryIdentifier());var d=e.getListenId_(t,r),f={};this.listens_[d]=f;var m=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(c+".json",m,function(t,e){var data=e;(404===t&&(data=null,t=null),null===t&&l.onDataUpdate_(c,data,!1,r),h.safeGet(l.listens_,d)===f)&&o(t?401==t?"permission_denied":"rest_error:"+t:"ok",null)})},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then(function(o){var l=o&&o.accessToken;l&&(e.auth=l);var c=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+h.querystring(e);r.log_("Sending REST request for "+c);var d=new XMLHttpRequest;d.onreadystatechange=function(){if(n&&4===d.readyState){r.log_("REST Response for "+c+" received. status:",d.status,"response:",d.responseText);var t=null;if(d.status>=200&&d.status<300){try{t=h.jsonEval(d.responseText)}catch(t){P("Failed to parse JSON response for "+c+": "+d.responseText)}n(null,t)}else 401!==d.status&&404!==d.status&&P("Got unsuccessful REST response for "+c+" Status: "+d.status),n(d.status);n=null}},d.open("GET",c,!0),d.send()})},e}(un),fn=function(){function t(t,e,n){var r=this;this.repoInfo_=t,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ke,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new de,this.persistentConnection_=null;var o=new Ue(n);if(this.stats_=qe.getCollection(t),e||G())this.server_=new hn(this.repoInfo_,this.onDataUpdate_.bind(this),o),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var l=n.options.databaseAuthVariableOverride;if(null!=l){if("object"!=typeof l)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{h.stringify(l)}catch(t){throw new Error("Invalid authOverride provided: "+t)}}this.persistentConnection_=new dn(this.repoInfo_,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),o,l),this.server_=this.persistentConnection_}o.addTokenChangeListener(function(t){r.server_.refreshAuthToken(t)}),this.statsReporter_=qe.getOrCreateReporter(t,function(){return new He(r.stats_,r.server_)}),this.transactions_init_(),this.infoData_=new Fe,this.infoSyncTree_=new Be({startListening:function(t,e,n,o){var l=[],c=r.infoData_.getNode(t.path);return c.isEmpty()||(l=r.infoSyncTree_.applyServerOverwrite(t.path,c),setTimeout(function(){o("ok")},0)),l},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new Be({startListening:function(t,e,n,o){return r.server_.listen(t,n,e,function(e,data){var n=o(e,data);r.eventQueue_.raiseEventsForChangedPath(t.path,n)}),[]},stopListening:function(t,e){r.server_.unlisten(t,e)}})}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new Y(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t},t.prototype.generateServerValues=function(){return(t=(t={timestamp:this.serverTime()})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t},t.prototype.onDataUpdate_=function(t,data,e,n){this.dataUpdateCount++;var path=new Y(t);data=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,data):data;var r=[];if(n)if(e){var o=h.map(data,function(t){return Zt(t)});r=this.serverSyncTree_.applyTaggedQueryMerge(path,o,n)}else{var l=Zt(data);r=this.serverSyncTree_.applyTaggedQueryOverwrite(path,l,n)}else if(e){var c=h.map(data,function(t){return Zt(t)});r=this.serverSyncTree_.applyServerMerge(path,c)}else{var d=Zt(data);r=this.serverSyncTree_.applyServerOverwrite(path,d)}var f=path;r.length>0&&(f=this.rerunTransactions_(path)),this.eventQueue_.raiseEventsForChangedPath(f,r)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var e=this;$(t,function(t,n){e.updateInfo_(n,t)})},t.prototype.updateInfo_=function(t,e){var path=new Y("/.info/"+t),n=Zt(e);this.infoData_.updateSnapshot(path,n);var r=this.infoSyncTree_.applyServerOverwrite(path,n);this.eventQueue_.raiseEventsForChangedPath(path,r)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.setWithPriority=function(path,t,e,n){var r=this;this.log_("set",{path:path.toString(),value:t,priority:e});var o=this.generateServerValues(),l=Zt(t,e),c=fe(l,o),d=this.getNextWriteId_(),h=this.serverSyncTree_.applyUserOverwrite(path,c,d,!0);this.eventQueue_.queueEvents(h),this.server_.put(path.toString(),l.val(!0),function(t,e){var o="ok"===t;o||P("set at "+path+" failed: "+t);var l=r.serverSyncTree_.ackUserWrite(d,!o);r.eventQueue_.raiseEventsForChangedPath(path,l),r.callOnCompleteCallback(n,t,e)});var f=this.abortTransactions_(path);this.rerunTransactions_(f),this.eventQueue_.raiseEventsForChangedPath(f,[])},t.prototype.update=function(path,t,e){var n=this;this.log_("update",{path:path.toString(),value:t});var r=!0,o=this.generateServerValues(),l={};if(h.forEach(t,function(t,e){r=!1;var n=Zt(e);l[t]=fe(n,o)}),r)O("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(e,"ok");else{var c=this.getNextWriteId_(),d=this.serverSyncTree_.applyUserMerge(path,l,c);this.eventQueue_.queueEvents(d),this.server_.merge(path.toString(),t,function(t,r){var o="ok"===t;o||P("update at "+path+" failed: "+t);var l=n.serverSyncTree_.ackUserWrite(c,!o),d=l.length>0?n.rerunTransactions_(path):path;n.eventQueue_.raiseEventsForChangedPath(d,l),n.callOnCompleteCallback(e,t,r)}),h.forEach(t,function(t){var e=n.abortTransactions_(path.child(t));n.rerunTransactions_(e)}),this.eventQueue_.raiseEventsForChangedPath(path,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),n=function(t,e){var n=new de;return t.forEachTree(new Y(""),function(path,t){n.remember(path,fe(t,e))}),n}(this.onDisconnect_,e),r=[];n.forEachTree(Y.Empty,function(path,e){r=r.concat(t.serverSyncTree_.applyServerOverwrite(path,e));var n=t.abortTransactions_(path);t.rerunTransactions_(n)}),this.onDisconnect_=new de,this.eventQueue_.raiseEventsForChangedPath(Y.Empty,r)},t.prototype.onDisconnectCancel=function(path,t){var e=this;this.server_.onDisconnectCancel(path.toString(),function(n,r){"ok"===n&&e.onDisconnect_.forget(path),e.callOnCompleteCallback(t,n,r)})},t.prototype.onDisconnectSet=function(path,t,e){var n=this,r=Zt(t);this.server_.onDisconnectPut(path.toString(),r.val(!0),function(t,o){"ok"===t&&n.onDisconnect_.remember(path,r),n.callOnCompleteCallback(e,t,o)})},t.prototype.onDisconnectSetWithPriority=function(path,t,e,n){var r=this,o=Zt(t,e);this.server_.onDisconnectPut(path.toString(),o.val(!0),function(t,e){"ok"===t&&r.onDisconnect_.remember(path,o),r.callOnCompleteCallback(n,t,e)})},t.prototype.onDisconnectUpdate=function(path,t,e){var n=this;if(h.isEmpty(t))return O("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(e,"ok");this.server_.onDisconnectMerge(path.toString(),t,function(r,o){"ok"===r&&h.forEach(t,function(t,e){var r=Zt(e);n.onDisconnect_.remember(path.child(t),r)}),n.callOnCompleteCallback(e,r,o)})},t.prototype.addEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.removeEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")},t.prototype.stats=function(t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var e;t?(this.statsListener_||(this.statsListener_=new $e(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var n=Object.keys(e).reduce(function(t,e){return Math.max(e.length,t)},0);h.forEach(e,function(t,e){for(var i=t.length;i<n+2;i++)t+=" ";console.log(t+e)})}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),O.apply(void 0,[n].concat(t))},t.prototype.callOnCompleteCallback=function(t,e,n){t&&K(function(){if("ok"==e)t(null);else{var code=(e||"error").toUpperCase(),r=code;n&&(r+=": "+n);var o=new Error(r);o.code=code,t(o)}})},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new En(this))},enumerable:!0,configurable:!0}),t}(),pn=function(){function t(e){this.indexedFilter_=new xe(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,source,o){return this.matches(new xt(e,n))||(n=Yt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,source,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=Yt.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(Yt.EMPTY_NODE);var o=this;return e.forEachChild(Bt,function(t,e){o.matches(new xt(t,e))||(r=r.updateImmediateChild(t,Yt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),mn=function(){function t(t){this.rangedFilter_=new pn(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,source,o){return this.rangedFilter_.matches(new xt(e,n))||(n=Yt.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,source,o):this.fullLimitUpdateChild_(t,e,n,source,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=Yt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=Yt.EMPTY_NODE.withIndex(this.index_);var o=void 0;o=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var l=0;o.hasNext()&&l<this.limit_;){var c=o.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),c)<=0:this.index_.compare(c,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(c.name,c.node),l++}}else{r=(r=e.withIndex(this.index_)).updatePriority(Yt.EMPTY_NODE);var d=void 0,h=void 0,f=void 0;o=void 0;if(this.reverse_){o=r.getReverseIterator(this.index_),d=this.rangedFilter_.getEndPost(),h=this.rangedFilter_.getStartPost();var m=this.index_.getCompare();f=function(a,b){return m(b,a)}}else o=r.getIterator(this.index_),d=this.rangedFilter_.getStartPost(),h=this.rangedFilter_.getEndPost(),f=this.index_.getCompare();l=0;for(var v=!1;o.hasNext();){c=o.getNext();!v&&f(d,c)<=0&&(v=!0),v&&l<this.limit_&&f(c,h)<=0?l++:r=r.updateImmediateChild(c.name,Yt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,source,r){var o;if(this.reverse_){var l=this.index_.getCompare();o=function(a,b){return l(b,a)}}else o=this.index_.getCompare();var c=t;h.assert(c.numChildren()==this.limit_,"");var d=new xt(e,n),f=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),m=this.rangedFilter_.matches(d);if(c.hasChild(e)){for(var v=c.getImmediateChild(e),y=source.getChildAfterChild(this.index_,f,this.reverse_);null!=y&&(y.name==e||c.hasChild(y.name));)y=source.getChildAfterChild(this.index_,y,this.reverse_);var w=null==y?1:o(y,d);if(m&&!n.isEmpty()&&w>=0)return null!=r&&r.trackChildChange(ke.childChangedChange(e,n,v)),c.updateImmediateChild(e,n);null!=r&&r.trackChildChange(ke.childRemovedChange(e,v));var _=c.updateImmediateChild(e,Yt.EMPTY_NODE);return null!=y&&this.rangedFilter_.matches(y)?(null!=r&&r.trackChildChange(ke.childAddedChange(y.name,y.node)),_.updateImmediateChild(y.name,y.node)):_}return n.isEmpty()?t:m&&o(f,d)>=0?(null!=r&&(r.trackChildChange(ke.childRemovedChange(f.name,f.node)),r.trackChildChange(ke.childAddedChange(e,n))),c.updateImmediateChild(e,n).updateImmediateChild(f.name,Yt.EMPTY_NODE)):t},t}(),gn=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Bt}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return h.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return h.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:M},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return h.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return h.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:L},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return h.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n},t.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n},t.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var r=this.viewFrom_;""===r&&(r=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=r}return this.index_!==Bt&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_==Bt},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new xe(this.getIndex()):this.hasLimit()?new mn(this):new pn(this)},t.prototype.toRestQueryStringParameters=function(){var e,n=t.REST_QUERY_CONSTANTS_,r={};return this.isDefault()?r:(this.index_===Bt?e=n.PRIORITY_INDEX:this.index_===ne?e=n.VALUE_INDEX:this.index_===Ot?e=n.KEY_INDEX:(h.assert(this.index_ instanceof re,"Unrecognized index type!"),e=this.index_.toString()),r[n.ORDER_BY]=h.stringify(e),this.startSet_&&(r[n.START_AT]=h.stringify(this.indexStartValue_),this.startNameSet_&&(r[n.START_AT]+=","+h.stringify(this.indexStartName_))),this.endSet_&&(r[n.END_AT]=h.stringify(this.indexEndValue_),this.endNameSet_&&(r[n.END_AT]+=","+h.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?r[n.LIMIT_TO_FIRST]=this.limit_:r[n.LIMIT_TO_LAST]=this.limit_),r)},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},t.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},t.DEFAULT=new t,t}(),vn=function(t){function e(e,path){if(!(e instanceof fn))throw new Error("new Reference() no longer supported - use app.database().");return t.call(this,e,path,gn.DEFAULT,!1)||this}return d.__extends(e,t),e.prototype.getKey=function(){return h.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(t){return h.validateArgCount("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof Y||(null===this.path.getFront()?function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),wt(t,e,n,r)}("Reference.child",1,t,!1):wt("Reference.child",1,t,!1)),new e(this.repo,this.path.child(t))},e.prototype.getParent=function(){h.validateArgCount("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){h.validateArgCount("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(t,e){h.validateArgCount("Reference.set",1,2,arguments.length),_t("Reference.set",this.path),pt("Reference.set",1,t,this.path,!1),h.validateCallback("Reference.set",2,e,!0);var n=new h.Deferred;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(h.validateArgCount("Reference.update",1,2,arguments.length),_t("Reference.update",this.path),Array.isArray(t)){for(var n={},i=0;i<t.length;++i)n[""+i]=t[i];t=n,P("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}gt("Reference.update",1,t,this.path,!1),h.validateCallback("Reference.update",2,e,!0);var r=new h.Deferred;return this.repo.update(this.path,t,r.wrapCallback(e)),r.promise},e.prototype.setWithPriority=function(t,e,n){if(h.validateArgCount("Reference.setWithPriority",2,3,arguments.length),_t("Reference.setWithPriority",this.path),pt("Reference.setWithPriority",1,t,this.path,!1),vt("Reference.setWithPriority",2,e,!1),h.validateCallback("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new h.Deferred;return this.repo.setWithPriority(this.path,t,e,r.wrapCallback(n)),r.promise},e.prototype.remove=function(t){return h.validateArgCount("Reference.remove",0,1,arguments.length),_t("Reference.remove",this.path),h.validateCallback("Reference.remove",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if(h.validateArgCount("Reference.transaction",1,3,arguments.length),_t("Reference.transaction",this.path),h.validateCallback("Reference.transaction",1,t,!1),h.validateCallback("Reference.transaction",2,e,!0),function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(h.errorPrefix(t,e,r)+"must be a boolean.")}("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new h.Deferred;"function"==typeof e&&r.promise.catch(function(){});return this.repo.startTransaction(this.path,t,function(t,n,o){t?r.reject(t):r.resolve(new Tt(n,o)),"function"==typeof e&&e(t,n,o)},n),r.promise},e.prototype.setPriority=function(t,e){h.validateArgCount("Reference.setPriority",1,2,arguments.length),_t("Reference.setPriority",this.path),vt("Reference.setPriority",1,t,!1),h.validateCallback("Reference.setPriority",2,e,!0);var n=new h.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){h.validateArgCount("Reference.push",0,2,arguments.length),_t("Reference.push",this.path),pt("Reference.push",1,t,this.path,!0),h.validateCallback("Reference.push",2,e,!0);var n,r=this.repo.serverTime(),o=kt(r),l=this.child(o),c=this.child(o);return n=null!=t?l.set(t,e).then(function(){return c}):Promise.resolve(c),l.then=n.then.bind(n),l.catch=n.then.bind(n,void 0),"function"==typeof e&&n.catch(function(){}),l},e.prototype.onDisconnect=function(){return _t("Reference.onDisconnect",this.path),new Et(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!0,configurable:!0}),e}(le);le.__referenceConstructor=vn,Re.__referenceConstructor=vn;var yn,bn=function(){return function(){this.children={},this.childCount=0,this.value=null}}(),wn=function(){function t(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new bn),this.name_=t,this.parent_=e,this.node_=n}return t.prototype.subTree=function(e){for(var n,path=e instanceof Y?e:new Y(e),r=this;null!==(n=path.getFront());){r=new t(n,r,h.safeGet(r.node_.children,n)||new bn),path=path.popFront()}return r},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){h.assert(void 0!==t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;h.forEach(this.node_.children,function(r,o){e(new t(r,n,o))})},t.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild(function(e){e.forEachDescendant(t,!0,n)}),e&&n&&t(this)},t.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild(function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)})},t.prototype.path=function(){return new Y(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,e){var n=e.isEmpty(),r=h.contains(this.node_.children,t);n&&r?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},t}();!function(t){t[t.RUN=0]="RUN",t[t.SENT=1]="SENT",t[t.COMPLETED=2]="COMPLETED",t[t.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",t[t.NEEDS_ABORT=4]="NEEDS_ABORT"}(yn||(yn={})),fn.MAX_TRANSACTION_RETRIES_=25,fn.prototype.transactions_init_=function(){this.transactionQueueTree_=new wn},fn.prototype.startTransaction=function(path,t,e,n){this.log_("transaction on "+path);var r=function(){},o=new vn(this,path);o.on("value",r);var l={path:path,update:t,onComplete:e,status:null,order:E(),applyLocally:n,retryCount:0,unwatcher:function(){o.off("value",r)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},c=this.getLatestState_(path);l.currentInputSnapshot=c;var d=l.update(c.val());if(void 0===d){if(l.unwatcher(),l.currentOutputSnapshotRaw=null,l.currentOutputSnapshotResolved=null,l.onComplete){var f=new oe(l.currentInputSnapshot,new vn(this,l.path),Bt);l.onComplete(null,!1,f)}}else{mt("transaction failed: Data returned ",d,l.path),l.status=yn.RUN;var m=this.transactionQueueTree_.subTree(path),v=m.getValue()||[];v.push(l),m.setValue(v);var y=void 0;if("object"==typeof d&&null!==d&&h.contains(d,".priority"))y=h.safeGet(d,".priority"),h.assert(ft(y),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else y=(this.serverSyncTree_.calcCompleteEventCache(path)||Yt.EMPTY_NODE).getPriority().val();y=y;var w=this.generateServerValues(),_=Zt(d,y),S=fe(_,w);l.currentOutputSnapshotRaw=_,l.currentOutputSnapshotResolved=S,l.currentWriteId=this.getNextWriteId_();var T=this.serverSyncTree_.applyUserOverwrite(path,S,l.currentWriteId,l.applyLocally);this.eventQueue_.raiseEventsForChangedPath(path,T),this.sendReadyTransactions_()}},fn.prototype.getLatestState_=function(path,t){return this.serverSyncTree_.calcCompleteEventCache(path,t)||Yt.EMPTY_NODE},fn.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);h.assert(n.length>0,"Sending zero length transaction queue"),n.every(function(t){return t.status===yn.RUN})&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild(function(t){e.sendReadyTransactions_(t)})},fn.prototype.sendTransactionQueue_=function(path,t){for(var e=this,n=t.map(function(t){return t.currentWriteId}),r=this.getLatestState_(path,n),o=r,l=r.hash(),i=0;i<t.length;i++){var c=t[i];h.assert(c.status===yn.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=yn.SENT,c.retryCount++;var d=Y.relativePath(path,c.path);o=o.updateChild(d,c.currentOutputSnapshotRaw)}var f=o.val(!0),m=path;this.server_.put(m.toString(),f,function(n){e.log_("transaction put response",{path:m.toString(),status:n});var r=[];if("ok"===n){for(var o=[],i=0;i<t.length;i++){if(t[i].status=yn.COMPLETED,r=r.concat(e.serverSyncTree_.ackUserWrite(t[i].currentWriteId)),t[i].onComplete){var l=t[i].currentOutputSnapshotResolved,c=new vn(e,t[i].path),d=new oe(l,c,Bt);o.push(t[i].onComplete.bind(null,null,!0,d))}t[i].unwatcher()}e.pruneCompletedTransactionsBelowNode_(e.transactionQueueTree_.subTree(path)),e.sendReadyTransactions_(),e.eventQueue_.raiseEventsForChangedPath(path,r);for(i=0;i<o.length;i++)K(o[i])}else{if("datastale"===n)for(i=0;i<t.length;i++)t[i].status===yn.SENT_NEEDS_ABORT?t[i].status=yn.NEEDS_ABORT:t[i].status=yn.RUN;else{P("transaction at "+m.toString()+" failed: "+n);for(i=0;i<t.length;i++)t[i].status=yn.NEEDS_ABORT,t[i].abortReason=n}e.rerunTransactions_(path)}},l)},fn.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),path=e.path(),n=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(n,path),path},fn.prototype.rerunTransactionQueue_=function(t,path){if(0!==t.length){for(var e,n=[],r=[],o=t.filter(function(q){return q.status===yn.RUN}).map(function(q){return q.currentWriteId}),i=0;i<t.length;i++){var l=t[i],c=Y.relativePath(path,l.path),d=!1,f=void 0;if(h.assert(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===yn.NEEDS_ABORT)d=!0,f=l.abortReason,r=r.concat(this.serverSyncTree_.ackUserWrite(l.currentWriteId,!0));else if(l.status===yn.RUN)if(l.retryCount>=fn.MAX_TRANSACTION_RETRIES_)d=!0,f="maxretry",r=r.concat(this.serverSyncTree_.ackUserWrite(l.currentWriteId,!0));else{var m=this.getLatestState_(l.path,o);l.currentInputSnapshot=m;var v=t[i].update(m.val());if(void 0!==v){mt("transaction failed: Data returned ",v,l.path);var y=Zt(v);"object"==typeof v&&null!=v&&h.contains(v,".priority")||(y=y.updatePriority(m.getPriority()));var w=l.currentWriteId,_=this.generateServerValues(),S=fe(y,_);l.currentOutputSnapshotRaw=y,l.currentOutputSnapshotResolved=S,l.currentWriteId=this.getNextWriteId_(),o.splice(o.indexOf(w),1),r=(r=r.concat(this.serverSyncTree_.applyUserOverwrite(l.path,S,l.currentWriteId,l.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(w,!0))}else d=!0,f="nodata",r=r.concat(this.serverSyncTree_.ackUserWrite(l.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(path,r),r=[],d&&(t[i].status=yn.COMPLETED,e=t[i].unwatcher,setTimeout(e,Math.floor(0)),t[i].onComplete))if("nodata"===f){var E=new vn(this,t[i].path),T=t[i].currentInputSnapshot,k=new oe(T,E,Bt);n.push(t[i].onComplete.bind(null,null,!1,k))}else n.push(t[i].onComplete.bind(null,new Error(f),!1,null))}this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_);for(i=0;i<n.length;i++)K(n[i]);this.sendReadyTransactions_()}},fn.prototype.getAncestorTransactionNode_=function(path){for(var t,e=this.transactionQueueTree_;null!==(t=path.getFront())&&null===e.getValue();)e=e.subTree(t),path=path.popFront();return e},fn.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort(function(a,b){return a.order-b.order}),e},fn.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,r=t.getValue();if(null!==r)for(var i=0;i<r.length;i++)e.push(r[i]);t.forEachChild(function(t){n.aggregateTransactionQueuesForNode_(t,e)})},fn.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var r=0,o=0;o<n.length;o++)n[o].status!==yn.COMPLETED&&(n[r]=n[o],r++);n.length=r,t.setValue(n.length>0?n:null)}t.forEachChild(function(t){e.pruneCompletedTransactionsBelowNode_(t)})},fn.prototype.abortTransactions_=function(path){var t=this,e=this.getAncestorTransactionNode_(path).path(),n=this.transactionQueueTree_.subTree(path);return n.forEachAncestor(function(e){t.abortTransactionsOnNode_(e)}),this.abortTransactionsOnNode_(n),n.forEachDescendant(function(e){t.abortTransactionsOnNode_(e)}),e},fn.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],r=[],o=-1,i=0;i<e.length;i++)if(e[i].status===yn.SENT_NEEDS_ABORT);else if(e[i].status===yn.SENT)h.assert(o===i-1,"All SENT items should be at beginning of queue."),o=i,e[i].status=yn.SENT_NEEDS_ABORT,e[i].abortReason="set";else if(h.assert(e[i].status===yn.RUN,"Unexpected transaction status in abort"),e[i].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(e[i].currentWriteId,!0)),e[i].onComplete){n.push(e[i].onComplete.bind(null,new Error("set"),!1,null))}-1===o?t.setValue(null):e.length=o+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),r);for(i=0;i<n.length;i++)K(n[i])}};var _n,Sn=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return _n||(_n=new t),_n},t.prototype.interrupt=function(){for(var t in this.repos_)for(var e in this.repos_[t])this.repos_[t][e].interrupt()},t.prototype.resume=function(){for(var t in this.repos_)for(var e in this.repos_[t])this.repos_[t][e].resume()},t.prototype.databaseFromApp=function(t,e){var n=e||t.options.databaseURL;void 0===n&&D("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.initializeApp().");var r=at(n),o=r.repoInfo;return St("Invalid Firebase Database URL",1,r),r.path.isEmpty()||D("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(o,t).database},t.prototype.deleteRepo=function(t){var e=h.safeGet(this.repos_,t.app.name);e&&h.safeGet(e,t.repoInfo_.toURLString())===t||D("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.repoInfo_.toURLString()]},t.prototype.createRepo=function(t,e){var n=h.safeGet(this.repos_,e.name);n||(n={},this.repos_[e.name]=n);var r=h.safeGet(n,t.toURLString());return r&&D("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new fn(t,this.useRestClient_,e),n[t.toURLString()]=r,r},t.prototype.forceRestClient=function(t){this.useRestClient_=t},t}(),En=function(){function t(t){this.repo_=t,t instanceof fn||D("Don't call new Database() directly - please use firebase.database()."),this.root_=new vn(t,Y.Empty),this.INTERNAL=new Tn(this)}return Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!0,configurable:!0}),t.prototype.ref=function(path){return this.checkDeleted_("ref"),h.validateArgCount("database.ref",0,1,arguments.length),path instanceof vn?this.refFromURL(path.toString()):void 0!==path?this.root_.child(path):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),h.validateArgCount(e,1,1,arguments.length);var n=at(t);St(e,1,n);var r=n.repoInfo;return r.host!==this.repo_.repoInfo_.host&&D(e+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repo_&&D("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){h.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){h.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"}},t}(),Tn=function(){function t(t){this.database=t}return t.prototype.delete=function(){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(t){return this.database.checkDeleted_("delete"),Sn.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]})})},t}(),kn=Object.freeze({forceLongPolling:function(){on.forceDisallow(),en.forceAllow()},forceWebSockets:function(){en.forceDisallow()},isWebSocketsAvailable:function(){return on.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){t.repo.stats(e)},statsIncrementCounter:function(t,e){t.repo.statsIncrementCounter(e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return t.repo.interceptServerData_(e)}}),xn=dn;dn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},dn.prototype.echo=function(data,t){this.sendRequest("echo",{d:data},t)};var Cn=sn,In=Z,On=Object.freeze({DataConnection:xn,RealTimeConnection:Cn,hijackHash:function(t){var e=dn.prototype.put;return dn.prototype.put=function(n,data,r,o){void 0!==o&&(o=t()),e.call(this,n,data,r,o)},function(){dn.prototype.put=e}},ConnectionTarget:In,queryIdentifier:function(t){return t.queryIdentifier()},listens:function(t){return t.repo.persistentConnection_.listens_},forceRestClient:function(t){Sn.getInstance().forceRestClient(t)}}),An=En.ServerValue;function Nn(e){var n=e.INTERNAL.registerService("database",function(t,e,n){return Sn.getInstance().databaseFromApp(t,n)},{Reference:vn,Query:le,Database:En,DataSnapshot:oe,enableLogging:I,INTERNAL:kn,ServerValue:An,TEST_ACCESS:On},null,!0);h.isNodeSdk()&&(t.exports=n)}Nn(c),e.DataSnapshot=oe,e.Database=En,e.OnDisconnect=Et,e.Query=le,e.Reference=vn,e.ServerValue=An,e.enableLogging=I,e.registerDatabase=Nn}).call(this,n(43))},function(t,e,n){"use strict";n.r(e),n.d(e,"LogLevel",function(){return r}),n.d(e,"Logger",function(){return d}),n.d(e,"setLogLevel",function(){return h});var r,o=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(r||(r={}));var l=r.INFO,c=function(t,e){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];if(!(e<t.logLevel)){var l=(new Date).toISOString();switch(e){case r.DEBUG:case r.VERBOSE:console.log.apply(console,["["+l+"]  "+t.name+":"].concat(n));break;case r.INFO:console.info.apply(console,["["+l+"]  "+t.name+":"].concat(n));break;case r.WARN:console.warn.apply(console,["["+l+"]  "+t.name+":"].concat(n));break;case r.ERROR:console.error.apply(console,["["+l+"]  "+t.name+":"].concat(n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}}},d=function(){function t(t){this.name=t,this._logLevel=l,this._logHandler=c,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in r))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,r.DEBUG].concat(t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,r.VERBOSE].concat(t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,r.INFO].concat(t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,r.WARN].concat(t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,r.ERROR].concat(t))},t}();function h(t){o.forEach(function(e){e.logLevel=t})}},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r,o,l=(r=n(1))&&"object"==typeof r&&"default"in r?r.default:r,c=n(456),d=n(0),h=n(457),f=n(241),m=l.SDK_VERSION,v=new c.Logger("@firebase/firestore");function y(){return v.logLevel===c.LogLevel.DEBUG?o.DEBUG:v.logLevel===c.LogLevel.SILENT?o.SILENT:o.ERROR}function w(t){switch(t){case o.DEBUG:v.logLevel=c.LogLevel.DEBUG;break;case o.ERROR:v.logLevel=c.LogLevel.ERROR;break;case o.SILENT:v.logLevel=c.LogLevel.SILENT;break;default:v.error("Firestore ("+m+"): Invalid value passed to `setLogLevel`")}}function _(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(v.logLevel<=c.LogLevel.DEBUG){var o=n.map(E);v.debug.apply(v,["Firestore ("+m+") ["+t+"]: "+e].concat(o))}}function S(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(v.logLevel<=c.LogLevel.ERROR){var r=e.map(E);v.error.apply(v,["Firestore ("+m+"): "+t].concat(r))}}function E(t){if("string"==typeof t)return t;var e=x.getPlatform();try{return e.formatJSON(t)}catch(e){return t}}function T(t){var e="FIRESTORE ("+m+") INTERNAL ASSERTION FAILED: "+t;throw S(e),new Error(e)}function k(t,e){t||T(e)}!function(t){t[t.DEBUG=0]="DEBUG",t[t.ERROR=1]="ERROR",t[t.SILENT=2]="SILENT"}(o||(o={}));var x=function(){function t(){}return t.setPlatform=function(e){t.platform&&T("Platform already defined"),t.platform=e},t.getPlatform=function(){return t.platform||T("Platform not set"),t.platform},t}();function C(){return x.getPlatform().emptyByteString}var I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},O=function(t){function e(code,e){var n=t.call(this,e)||this;return n.code=code,n.message=e,n.name="FirebaseError",n.toString=function(){return n.name+": [code="+n.code+"]: "+n.message},n}return d.__extends(e,t),e}(Error);function A(t,e){function n(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new O(I.INVALID_ARGUMENT,t)}for(var r in n.prototype=t.prototype,t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}function N(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function D(t,e){return void 0!==t?t:e}function P(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Number(n);isNaN(r)||e(r,t[n])}}function R(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function M(t){for(var e in k(null!=t&&"object"==typeof t,"isEmpty() expects object parameter."),t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function L(t,e){if(0!==e.length)throw new O(I.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+tt(e.length,"argument")+".")}function j(t,e,n){if(e.length!==n)throw new O(I.INVALID_ARGUMENT,"Function "+t+"() requires "+tt(n,"argument")+", but was called with "+tt(e.length,"argument")+".")}function B(t,e,n){if(e.length<n)throw new O(I.INVALID_ARGUMENT,"Function "+t+"() requires at least "+tt(n,"argument")+", but was called with "+tt(e.length,"argument")+".")}function F(t,e,n,r){if(e.length<n||e.length>r)throw new O(I.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+tt(e.length,"argument")+".")}function U(t,e,n,r){K(t,e,Z(n)+" argument",r)}function V(t,e,n,r){void 0!==r&&U(t,e,n,r)}function $(t,e,n,r){K(t,e,n+" option",r)}function W(t,e,n,r){void 0!==r&&$(t,e,n,r)}function z(t,e,n,r,o){void 0!==r&&function(t,e,n,r,o){if(!(r instanceof Array))throw new O(I.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+Q(r));for(var i=0;i<r.length;++i)if(!o(r[i]))throw new O(I.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be "+n+", but the value at index "+i+" was: "+Q(r[i]))}(t,e,n,r,o)}function H(t,e,n,input,r){void 0!==input&&function(t,e,n,input,r){for(var o=[],l=0,c=r;l<c.length;l++){var d=c[l];if(d===input)return;o.push(Q(d))}var h=Q(input);throw new O(I.INVALID_ARGUMENT,"Invalid value "+h+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(t,0,n,input,r)}function K(t,e,n,input){if(!("object"===e?G(input):"non-empty string"===e?"string"==typeof input&&""!==input:typeof input===e)){var r=Q(input);throw new O(I.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+r)}}function G(input){return"object"==typeof input&&null!==input&&(Object.getPrototypeOf(input)===Object.prototype||null===Object.getPrototypeOf(input))}function Q(input){if(void 0===input)return"undefined";if(null===input)return"null";if("string"==typeof input)return input.length>20&&(input=input.substring(0,20)+"..."),JSON.stringify(input);if("number"==typeof input||"boolean"==typeof input)return""+input;if("object"==typeof input){if(input instanceof Array)return"an array";var t=function(input){if(input.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(input.constructor.toString());if(t&&t.length>1)return t[1]}return null}(input);return t?"a custom "+t+" object":"an object"}return"function"==typeof input?"a function":T("Unknown wrong type: "+typeof input)}function Y(t,e,n){if(void 0===n)throw new O(I.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+Z(e)+" argument, but it was undefined.")}function X(t,e,n){R(e,function(e,r){if(n.indexOf(e)<0)throw new O(I.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))})}function J(t,e,n,r){var o=Q(r);return new O(I.INVALID_ARGUMENT,"Function "+t+"() requires its "+Z(n)+" argument to be a "+e+", but it was: "+o)}function Z(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function tt(t,e){return t+" "+e+(1===t?"":"s")}var et=function(){function t(){}return t.newId=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e="",i=0;i<20;i++)e+=t.charAt(Math.floor(Math.random()*t.length));return k(20===e.length,"Invalid auto ID: "+e),e},t}();function nt(t,e){return t<e?-1:t>e?1:0}function ot(t,e){if(t.length!==e.length)return!1;for(var i=0;i<t.length;i++)if(!t[i].isEqual(e[i]))return!1;return!0}function it(s){return s+"\0"}function at(){if("undefined"==typeof Uint8Array)throw new O(I.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function st(){if(!x.getPlatform().base64Available)throw new O(I.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var ut,lt,ct=function(){function t(t){st(),this._binaryString=t}return t.fromBase64String=function(e){j("Blob.fromBase64String",arguments,1),U("Blob.fromBase64String","string",1,e),st();try{return new t(x.getPlatform().atob(e))}catch(t){throw new O(I.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},t.fromUint8Array=function(e){if(j("Blob.fromUint8Array",arguments,1),at(),!(e instanceof Uint8Array))throw J("Blob.fromUint8Array","Uint8Array",1,e);return new t(Array.prototype.map.call(e,function(t){return String.fromCharCode(t)}).join(""))},t.prototype.toBase64=function(){return j("Blob.toBase64",arguments,0),st(),x.getPlatform().btoa(this._binaryString)},t.prototype.toUint8Array=function(){j("Blob.toUint8Array",arguments,0),at();for(var t=new Uint8Array(this._binaryString.length),i=0;i<this._binaryString.length;i++)t[i]=this._binaryString.charCodeAt(i);return t},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._binaryString===t._binaryString},t.prototype._compareTo=function(t){return nt(this._binaryString,t._binaryString)},t}(),ht=A(ct,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),ft=function(){function t(t,e){if(j("GeoPoint",arguments,2),U("GeoPoint","number",1,t),U("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new O(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new O(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype._compareTo=function(t){return nt(this._lat,t._lat)||nt(this._long,t._long)},t}(),pt=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new O(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new O(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new O(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new O(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?nt(this.nanoseconds,t.nanoseconds):nt(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t}(),mt=function(){return function(t,e,n,r,o){this.databaseId=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=o}}(),gt="(default)",vt=function(){function t(t,e){this.projectId=t,this.database=e||gt}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return this.database===gt},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.compareTo=function(t){return nt(this.projectId,t.projectId)||nt(this.database,t.database)},t}(),yt=function(){function t(t,e,n){this.init(t,e,n)}return t.prototype.init=function(t,e,n){void 0===e?e=0:e>t.length&&T("offset "+e+" out of range "+t.length),void 0===n?n=t.length-e:n>t.length-e&&T("length "+n+" out of range "+(t.length-e)),this.segments=t,this.offset=e,this.len=n},t.prototype.construct=function(t,e,n){var path=Object.create(Object.getPrototypeOf(this));return path.init(t,e,n),path},Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):"string"==typeof e?n.push(e):T("Unknown parameter type for Path.child(): "+e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return t=void 0===t?1:t,k(this.length>=t,"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return k(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return k(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return k(t<this.length,"Index out of range"),this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0},t.prototype.forEach=function(t){for(var i=this.offset,e=this.limit();i<e;i++)t(this.segments[i])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),i=0;i<n;i++){var r=t.get(i),o=e.get(i);if(r<o)return-1;if(r>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),bt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d.__extends(e,t),e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(path){if(path.indexOf("//")>=0)throw new O(I.INVALID_ARGUMENT,"Invalid path ("+path+"). Paths must not contain // in them.");return new e(path.split("/").filter(function(t){return t.length>0}))},e.EMPTY_PATH=new e([]),e}(yt),wt=/^[_a-zA-Z][_a-zA-Z0-9]*$/,_t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d.__extends(e,t),e.isValidIdentifier=function(t){return wt.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(path){for(var t=[],n="",i=0,r=function(){if(0===n.length)throw new O(I.INVALID_ARGUMENT,"Invalid field path ("+path+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");t.push(n),n=""},o=!1;i<path.length;){var l=path[i];if("\\"===l){if(i+1===path.length)throw new O(I.INVALID_ARGUMENT,"Path has trailing escape character: "+path);var c=path[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new O(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+path);n+=c,i+=2}else"`"===l?(o=!o,i++):"."!==l||o?(n+=l,i++):(r(),i++)}if(r(),o)throw new O(I.INVALID_ARGUMENT,"Unterminated ` in path: "+path);return new e(t)},e.EMPTY_PATH=new e([]),e}(yt),St=function(){function t(path){this.path=path,k(t.isDocumentKey(path),"Invalid DocumentKey with an odd number of segments: "+path.toArray().join("/"))}return t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===bt.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return bt.comparator(t.path,e.path)},t.isDocumentKey=function(path){return path.length%2==0},t.fromSegments=function(e){return new t(new bt(e.slice()))},t.fromPathString=function(path){return new t(bt.fromString(path))},t.EMPTY=new t(new bt([])),t}(),Et=function(){function t(t,e){this.key=t,this.version=e}return t.compareByKey=function(t,e){return St.comparator(t.key,e.key)},t}(),Tt=function(t){function e(e,n,data,r,o){var l=t.call(this,e,n)||this;return l.data=data,l.proto=o,l.hasLocalMutations=!!r.hasLocalMutations,l.hasCommittedMutations=!!r.hasCommittedMutations,l}return d.__extends(e,t),e.prototype.field=function(path){return this.data.field(path)},e.prototype.fieldValue=function(path){var t=this.field(path);return t?t.value():void 0},e.prototype.value=function(){return this.data.value()},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.data.isEqual(t.data)&&this.hasLocalMutations===t.hasLocalMutations&&this.hasCommittedMutations===t.hasCommittedMutations},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.compareByField=function(t,e,n){var r=e.field(t),o=n.field(t);return void 0!==r&&void 0!==o?r.compareTo(o):T("Trying to compare documents on fields that don't exist")},e}(Et),kt=function(t){function e(e,n,r){var o=t.call(this,e,n)||this;return o.hasCommittedMutations=!(!r||!r.hasCommittedMutations),o}return d.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Et),xt=function(t){function e(e,n){return t.call(this,e,n)||this}return d.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Et),Ct=function(){function t(t,e){this.comparator=t,this.root=e||Ot.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ot.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ot.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new It(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new It(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new It(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new It(this.root,t,this.comparator,!0)},t}(),It=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var o=1;!t.isEmpty();)if(o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){k(this.nodeStack.length>0,"getNext() called on iterator when hasNext() is false.");var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Ot=function(){function t(e,n,r,o,l){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=o?o:t.EMPTY,this.right=null!=l?l:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,o,l){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=l?l:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,o=n(t,r.key);return(r=o<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===n(e,o.key)){if(o.right.isEmpty())return t.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw T("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw T("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check();if(t!==this.right.check())throw T("Black depths differ");return t+(this.isRed()?0:1)},t.EMPTY=null,t.RED=!0,t.BLACK=!1,t}(),At=function(){function t(){this.size=0}return t.prototype.copy=function(t,e,n,r,o){return this},t.prototype.insert=function(t,e,n){return new Ot(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}();Ot.EMPTY=new At,function(t){t[t.NullValue=0]="NullValue",t[t.BooleanValue=1]="BooleanValue",t[t.NumberValue=2]="NumberValue",t[t.TimestampValue=3]="TimestampValue",t[t.StringValue=4]="StringValue",t[t.BlobValue=5]="BlobValue",t[t.RefValue=6]="RefValue",t[t.GeoPointValue=7]="GeoPointValue",t[t.ArrayValue=8]="ArrayValue",t[t.ObjectValue=9]="ObjectValue"}(ut||(ut={})),function(t){t[t.Default=0]="Default",t[t.Estimate=1]="Estimate",t[t.Previous=2]="Previous"}(lt||(lt={}));var Nt=function(){function t(t,e){this.serverTimestampBehavior=t,this.timestampsInSnapshots=e}return t.fromSnapshotOptions=function(e,n){switch(e.serverTimestamps){case"estimate":return new t(lt.Estimate,n);case"previous":return new t(lt.Previous,n);case"none":case void 0:return new t(lt.Default,n);default:return T("fromSnapshotOptions() called with invalid options.")}},t}(),Dt=function(){function t(){}return t.prototype.toString=function(){var t=this.value();return null===t?"null":t.toString()},t.prototype.defaultCompareTo=function(t){return k(this.typeOrder!==t.typeOrder,"Default compareTo should not be used for values of same type."),nt(this.typeOrder,t.typeOrder)},t}(),Pt=function(t){function e(){var e=t.call(this)||this;return e.typeOrder=ut.NullValue,e.internalValue=null,e}return d.__extends(e,t),e.prototype.value=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e},e.prototype.compareTo=function(t){return t instanceof e?0:this.defaultCompareTo(t)},e.INSTANCE=new e,e}(Dt),Rt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=ut.BooleanValue,n}return d.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?nt(this,t):this.defaultCompareTo(t)},e.of=function(t){return t?e.TRUE:e.FALSE},e.TRUE=new e(!0),e.FALSE=new e(!1),e}(Dt),Mt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=ut.NumberValue,n}return d.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.compareTo=function(t){return t instanceof e?(n=this.internalValue,r=t.internalValue,n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1):this.defaultCompareTo(t);var n,r},e}(Dt);function Lt(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}var jt=function(t){function e(e){return t.call(this,e)||this}return d.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&Lt(this.internalValue,t.internalValue)},e}(Mt),Bt=function(t){function e(e){var n=t.call(this,e)||this;return n.internalValue=e,n}return d.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&Lt(this.internalValue,t.internalValue)},e.NAN=new e(NaN),e.POSITIVE_INFINITY=new e(1/0),e.NEGATIVE_INFINITY=new e(-1/0),e}(Mt),Ft=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=ut.StringValue,n}return d.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?nt(this.internalValue,t.internalValue):this.defaultCompareTo(t)},e}(Dt),Ut=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=ut.TimestampValue,n}return d.__extends(e,t),e.prototype.value=function(t){return!t||t.timestampsInSnapshots?this.internalValue:this.internalValue.toDate()},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):t instanceof Vt?-1:this.defaultCompareTo(t)},e}(Dt),Vt=function(t){function e(e,n){var r=t.call(this)||this;return r.localWriteTime=e,r.previousValue=n,r.typeOrder=ut.TimestampValue,r}return d.__extends(e,t),e.prototype.value=function(t){return t&&t.serverTimestampBehavior===lt.Estimate?new Ut(this.localWriteTime).value(t):t&&t.serverTimestampBehavior===lt.Previous&&this.previousValue?this.previousValue.value(t):null},e.prototype.isEqual=function(t){return t instanceof e&&this.localWriteTime.isEqual(t.localWriteTime)},e.prototype.compareTo=function(t){return t instanceof e?this.localWriteTime._compareTo(t.localWriteTime):t instanceof Ut?1:this.defaultCompareTo(t)},e.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},e}(Dt),qt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=ut.BlobValue,n}return d.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(Dt),$t=function(t){function e(e,n){var r=t.call(this)||this;return r.databaseId=e,r.key=n,r.typeOrder=ut.RefValue,r}return d.__extends(e,t),e.prototype.value=function(t){return this.key},e.prototype.isEqual=function(t){return t instanceof e&&(this.key.isEqual(t.key)&&this.databaseId.isEqual(t.databaseId))},e.prototype.compareTo=function(t){if(t instanceof e){var n=this.databaseId.compareTo(t.databaseId);return 0!==n?n:St.comparator(this.key,t.key)}return this.defaultCompareTo(t)},e}(Dt),Wt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=ut.GeoPointValue,n}return d.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(Dt),zt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=ut.ObjectValue,n}return d.__extends(e,t),e.prototype.value=function(t){var e={};return this.internalValue.inorderTraversal(function(n,r){e[n]=r.value(t)}),e},e.prototype.forEach=function(t){this.internalValue.inorderTraversal(t)},e.prototype.isEqual=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var o=n.getNext(),l=r.getNext();if(o.key!==l.key||!o.value.isEqual(l.value))return!1}return!n.hasNext()&&!r.hasNext()}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var o=n.getNext(),l=r.getNext(),c=nt(o.key,l.key)||o.value.compareTo(l.value);if(c)return c}return nt(n.hasNext(),r.hasNext())}return this.defaultCompareTo(t)},e.prototype.set=function(path,t){if(k(!path.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===path.length)return this.setChild(path.firstSegment(),t);var n=this.child(path.firstSegment());n instanceof e||(n=e.EMPTY);var r=n.set(path.popFirst(),t);return this.setChild(path.firstSegment(),r)},e.prototype.delete=function(path){if(k(!path.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===path.length)return new e(this.internalValue.remove(path.firstSegment()));var t=this.child(path.firstSegment());if(t instanceof e){var n=t.delete(path.popFirst());return new e(this.internalValue.insert(path.firstSegment(),n))}return this},e.prototype.contains=function(path){return void 0!==this.field(path)},e.prototype.field=function(path){k(!path.isEmpty(),"Can't get field of empty path");var t=this;return path.forEach(function(n){t=t instanceof e&&t.internalValue.get(n)||void 0}),t},e.prototype.toString=function(){return this.internalValue.toString()},e.prototype.child=function(t){return this.internalValue.get(t)||void 0},e.prototype.setChild=function(t,n){return new e(this.internalValue.insert(t,n))},e.EMPTY=new e(new Ct(nt)),e}(Dt),Ht=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=ut.ArrayValue,n}return d.__extends(e,t),e.prototype.value=function(t){return this.internalValue.map(function(e){return e.value(t)})},e.prototype.forEach=function(t){this.internalValue.forEach(t)},e.prototype.isEqual=function(t){if(t instanceof e){if(this.internalValue.length!==t.internalValue.length)return!1;for(var i=0;i<this.internalValue.length;i++)if(!this.internalValue[i].isEqual(t.internalValue[i]))return!1;return!0}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=Math.min(this.internalValue.length,t.internalValue.length),i=0;i<n;i++){var r=this.internalValue[i].compareTo(t.internalValue[i]);if(r)return r}return nt(this.internalValue.length,t.internalValue.length)}return this.defaultCompareTo(t)},e.prototype.toString=function(){return"["+this.internalValue.map(function(t){return t.toString()}).join(",")+"]"},e}(Dt),Kt=Number,Gt=Kt.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),Qt=Kt.MAX_SAFE_INTEGER||Math.pow(2,53)-1,Yt=Kt.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t};function Xt(t){return null==t}function Jt(t){return Yt(t)&&t<=Qt&&t>=Gt}var Zt,te=function(){function t(path,t,e,n,r,o,l){void 0===t&&(t=null),void 0===e&&(e=[]),void 0===n&&(n=[]),void 0===r&&(r=null),void 0===o&&(o=null),void 0===l&&(l=null),this.path=path,this.collectionGroup=t,this.explicitOrderBy=e,this.filters=n,this.limit=r,this.startAt=o,this.endAt=l,this.memoizedCanonicalId=null,this.memoizedOrderBy=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}return t.atPath=function(path){return new t(path)},Object.defineProperty(t.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var t=this.getInequalityFilterField(),e=this.getFirstOrderByField();if(null!==t&&null===e)t.isKeyField()?this.memoizedOrderBy=[le]:this.memoizedOrderBy=[new ue(t),le];else{k(null===t||null!==e&&t.isEqual(e),"First orderBy should match inequality field."),this.memoizedOrderBy=[];for(var n=!1,r=0,o=this.explicitOrderBy;r<o.length;r++){var l=o[r];this.memoizedOrderBy.push(l),l.field.isKeyField()&&(n=!0)}if(!n){var c=this.explicitOrderBy.length>0?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:ae.ASCENDING;this.memoizedOrderBy.push(c===ae.ASCENDING?le:ce)}}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),t.prototype.addFilter=function(filter){k(null==this.getInequalityFilterField()||!(filter instanceof re)||!filter.isInequality()||filter.field.isEqual(this.getInequalityFilterField()),"Query must only have one inequality field."),k(!this.isDocumentQuery(),"No filtering allowed for document query");var e=this.filters.concat([filter]);return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),e,this.limit,this.startAt,this.endAt)},t.prototype.addOrderBy=function(e){k(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var n=this.explicitOrderBy.concat([e]);return new t(this.path,this.collectionGroup,n,this.filters.slice(),this.limit,this.startAt,this.endAt)},t.prototype.withLimit=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),e,this.startAt,this.endAt)},t.prototype.withStartAt=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,e,this.endAt)},t.prototype.withEndAt=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,e)},t.prototype.asCollectionQueryAtPath=function(path){return new t(path,null,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,this.endAt)},t.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var t=this.path.canonicalString();this.isCollectionGroupQuery()&&(t+="|cg:"+this.collectionGroup),t+="|f:";for(var e=0,n=this.filters;e<n.length;e++){t+=n[e].canonicalId(),t+=","}t+="|ob:";for(var r=0,o=this.orderBy;r<o.length;r++){t+=o[r].canonicalId(),t+=","}Xt(this.limit)||(t+="|l:",t+=this.limit),this.startAt&&(t+="|lb:",t+=this.startAt.canonicalId()),this.endAt&&(t+="|ub:",t+=this.endAt.canonicalId()),this.memoizedCanonicalId=t}return this.memoizedCanonicalId},t.prototype.toString=function(){var t="Query("+this.path.canonicalString();return this.isCollectionGroupQuery()&&(t+=" collectionGroup="+this.collectionGroup),this.filters.length>0&&(t+=", filters: ["+this.filters.join(", ")+"]"),Xt(this.limit)||(t+=", limit: "+this.limit),this.explicitOrderBy.length>0&&(t+=", orderBy: ["+this.explicitOrderBy.join(", ")+"]"),this.startAt&&(t+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(t+=", endAt: "+this.endAt.canonicalId()),t+")"},t.prototype.isEqual=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var i=0;i<this.orderBy.length;i++)if(!this.orderBy[i].isEqual(t.orderBy[i]))return!1;if(this.filters.length!==t.filters.length)return!1;for(i=0;i<this.filters.length;i++)if(!this.filters[i].isEqual(t.filters[i]))return!1;return this.collectionGroup===t.collectionGroup&&(!!this.path.isEqual(t.path)&&(!(null!==this.startAt?!this.startAt.isEqual(t.startAt):null!==t.startAt)&&(null!==this.endAt?this.endAt.isEqual(t.endAt):null===t.endAt)))},t.prototype.docComparator=function(t,e){for(var n=!1,r=0,o=this.orderBy;r<o.length;r++){var l=o[r],c=l.compare(t,e);if(0!==c)return c;n=n||l.field.isKeyField()}return k(n,"orderBy used that doesn't compare on key field"),0},t.prototype.matches=function(t){return this.matchesPathAndCollectionGroup(t)&&this.matchesOrderBy(t)&&this.matchesFilters(t)&&this.matchesBounds(t)},t.prototype.hasLimit=function(){return!Xt(this.limit)},t.prototype.getFirstOrderByField=function(){return this.explicitOrderBy.length>0?this.explicitOrderBy[0].field:null},t.prototype.getInequalityFilterField=function(){for(var t=0,e=this.filters;t<e.length;t++){var filter=e[t];if(filter instanceof re&&filter.isInequality())return filter.field}return null},t.prototype.hasArrayContainsFilter=function(){return void 0!==this.filters.find(function(filter){return filter instanceof re&&filter.op===ne.ARRAY_CONTAINS})},t.prototype.isDocumentQuery=function(){return St.isDocumentKey(this.path)&&null===this.collectionGroup&&0===this.filters.length},t.prototype.isCollectionGroupQuery=function(){return null!==this.collectionGroup},t.prototype.matchesPathAndCollectionGroup=function(t){var e=t.key.path;return null!==this.collectionGroup?t.key.hasCollectionId(this.collectionGroup)&&this.path.isPrefixOf(e):St.isDocumentKey(this.path)?this.path.isEqual(e):this.path.isImmediateParentOf(e)},t.prototype.matchesOrderBy=function(t){for(var e=0,n=this.explicitOrderBy;e<n.length;e++){var r=n[e];if(!r.field.isKeyField()&&void 0===t.field(r.field))return!1}return!0},t.prototype.matchesFilters=function(t){for(var e=0,n=this.filters;e<n.length;e++){if(!n[e].matches(t))return!1}return!0},t.prototype.matchesBounds=function(t){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,t))&&(!this.endAt||!this.endAt.sortsBeforeDocument(this.orderBy,t))},t.prototype.assertValidBound=function(t){k(t.position.length<=this.orderBy.length,"Bound is longer than orderBy")},t}(),ee=function(){function t(){}return t.create=function(t,e,n){if(n.isEqual(Pt.INSTANCE)){if(e!==ne.EQUAL)throw new O(I.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on null.");return new oe(t)}if(n.isEqual(Bt.NAN)){if(e!==ne.EQUAL)throw new O(I.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on NaN.");return new ie(t)}return new re(t,e,n)},t}(),ne=function(){function t(t){this.name=t}return t.fromString=function(e){switch(e){case"<":return t.LESS_THAN;case"<=":return t.LESS_THAN_OR_EQUAL;case"==":return t.EQUAL;case">=":return t.GREATER_THAN_OR_EQUAL;case">":return t.GREATER_THAN;case"array-contains":return t.ARRAY_CONTAINS;default:return T("Unknown relation: "+e)}},t.prototype.toString=function(){return this.name},t.prototype.isEqual=function(t){return this.name===t.name},t.LESS_THAN=new t("<"),t.LESS_THAN_OR_EQUAL=new t("<="),t.EQUAL=new t("=="),t.GREATER_THAN=new t(">"),t.GREATER_THAN_OR_EQUAL=new t(">="),t.ARRAY_CONTAINS=new t("array-contains"),t}(),re=function(t){function e(e,n,r){var o=t.call(this)||this;return o.field=e,o.op=n,o.value=r,o}return d.__extends(e,t),e.prototype.matches=function(t){if(this.field.isKeyField()){k(this.value instanceof $t,"Comparing on key, but filter value not a RefValue"),k(this.op!==ne.ARRAY_CONTAINS,"array-contains queries don't make sense on document keys.");var e=this.value,n=St.comparator(t.key,e.key);return this.matchesComparison(n)}var r=t.field(this.field);return void 0!==r&&this.matchesValue(r)},e.prototype.matchesValue=function(t){var e=this;return this.op===ne.ARRAY_CONTAINS?t instanceof Ht&&void 0!==t.internalValue.find(function(element){return element.isEqual(e.value)}):this.value.typeOrder===t.typeOrder&&this.matchesComparison(t.compareTo(this.value))},e.prototype.matchesComparison=function(t){switch(this.op){case ne.LESS_THAN:return t<0;case ne.LESS_THAN_OR_EQUAL:return t<=0;case ne.EQUAL:return 0===t;case ne.GREATER_THAN:return t>0;case ne.GREATER_THAN_OR_EQUAL:return t>=0;default:return T("Unknown relation op"+this.op)}},e.prototype.isInequality=function(){return this.op!==ne.EQUAL&&this.op!==ne.ARRAY_CONTAINS},e.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},e.prototype.isEqual=function(t){return t instanceof e&&(this.op.isEqual(t.op)&&this.field.isEqual(t.field)&&this.value.isEqual(t.value))},e.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},e}(ee),oe=function(t){function e(e){var n=t.call(this)||this;return n.field=e,n}return d.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return void 0!==e&&null===e.value()},e.prototype.canonicalId=function(){return this.field.canonicalString()+" IS null"},e.prototype.toString=function(){return this.field.canonicalString()+" IS null"},e.prototype.isEqual=function(t){return t instanceof e&&this.field.isEqual(t.field)},e}(ee),ie=function(t){function e(e){var n=t.call(this)||this;return n.field=e,n}return d.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field),n=e&&e.value();return"number"==typeof n&&isNaN(n)},e.prototype.canonicalId=function(){return this.field.canonicalString()+" IS NaN"},e.prototype.toString=function(){return this.field.canonicalString()+" IS NaN"},e.prototype.isEqual=function(t){return t instanceof e&&this.field.isEqual(t.field)},e}(ee),ae=function(){function t(t){this.name=t}return t.prototype.toString=function(){return this.name},t.ASCENDING=new t("asc"),t.DESCENDING=new t("desc"),t}(),se=function(){function t(t,e){this.position=t,this.before=e}return t.prototype.canonicalId=function(){for(var t=this.before?"b:":"a:",e=0,n=this.position;e<n.length;e++){t+=n[e].toString()}return t},t.prototype.sortsBeforeDocument=function(t,e){k(this.position.length<=t.length,"Bound has more components than query's orderBy");for(var n=0,i=0;i<this.position.length;i++){var r=t[i],component=this.position[i];if(r.field.isKeyField())k(component instanceof $t,"Bound has a non-key value where the key path is being used."),n=St.comparator(component.key,e.key);else{var o=e.field(r.field);k(void 0!==o,"Field should exist since document matched the orderBy already."),n=component.compareTo(o)}if(r.dir===ae.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},t.prototype.isEqual=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var i=0;i<this.position.length;i++){var e=this.position[i],n=t.position[i];return e.isEqual(n)}return!0},t}(),ue=function(){function t(t,e){this.field=t,void 0===e&&(e=ae.ASCENDING),this.dir=e,this.isKeyOrderBy=t.isKeyField()}return t.prototype.compare=function(t,e){var n=this.isKeyOrderBy?Tt.compareByKey(t,e):Tt.compareByField(this.field,t,e);switch(this.dir){case ae.ASCENDING:return n;case ae.DESCENDING:return-1*n;default:return T("Unknown direction: "+this.dir)}},t.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},t.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},t.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},t}(),le=new ue(_t.keyField(),ae.ASCENDING),ce=new ue(_t.keyField(),ae.DESCENDING),de=function(){function t(t){this.timestamp=t}return t.fromMicroseconds=function(e){var n=Math.floor(e/1e6);return new t(new pt(n,e%1e6*1e3))},t.fromTimestamp=function(e){return new t(e)},t.forDeletedDoc=function(){return t.MIN},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t.MIN=new t(new pt(0,0)),t}();!function(t){t[t.Listen=0]="Listen",t[t.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",t[t.LimboResolution=2]="LimboResolution"}(Zt||(Zt={}));var he,fe=function(){function t(t,e,n,r,o,l){void 0===o&&(o=de.MIN),void 0===l&&(l=C()),this.query=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=o,this.resumeToken=l}return t.prototype.copy=function(e){return new t(this.query,this.targetId,this.purpose,void 0===e.sequenceNumber?this.sequenceNumber:e.sequenceNumber,void 0===e.snapshotVersion?this.snapshotVersion:e.snapshotVersion,void 0===e.resumeToken?this.resumeToken:e.resumeToken)},t.prototype.isEqual=function(t){return this.targetId===t.targetId&&this.purpose===t.purpose&&this.sequenceNumber===t.sequenceNumber&&this.snapshotVersion.isEqual(t.snapshotVersion)&&this.resumeToken===t.resumeToken&&this.query.isEqual(t.query)},t}(),pe=function(){function t(t){this.comparator=t,this.data=new Ct(this.comparator)}return t.fromMapKeys=function(map){var e=new t(map.comparator);return map.forEach(function(t){e=e.add(t)}),e},t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();){if(!t(n.getNext().key))return}},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new me(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new me(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var o=n.getNext().key,l=r.getNext().key;if(0!==this.comparator(o,l))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(data){var e=new t(this.comparator);return e.data=data,e},t}(),me=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),ge=function(){function t(t){this.fields=t}return t.fromSet=function(e){return new t(e)},t.fromArray=function(e){var n=new pe(_t.comparator);return e.forEach(function(t){return n=n.add(t)}),new t(n)},t.prototype.covers=function(t){var e=!1;return this.fields.forEach(function(n){n.isPrefixOf(t)&&(e=!0)}),e},t.prototype.applyTo=function(data){var t=zt.EMPTY;return this.fields.forEach(function(e){if(e.isEmpty())return data;var n=data.field(e);void 0!==n&&(t=t.set(e,n))}),t},t.prototype.isEqual=function(t){return this.fields.isEqual(t.fields)},t}(),ve=function(){function t(t,e){this.field=t,this.transform=e}return Object.defineProperty(t.prototype,"isIdempotent",{get:function(){return this.transform.isIdempotent},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},t}(),ye=function(){return function(t,e){this.version=t,this.transformResults=e}}();!function(t){t[t.Set=0]="Set",t[t.Patch=1]="Patch",t[t.Transform=2]="Transform",t[t.Delete=3]="Delete"}(he||(he={}));var be=function(){function t(t,e){this.updateTime=t,this.exists=e,k(void 0===t||void 0===e,'Precondition can specify "exists" or "updateTime" but not both')}return t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.isValidFor=function(t){return void 0!==this.updateTime?t instanceof Tt&&t.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===t instanceof Tt:(k(this.isNone,"Precondition should be empty"),!0)},t.prototype.isEqual=function(t){return e=this.updateTime,n=t.updateTime,(null!=e?!(!n||!e.isEqual(n)):e===n)&&this.exists===t.exists;var e,n},t.NONE=new t,t}(),we=function(){function t(){}return t.prototype.verifyKeyMatches=function(t){null!=t&&k(t.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},t.getPostMutationVersion=function(t){return t instanceof Tt?t.version:de.MIN},t}(),_e=function(t){function e(e,n,r){var o=t.call(this)||this;return o.key=e,o.value=n,o.precondition=r,o.type=he.Set,o}return d.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){this.verifyKeyMatches(t),k(null==e.transformResults,"Transform results received by SetMutation.");var n=e.version;return new Tt(this.key,n,this.value,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=we.getPostMutationVersion(t);return new Tt(this.key,r,this.value,{hasLocalMutations:!0})},Object.defineProperty(e.prototype,"isIdempotent",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fieldMask",{get:function(){return null},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.precondition.isEqual(t.precondition)},e}(we),Se=function(t){function e(e,data,n,r){var o=t.call(this)||this;return o.key=e,o.data=data,o.fieldMask=n,o.precondition=r,o.type=he.Patch,o}return d.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),k(null==e.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(t))return new xt(this.key,e.version);var n=this.patchDocument(t);return new Tt(this.key,e.version,n,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=we.getPostMutationVersion(t),o=this.patchDocument(t);return new Tt(this.key,r,o,{hasLocalMutations:!0})},Object.defineProperty(e.prototype,"isIdempotent",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.fieldMask.isEqual(t.fieldMask)&&this.precondition.isEqual(t.precondition)},e.prototype.patchDocument=function(t){var data;return data=t instanceof Tt?t.data:zt.EMPTY,this.patchObject(data)},e.prototype.patchObject=function(data){var t=this;return this.fieldMask.fields.forEach(function(e){if(!e.isEmpty()){var n=t.data.field(e);data=void 0!==n?data.set(e,n):data.delete(e)}}),data},e}(we),Ee=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.fieldTransforms=n,r.type=he.Transform,r.precondition=be.exists(!0),r}return d.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),k(null!=e.transformResults,"Transform results missing for TransformMutation."),!this.precondition.isValidFor(t))return new xt(this.key,e.version);var n=this.requireDocument(t),r=this.serverTransformResults(t,e.transformResults),o=e.version,l=this.transformObject(n.data,r);return new Tt(this.key,o,l,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=this.requireDocument(t),o=this.localTransformResults(n,e),l=this.transformObject(r.data,o);return new Tt(this.key,r.version,l,{hasLocalMutations:!0})},Object.defineProperty(e.prototype,"isIdempotent",{get:function(){for(var t=0,e=this.fieldTransforms;t<e.length;t++){if(!e[t].isIdempotent)return!1}return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fieldMask",{get:function(){var t=new pe(_t.comparator);return this.fieldTransforms.forEach(function(e){return t=t.add(e.field)}),new ge(t)},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&ot(this.fieldTransforms,t.fieldTransforms)&&this.precondition.isEqual(t.precondition)},e.prototype.requireDocument=function(t){k(t instanceof Tt,"Unknown MaybeDocument type "+t);var e=t;return k(e.key.isEqual(this.key),"Can only transform a document with the same key"),e},e.prototype.serverTransformResults=function(t,e){var n=[];k(this.fieldTransforms.length===e.length,"server transform result count ("+e.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var i=0;i<e.length;i++){var r=this.fieldTransforms[i],o=r.transform,l=null;t instanceof Tt&&(l=t.field(r.field)||null),n.push(o.applyToRemoteDocument(l,e[i]))}return n},e.prototype.localTransformResults=function(t,e){for(var n=[],r=0,o=this.fieldTransforms;r<o.length;r++){var l=o[r],c=l.transform,d=null;e instanceof Tt&&(d=e.field(l.field)||null),n.push(c.applyToLocalView(d,t))}return n},e.prototype.transformObject=function(data,t){k(t.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var i=0;i<this.fieldTransforms.length;i++){var e=this.fieldTransforms[i].field;data=data.set(e,t[i])}return data},e}(we),Te=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.precondition=n,r.type=he.Delete,r}return d.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){return this.verifyKeyMatches(t),k(null==e.transformResults,"Transform results received by DeleteMutation."),new kt(this.key,e.version,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){return this.verifyKeyMatches(t),this.precondition.isValidFor(t)?(t&&k(t.key.isEqual(this.key),"Can only apply mutation to document with same key"),new kt(this.key,de.forDeletedDoc())):t},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.precondition.isEqual(t.precondition)},Object.defineProperty(e.prototype,"isIdempotent",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fieldMask",{get:function(){return null},enumerable:!0,configurable:!0}),e}(we),ke=function(){function t(){this.isIdempotent=!0}return t.prototype.applyToLocalView=function(t,e){return new Vt(e,t)},t.prototype.applyToRemoteDocument=function(t,e){return e},t.prototype.isEqual=function(e){return e instanceof t},t.instance=new t,t}(),xe=function(){function t(t){this.elements=t,this.isIdempotent=!0}return t.prototype.applyToLocalView=function(t,e){return this.apply(t)},t.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=Oe(t),n=function(t){e.find(function(element){return element.isEqual(t)})||e.push(t)},r=0,o=this.elements;r<o.length;r++){n(o[r])}return new Ht(e)},t.prototype.isEqual=function(e){return e instanceof t&&ot(e.elements,this.elements)},t}(),Ce=function(){function t(t){this.elements=t,this.isIdempotent=!0}return t.prototype.applyToLocalView=function(t,e){return this.apply(t)},t.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=Oe(t),n=function(t){e=e.filter(function(element){return!element.isEqual(t)})},r=0,o=this.elements;r<o.length;r++){n(o[r])}return new Ht(e)},t.prototype.isEqual=function(e){return e instanceof t&&ot(e.elements,this.elements)},t}(),Ie=function(){function t(t){this.operand=t,this.isIdempotent=!1}return t.prototype.applyToLocalView=function(t,e){if(t instanceof jt&&this.operand instanceof jt){var n=t.internalValue+this.operand.internalValue;return new jt(n)}if(t instanceof Mt){n=t.internalValue+this.operand.internalValue;return new Bt(n)}return this.operand},t.prototype.applyToRemoteDocument=function(t,e){return k(null!==e,"Didn't receive transformResult for NUMERIC_ADD transform"),e},t.prototype.isEqual=function(e){return e instanceof t&&this.operand.isEqual(e.operand)},t}();function Oe(t){return t instanceof Ht?t.internalValue.slice():[]}var Ae,Ne=function(){function t(t){this.count=t}return t.prototype.isEqual=function(t){return t&&t.count===this.count},t}();function De(code){switch(code){case I.OK:return T("Treated status OK as error");case I.CANCELLED:case I.UNKNOWN:case I.DEADLINE_EXCEEDED:case I.RESOURCE_EXHAUSTED:case I.INTERNAL:case I.UNAVAILABLE:case I.UNAUTHENTICATED:return!1;case I.INVALID_ARGUMENT:case I.NOT_FOUND:case I.ALREADY_EXISTS:case I.PERMISSION_DENIED:case I.FAILED_PRECONDITION:case I.ABORTED:case I.OUT_OF_RANGE:case I.UNIMPLEMENTED:case I.DATA_LOSS:return!0;default:return T("Unknown status code: "+code)}}function Pe(code){if(void 0===code)return S("GRPC error has no .code"),I.UNKNOWN;switch(code){case Ae.OK:return I.OK;case Ae.CANCELLED:return I.CANCELLED;case Ae.UNKNOWN:return I.UNKNOWN;case Ae.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case Ae.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case Ae.INTERNAL:return I.INTERNAL;case Ae.UNAVAILABLE:return I.UNAVAILABLE;case Ae.UNAUTHENTICATED:return I.UNAUTHENTICATED;case Ae.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case Ae.NOT_FOUND:return I.NOT_FOUND;case Ae.ALREADY_EXISTS:return I.ALREADY_EXISTS;case Ae.PERMISSION_DENIED:return I.PERMISSION_DENIED;case Ae.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case Ae.ABORTED:return I.ABORTED;case Ae.OUT_OF_RANGE:return I.OUT_OF_RANGE;case Ae.UNIMPLEMENTED:return I.UNIMPLEMENTED;case Ae.DATA_LOSS:return I.DATA_LOSS;default:return T("Unknown status code: "+code)}}function Re(code){if(void 0===code)return Ae.OK;switch(code){case I.OK:return Ae.OK;case I.CANCELLED:return Ae.CANCELLED;case I.UNKNOWN:return Ae.UNKNOWN;case I.DEADLINE_EXCEEDED:return Ae.DEADLINE_EXCEEDED;case I.RESOURCE_EXHAUSTED:return Ae.RESOURCE_EXHAUSTED;case I.INTERNAL:return Ae.INTERNAL;case I.UNAVAILABLE:return Ae.UNAVAILABLE;case I.UNAUTHENTICATED:return Ae.UNAUTHENTICATED;case I.INVALID_ARGUMENT:return Ae.INVALID_ARGUMENT;case I.NOT_FOUND:return Ae.NOT_FOUND;case I.ALREADY_EXISTS:return Ae.ALREADY_EXISTS;case I.PERMISSION_DENIED:return Ae.PERMISSION_DENIED;case I.FAILED_PRECONDITION:return Ae.FAILED_PRECONDITION;case I.ABORTED:return Ae.ABORTED;case I.OUT_OF_RANGE:return Ae.OUT_OF_RANGE;case I.UNIMPLEMENTED:return Ae.UNIMPLEMENTED;case I.DATA_LOSS:return Ae.DATA_LOSS;default:return T("Unknown status code: "+code)}}!function(t){t[t.OK=0]="OK",t[t.CANCELLED=1]="CANCELLED",t[t.UNKNOWN=2]="UNKNOWN",t[t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",t[t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",t[t.NOT_FOUND=5]="NOT_FOUND",t[t.ALREADY_EXISTS=6]="ALREADY_EXISTS",t[t.PERMISSION_DENIED=7]="PERMISSION_DENIED",t[t.UNAUTHENTICATED=16]="UNAUTHENTICATED",t[t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",t[t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",t[t.ABORTED=10]="ABORTED",t[t.OUT_OF_RANGE=11]="OUT_OF_RANGE",t[t.UNIMPLEMENTED=12]="UNIMPLEMENTED",t[t.INTERNAL=13]="INTERNAL",t[t.UNAVAILABLE=14]="UNAVAILABLE",t[t.DATA_LOSS=15]="DATA_LOSS"}(Ae||(Ae={}));var Me=new Ct(St.comparator);function Le(){return Me}function je(){return Le()}var Be=new Ct(St.comparator);function Fe(){return Be}var Ue=new Ct(St.comparator);function Ve(){return Ue}var qe=new pe(St.comparator);function $e(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=qe,r=0,o=t;r<o.length;r++){var l=o[r];n=n.add(l)}return n}var We=new pe(nt);function ze(){return We}var He,Ke,Ge=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||St.comparator(e.key,n.key)}:function(t,e){return St.comparator(t.key,e.key)},this.keyedMap=Fe(),this.sortedSet=new Ct(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var o=n.getNext().key,l=r.getNext().key;if(!o.isEqual(l))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}();!function(t){t[t.Added=0]="Added",t[t.Removed=1]="Removed",t[t.Modified=2]="Modified",t[t.Metadata=3]="Metadata"}(He||(He={})),function(t){t[t.Local=0]="Local",t[t.Synced=1]="Synced"}(Ke||(Ke={}));var Qe,Ye=function(){function t(){this.changeMap=new Ct(St.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.changeMap.get(e);n?t.type!==He.Added&&n.type===He.Metadata?this.changeMap=this.changeMap.insert(e,t):t.type===He.Metadata&&n.type!==He.Removed?this.changeMap=this.changeMap.insert(e,{type:n.type,doc:t.doc}):t.type===He.Modified&&n.type===He.Modified?this.changeMap=this.changeMap.insert(e,{type:He.Modified,doc:t.doc}):t.type===He.Modified&&n.type===He.Added?this.changeMap=this.changeMap.insert(e,{type:He.Added,doc:t.doc}):t.type===He.Removed&&n.type===He.Added?this.changeMap=this.changeMap.remove(e):t.type===He.Removed&&n.type===He.Modified?this.changeMap=this.changeMap.insert(e,{type:He.Removed,doc:n.doc}):t.type===He.Added&&n.type===He.Removed?this.changeMap=this.changeMap.insert(e,{type:He.Modified,doc:t.doc}):T("unsupported combination of changes: "+JSON.stringify(t)+" after "+JSON.stringify(n)):this.changeMap=this.changeMap.insert(e,t)},t.prototype.getChanges=function(){var t=[];return this.changeMap.inorderTraversal(function(e,n){t.push(n)}),t},t}(),Xe=function(){function t(t,e,n,r,o,l,c,d){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d}return t.fromInitialDocuments=function(e,n,r,o){var l=[];return n.forEach(function(t){l.push({type:He.Added,doc:t})}),new t(e,n,Ge.emptySet(n),l,r,o,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&this.query.isEqual(t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var i=0;i<e.length;i++)if(e[i].type!==n[i].type||!e[i].doc.isEqual(n[i].doc))return!1;return!0},t}(),Je=function(){function t(t,e,n,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=o}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r,o=((r={})[e]=Ze.createSynthesizedTargetChangeForCurrentChange(e,n),r);return new t(de.MIN,o,ze(),Le(),$e())},t}(),Ze=function(){function t(t,e,n,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=o}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(C(),n,$e(),$e(),$e())},t}(),tn=function(){return function(t,e,n,r){this.updatedTargetIds=t,this.removedTargetIds=e,this.key=n,this.newDoc=r}}(),en=function(){return function(t,e){this.targetId=t,this.existenceFilter=e}}();!function(t){t[t.NoChange=0]="NoChange",t[t.Added=1]="Added",t[t.Removed=2]="Removed",t[t.Current=3]="Current",t[t.Reset=4]="Reset"}(Qe||(Qe={}));var nn=function(){return function(t,e,n,r){void 0===n&&(n=C()),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}}(),rn=function(){function t(){this.pendingResponses=0,this.documentChanges=sn(),this._resumeToken=C(),this._current=!1,this._hasPendingChanges=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this._current},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this._resumeToken},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPending",{get:function(){return 0!==this.pendingResponses},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingChanges",{get:function(){return this._hasPendingChanges},enumerable:!0,configurable:!0}),t.prototype.updateResumeToken=function(t){t.length>0&&(this._hasPendingChanges=!0,this._resumeToken=t)},t.prototype.toTargetChange=function(){var t=$e(),e=$e(),n=$e();return this.documentChanges.forEach(function(r,o){switch(o){case He.Added:t=t.add(r);break;case He.Modified:e=e.add(r);break;case He.Removed:n=n.add(r);break;default:T("Encountered invalid change type: "+o)}}),new Ze(this._resumeToken,this._current,t,e,n)},t.prototype.clearPendingChanges=function(){this._hasPendingChanges=!1,this.documentChanges=sn()},t.prototype.addDocumentChange=function(t,e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(t,e)},t.prototype.removeDocumentChange=function(t){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(t)},t.prototype.recordPendingTargetRequest=function(){this.pendingResponses+=1},t.prototype.recordTargetResponse=function(){this.pendingResponses-=1},t.prototype.markCurrent=function(){this._hasPendingChanges=!0,this._current=!0},t}(),on=function(){function t(t){this.metadataProvider=t,this.targetStates={},this.pendingDocumentUpdates=Le(),this.pendingDocumentTargetMapping=an(),this.pendingTargetResets=new pe(nt)}return t.prototype.handleDocumentChange=function(t){for(var e=0,n=t.updatedTargetIds;e<n.length;e++){var r=n[e];t.newDoc instanceof Tt?this.addDocumentToTarget(r,t.newDoc):t.newDoc instanceof kt&&this.removeDocumentFromTarget(r,t.key,t.newDoc)}for(var o=0,l=t.removedTargetIds;o<l.length;o++){r=l[o];this.removeDocumentFromTarget(r,t.key,t.newDoc)}},t.prototype.handleTargetChange=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.ensureTargetState(n);switch(t.state){case Qe.NoChange:e.isActiveTarget(n)&&r.updateResumeToken(t.resumeToken);break;case Qe.Added:r.recordTargetResponse(),r.isPending||r.clearPendingChanges(),r.updateResumeToken(t.resumeToken);break;case Qe.Removed:r.recordTargetResponse(),r.isPending||e.removeTarget(n),k(!t.cause,"WatchChangeAggregator does not handle errored targets");break;case Qe.Current:e.isActiveTarget(n)&&(r.markCurrent(),r.updateResumeToken(t.resumeToken));break;case Qe.Reset:e.isActiveTarget(n)&&(e.resetTarget(n),r.updateResumeToken(t.resumeToken));break;default:T("Unknown target watch change state: "+t.state)}})},t.prototype.forEachTarget=function(t,e){t.targetIds.length>0?t.targetIds.forEach(e):P(this.targetStates,e)},t.prototype.handleExistenceFilter=function(t){var e=t.targetId,n=t.existenceFilter.count,r=this.queryDataForActiveTarget(e);if(r){var o=r.query;if(o.isDocumentQuery())if(0===n){var l=new St(o.path);this.removeDocumentFromTarget(e,l,new kt(l,de.forDeletedDoc()))}else k(1===n,"Single document existence filter with count: "+n);else this.getCurrentDocumentCountForTarget(e)!==n&&(this.resetTarget(e),this.pendingTargetResets=this.pendingTargetResets.add(e))}},t.prototype.createRemoteEvent=function(t){var e=this,n={};P(this.targetStates,function(r,o){var l=e.queryDataForActiveTarget(r);if(l){if(o.current&&l.query.isDocumentQuery()){var c=new St(l.query.path);null!==e.pendingDocumentUpdates.get(c)||e.targetContainsDocument(r,c)||e.removeDocumentFromTarget(r,c,new kt(c,t))}o.hasPendingChanges&&(n[r]=o.toTargetChange(),o.clearPendingChanges())}});var r=$e();this.pendingDocumentTargetMapping.forEach(function(t,n){var o=!0;n.forEachWhile(function(t){var n=e.queryDataForActiveTarget(t);return!n||n.purpose===Zt.LimboResolution||(o=!1,!1)}),o&&(r=r.add(t))});var o=new Je(t,n,this.pendingTargetResets,this.pendingDocumentUpdates,r);return this.pendingDocumentUpdates=Le(),this.pendingDocumentTargetMapping=an(),this.pendingTargetResets=new pe(nt),o},t.prototype.addDocumentToTarget=function(t,e){if(this.isActiveTarget(t)){var n=this.targetContainsDocument(t,e.key)?He.Modified:He.Added;this.ensureTargetState(t).addDocumentChange(e.key,n),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e.key,e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e.key,this.ensureDocumentTargetMapping(e.key).add(t))}},t.prototype.removeDocumentFromTarget=function(t,e,n){if(this.isActiveTarget(t)){var r=this.ensureTargetState(t);this.targetContainsDocument(t,e)?r.addDocumentChange(e,He.Removed):r.removeDocumentChange(e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,this.ensureDocumentTargetMapping(e).delete(t)),n&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e,n))}},t.prototype.removeTarget=function(t){delete this.targetStates[t]},t.prototype.getCurrentDocumentCountForTarget=function(t){var e=this.ensureTargetState(t).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.recordPendingTargetRequest=function(t){this.ensureTargetState(t).recordPendingTargetRequest()},t.prototype.ensureTargetState=function(t){return this.targetStates[t]||(this.targetStates[t]=new rn),this.targetStates[t]},t.prototype.ensureDocumentTargetMapping=function(t){var e=this.pendingDocumentTargetMapping.get(t);return e||(e=new pe(nt),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,e)),e},t.prototype.isActiveTarget=function(t){return null!==this.queryDataForActiveTarget(t)},t.prototype.queryDataForActiveTarget=function(t){var e=this.targetStates[t];return e&&e.isPending?null:this.metadataProvider.getQueryDataForTarget(t)},t.prototype.resetTarget=function(t){var e=this;k(!this.targetStates[t].isPending,"Should only reset active targets"),this.targetStates[t]=new rn,this.metadataProvider.getRemoteKeysForTarget(t).forEach(function(n){e.removeDocumentFromTarget(t,n,null)})},t.prototype.targetContainsDocument=function(t,e){return this.metadataProvider.getRemoteKeysForTarget(t).has(e)},t}();function an(){return new Ct(St.comparator)}function sn(){return new Ct(St.comparator)}var un,ln,cn=((un={})[ae.ASCENDING.name]="ASCENDING",un[ae.DESCENDING.name]="DESCENDING",un),dn=((ln={})[ne.LESS_THAN.name]="LESS_THAN",ln[ne.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",ln[ne.GREATER_THAN.name]="GREATER_THAN",ln[ne.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",ln[ne.EQUAL.name]="EQUAL",ln[ne.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",ln),hn=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fn(t,e){k(!Xt(t),e+" is missing")}function pn(t){return"number"==typeof t?t:"string"==typeof t?Number(t):T("can't parse "+t)}var mn=function(){function t(t,e){this.databaseId=t,this.options=e}return t.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},t.prototype.unsafeCastProtoByteString=function(t){return t},t.prototype.fromRpcStatus=function(t){var code=void 0===t.code?I.UNKNOWN:Pe(t.code);return new O(code,t.message||"")},t.prototype.toInt32Value=function(t){return Xt(t)?void 0:{value:t}},t.prototype.fromInt32Value=function(t){var e;return Xt(e="object"==typeof t?t.value:t)?null:e},t.prototype.toTimestamp=function(t){return{seconds:t.seconds,nanos:t.nanoseconds}},t.prototype.fromTimestamp=function(t){if("string"==typeof t)return this.fromIso8601String(t);k(!!t,"Cannot deserialize null or undefined timestamp.");var e=pn(t.seconds||"0"),n=t.nanos||0;return new pt(e,n)},t.prototype.fromIso8601String=function(t){var e=0,n=hn.exec(t);if(k(!!n,"invalid timestamp: "+t),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var o=new Date(t),l=Math.floor(o.getTime()/1e3);return new pt(l,e)},t.prototype.toBytes=function(t){return this.options.useProto3Json?t.toBase64():this.unsafeCastProtoByteString(t.toUint8Array())},t.prototype.fromBlob=function(t){return"string"==typeof t?(k(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),ct.fromBase64String(t)):(k(!this.options.useProto3Json,"Expected bytes to be passed in as string, but got something else instead."),ct.fromUint8Array(t))},t.prototype.toVersion=function(t){return this.toTimestamp(t.toTimestamp())},t.prototype.fromVersion=function(t){return k(!!t,"Trying to deserialize version that isn't set"),de.fromTimestamp(this.fromTimestamp(t))},t.prototype.toResourceName=function(t,path){return this.fullyQualifiedPrefixPath(t).child("documents").child(path).canonicalString()},t.prototype.fromResourceName=function(t){var e=bt.fromString(t);return k(this.isValidResourceName(e),"Tried to deserialize invalid key "+e.toString()),e},t.prototype.toName=function(t){return this.toResourceName(this.databaseId,t.path)},t.prototype.fromName=function(t){var e=this.fromResourceName(t);return k(e.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+e.get(1)+" vs "+this.databaseId.projectId),k(!e.get(3)&&!this.databaseId.database||e.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+e.get(3)+" vs "+this.databaseId.database),new St(this.extractLocalPathFromResourceName(e))},t.prototype.toQueryPath=function(path){return this.toResourceName(this.databaseId,path)},t.prototype.fromQueryPath=function(t){var e=this.fromResourceName(t);return 4===e.length?bt.EMPTY_PATH:this.extractLocalPathFromResourceName(e)},Object.defineProperty(t.prototype,"encodedDatabaseId",{get:function(){return new bt(["projects",this.databaseId.projectId,"databases",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),t.prototype.fullyQualifiedPrefixPath=function(t){return new bt(["projects",t.projectId,"databases",t.database])},t.prototype.extractLocalPathFromResourceName=function(t){return k(t.length>4&&"documents"===t.get(4),"tried to deserialize invalid key "+t.toString()),t.popFirst(5)},t.prototype.isValidResourceName=function(path){return path.length>=4&&"projects"===path.get(0)&&"databases"===path.get(2)},t.prototype.toValue=function(t){if(t instanceof Pt)return{nullValue:"NULL_VALUE"};if(t instanceof Rt)return{booleanValue:t.value()};if(t instanceof jt)return{integerValue:""+t.value()};if(t instanceof Bt){var e=t.value();if(this.options.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:t.value()}}return t instanceof Ft?{stringValue:t.value()}:t instanceof zt?{mapValue:this.toMapValue(t)}:t instanceof Ht?{arrayValue:this.toArrayValue(t)}:t instanceof Ut?{timestampValue:this.toTimestamp(t.internalValue)}:t instanceof Wt?{geoPointValue:{latitude:t.value().latitude,longitude:t.value().longitude}}:t instanceof qt?{bytesValue:this.toBytes(t.value())}:t instanceof $t?{referenceValue:this.toResourceName(t.databaseId,t.key.path)}:T("Unknown FieldValue "+JSON.stringify(t))},t.prototype.fromValue=function(t){var e=this,n=t.value_type;if(gn(t,n,"nullValue"))return Pt.INSTANCE;if(gn(t,n,"booleanValue"))return Rt.of(t.booleanValue);if(gn(t,n,"integerValue"))return new jt(pn(t.integerValue));if(gn(t,n,"doubleValue")){if(this.options.useProto3Json){if("NaN"===t.doubleValue)return Bt.NAN;if("Infinity"===t.doubleValue)return Bt.POSITIVE_INFINITY;if("-Infinity"===t.doubleValue)return Bt.NEGATIVE_INFINITY}return new Bt(t.doubleValue)}if(gn(t,n,"stringValue"))return new Ft(t.stringValue);if(gn(t,n,"mapValue"))return this.fromFields(t.mapValue.fields||{});if(gn(t,n,"arrayValue")){fn(t.arrayValue,"arrayValue");var r=t.arrayValue.values||[];return new Ht(r.map(function(t){return e.fromValue(t)}))}if(gn(t,n,"timestampValue"))return fn(t.timestampValue,"timestampValue"),new Ut(this.fromTimestamp(t.timestampValue));if(gn(t,n,"geoPointValue")){fn(t.geoPointValue,"geoPointValue");var o=t.geoPointValue.latitude||0,l=t.geoPointValue.longitude||0;return new Wt(new ft(o,l))}if(gn(t,n,"bytesValue")){fn(t.bytesValue,"bytesValue");var c=this.fromBlob(t.bytesValue);return new qt(c)}if(gn(t,n,"referenceValue")){fn(t.referenceValue,"referenceValue");var d=this.fromResourceName(t.referenceValue),h=new vt(d.get(1),d.get(3)),f=new St(this.extractLocalPathFromResourceName(d));return new $t(h,f)}return T("Unknown Value proto "+JSON.stringify(t))},t.prototype.toMutationDocument=function(t,e){return{name:this.toName(t),fields:this.toFields(e)}},t.prototype.toDocument=function(t){return k(!t.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(t.key),fields:this.toFields(t.data),updateTime:this.toTimestamp(t.version.toTimestamp())}},t.prototype.fromDocument=function(t,e){return new Tt(this.fromName(t.name),this.fromVersion(t.updateTime),this.fromFields(t.fields||{}),{hasCommittedMutations:!!e})},t.prototype.toFields=function(t){var e=this,n={};return t.forEach(function(t,r){n[t]=e.toValue(r)}),n},t.prototype.fromFields=function(object){var t=this,map=object,e=zt.EMPTY;return R(map,function(n,r){e=e.set(new _t([n]),t.fromValue(r))}),e},t.prototype.toMapValue=function(map){return{fields:this.toFields(map)}},t.prototype.toArrayValue=function(t){var e=this,n=[];return t.forEach(function(t){n.push(e.toValue(t))}),{values:n}},t.prototype.fromFound=function(t){k(!!t.found,"Tried to deserialize a found document from a missing document."),fn(t.found.name,"doc.found.name"),fn(t.found.updateTime,"doc.found.updateTime");var e=this.fromName(t.found.name),n=this.fromVersion(t.found.updateTime),r=this.fromFields(t.found.fields||{});return new Tt(e,n,r,{},t.found)},t.prototype.fromMissing=function(t){k(!!t.missing,"Tried to deserialize a missing document from a found document."),k(!!t.readTime,"Tried to deserialize a missing document without a read time.");var e=this.fromName(t.missing),n=this.fromVersion(t.readTime);return new kt(e,n)},t.prototype.fromMaybeDocument=function(t){var e=t.result;return gn(t,e,"found")?this.fromFound(t):gn(t,e,"missing")?this.fromMissing(t):T("invalid batch get response: "+JSON.stringify(t))},t.prototype.toWatchTargetChangeState=function(t){switch(t){case Qe.Added:return"ADD";case Qe.Current:return"CURRENT";case Qe.NoChange:return"NO_CHANGE";case Qe.Removed:return"REMOVE";case Qe.Reset:return"RESET";default:return T("Unknown WatchTargetChangeState: "+t)}},t.prototype.toTestWatchChange=function(t){if(t instanceof en)return{filter:{count:t.existenceFilter.count,targetId:t.targetId}};if(t instanceof tn){if(t.newDoc instanceof Tt){var e=t.newDoc;return{documentChange:{document:{name:this.toName(e.key),fields:this.toFields(e.data),updateTime:this.toVersion(e.version)},targetIds:t.updatedTargetIds,removedTargetIds:t.removedTargetIds}}}if(t.newDoc instanceof kt){e=t.newDoc;return{documentDelete:{document:this.toName(e.key),readTime:this.toVersion(e.version),removedTargetIds:t.removedTargetIds}}}if(null===t.newDoc)return{documentRemove:{document:this.toName(t.key),removedTargetIds:t.removedTargetIds}}}if(t instanceof nn){var n=void 0;return t.cause&&(n={code:Re(t.cause.code),message:t.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(t.state),targetIds:t.targetIds,resumeToken:this.unsafeCastProtoByteString(t.resumeToken),cause:n}}}return T("Unrecognized watch change: "+JSON.stringify(t))},t.prototype.fromWatchChange=function(t){var e,n=t.response_type;if(gn(t,n,"targetChange")){fn(t.targetChange,"targetChange");var r=this.fromWatchTargetChangeState(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],l=t.targetChange.resumeToken||this.emptyByteString(),c=t.targetChange.cause,d=c&&this.fromRpcStatus(c);e=new nn(r,o,l,d||null)}else if(gn(t,n,"documentChange")){fn(t.documentChange,"documentChange"),fn(t.documentChange.document,"documentChange.name"),fn(t.documentChange.document.name,"documentChange.document.name"),fn(t.documentChange.document.updateTime,"documentChange.document.updateTime");var h=t.documentChange,f=this.fromName(h.document.name),m=this.fromVersion(h.document.updateTime),v=this.fromFields(h.document.fields||{}),y=new Tt(f,m,v,{},h.document),w=h.targetIds||[],_=h.removedTargetIds||[];e=new tn(w,_,y.key,y)}else if(gn(t,n,"documentDelete")){fn(t.documentDelete,"documentDelete"),fn(t.documentDelete.document,"documentDelete.document");var S=t.documentDelete;f=this.fromName(S.document),m=S.readTime?this.fromVersion(S.readTime):de.forDeletedDoc(),y=new kt(f,m),_=S.removedTargetIds||[];e=new tn([],_,y.key,y)}else if(gn(t,n,"documentRemove")){fn(t.documentRemove,"documentRemove"),fn(t.documentRemove.document,"documentRemove");var E=t.documentRemove;f=this.fromName(E.document),_=E.removedTargetIds||[];e=new tn([],_,f,null)}else{if(!gn(t,n,"filter"))return T("Unknown change type "+JSON.stringify(t));fn(t.filter,"filter"),fn(t.filter.targetId,"filter.targetId");var filter=t.filter,k=filter.count||0,x=new Ne(k),C=filter.targetId;e=new en(C,x)}return e},t.prototype.fromWatchTargetChangeState=function(t){return"NO_CHANGE"===t?Qe.NoChange:"ADD"===t?Qe.Added:"REMOVE"===t?Qe.Removed:"CURRENT"===t?Qe.Current:"RESET"===t?Qe.Reset:T("Got unexpected TargetChange.state: "+t)},t.prototype.versionFromListenResponse=function(t){if(!gn(t,t.response_type,"targetChange"))return de.MIN;var e=t.targetChange;return e.targetIds&&e.targetIds.length?de.MIN:e.readTime?this.fromVersion(e.readTime):de.MIN},t.prototype.toMutation=function(t){var e,n=this;if(t instanceof _e)e={update:this.toMutationDocument(t.key,t.value)};else if(t instanceof Te)e={delete:this.toName(t.key)};else if(t instanceof Se)e={update:this.toMutationDocument(t.key,t.data),updateMask:this.toDocumentMask(t.fieldMask)};else{if(!(t instanceof Ee))return T("Unknown mutation type "+t.type);e={transform:{document:this.toName(t.key),fieldTransforms:t.fieldTransforms.map(function(t){return n.toFieldTransform(t)})}}}return t.precondition.isNone||(e.currentDocument=this.toPrecondition(t.precondition)),e},t.prototype.fromMutation=function(t){var e=this,n=t.currentDocument?this.fromPrecondition(t.currentDocument):be.NONE;if(t.update){fn(t.update.name,"name");var r=this.fromName(t.update.name),o=this.fromFields(t.update.fields||{});if(t.updateMask){var l=this.fromDocumentMask(t.updateMask);return new Se(r,o,l,n)}return new _e(r,o,n)}if(t.delete){r=this.fromName(t.delete);return new Te(r,n)}if(t.transform){r=this.fromName(t.transform.document);var c=t.transform.fieldTransforms.map(function(t){return e.fromFieldTransform(t)});return k(!0===n.exists,'Transforms only support precondition "exists == true"'),new Ee(r,c)}return T("unknown mutation proto: "+JSON.stringify(t))},t.prototype.toPrecondition=function(t){return k(!t.isNone,"Can't serialize an empty precondition"),void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:T("Unknown precondition")},t.prototype.fromPrecondition=function(t){return void 0!==t.updateTime?be.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?be.exists(t.exists):be.NONE},t.prototype.fromWriteResult=function(t,e){var n=this,r=t.updateTime?this.fromVersion(t.updateTime):this.fromVersion(e),o=null;return t.transformResults&&t.transformResults.length>0&&(o=t.transformResults.map(function(t){return n.fromValue(t)})),new ye(r,o)},t.prototype.fromWriteResults=function(t,e){var n=this;return t&&t.length>0?(k(void 0!==e,"Received a write result without a commit time"),t.map(function(t){return n.fromWriteResult(t,e)})):[]},t.prototype.toFieldTransform=function(t){var e=this,n=t.transform;if(n instanceof ke)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof xe)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements.map(function(t){return e.toValue(t)})}};if(n instanceof Ce)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements.map(function(t){return e.toValue(t)})}};if(n instanceof Ie)return{fieldPath:t.field.canonicalString(),increment:this.toValue(n.operand)};throw T("Unknown transform: "+t.transform)},t.prototype.fromFieldTransform=function(t){var e=this,n=t.transform_type,r=null;if(gn(t,n,"setToServerValue"))k("REQUEST_TIME"===t.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(t)),r=ke.instance;else if(gn(t,n,"appendMissingElements")){var o=t.appendMissingElements.values||[];r=new xe(o.map(function(t){return e.fromValue(t)}))}else if(gn(t,n,"removeAllFromArray")){o=t.removeAllFromArray.values||[];r=new Ce(o.map(function(t){return e.fromValue(t)}))}else if(gn(t,n,"increment")){var l=this.fromValue(t.increment);k(l instanceof Mt,"NUMERIC_ADD transform requires a NumberValue"),r=new Ie(l)}else T("Unknown transform proto: "+JSON.stringify(t));var c=_t.fromServerFormat(t.fieldPath);return new ve(c,r)},t.prototype.toDocumentsTarget=function(t){return{documents:[this.toQueryPath(t.path)]}},t.prototype.fromDocumentsTarget=function(t){var e=t.documents.length;k(1===e,"DocumentsTarget contained other than 1 document: "+e);var n=t.documents[0];return te.atPath(this.fromQueryPath(n))},t.prototype.toQueryTarget=function(t){var e={structuredQuery:{}},path=t.path;null!==t.collectionGroup?(k(path.length%2==0,"Collection Group queries should be within a document path or root."),e.parent=this.toQueryPath(path),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(k(path.length%2!=0,"Document queries with filters are not supported."),e.parent=this.toQueryPath(path.popLast()),e.structuredQuery.from=[{collectionId:path.lastSegment()}]);var n=this.toFilter(t.filters);n&&(e.structuredQuery.where=n);var r=this.toOrder(t.orderBy);r&&(e.structuredQuery.orderBy=r);var o=this.toInt32Value(t.limit);return void 0!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt=this.toCursor(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.toCursor(t.endAt)),e},t.prototype.fromQueryTarget=function(t){var path=this.fromQueryPath(t.parent),e=t.structuredQuery,n=e.from?e.from.length:0,r=null;if(n>0){k(1===n,"StructuredQuery.from with more than one collection is not supported.");var o=e.from[0];o.allDescendants?r=o.collectionId:path=path.child(o.collectionId)}var l=[];e.where&&(l=this.fromFilter(e.where));var c=[];e.orderBy&&(c=this.fromOrder(e.orderBy));var d=null;e.limit&&(d=this.fromInt32Value(e.limit));var h=null;e.startAt&&(h=this.fromCursor(e.startAt));var f=null;return e.endAt&&(f=this.fromCursor(e.endAt)),new te(path,r,c,l,d,h,f)},t.prototype.toListenRequestLabels=function(t){var e=this.toLabel(t.purpose);return null==e?null:{"goog-listen-tags":e}},t.prototype.toLabel=function(t){switch(t){case Zt.Listen:return null;case Zt.ExistenceFilterMismatch:return"existence-filter-mismatch";case Zt.LimboResolution:return"limbo-document";default:return T("Unrecognized query purpose: "+t)}},t.prototype.toTarget=function(t){var e,n=t.query;return(e=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)}).targetId=t.targetId,t.resumeToken.length>0&&(e.resumeToken=this.unsafeCastProtoByteString(t.resumeToken)),e},t.prototype.toFilter=function(t){var e=this;if(0!==t.length){var n=t.map(function(filter){return filter instanceof re?e.toRelationFilter(filter):e.toUnaryFilter(filter)});return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},t.prototype.fromFilter=function(filter){var t=this;return filter?void 0!==filter.unaryFilter?[this.fromUnaryFilter(filter)]:void 0!==filter.fieldFilter?[this.fromRelationFilter(filter)]:void 0!==filter.compositeFilter?filter.compositeFilter.filters.map(function(e){return t.fromFilter(e)}).reduce(function(t,e){return t.concat(e)}):T("Unknown filter: "+JSON.stringify(filter)):[]},t.prototype.toOrder=function(t){var e=this;if(0!==t.length)return t.map(function(t){return e.toPropertyOrder(t)})},t.prototype.fromOrder=function(t){var e=this;return t.map(function(t){return e.fromPropertyOrder(t)})},t.prototype.toCursor=function(cursor){var t=this;return{before:cursor.before,values:cursor.position.map(function(component){return t.toValue(component)})}},t.prototype.fromCursor=function(cursor){var t=this,e=!!cursor.before,n=cursor.values.map(function(component){return t.fromValue(component)});return new se(n,e)},t.prototype.toDirection=function(t){return cn[t.name]},t.prototype.fromDirection=function(t){switch(t){case"ASCENDING":return ae.ASCENDING;case"DESCENDING":return ae.DESCENDING;default:return}},t.prototype.toOperatorName=function(t){return dn[t.name]},t.prototype.fromOperatorName=function(t){switch(t){case"EQUAL":return ne.EQUAL;case"GREATER_THAN":return ne.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return ne.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return ne.LESS_THAN;case"LESS_THAN_OR_EQUAL":return ne.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return ne.ARRAY_CONTAINS;case"OPERATOR_UNSPECIFIED":return T("Unspecified relation");default:return T("Unknown relation")}},t.prototype.toFieldPathReference=function(path){return{fieldPath:path.canonicalString()}},t.prototype.fromFieldPathReference=function(t){return _t.fromServerFormat(t.fieldPath)},t.prototype.toPropertyOrder=function(t){return{field:this.toFieldPathReference(t.field),direction:this.toDirection(t.dir)}},t.prototype.fromPropertyOrder=function(t){return new ue(this.fromFieldPathReference(t.field),this.fromDirection(t.direction))},t.prototype.toRelationFilter=function(filter){return filter instanceof re?{fieldFilter:{field:this.toFieldPathReference(filter.field),op:this.toOperatorName(filter.op),value:this.toValue(filter.value)}}:T("Unrecognized filter: "+JSON.stringify(filter))},t.prototype.fromRelationFilter=function(filter){return new re(this.fromFieldPathReference(filter.fieldFilter.field),this.fromOperatorName(filter.fieldFilter.op),this.fromValue(filter.fieldFilter.value))},t.prototype.toUnaryFilter=function(filter){return filter instanceof ie?{unaryFilter:{field:this.toFieldPathReference(filter.field),op:"IS_NAN"}}:filter instanceof oe?{unaryFilter:{field:this.toFieldPathReference(filter.field),op:"IS_NULL"}}:T("Unrecognized filter: "+JSON.stringify(filter))},t.prototype.fromUnaryFilter=function(filter){switch(filter.unaryFilter.op){case"IS_NAN":var t=this.fromFieldPathReference(filter.unaryFilter.field);return new ie(t);case"IS_NULL":var e=this.fromFieldPathReference(filter.unaryFilter.field);return new oe(e);case"OPERATOR_UNSPECIFIED":return T("Unspecified filter");default:return T("Unknown filter")}},t.prototype.toDocumentMask=function(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}},t.prototype.fromDocumentMask=function(t){var e=(t.fieldPaths||[]).map(function(path){return _t.fromServerFormat(path)});return ge.fromArray(e)},t}();function gn(t,e,n){return e===n||!e&&n in t}var vn=function(){function t(t){this.sendFn=t.sendFn,this.closeFn=t.closeFn}return t.prototype.onOpen=function(t){k(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=t},t.prototype.onClose=function(t){k(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=t},t.prototype.onMessage=function(t){k(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=t},t.prototype.close=function(){this.closeFn()},t.prototype.send=function(t){this.sendFn(t)},t.prototype.callOnOpen=function(){k(void 0!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},t.prototype.callOnClose=function(t){k(void 0!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(t)},t.prototype.callOnMessage=function(t){k(void 0!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(t)},t}(),yn="Connection",bn={BatchGetDocuments:"batchGet",Commit:"commit"},wn="gl-js/ fire/"+m,_n=function(){function t(t){this.databaseId=t.databaseId;var e=t.ssl?"https":"http";this.baseUrl=e+"://"+t.host,this.forceLongPolling=t.forceLongPolling}return t.prototype.modifyHeadersForRequest=function(t,e){if(e)for(var header in e.authHeaders)e.authHeaders.hasOwnProperty(header)&&(t[header]=e.authHeaders[header]);t["X-Goog-Api-Client"]=wn},t.prototype.invokeRPC=function(t,e,n){var r=this,o=this.makeUrl(t);return new Promise(function(l,c){var d=new h.XhrIo;d.listenOnce(h.EventType.COMPLETE,function(){try{switch(d.getLastErrorCode()){case h.ErrorCode.NO_ERROR:var e=d.getResponseJson();_(yn,"XHR received:",JSON.stringify(e)),l(e);break;case h.ErrorCode.TIMEOUT:_(yn,'RPC "'+t+'" timed out'),c(new O(I.DEADLINE_EXCEEDED,"Request time out"));break;case h.ErrorCode.HTTP_ERROR:var n=d.getStatus();_(yn,'RPC "'+t+'" failed with status:',n,"response text:",d.getResponseText()),n>0?c(new O(function(t){switch(t){case 200:return I.OK;case 400:return I.INVALID_ARGUMENT;case 401:return I.UNAUTHENTICATED;case 403:return I.PERMISSION_DENIED;case 404:return I.NOT_FOUND;case 409:return I.ABORTED;case 416:return I.OUT_OF_RANGE;case 429:return I.RESOURCE_EXHAUSTED;case 499:return I.CANCELLED;case 500:return I.UNKNOWN;case 501:return I.UNIMPLEMENTED;case 503:return I.UNAVAILABLE;case 504:return I.DEADLINE_EXCEEDED;default:return t>=200&&t<300?I.OK:t>=400&&t<500?I.FAILED_PRECONDITION:t>=500&&t<600?I.INTERNAL:I.UNKNOWN}}(n),"Server responded with status "+d.getStatusText())):(_(yn,'RPC "'+t+'" failed'),c(new O(I.UNAVAILABLE,"Connection failed.")));break;default:T('RPC "'+t+'" failed with unanticipated webchannel error '+d.getLastErrorCode()+": "+d.getLastError()+", giving up.")}}finally{_(yn,'RPC "'+t+'" completed.')}});var f=JSON.stringify(e);_(yn,"XHR sending: ",o+" "+f);var m={"Content-Type":"text/plain"};r.modifyHeadersForRequest(m,n),d.send(o,"POST",f,m,15)})},t.prototype.invokeStreamingRPC=function(t,e,n){return this.invokeRPC(t,e,n)},t.prototype.openStream=function(t,e){var n=[this.baseUrl,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=h.createWebChannelTransport(),o={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.modifyHeadersForRequest(o.initMessageHeaders,e),f.isReactNative()||(o.httpHeadersOverwriteParam="$httpHeaders");var l=n.join("");_(yn,"Creating WebChannel: "+l+" "+o);var c=r.createWebChannel(l,o),d=!1,m=!1,v=new vn({sendFn:function(t){m?_(yn,"Not sending because WebChannel is closed:",t):(d||(_(yn,"Opening WebChannel transport."),c.open(),d=!0),_(yn,"WebChannel sending:",t),c.send(t))},closeFn:function(){return c.close()}}),y=function(t,e){c.listen(t,function(param){try{e(param)}catch(t){setTimeout(function(){throw t},0)}})};return y(h.WebChannel.EventType.OPEN,function(){m||_(yn,"WebChannel transport opened.")}),y(h.WebChannel.EventType.CLOSE,function(){m||(m=!0,_(yn,"WebChannel transport closed"),v.callOnClose())}),y(h.WebChannel.EventType.ERROR,function(t){m||(m=!0,_(yn,"WebChannel transport errored:",t),v.callOnClose(new O(I.UNAVAILABLE,"The operation could not be completed")))}),y(h.WebChannel.EventType.MESSAGE,function(t){if(!m){var e=t.data[0];k(!!e,"Got a webchannel message without data.");var n=e.error||e[0]&&e[0].error;if(n){_(yn,"WebChannel received error:",n);var r=n.status,code=function(t){var code=Ae[t];if(void 0!==code)return Pe(code)}(r),o=n.message;void 0===code&&(code=I.INTERNAL,o="Unknown error status: "+r+" with message "+n.message),m=!0,v.callOnClose(new O(code,o)),c.close()}else _(yn,"WebChannel received:",e),v.callOnMessage(e)}}),setTimeout(function(){v.callOnOpen()},0),v},t.prototype.makeUrl=function(t){var e=bn[t];k(void 0!==e,"Unknown REST mapping for: "+t);var n=[this.baseUrl,"/","v1"];return n.push("/projects/"),n.push(this.databaseId.projectId),n.push("/databases/"),n.push(this.databaseId.database),n.push("/documents"),n.push(":"),n.push(e),n.join("")},t}(),Sn=function(){function t(){this.emptyByteString="",this.base64Available="undefined"!=typeof atob}return Object.defineProperty(t.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),t.prototype.loadConnection=function(t){return Promise.resolve(new _n(t))},t.prototype.newSerializer=function(t){return new mn(t,{useProto3Json:!0})},t.prototype.formatJSON=function(t){return JSON.stringify(t)},t.prototype.atob=function(t){return atob(t)},t.prototype.btoa=function(t){return btoa(t)},t}();x.setPlatform(new Sn);var En,Tn=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.setPreviousValue(t)},this.writeNewSequenceNumber=function(t){return e.writeSequenceNumber(t)})}return t.prototype.setPreviousValue=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(t),t},t.INVALID=-1,t}(),kn=function(){return function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}}();!function(t){t.All="all",t.ListenStreamIdle="listen_stream_idle",t.ListenStreamConnectionBackoff="listen_stream_connection_backoff",t.WriteStreamIdle="write_stream_idle",t.WriteStreamConnectionBackoff="write_stream_connection_backoff",t.OnlineStateTimeout="online_state_timeout",t.ClientMetadataRefresh="client_metadata_refresh",t.LruGarbageCollection="lru_garbage_collection"}(En||(En={}));var xn=function(){function t(t,e,n,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=o,this.deferred=new kn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.catch=this.deferred.promise.catch.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,o,l){var c=new t(e,n,Date.now()+r,o,l);return c.start(r),c},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new O(I.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}(),Cn=function(){function t(){this.tail=Promise.resolve(),this.delayedOperations=[],this.operationInProgress=!1}return t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueue=function(t){var e=this;this.verifyNotFailed();var n=this.tail.then(function(){return e.operationInProgress=!0,t().catch(function(t){e.failure=t,e.operationInProgress=!1;var n=t.stack||t.message||"";throw S("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout(function(){throw t},0),t}).then(function(t){return e.operationInProgress=!1,t})});return this.tail=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.verifyNotFailed(),k(e>=0,"Attempted to schedule an operation with a negative delay of "+e),k(!this.containsDelayedOperation(t),"Attempted to schedule multiple operations with timer id "+t+".");var o=xn.createAndSchedule(this,t,e,n,function(t){return r.removeDelayedOperation(t)});return this.delayedOperations.push(o),o},t.prototype.verifyNotFailed=function(){this.failure&&T("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message))},t.prototype.verifyOperationInProgress=function(){k(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},t.prototype.drain=function(){return this.enqueue(function(){return Promise.resolve()})},t.prototype.containsDelayedOperation=function(t){for(var e=0,n=this.delayedOperations;e<n.length;e++){if(n[e].timerId===t)return!0}return!1},t.prototype.runDelayedOperationsEarly=function(t){var e=this;return this.drain().then(function(){k(t===En.All||e.containsDelayedOperation(t),"Attempted to drain to missing operation "+t),e.delayedOperations.sort(function(a,b){return a.targetTimeMs-b.targetTimeMs});for(var n=0,r=e.delayedOperations;n<r.length;n++){var o=r[n];if(o.skipDelay(),t!==En.All&&o.timerId===t)break}return e.drain()})},t.prototype.removeDelayedOperation=function(t){var e=this.delayedOperations.indexOf(t);k(e>=0,"Delayed operation not found."),this.delayedOperations.splice(e,1)},t}(),In="",On="",An="",Nn="";function Dn(path){for(var t="",i=0;i<path.length;i++)t.length>0&&(t=Rn(t)),t=Pn(path.get(i),t);return Rn(t)}function Pn(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+=In+An;break;case In:n+=In+Nn;break;default:n+=o}}return n}function Rn(t){return t+In+On}function Mn(path){var t=path.length;if(k(t>=2,"Invalid path "+path),2===t)return k(path.charAt(0)===In&&path.charAt(1)===On,"Non-empty path "+path+" had length 2"),bt.EMPTY_PATH;for(var e=t-2,n=[],r="",o=0;o<t;){var l=path.indexOf(In,o);switch((l<0||l>e)&&T('Invalid encoded resource path: "'+path+'"'),path.charAt(l+1)){case On:var c=path.substring(o,l),d=void 0;0===r.length?d=c:(d=r+=c,r=""),n.push(d);break;case An:r+=path.substring(o,l),r+="\0";break;case Nn:r+=path.substring(o,l+1);break;default:T('Invalid encoded resource path: "'+path+'"')}o=l+2}return new bt(n)}var Ln=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r,k(r.length>0,"Cannot create an empty mutation batch")}return t.prototype.applyToRemoteDocument=function(t,e,n){e&&k(e.key.isEqual(t),"applyToRemoteDocument: key "+t+" should match maybeDoc key\n        "+e.key);var r=n.mutationResults;k(r.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+r.length+").");for(var i=0;i<this.mutations.length;i++){var o=this.mutations[i];if(o.key.isEqual(t)){var l=r[i];e=o.applyToRemoteDocument(e,l)}}return e},t.prototype.applyToLocalView=function(t,e){e&&k(e.key.isEqual(t),"applyToLocalDocument: key "+t+" should match maybeDoc key\n        "+e.key);for(var n=0,r=this.baseMutations;n<r.length;n++){(d=r[n]).key.isEqual(t)&&(e=d.applyToLocalView(e,e,this.localWriteTime))}for(var o=e,l=0,c=this.mutations;l<c.length;l++){var d;(d=c[l]).key.isEqual(t)&&(e=d.applyToLocalView(e,o,this.localWriteTime))}return e},t.prototype.applyToLocalDocumentSet=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var o=e.applyToLocalView(r.key,t.get(r.key));o&&(n=n.insert(r.key,o))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},$e())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&ot(this.mutations,t.mutations)&&ot(this.baseMutations,t.baseMutations)},t}(),jn=function(){function t(t,e,n,r,o){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.streamToken=r,this.docVersions=o}return t.from=function(e,n,r,o){k(e.mutations.length===r.length,"Mutations sent "+e.mutations.length+" must equal results received "+r.length);for(var l=Ve(),c=e.mutations,i=0;i<c.length;i++)l=l.insert(c[i].key,r[i].version);return new t(e,n,r,o,l)},t}(),Bn=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&T("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,o){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,o)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,o)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,o=0,l=!1;e.forEach(function(element){++r,element.next(function(){++o,l&&o===r&&t()},function(t){return n(t)})}),l=!0,o===r&&t()})},t.or=function(e){for(var p=t.resolve(!1),n=function(e){p=p.next(function(n){return n?t.resolve(n):e()})},r=0,o=e;r<o.length;r++){n(o[r])}return p},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,s){r.push(e.call(n,t,s))}),this.waitFor(r)},t}(),Fn=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.indexManager=n,this.referenceDelegate=r,this.documentKeysByBatchId={}}return t.forUser=function(e,n,r,o){return k(""!==e.uid,"UserID must not be an empty string."),new t(e.isAuthenticated()?e.uid:"",n,r,o)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return $n(t).iterate({index:kr.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.acknowledgeBatch=function(t,e,n){return this.getMutationQueueMetadata(t).next(function(e){return e.lastStreamToken=qn(n),zn(t).put(e)})},t.prototype.getLastStreamToken=function(t){return this.getMutationQueueMetadata(t).next(function(t){return t.lastStreamToken})},t.prototype.setLastStreamToken=function(t,e){return this.getMutationQueueMetadata(t).next(function(n){return n.lastStreamToken=qn(e),zn(t).put(n)})},t.prototype.addMutationBatch=function(t,e,n,r){var o=this,l=Wn(t),c=$n(t);return c.add({}).next(function(d){k("number"==typeof d,"Auto-generated key is not a number");var h=new Ln(d,e,n,r),f=o.serializer.toDbMutationBatch(o.userId,h);o.documentKeysByBatchId[d]=h.keys();for(var m=[],v=0,y=r;v<y.length;v++){var w=y[v],_=xr.key(o.userId,w.key.path,d);m.push(c.put(f)),m.push(l.put(_,xr.PLACEHOLDER)),m.push(o.indexManager.addToCollectionParentIndex(t,w.key.path.popLast()))}return Bn.waitFor(m).next(function(){return h})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return $n(t).get(e).next(function(t){return t?(k(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),n.serializer.fromDbMutationBatch(t)):null})},t.prototype.lookupMutationKeys=function(t,e){var n=this;return this.documentKeysByBatchId[e]?Bn.resolve(this.documentKeysByBatchId[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.documentKeysByBatchId[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this;return this.getMutationQueueMetadata(t).next(function(r){var o=e+1,l=IDBKeyRange.lowerBound([n.userId,o]),c=null;return $n(t).iterate({index:kr.userMutationsIndex,range:l},function(t,e,r){e.userId===n.userId&&(k(e.batchId>=o,"Should have found mutation after "+o),c=n.serializer.fromDbMutationBatch(e)),r.done()}).next(function(){return c})})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return $n(t).loadAll(kr.userMutationsIndex,n).next(function(t){return t.map(function(t){return e.serializer.fromDbMutationBatch(t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=xr.prefixForPath(this.userId,e.path),o=IDBKeyRange.lowerBound(r),l=[];return Wn(t).iterate({range:o},function(r,o,c){var d=r[0],h=r[1],f=r[2],path=Mn(h);if(d===n.userId&&e.path.isEqual(path))return $n(t).get(f).next(function(t){if(!t)throw T("Dangling document-mutation reference found: "+r+" which points to "+f);k(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+f),l.push(n.serializer.fromDbMutationBatch(t))});c.done()}).next(function(){return l})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new pe(nt),o=[];return e.forEach(function(e){var l=xr.prefixForPath(n.userId,e.path),c=IDBKeyRange.lowerBound(l),d=Wn(t).iterate({range:c},function(t,o,l){var c=t[0],d=t[1],h=t[2],path=Mn(d);c===n.userId&&e.path.isEqual(path)?r=r.add(h):l.done()});o.push(d)}),Bn.waitFor(o).next(function(){return n.lookupMutationBatches(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this;k(!e.isDocumentQuery(),"Document queries shouldn't go down this path"),k(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=e.path,o=r.length+1,l=xr.prefixForPath(this.userId,r),c=IDBKeyRange.lowerBound(l),d=new pe(nt);return Wn(t).iterate({range:c},function(t,e,l){var c=t[0],h=t[1],f=t[2],path=Mn(h);c===n.userId&&r.isPrefixOf(path)?path.length===o&&(d=d.add(f)):l.done()}).next(function(){return n.lookupMutationBatches(t,d)})},t.prototype.lookupMutationBatches=function(t,e){var n=this,r=[],o=[];return e.forEach(function(e){o.push($n(t).get(e).next(function(t){if(null===t)throw T("Dangling document-mutation reference found, which points to "+e);k(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),r.push(n.serializer.fromDbMutationBatch(t))}))}),Bn.waitFor(o).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return Vn(t.simpleDbTransaction,this.userId,e).next(function(r){return n.removeCachedMutationKeys(e.batchId),Bn.forEach(r,function(e){return n.referenceDelegate.removeMutationReference(t,e)})})},t.prototype.removeCachedMutationKeys=function(t){delete this.documentKeysByBatchId[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return Bn.resolve();var r=IDBKeyRange.lowerBound(xr.prefixForUser(e.userId)),o=[];return Wn(t).iterate({range:r},function(t,n,r){if(t[0]===e.userId){var path=Mn(t[1]);o.push(path)}else r.done()}).next(function(){k(0===o.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+o.map(function(p){return p.canonicalString()}))})})},t.prototype.containsKey=function(t,e){return Un(t,this.userId,e)},t.prototype.getMutationQueueMetadata=function(t){var e=this;return zn(t).get(this.userId).next(function(t){return t||new Tr(e.userId,-1,"")})},t}();function Un(t,e,n){var r=xr.prefixForPath(e,n.path),o=r[1],l=IDBKeyRange.lowerBound(r),c=!1;return Wn(t).iterate({range:l,keysOnly:!0},function(t,n,r){var l=t[0],d=t[1];t[2];l===e&&d===o&&(c=!0),r.done()}).next(function(){return c})}function Vn(t,e,n){var r=t.store(kr.store),o=t.store(xr.store),l=[],c=IDBKeyRange.only(n.batchId),d=0,h=r.iterate({range:c},function(t,e,n){return d++,n.delete()});l.push(h.next(function(){k(1===d,"Dangling document-mutation reference found: Missing batch "+n.batchId)}));for(var f=[],m=0,v=n.mutations;m<v.length;m++){var y=v[m],w=xr.key(e,y.key.path,n.batchId);l.push(o.delete(w)),f.push(y.key)}return Bn.waitFor(l).next(function(){return f})}function qn(e){return e instanceof Uint8Array?(k("YES"===t.env.USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence."),e.toString()):e}function $n(t){return to.getStore(t,kr.store)}function Wn(t){return to.getStore(t,xr.store)}function zn(t){return to.getStore(t,Tr.store)}var Hn,Kn=1;!function(t){t[t.QueryCache=0]="QueryCache",t[t.SyncEngine=1]="SyncEngine"}(Hn||(Hn={}));var Gn=function(){function t(t,e){this.generatorId=t,k((t&Kn)===t,"Generator ID "+t+" contains more than "+Kn+" reserved bits"),this.seek(void 0!==e?e:this.generatorId)}return t.prototype.next=function(){var t=this.nextId;return this.nextId+=1<<Kn,t},t.prototype.after=function(t){return this.seek(t+(1<<Kn)),this.next()},t.prototype.seek=function(t){k((t&Kn)===this.generatorId,"Cannot supply target ID from different generator ID"),this.nextId=t},t.forQueryCache=function(){return new t(Hn.QueryCache,2)},t.forSyncEngine=function(){return new t(Hn.SyncEngine)},t}(),Qn=function(){function e(t){this.db=t}return e.openOrCreate=function(t,n,r){return k(e.isAvailable(),"IndexedDB not supported in current environment."),_("SimpleDb","Opening database:",t),new Bn(function(o,l){var c=window.indexedDB.open(t,n);c.onsuccess=function(t){var n=t.target.result;o(new e(n))},c.onblocked=function(){l(new O(I.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=function(t){var e=t.target.error;"VersionError"===e.name?l(new O(I.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):l(e)},c.onupgradeneeded=function(e){_("SimpleDb",'Database "'+t+'" requires upgrade from version:',e.oldVersion);var n=e.target.result,o=new Xn(c.transaction);r.createOrUpgrade(n,o,e.oldVersion,wr).next(function(){_("SimpleDb","Database upgrade to version "+wr+" complete")})}}).toPromise()},e.delete=function(t){return _("SimpleDb","Removing database:",t),Zn(window.indexedDB.deleteDatabase(t)).toPromise()},e.isAvailable=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(void 0===window.navigator)return"YES"===t.env.USE_MOCK_PERSISTENCE;var n=window.navigator.userAgent,r=e.getIOSVersion(n),o=0<r&&r<10,l=e.getAndroidVersion(n),c=0<l&&l<4.5;return!(n.indexOf("MSIE ")>0||n.indexOf("Trident/")>0||n.indexOf("Edge/")>0||o||c)},e.getStore=function(t,e){return t.store(e)},e.getIOSVersion=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_")[0]:"-1";return Number(n)},e.getAndroidVersion=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.runTransaction=function(t,e,n){var r=Xn.open(this.db,t,e),o=n(r).catch(function(t){return r.abort(t),Bn.reject(t)}).toPromise();return o.catch(function(){}),r.completionPromise.then(function(){return o})},e.prototype.close=function(){this.db.close()},e}(),Yn=function(){function t(t){this.dbCursor=t,this.shouldStop=!1,this.nextKey=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.dbCursor=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.shouldStop=!0},t.prototype.skip=function(t){this.nextKey=t},t.prototype.delete=function(){return Zn(this.dbCursor.delete())},t}(),Xn=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.completionDeferred=new kn,this.transaction.oncomplete=function(){e.completionDeferred.resolve()},this.transaction.onabort=function(){t.error?e.completionDeferred.reject(t.error):e.completionDeferred.resolve()},this.transaction.onerror=function(t){e.completionDeferred.reject(t.target.error)}}return t.open=function(e,n,r){return new t(e.transaction(r,n))},Object.defineProperty(t.prototype,"completionPromise",{get:function(){return this.completionDeferred.promise},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){t&&this.completionDeferred.reject(t),this.aborted||(_("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return k(!!e,"Object store not part of transaction: "+t),new Jn(e)},t}(),Jn=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(_("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(_("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Zn(n)},t.prototype.add=function(t){return _("SimpleDb","ADD",this.store.name,t,t),Zn(this.store.add(t))},t.prototype.get=function(t){var e=this;return Zn(this.store.get(t)).next(function(n){return void 0===n&&(n=null),_("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return _("SimpleDb","DELETE",this.store.name,t),Zn(this.store.delete(t))},t.prototype.count=function(){return _("SimpleDb","COUNT",this.store.name),Zn(this.store.count())},t.prototype.loadAll=function(t,e){var cursor=this.cursor(this.options(t,e)),n=[];return this.iterateCursor(cursor,function(t,e){n.push(e)}).next(function(){return n})},t.prototype.deleteAll=function(t,e){_("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.keysOnly=!1;var cursor=this.cursor(n);return this.iterateCursor(cursor,function(t,e,n){return n.delete()})},t.prototype.iterate=function(t,e){var n;e?n=t:(n={},e=t);var cursor=this.cursor(n);return this.iterateCursor(cursor,e)},t.prototype.iterateSerial=function(t){var e=this.cursor({});return new Bn(function(n,r){e.onerror=function(t){r(t.target.error)},e.onsuccess=function(e){var cursor=e.target.result;cursor?t(cursor.primaryKey,cursor.value).next(function(t){t?cursor.continue():n()}):n()}})},t.prototype.iterateCursor=function(t,e){var n=[];return new Bn(function(r,o){t.onerror=function(t){o(t.target.error)},t.onsuccess=function(t){var cursor=t.target.result;if(cursor){var o=new Yn(cursor),l=e(cursor.primaryKey,cursor.value,o);if(l instanceof Bn){var c=l.catch(function(t){return o.done(),Bn.reject(t)});n.push(c)}o.isDone?r():null===o.skipToKey?cursor.continue():cursor.continue(o.skipToKey)}else r()}}).next(function(){return Bn.waitFor(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:(k(void 0===e,"3rd argument must not be defined if 2nd is a range."),e=t)),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.keysOnly?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Zn(t){return new Bn(function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){n(t.target.error)}})}var er=function(){function t(t,e){this.referenceDelegate=t,this.serializer=e,this.targetIdGenerator=Gn.forQueryCache()}return t.prototype.allocateTargetId=function(t){var e=this;return this.retrieveMetadata(t).next(function(n){return n.highestTargetId=e.targetIdGenerator.after(n.highestTargetId),e.saveMetadata(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.retrieveMetadata(t).next(function(t){return de.fromTimestamp(new pt(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return or(t.simpleDbTransaction)},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.retrieveMetadata(t).next(function(o){return o.highestListenSequenceNumber=e,n&&(o.lastRemoteSnapshotVersion=n.toTimestamp()),e>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=e),r.saveMetadata(t,o)})},t.prototype.addQueryData=function(t,e){var n=this;return this.saveQueryData(t,e).next(function(){return n.retrieveMetadata(t).next(function(r){return r.targetCount+=1,n.updateMetadataFromQueryData(e,r),n.saveMetadata(t,r)})})},t.prototype.updateQueryData=function(t,e){return this.saveQueryData(t,e)},t.prototype.removeQueryData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return nr(t).delete(e.targetId)}).next(function(){return n.retrieveMetadata(t)}).next(function(e){return k(e.targetCount>0,"Removing from an empty query cache"),e.targetCount-=1,n.saveMetadata(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,o=0,l=[];return nr(t).iterate(function(c,d){var h=r.serializer.fromDbTarget(d);h.sequenceNumber<=e&&void 0===n[h.targetId]&&(o++,l.push(r.removeQueryData(t,h)))}).next(function(){return Bn.waitFor(l)}).next(function(){return o})},t.prototype.forEachTarget=function(t,e){var n=this;return nr(t).iterate(function(t,r){var o=n.serializer.fromDbTarget(r);e(o)})},t.prototype.retrieveMetadata=function(t){return rr(t.simpleDbTransaction)},t.prototype.saveMetadata=function(t,e){return(n=t,to.getStore(n,Pr.store)).put(Pr.key,e);var n},t.prototype.saveQueryData=function(t,e){return nr(t).put(this.serializer.toDbTarget(e))},t.prototype.updateMetadataFromQueryData=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getQueryCount=function(t){return this.retrieveMetadata(t).next(function(t){return t.targetCount})},t.prototype.getQueryData=function(t,e){var n=this,r=e.canonicalId(),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),l=null;return nr(t).iterate({range:o,index:Nr.queryTargetsIndexName},function(t,r,o){var c=n.serializer.fromDbTarget(r);e.isEqual(c.query)&&(l=c,o.done())}).next(function(){return l})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,o=[],l=ir(t);return e.forEach(function(e){var path=Dn(e.path);o.push(l.put(new Dr(n,path))),o.push(r.referenceDelegate.addReference(t,e))}),Bn.waitFor(o)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,o=ir(t);return Bn.forEach(e,function(e){var path=Dn(e.path);return Bn.waitFor([o.delete([n,path]),r.referenceDelegate.removeReference(t,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=ir(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=ir(t),o=$e();return r.iterate({range:n,keysOnly:!0},function(t,e,n){var path=Mn(t[1]),r=new St(path);o=o.add(r)}).next(function(){return o})},t.prototype.containsKey=function(t,e){var path=Dn(e.path),n=IDBKeyRange.bound([path],[it(path)],!1,!0),r=0;return ir(t).iterate({index:Dr.documentTargetsIndex,keysOnly:!0,range:n},function(t,e,n){var o=t[0];t[1];0!==o&&(r++,n.done())}).next(function(){return r>0})},t.prototype.getQueryDataForTarget=function(t,e){var n=this;return nr(t).get(e).next(function(t){return t?n.serializer.fromDbTarget(t):null})},t}();function nr(t){return to.getStore(t,Nr.store)}function rr(t){return Qn.getStore(t,Pr.store).get(Pr.key).next(function(t){return k(null!==t,"Missing metadata row."),t})}function or(t){return rr(t).next(function(t){return t.highestListenSequenceNumber})}function ir(t){return to.getStore(t,Dr.store)}var ar=function(){function t(t){this.mapKeyFn=t,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,o=n;r<o.length;r++){var l=o[r],c=l[0],d=l[1];if(c.isEqual(t))return d}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].isEqual(t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var i=0;i<n.length;i++)if(n[i][0].isEqual(t))return 1===n.length?delete this.inner[e]:n.splice(i,1),!0;return!1},t.prototype.forEach=function(t){R(this.inner,function(e,n){for(var r=0,o=n;r<o.length;r++){var l=o[r],c=l[0],d=l[1];t(c,d)}})},t.prototype.isEmpty=function(){return M(this.inner)},t}(),sr=function(){function t(){this.changes=Le(),this.documentSizes=new ar(function(t){return t.toString()})}return t.prototype.addEntry=function(t){var e=this.assertChanges();this.changes=e.insert(t.key,t)},t.prototype.getEntry=function(t,e){var n=this,r=this.assertChanges().get(e);return r?Bn.resolve(r):this.getFromCache(t,e).next(function(t){return null===t?(n.documentSizes.set(e,0),null):(n.documentSizes.set(e,t.size),t.maybeDocument)})},t.prototype.getEntries=function(t,e){var n=this;return this.getAllFromCache(t,e).next(function(t){var e=t.maybeDocuments;return t.sizeMap.forEach(function(t,e){n.documentSizes.set(t,e)}),e})},t.prototype.apply=function(t){var e=this.applyChanges(t);return this.changes=null,e},t.prototype.assertChanges=function(){return k(null!==this.changes,"Changes have already been applied."),this.changes},t}(),ur="The remote document changelog no longer contains all changes for all local query views. It may be necessary to rebuild these views.",lr=function(){function t(t,e,n){this.serializer=t,this.indexManager=e,this.keepDocumentChangeLog=n,this._lastProcessedDocumentChangeId=0}return Object.defineProperty(t.prototype,"lastProcessedDocumentChangeId",{get:function(){return this._lastProcessedDocumentChangeId},enumerable:!0,configurable:!0}),t.prototype.start=function(t){var e=Qn.getStore(t,Lr.store);return this.synchronizeLastDocumentChangeId(e)},t.prototype.addEntries=function(t,e,n){var r=[];if(e.length>0){for(var o=fr(t),l=$e(),c=0,d=e;c<d.length;c++){var h=d[c],f=h.key,m=h.doc;r.push(o.put(mr(f),m)),l=l.add(f),r.push(this.indexManager.addToCollectionParentIndex(t,f.path.popLast()))}this.keepDocumentChangeLog&&r.push(pr(t).put({changes:this.serializer.toDbResourcePaths(l)})),r.push(this.updateSize(t,n))}return Bn.waitFor(r)},t.prototype.removeEntry=function(t,e){var n=fr(t),r=mr(e);return n.get(r).next(function(t){return t?n.delete(r).next(function(){return gr(t)}):Bn.resolve(0)})},t.prototype.getEntry=function(t,e){var n=this;return fr(t).get(mr(e)).next(function(t){return t?n.serializer.fromDbRemoteDocument(t):null})},t.prototype.getSizedEntry=function(t,e){var n=this;return fr(t).get(mr(e)).next(function(t){return t?{maybeDocument:n.serializer.fromDbRemoteDocument(t),size:gr(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=je();return this.forEachDbEntry(t,e,function(t,e){r=e?r.insert(t,n.serializer.fromDbRemoteDocument(e)):r.insert(t,null)}).next(function(){return r})},t.prototype.getSizedEntries=function(t,e){var n=this,r=je(),o=new Ct(St.comparator);return this.forEachDbEntry(t,e,function(t,e){e?(r=r.insert(t,n.serializer.fromDbRemoteDocument(e)),o=o.insert(t,gr(e))):(r=r.insert(t,null),o=o.insert(t,0))}).next(function(){return{maybeDocuments:r,sizeMap:o}})},t.prototype.forEachDbEntry=function(t,e,n){if(e.isEmpty())return Bn.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),o=e.getIterator(),l=o.getNext();return fr(t).iterate({range:r},function(t,e,r){for(var c=St.fromSegments(t);l&&St.comparator(l,c)<0;)n(l,null),l=o.getNext();l&&l.isEqual(c)&&(n(l,e),l=o.hasNext()?o.getNext():null),l?r.skip(l.path.toArray()):r.done()}).next(function(){for(;l;)n(l,null),l=o.hasNext()?o.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e){var n=this;k(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=Fe(),o=e.path.length+1,l=e.path.toArray(),c=IDBKeyRange.lowerBound(l);return fr(t).iterate({range:c},function(t,l,c){if(t.length===o){var d=n.serializer.fromDbRemoteDocument(l);e.path.isPrefixOf(d.key.path)?d instanceof Tt&&e.matches(d)&&(r=r.insert(d.key,d)):c.done()}}).next(function(){return r})},t.prototype.getNewDocumentChanges=function(t){var e=this;k(this.keepDocumentChangeLog,"Can only call getNewDocumentChanges() when document change log is enabled");var n=$e(),r=Le(),o=IDBKeyRange.lowerBound(this._lastProcessedDocumentChangeId+1),l=!0,c=pr(t);return c.iterate({range:o},function(t,r){if(l&&(l=!1,e._lastProcessedDocumentChangeId+1!==r.id))return e.synchronizeLastDocumentChangeId(c).next(function(){return Bn.reject(new O(I.DATA_LOSS,ur))});n=n.unionWith(e.serializer.fromDbResourcePaths(r.changes)),e._lastProcessedDocumentChangeId=r.id}).next(function(){var o=[];return n.forEach(function(n){o.push(e.getEntry(t,n).next(function(t){var e=t||new kt(n,de.forDeletedDoc());r=r.insert(n,e)}))}),Bn.waitFor(o)}).next(function(){return r})},t.prototype.removeDocumentChangesThroughChangeId=function(t,e){var n=IDBKeyRange.upperBound(e);return pr(t).delete(n)},t.prototype.synchronizeLastDocumentChangeId=function(t){var e=this;return this._lastProcessedDocumentChangeId=0,t.iterate({keysOnly:!0,reverse:!0},function(t,n,r){e._lastProcessedDocumentChangeId=t,r.done()})},t.prototype.newChangeBuffer=function(){return new dr(this)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return cr(t).get(Ar.key).next(function(t){return k(!!t,"Missing document cache metadata"),t})},t.prototype.setMetadata=function(t,e){return cr(t).put(Ar.key,e)},t.prototype.updateSize=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.setMetadata(t,r)})},t}();function cr(t){return to.getStore(t,Ar.store)}var dr=function(t){function e(e){var n=t.call(this)||this;return n.documentCache=e,n}return d.__extends(e,t),e.prototype.applyChanges=function(t){var e=this,n=this.assertChanges(),r=0,o=[];return n.forEach(function(t,n){var l=e.documentCache.serializer.toDbRemoteDocument(n),c=e.documentSizes.get(t);k(void 0!==c,"Attempting to change document "+t.toString()+" without having read it first");var d=gr(l);r+=d-c,o.push({key:t,doc:l})}),this.documentCache.addEntries(t,o,r)},e.prototype.getFromCache=function(t,e){return this.documentCache.getSizedEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.documentCache.getSizedEntries(t,e)},e}(sr);function fr(t){return to.getStore(t,Or.store)}function pr(t){return to.getStore(t,Lr.store)}function mr(t){return t.path.toArray()}function gr(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw T("Unknown remote document type");e=t.noDocument}return JSON.stringify(e).length}var vr=function(){function t(){this.collectionParentIndex=new yr}return t.prototype.addToCollectionParentIndex=function(t,e){return this.collectionParentIndex.add(e),Bn.resolve()},t.prototype.getCollectionParents=function(t,e){return Bn.resolve(this.collectionParentIndex.getEntries(e))},t}(),yr=function(){function t(){this.index={}}return t.prototype.add=function(t){k(t.length%2==1,"Expected a collection path.");var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new pe(bt.comparator),o=!r.has(n);return this.index[e]=r.add(n),o},t.prototype.getEntries=function(t){return(this.index[t]||new pe(bt.comparator)).toArray()},t}(),wr=8,_r=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var o=this;k(n<r&&n>=0&&r<=wr,"Unexpected schema upgrade from v"+n+" to v{toVersion}."),n<1&&r>=1&&(function(t){t.createObjectStore(Er.store)}(t),function(t){t.createObjectStore(Tr.store,{keyPath:Tr.keyPath}),t.createObjectStore(kr.store,{keyPath:kr.keyPath,autoIncrement:!0}).createIndex(kr.userMutationsIndex,kr.userMutationsKeyPath,{unique:!0}),t.createObjectStore(xr.store)}(t),Mr(t),function(t){t.createObjectStore(Or.store)}(t));var p=Bn.resolve();return n<3&&r>=3&&(0!==n&&(!function(t){t.deleteObjectStore(Dr.store),t.deleteObjectStore(Nr.store),t.deleteObjectStore(Pr.store)}(t),Mr(t)),p=p.next(function(){return function(t){var e=t.store(Pr.store),n=new Pr(0,0,de.MIN.toTimestamp(),0);return e.put(Pr.key,n)}(e)})),n<4&&r>=4&&(0!==n&&(p=p.next(function(){return function(t,e){return e.store(kr.store).loadAll().next(function(n){t.deleteObjectStore(kr.store);var r=t.createObjectStore(kr.store,{keyPath:kr.keyPath,autoIncrement:!0});r.createIndex(kr.userMutationsIndex,kr.userMutationsKeyPath,{unique:!0});var o=e.store(kr.store),l=n.map(function(t){return o.put(t)});return Bn.waitFor(l)})}(t,e)})),p=p.next(function(){!function(t){t.createObjectStore(jr.store,{keyPath:jr.keyPath})}(t),function(t){t.createObjectStore(Lr.store,{keyPath:"id",autoIncrement:!0})}(t)})),n<5&&r>=5&&(p=p.next(function(){return o.removeAcknowledgedMutations(e)})),n<6&&r>=6&&(p=p.next(function(){return function(t){t.createObjectStore(Ar.store)}(t),o.addDocumentGlobal(e)})),n<7&&r>=7&&(p=p.next(function(){return o.ensureSequenceNumbers(e)})),n<8&&r>=8&&(p=p.next(function(){return o.createCollectionParentIndex(t,e)})),p},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(Or.store).iterate(function(t,n){e+=gr(n)}).next(function(){var n=new Ar(e);return t.store(Ar.store).put(Ar.key,n)})},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(Tr.store),r=t.store(kr.store);return n.loadAll().next(function(n){return Bn.forEach(n,function(n){var o=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.loadAll(kr.userMutationsIndex,o).next(function(r){return Bn.forEach(r,function(r){k(r.userId===n.userId,"Cannot process batch "+r.batchId+" from unexpected user");var o=e.serializer.fromDbMutationBatch(r);return Vn(t,n.userId,o).next(function(){})})})})})},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(Dr.store),n=t.store(Or.store);return or(t).next(function(t){var r=[];return n.iterate(function(n,o){var path=new bt(n),l=function(path){return[0,Dn(path)]}(path);r.push(e.get(l).next(function(n){return n?Bn.resolve():function(path){return e.put(new Dr(0,Dn(path),t))}(path)}))}).next(function(){return Bn.waitFor(r)})})},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(Rr.store,{keyPath:Rr.keyPath});var n=e.store(Rr.store),r=new yr,o=function(t){if(r.add(t)){var e=t.lastSegment(),o=t.popLast();return n.put({collectionId:e,parent:Dn(o)})}};return e.store(Or.store).iterate({keysOnly:!0},function(t,e){var path=new bt(t);return o(path.popLast())}).next(function(){return e.store(xr.store).iterate({keysOnly:!0},function(t,e){t[0];var n=t[1],path=(t[2],Mn(n));return o(path.popLast())})})},t}();var Sr=function(){return function(t,e){this.seconds=t,this.nanoseconds=e}}(),Er=function(){function t(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n}return t.store="owner",t.key="owner",t}();var Tr=function(){function t(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}return t.store="mutationQueues",t.keyPath="userId",t}(),kr=function(){function t(t,e,n,r,o){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=o}return t.store="mutations",t.keyPath="batchId",t.userMutationsIndex="userMutationsIndex",t.userMutationsKeyPath=["userId","batchId"],t}();var xr=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,path){return[t,Dn(path)]},t.key=function(t,path,e){return[t,Dn(path),e]},t.store="documentMutations",t.PLACEHOLDER=new t,t}();var Cr=function(){return function(path,t){this.path=path,this.readTime=t}}(),Ir=function(){return function(path,t){this.path=path,this.version=t}}(),Or=function(){function t(t,e,n,r){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r}return t.store="remoteDocuments",t}(),Ar=function(){function t(t){this.byteSize=t}return t.store="remoteDocumentGlobal",t.key="remoteDocumentGlobalKey",t}();var Nr=function(){function t(t,e,n,r,o,l){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=o,this.query=l}return t.store="targets",t.keyPath="targetId",t.queryTargetsIndexName="queryTargetsIndex",t.queryTargetsKeyPath=["canonicalId","targetId"],t}(),Dr=function(){function t(t,path,e){this.targetId=t,this.path=path,this.sequenceNumber=e,k(0===t==(void 0!==e),"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number")}return t.store="targetDocuments",t.keyPath=["targetId","path"],t.documentTargetsIndex="documentTargetsIndex",t.documentTargetsKeyPath=["path","targetId"],t}(),Pr=function(){function t(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r}return t.key="targetGlobalKey",t.store="targetGlobal",t}(),Rr=function(){function t(t,e){this.collectionId=t,this.parent=e}return t.store="collectionParents",t.keyPath=["collectionId","parent"],t}();function Mr(t){t.createObjectStore(Dr.store,{keyPath:Dr.keyPath}).createIndex(Dr.documentTargetsIndex,Dr.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Nr.store,{keyPath:Nr.keyPath}).createIndex(Nr.queryTargetsIndexName,Nr.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Pr.store)}var Lr=function(){function t(t){this.changes=t}return t.store="remoteDocumentChanges",t.keyPath="id",t}();var jr=function(){function t(t,e,n,r,o){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r,this.lastProcessedDocumentChangeId=o}return t.store="clientMetadata",t.keyPath="clientId",t}();var Br=[Tr.store,kr.store,xr.store,Or.store,Nr.store,Er.store,Pr.store,Dr.store].concat([jr.store,Lr.store]).concat([Ar.store]).concat([Rr.store]),Fr=function(){function t(){this.collectionParentsCache=new yr}return t.prototype.addToCollectionParentIndex=function(t,e){if(k(e.length%2==1,"Expected a collection path."),this.collectionParentsCache.add(e)){k(e.length>=1,"Invalid collection path.");var n=e.lastSegment(),r=e.popLast();return Ur(t).put({collectionId:n,parent:Dn(r)})}return Bn.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[it(e),""],!1,!0);return Ur(t).loadAll(r).next(function(t){for(var r=0,o=t;r<o.length;r++){var l=o[r];if(l.collectionId!==e)break;n.push(Mn(l.parent))}return n})},t}();function Ur(t){return to.getStore(t,Rr.store)}var Vr=function(){function e(t){this.remoteSerializer=t}return e.prototype.fromDbRemoteDocument=function(t){if(t.document)return this.remoteSerializer.fromDocument(t.document,!!t.hasCommittedMutations);if(t.noDocument){var e=St.fromSegments(t.noDocument.path),n=this.fromDbTimestamp(t.noDocument.readTime);return new kt(e,n,{hasCommittedMutations:!!t.hasCommittedMutations})}if(t.unknownDocument){e=St.fromSegments(t.unknownDocument.path),n=this.fromDbTimestamp(t.unknownDocument.version);return new xt(e,n)}return T("Unexpected DbRemoteDocument")},e.prototype.toDbRemoteDocument=function(t){if(t instanceof Tt){var e=t.proto?t.proto:this.remoteSerializer.toDocument(t),n=t.hasCommittedMutations;return new Or(null,null,e,n)}if(t instanceof kt){var path=t.key.path.toArray(),r=this.toDbTimestamp(t.version);n=t.hasCommittedMutations;return new Or(null,new Cr(path,r),null,n)}if(t instanceof xt){path=t.key.path.toArray(),r=this.toDbTimestamp(t.version);return new Or(new Ir(path,r),null,null,!0)}return T("Unexpected MaybeDocumment")},e.prototype.toDbTimestamp=function(t){var e=t.toTimestamp();return new Sr(e.seconds,e.nanoseconds)},e.prototype.fromDbTimestamp=function(t){var e=new pt(t.seconds,t.nanoseconds);return de.fromTimestamp(e)},e.prototype.toDbMutationBatch=function(t,e){var n=this,r=e.baseMutations.map(function(t){return n.remoteSerializer.toMutation(t)}),o=e.mutations.map(function(t){return n.remoteSerializer.toMutation(t)});return new kr(t,e.batchId,e.localWriteTime.toMillis(),r,o)},e.prototype.fromDbMutationBatch=function(t){var e=this,n=(t.baseMutations||[]).map(function(t){return e.remoteSerializer.fromMutation(t)}),r=t.mutations.map(function(t){return e.remoteSerializer.fromMutation(t)}),o=pt.fromMillis(t.localWriteTimeMs);return new Ln(t.batchId,o,n,r)},e.prototype.toDbResourcePaths=function(t){var e=[];return t.forEach(function(t){e.push(Dn(t.path))}),e},e.prototype.fromDbResourcePaths=function(t){for(var e=$e(),n=0,r=t;n<r.length;n++){var o=r[n];e=e.add(new St(Mn(o)))}return e},e.prototype.fromDbTarget=function(t){var e,n=this.fromDbTimestamp(t.readTime);return e=void 0!==t.query.documents?this.remoteSerializer.fromDocumentsTarget(t.query):this.remoteSerializer.fromQueryTarget(t.query),new fe(e,t.targetId,Zt.Listen,t.lastListenSequenceNumber,n,t.resumeToken)},e.prototype.toDbTarget=function(e){k(Zt.Listen===e.purpose,"Only queries with purpose "+Zt.Listen+" may be stored, got "+e.purpose);var n,r,o=this.toDbTimestamp(e.snapshotVersion);return n=e.query.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(e.query):this.remoteSerializer.toQueryTarget(e.query),e.resumeToken instanceof Uint8Array?(k("YES"===t.env.USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence ."),r=e.resumeToken.toString()):r=e.resumeToken,new Nr(e.targetId,e.query.canonicalId(),o,r,e.sequenceNumber,n)},e}();function qr(t,e){var n=t[0],r=t[1],o=e[0],l=e[1],c=nt(n,o);return 0===c?nt(r,l):c}var $r=function(){function t(t){this.maxElements=t,this.buffer=new pe(qr),this.previousIndex=0}return t.prototype.nextIndex=function(){return++this.previousIndex},t.prototype.addElement=function(t){var e=[t,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();qr(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),t}(),Wr={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zr=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t.COLLECTION_DISABLED=-1,t.MINIMUM_CACHE_SIZE_BYTES=1048576,t.DEFAULT_CACHE_SIZE_BYTES=41943040,t.DEFAULT_COLLECTION_PERCENTILE=10,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,t.DEFAULT=new t(t.DEFAULT_CACHE_SIZE_BYTES,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),t.DISABLED=new t(t.COLLECTION_DISABLED,0,0),t}(),Hr=function(){function t(t,e,n){this.garbageCollector=t,this.asyncQueue=e,this.localStore=n,this.gcTask=null}return t.prototype.start=function(){k(null===this.gcTask,"Cannot start an already started LruScheduler"),this.garbageCollector.params.cacheSizeCollectionThreshold!==zr.COLLECTION_DISABLED&&this.scheduleGC()},t.prototype.stop=function(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.gcTask},enumerable:!0,configurable:!0}),t.prototype.scheduleGC=function(){var t=this;k(null===this.gcTask,"Cannot schedule GC while a task is pending");var e=this.hasRun?3e5:6e4;_("LruGarbageCollector","Garbage collection scheduled in "+e+"ms"),this.gcTask=this.asyncQueue.enqueueAfterDelay(En.LruGarbageCollection,e,function(){return t.gcTask=null,t.hasRun=!0,t.localStore.collectGarbage(t.garbageCollector).then(function(){return t.scheduleGC()}).catch(eo)})},t}(),Kr=function(){function t(t,e){this.delegate=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.delegate.getSequenceNumberCount(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Bn.resolve(Tn.INVALID);var r=new $r(e);return this.delegate.forEachTarget(t,function(t){return r.addElement(t.sequenceNumber)}).next(function(){return n.delegate.forEachOrphanedDocumentSequenceNumber(t,function(t){return r.addElement(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.delegate.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.delegate.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return this.params.cacheSizeCollectionThreshold===zr.COLLECTION_DISABLED?(_("LruGarbageCollector","Garbage collection skipped; disabled"),Bn.resolve(Wr)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(_("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Wr):n.runGarbageCollection(t,e)})},t.prototype.getCacheSize=function(t){return this.delegate.getCacheSize(t)},t.prototype.runGarbageCollection=function(t,e){var n,r,l,c,d,h,f,m,v=this;return c=Date.now(),this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>v.params.maximumSequenceNumbersToCollect?(_("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+v.params.maximumSequenceNumbersToCollect+" from "+e),r=v.params.maximumSequenceNumbersToCollect):r=e,d=Date.now(),v.nthSequenceNumber(t,r)}).next(function(r){return n=r,h=Date.now(),v.removeTargets(t,n,e)}).next(function(e){return l=e,f=Date.now(),v.removeOrphanedDocuments(t,n)}).next(function(t){(m=Date.now(),y()<=o.DEBUG)&&_("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(d-c)+"ms\n\tDetermined least recently used "+r+" in "+(h-d)+"ms\n\tRemoved "+l+" targets in "+(f-h)+"ms\n\tRemoved "+t+" documents in "+(m-f)+"ms\nTotal Duration: "+(m-c)+"ms");return Bn.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:l,documentsRemoved:t})})},t}(),Gr=function(){return function(){}}(),Qr="IndexedDbPersistence",Yr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Xr="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `experimentalTabSynchronization:true` in all tabs.",Jr="This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.",Zr=function(t){function e(e,n){var r=t.call(this)||this;return r.simpleDbTransaction=e,r.currentSequenceNumber=n,r}return d.__extends(e,t),e}(Gr),to=function(){function t(e,n,r,o,l,c,d){if(this.persistenceKey=e,this.clientId=n,this.queue=o,this.multiClientParams=d,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.inForeground=!1,this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY,this.primaryStateListener=function(t){return Promise.resolve()},!t.isAvailable())throw new O(I.UNIMPLEMENTED,Jr);if(this.referenceDelegate=new oo(this,c),this.dbName=e+t.MAIN_DATABASE,this.serializer=new Vr(l),this.document=r.document,this.allowTabSynchronization=void 0!==d,this.queryCache=new er(this.referenceDelegate,this.serializer),this.indexManager=new Fr,this.remoteDocumentCache=new lr(this.serializer,this.indexManager,this.allowTabSynchronization),!r.window||!r.window.localStorage)throw new O(I.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=r.window,this.webStorage=this.window.localStorage}return t.getStore=function(t,e){if(t instanceof Zr)return Qn.getStore(t.simpleDbTransaction,e);throw T("IndexedDbPersistence must use instances of IndexedDbTransaction")},t.createIndexedDbPersistence=function(e,n,r,o,l,c){return d.__awaiter(this,void 0,void 0,function(){var h;return d.__generator(this,function(d){switch(d.label){case 0:return[4,(h=new t(e,n,r,o,l,c)).start()];case 1:return d.sent(),[2,h]}})})},t.createMultiClientIndexedDbPersistence=function(e,n,r,o,l,c,h){return d.__awaiter(this,void 0,void 0,function(){var f;return d.__generator(this,function(d){switch(d.label){case 0:return[4,(f=new t(e,n,r,o,l,c,h)).start()];case 1:return d.sent(),[2,f]}})})},t.prototype.start=function(){var t=this;return k(!this.started,"IndexedDbPersistence double-started!"),k(null!==this.window,"Expected 'window' to be defined"),Qn.openOrCreate(this.dbName,wr,new _r(this.serializer)).then(function(e){return t.simpleDb=e,t.updateClientMetadataAndTryBecomePrimary()}).then(function(){return t.attachVisibilityHandler(),t.attachWindowUnloadHook(),t.scheduleClientMetadataAndPrimaryLeaseRefreshes(),t.startRemoteDocumentCache()}).then(function(){return t.simpleDb.runTransaction("readonly",[Pr.store],function(e){return or(e).next(function(e){var n=t.multiClientParams?t.multiClientParams.sequenceNumberSyncer:void 0;t.listenSequence=new Tn(e,n)})})}).then(function(){t._started=!0}).catch(function(e){return t.simpleDb&&t.simpleDb.close(),Promise.reject(e)})},t.prototype.startRemoteDocumentCache=function(){var t=this;return this.simpleDb.runTransaction("readonly",Br,function(e){return t.remoteDocumentCache.start(e)})},t.prototype.setPrimaryStateListener=function(t){var e=this;return this.primaryStateListener=function(n){return d.__awaiter(e,void 0,void 0,function(){return d.__generator(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.queue.enqueueAndForget(function(){return d.__awaiter(e,void 0,void 0,function(){return d.__generator(this,function(t){switch(t.label){case 0:return this.started?[4,this.updateClientMetadataAndTryBecomePrimary()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.updateClientMetadataAndTryBecomePrimary=function(){var t=this;return this.simpleDb.runTransaction("readwrite",Br,function(e){return ro(e).put(new jr(t.clientId,Date.now(),t.networkEnabled,t.inForeground,t.remoteDocumentCache.lastProcessedDocumentChangeId)).next(function(){if(t.isPrimary)return t.verifyPrimaryLease(e).next(function(e){e||(t.isPrimary=!1,t.queue.enqueueAndForget(function(){return t.primaryStateListener(!1)}))})}).next(function(){return t.canActAsPrimary(e)}).next(function(n){var r=t.isPrimary;return t.isPrimary=n,r!==t.isPrimary&&t.queue.enqueueAndForget(function(){return t.primaryStateListener(t.isPrimary)}),r&&!t.isPrimary?t.releasePrimaryLeaseIfHeld(e):t.isPrimary?t.acquireOrExtendPrimaryLease(e):void 0})})},t.prototype.verifyPrimaryLease=function(t){var e=this;return no(t).get(Er.key).next(function(t){return Bn.resolve(e.isLocalClient(t))})},t.prototype.removeClientMetadata=function(t){return ro(t).delete(this.clientId)},t.prototype.maybeGarbageCollectMultiClientState=function(){return d.__awaiter(this,void 0,void 0,function(){var e,n,r=this;return d.__generator(this,function(o){switch(o.label){case 0:return!this.isPrimary||this.isWithinAge(this.lastGarbageCollectionTime,18e5)?[3,2]:(this.lastGarbageCollectionTime=Date.now(),n=[],[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(o){var l=t.getStore(o,jr.store);return l.loadAll().next(function(t){e=r.filterActiveClients(t,18e5),n=t.filter(function(t){return-1===e.indexOf(t)})}).next(function(){return Bn.forEach(n,function(t){return l.delete(t.clientId)})}).next(function(){if((e=e.filter(function(t){return t.clientId!==r.clientId})).length>0){var t=e.map(function(t){return t.lastProcessedDocumentChangeId||0}),n=Math.min.apply(Math,t);return r.remoteDocumentCache.removeDocumentChangesThroughChangeId(o,n)}})})]);case 1:o.sent(),n.forEach(function(t){r.window.localStorage.removeItem(r.zombiedClientLocalStorageKey(t.clientId))}),o.label=2;case 2:return[2]}})})},t.prototype.scheduleClientMetadataAndPrimaryLeaseRefreshes=function(){var t=this;this.clientMetadataRefresher=this.queue.enqueueAfterDelay(En.ClientMetadataRefresh,4e3,function(){return t.updateClientMetadataAndTryBecomePrimary().then(function(){return t.maybeGarbageCollectMultiClientState()}).then(function(){return t.scheduleClientMetadataAndPrimaryLeaseRefreshes()})})},t.prototype.isLocalClient=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.canActAsPrimary=function(t){var e=this;return no(t).get(Er.key).next(function(n){if(null!==n&&e.isWithinAge(n.leaseTimestampMs,5e3)&&!e.isClientZombied(n.ownerId)){if(e.isLocalClient(n)&&e.networkEnabled)return!0;if(!e.isLocalClient(n)){if(!n.allowTabSynchronization)throw new O(I.FAILED_PRECONDITION,Xr);return!1}}return!(!e.networkEnabled||!e.inForeground)||ro(t).loadAll().next(function(t){return void 0===e.filterActiveClients(t,5e3).find(function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,o=e.networkEnabled===t.networkEnabled;if(n||r&&o)return!0}return!1})})}).next(function(t){return e.isPrimary!==t&&_(Qr,"Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return d.__awaiter(this,void 0,void 0,function(){var t=this;return d.__generator(this,function(e){switch(e.label){case 0:return this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&this.clientMetadataRefresher.cancel(),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),[4,this.simpleDb.runTransaction("readwrite",[Er.store,jr.store],function(e){return t.releasePrimaryLeaseIfHeld(e).next(function(){return t.removeClientMetadata(e)})})];case 1:return e.sent(),this.simpleDb.close(),this.removeClientZombiedEntry(),[2]}})})},t.prototype.filterActiveClients=function(t,e){var n=this;return t.filter(function(t){return n.isWithinAge(t.updateTimeMs,e)&&!n.isClientZombied(t.clientId)})},t.prototype.getActiveClients=function(){var t=this;return this.simpleDb.runTransaction("readonly",[jr.store],function(e){return ro(e).loadAll().next(function(e){return t.filterActiveClients(e,18e5).map(function(t){return t.clientId})})})},t.clearPersistence=function(e){return d.__awaiter(this,void 0,void 0,function(){var n;return d.__generator(this,function(r){switch(r.label){case 0:return t.isAvailable()?(n=e+t.MAIN_DATABASE,[4,Qn.delete(n)]):[2,Promise.resolve()];case 1:return r.sent(),[2]}})})},Object.defineProperty(t.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),t.prototype.getMutationQueue=function(t){return k(this.started,"Cannot initialize MutationQueue before persistence is started."),Fn.forUser(t,this.serializer,this.indexManager,this.referenceDelegate)},t.prototype.getQueryCache=function(){return k(this.started,"Cannot initialize QueryCache before persistence is started."),this.queryCache},t.prototype.getRemoteDocumentCache=function(){return k(this.started,"Cannot initialize RemoteDocumentCache before persistence is started."),this.remoteDocumentCache},t.prototype.getIndexManager=function(){return k(this.started,"Cannot initialize IndexManager before persistence is started."),this.indexManager},t.prototype.runTransaction=function(t,e,n){var r=this;return _(Qr,"Starting transaction:",t),this.simpleDb.runTransaction("readonly"===e?"readonly":"readwrite",Br,function(o){return"readwrite-primary"===e?r.verifyPrimaryLease(o).next(function(e){if(!e)throw S("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.queue.enqueueAndForget(function(){return r.primaryStateListener(!1)}),new O(I.FAILED_PRECONDITION,Yr);return n(new Zr(o,r.listenSequence.next()))}).next(function(t){return r.acquireOrExtendPrimaryLease(o).next(function(){return t})}):r.verifyAllowTabSynchronization(o).next(function(){return n(new Zr(o,r.listenSequence.next()))})})},t.prototype.verifyAllowTabSynchronization=function(t){var e=this;return no(t).get(Er.key).next(function(t){if(null!==t&&e.isWithinAge(t.leaseTimestampMs,5e3)&&!e.isClientZombied(t.ownerId)&&!e.isLocalClient(t)&&!t.allowTabSynchronization)throw new O(I.FAILED_PRECONDITION,Xr)})},t.prototype.acquireOrExtendPrimaryLease=function(t){var e=new Er(this.clientId,this.allowTabSynchronization,Date.now());return no(t).put(Er.key,e)},t.isAvailable=function(){return Qn.isAvailable()},t.buildStoragePrefix=function(t){var e=t.databaseId.projectId;return t.databaseId.isDefaultDatabase||(e+="."+t.databaseId.database),"firestore/"+t.persistenceKey+"/"+e+"/"},t.prototype.releasePrimaryLeaseIfHeld=function(t){var e=this,n=no(t);return n.get(Er.key).next(function(t){return e.isLocalClient(t)?(_(Qr,"Releasing primary lease."),n.delete(Er.key)):Bn.resolve()})},t.prototype.isWithinAge=function(t,e){var n=Date.now();return!(t<n-e)&&(!(t>n)||(S("Detected an update time that is in the future: "+t+" > "+n),!1))},t.prototype.attachVisibilityHandler=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.documentVisibilityHandler=function(){t.queue.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.updateClientMetadataAndTryBecomePrimary()})},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground="visible"===this.document.visibilityState)},t.prototype.detachVisibilityHandler=function(){this.documentVisibilityHandler&&(k(null!==this.document&&"function"==typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)},t.prototype.attachWindowUnloadHook=function(){var t=this;"function"==typeof this.window.addEventListener&&(this.windowUnloadHandler=function(){t.markClientZombied(),t.queue.enqueueAndForget(function(){return t.shutdown()})},this.window.addEventListener("unload",this.windowUnloadHandler))},t.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(k("function"==typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},t.prototype.isClientZombied=function(t){try{var e=null!==this.webStorage.getItem(this.zombiedClientLocalStorageKey(t));return _(Qr,"Client '"+t+"' "+(e?"is":"is not")+" zombied in LocalStorage"),e}catch(t){return S(Qr,"Failed to get zombied client id.",t),!1}},t.prototype.markClientZombied=function(){try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(t){S("Failed to set zombie client id.",t)}},t.prototype.removeClientZombiedEntry=function(){try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(t){}},t.prototype.zombiedClientLocalStorageKey=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t.MAIN_DATABASE="main",t}();function eo(t){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(e){if(!function(t){return t.code===I.FAILED_PRECONDITION&&t.message===Yr}(t))throw t;return _(Qr,"Unexpectedly lost primary lease"),[2]})})}function no(t){return t.store(Er.store)}function ro(t){return t.store(jr.store)}var oo=function(){function t(t,e){this.db=t,this.garbageCollector=new Kr(this,e)}return t.prototype.getSequenceNumberCount=function(t){var e=this.orphanedDocmentCount(t);return this.db.getQueryCache().getQueryCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.orphanedDocmentCount=function(t){var e=0;return this.forEachOrphanedDocumentSequenceNumber(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getQueryCache().forEachTarget(t,e)},t.prototype.forEachOrphanedDocumentSequenceNumber=function(t,e){return this.forEachOrphanedDocument(t,function(t,n){return e(n)})},t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.addReference=function(t,e){return io(t,e)},t.prototype.removeReference=function(t,e){return io(t,e)},t.prototype.removeTargets=function(t,e,n){return this.db.getQueryCache().removeTargets(t,e,n)},t.prototype.removeMutationReference=function(t,e){return io(t,e)},t.prototype.isPinned=function(t,e){return this.inMemoryPins.containsKey(e)?Bn.resolve(!0):function(t,e){var n=!1;return zn(t).iterateSerial(function(r){return Un(t,r,e).next(function(t){return t&&(n=!0),Bn.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=0,o=0,l=[];return this.forEachOrphanedDocument(t,function(c,d){if(d<=e){var p=n.isPinned(t,c).next(function(e){if(!e)return r++,n.removeOrphanedDocument(t,c).next(function(t){o+=t})});l.push(p)}}).next(function(){return Bn.waitFor(l)}).next(function(){return n.db.getRemoteDocumentCache().updateSize(t,-o)}).next(function(){return r})},t.prototype.removeOrphanedDocument=function(t,e){var n,r=0,o=this.db.getRemoteDocumentCache();return Bn.waitFor([ir(t).delete((n=e,[0,Dn(n.path)])),o.removeEntry(t,e).next(function(t){r+=t})]).next(function(){return r})},t.prototype.removeTarget=function(t,e){var n=e.copy({sequenceNumber:t.currentSequenceNumber});return this.db.getQueryCache().updateQueryData(t,n)},t.prototype.updateLimboDocument=function(t,e){return io(t,e)},t.prototype.forEachOrphanedDocument=function(t,e){var n,r=ir(t),o=Tn.INVALID;return r.iterate({index:Dr.documentTargetsIndex},function(t,r){var l=t[0],path=(t[1],r.path),c=r.sequenceNumber;0===l?(o!==Tn.INVALID&&e(new St(Mn(n)),o),o=c,n=path):o=Tn.INVALID}).next(function(){o!==Tn.INVALID&&e(new St(Mn(n)),o)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function io(t,e){return ir(t).put(function(t,e){return new Dr(0,Dn(t.path),e)}(e,t.currentSequenceNumber))}var ao=function(){function t(t,e,n){this.remoteDocumentCache=t,this.mutationQueue=e,this.indexManager=n}return t.prototype.getDocument=function(t,e){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.getDocumentInternal(t,e,r)})},t.prototype.getDocumentInternal=function(t,e,n){return this.remoteDocumentCache.getEntry(t,e).next(function(t){for(var r=0,o=n;r<o.length;r++){t=o[r].applyToLocalView(e,t)}return t})},t.prototype.applyLocalMutationsToDocuments=function(t,e,n){var r=je();return e.forEach(function(t,e){for(var o=0,l=n;o<l.length;o++){e=l[o].applyToLocalView(t,e)}r=r.insert(t,e)}),r},t.prototype.getDocuments=function(t,e){var n=this;return this.remoteDocumentCache.getEntries(t,e).next(function(e){return n.getLocalViewOfDocuments(t,e)})},t.prototype.getLocalViewOfDocuments=function(t,e){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(r){var o=n.applyLocalMutationsToDocuments(t,e,r),l=Le();return o.forEach(function(t,e){e||(e=new kt(t,de.forDeletedDoc())),l=l.insert(t,e)}),l})},t.prototype.getDocumentsMatchingQuery=function(t,e){return e.isDocumentQuery()?this.getDocumentsMatchingDocumentQuery(t,e.path):e.isCollectionGroupQuery()?this.getDocumentsMatchingCollectionGroupQuery(t,e):this.getDocumentsMatchingCollectionQuery(t,e)},t.prototype.getDocumentsMatchingDocumentQuery=function(t,e){return this.getDocument(t,new St(e)).next(function(t){var e=Fe();return t instanceof Tt&&(e=e.insert(t.key,t)),e})},t.prototype.getDocumentsMatchingCollectionGroupQuery=function(t,e){var n=this;k(e.path.isEmpty(),"Currently we only support collection group queries at the root.");var r=e.collectionGroup,o=Fe();return this.indexManager.getCollectionParents(t,r).next(function(l){return Bn.forEach(l,function(l){var c=e.asCollectionQueryAtPath(l.child(r));return n.getDocumentsMatchingCollectionQuery(t,c).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.getDocumentsMatchingCollectionQuery=function(t,e){var n,r=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(t,e).next(function(o){return n=o,r.mutationQueue.getAllMutationBatchesAffectingQuery(t,e)}).next(function(t){for(var r=0,o=t;r<o.length;r++)for(var l=o[r],c=0,d=l.mutations;c<d.length;c++){var h=d[c],f=h.key;if(e.path.isImmediateParentOf(f.path)){var m=n.get(f),v=h.applyToLocalView(m,m,l.localWriteTime);n=v instanceof Tt?n.insert(f,v):n.remove(f)}}}).next(function(){return n.forEach(function(t,r){e.matches(r)||(n=n.remove(t))}),n})},t}(),so=function(){function t(){this.refsByKey=new pe(uo.compareByKey),this.refsByTarget=new pe(uo.compareByTargetId)}return t.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},t.prototype.addReference=function(t,e){var n=new uo(t,e);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},t.prototype.addReferences=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.removeRef(new uo(t,e))},t.prototype.removeReferences=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.removeReferencesForId=function(t){var e=this,n=St.EMPTY,r=new uo(n,t),o=new uo(n,t+1),l=[];return this.refsByTarget.forEachInRange([r,o],function(t){e.removeRef(t),l.push(t.key)}),l},t.prototype.removeAllReferences=function(){var t=this;this.refsByKey.forEach(function(e){return t.removeRef(e)})},t.prototype.removeRef=function(t){this.refsByKey=this.refsByKey.delete(t),this.refsByTarget=this.refsByTarget.delete(t)},t.prototype.referencesForId=function(t){var e=St.EMPTY,n=new uo(e,t),r=new uo(e,t+1),o=$e();return this.refsByTarget.forEachInRange([n,r],function(t){o=o.add(t.key)}),o},t.prototype.containsKey=function(t){var e=new uo(t,0),n=this.refsByKey.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),uo=function(){function t(t,e){this.key=t,this.targetOrBatchId=e}return t.compareByKey=function(t,e){return St.comparator(t.key,e.key)||nt(t.targetOrBatchId,e.targetOrBatchId)},t.compareByTargetId=function(t,e){return nt(t.targetOrBatchId,e.targetOrBatchId)||St.comparator(t.key,e.key)},t}(),lo=function(){function t(t,e){this.persistence=t,this.localViewReferences=new so,this.queryDataByTarget={},k(t.started,"LocalStore was passed an unstarted persistence implementation"),this.persistence.referenceDelegate.setInMemoryPins(this.localViewReferences),this.mutationQueue=t.getMutationQueue(e),this.remoteDocuments=t.getRemoteDocumentCache(),this.queryCache=t.getQueryCache(),this.localDocuments=new ao(this.remoteDocuments,this.mutationQueue,this.persistence.getIndexManager())}return t.prototype.handleUserChange=function(t){var e=this;return this.persistence.runTransaction("Handle user change","readonly",function(n){var r;return e.mutationQueue.getAllMutationBatches(n).next(function(o){return r=o,e.mutationQueue=e.persistence.getMutationQueue(t),e.localDocuments=new ao(e.remoteDocuments,e.mutationQueue,e.persistence.getIndexManager()),e.mutationQueue.getAllMutationBatches(n)}).next(function(t){for(var o=[],l=[],c=$e(),d=0,h=r;d<h.length;d++){var f=h[d];o.push(f.batchId);for(var m=0,v=f.mutations;m<v.length;m++){var y=v[m];c=c.add(y.key)}}for(var w=0,_=t;w<_.length;w++){f=_[w];l.push(f.batchId);for(var S=0,E=f.mutations;S<E.length;S++){y=E[S];c=c.add(y.key)}}return e.localDocuments.getDocuments(n,c).next(function(t){return{affectedDocuments:t,removedBatchIds:o,addedBatchIds:l}})})})},t.prototype.localWrite=function(t){var e=this,n=pt.now(),r=t.reduce(function(t,e){return t.add(e.key)},$e());return this.persistence.runTransaction("Locally write mutations","readwrite",function(o){return e.localDocuments.getDocuments(o,r).next(function(r){for(var l=[],c=0,d=t;c<d.length;c++){var h=d[c],f=r.get(h.key);if(!h.isIdempotent){var m=h.fieldMask;if(m){var v=f instanceof Tt?m.applyTo(f.data):zt.EMPTY;l.push(new Se(h.key,v,m,be.exists(!0)))}}}return e.mutationQueue.addMutationBatch(o,n,l,t).next(function(t){var e=t.applyToLocalDocumentSet(r);return{batchId:t.batchId,changes:e}})})})},t.prototype.lookupMutationDocuments=function(t){var e=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",function(n){return e.mutationQueue.lookupMutationKeys(n,t).next(function(t){return t?e.localDocuments.getDocuments(n,t):Bn.resolve(null)})})},t.prototype.acknowledgeBatch=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(n){var r=t.batch.keys(),o=e.remoteDocuments.newChangeBuffer();return e.mutationQueue.acknowledgeBatch(n,t.batch,t.streamToken).next(function(){return e.applyWriteToRemoteDocuments(n,t,o)}).next(function(){return o.apply(n)}).next(function(){return e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,r)})})},t.prototype.rejectBatch=function(t){var e=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",function(n){var r;return e.mutationQueue.lookupMutationBatch(n,t).next(function(t){return k(null!==t,"Attempt to reject nonexistent batch!"),r=t.keys(),e.mutationQueue.removeMutationBatch(n,t)}).next(function(){return e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,r)})})},t.prototype.getLastStreamToken=function(){var t=this;return this.persistence.runTransaction("Get last stream token","readonly",function(e){return t.mutationQueue.getLastStreamToken(e)})},t.prototype.setLastStreamToken=function(t){var e=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary",function(n){return e.mutationQueue.setLastStreamToken(n,t)})},t.prototype.getLastRemoteSnapshotVersion=function(){var t=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",function(e){return t.queryCache.getLastRemoteSnapshotVersion(e)})},t.prototype.applyRemoteEvent=function(e){var n=this,r=this.remoteDocuments.newChangeBuffer();return this.persistence.runTransaction("Apply remote event","readwrite-primary",function(o){var l=[],c=$e();P(e.targetChanges,function(r,d){var h=n.queryDataByTarget[r];if(h){d.addedDocuments.forEach(function(t){c=c.add(t)}),d.modifiedDocuments.forEach(function(t){c=c.add(t)}),l.push(n.queryCache.removeMatchingKeys(o,d.removedDocuments,r).next(function(){return n.queryCache.addMatchingKeys(o,d.addedDocuments,r)}));var f=d.resumeToken;if(f.length>0){var m=h;h=h.copy({resumeToken:f,snapshotVersion:e.snapshotVersion}),n.queryDataByTarget[r]=h,t.shouldPersistQueryData(m,h,d)&&l.push(n.queryCache.updateQueryData(o,h))}}});var d=Le(),h=$e();e.documentUpdates.forEach(function(t,e){h=h.add(t)}),l.push(r.getEntries(o,h).next(function(t){e.documentUpdates.forEach(function(h,f){var m=t.get(h);null==m||f.version.isEqual(de.MIN)||c.has(f.key)&&!m.hasPendingWrites||f.version.compareTo(m.version)>=0?(r.addEntry(f),d=d.insert(h,f)):_("LocalStore","Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",f.version),e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))})}));var f=e.snapshotVersion;if(!f.isEqual(de.MIN)){var m=n.queryCache.getLastRemoteSnapshotVersion(o).next(function(t){return k(f.compareTo(t)>=0,"Watch stream reverted to previous snapshot?? "+f+" < "+t),n.queryCache.setTargetsMetadata(o,o.currentSequenceNumber,f)});l.push(m)}return Bn.waitFor(l).next(function(){return r.apply(o)}).next(function(){return n.localDocuments.getLocalViewOfDocuments(o,d)})})},t.shouldPersistQueryData=function(t,e,n){return 0!==e.resumeToken.length&&(0===t.resumeToken.length||(e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=this.RESUME_TOKEN_MAX_AGE_MICROS||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0))},t.prototype.notifyLocalViewChanges=function(t){var e=this;return this.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(n){return Bn.forEach(t,function(t){return e.localViewReferences.addReferences(t.addedKeys,t.targetId),e.localViewReferences.removeReferences(t.removedKeys,t.targetId),Bn.forEach(t.removedKeys,function(t){return e.persistence.referenceDelegate.removeReference(n,t)})})})},t.prototype.nextMutationBatch=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch","readonly",function(n){return void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t)})},t.prototype.readDocument=function(t){var e=this;return this.persistence.runTransaction("read document","readonly",function(n){return e.localDocuments.getDocument(n,t)})},t.prototype.allocateQuery=function(t){var e=this;return this.persistence.runTransaction("Allocate query","readwrite",function(n){var r;return e.queryCache.getQueryData(n,t).next(function(o){return o?(r=o,Bn.resolve()):e.queryCache.allocateTargetId(n).next(function(o){return r=new fe(t,o,Zt.Listen,n.currentSequenceNumber),e.queryCache.addQueryData(n,r)})}).next(function(){return k(!e.queryDataByTarget[r.targetId],"Tried to allocate an already allocated query: "+t),e.queryDataByTarget[r.targetId]=r,r})})},t.prototype.releaseQuery=function(t,e){var n=this,r=e?"readwrite":"readwrite-primary";return this.persistence.runTransaction("Release query",r,function(r){return n.queryCache.getQueryData(r,t).next(function(o){k(null!=o,"Tried to release nonexistent query: "+t);var l=o.targetId,c=n.queryDataByTarget[l],d=n.localViewReferences.removeReferencesForId(l);return delete n.queryDataByTarget[l],e?Bn.resolve():Bn.forEach(d,function(t){return n.persistence.referenceDelegate.removeReference(r,t)}).next(function(){return n.persistence.referenceDelegate.removeTarget(r,c)})})})},t.prototype.executeQuery=function(t){var e=this;return this.persistence.runTransaction("Execute query","readonly",function(n){return e.localDocuments.getDocumentsMatchingQuery(n,t)})},t.prototype.remoteDocumentKeys=function(t){var e=this;return this.persistence.runTransaction("Remote document keys","readonly",function(n){return e.queryCache.getMatchingKeysForTargetId(n,t)})},t.prototype.getActiveClients=function(){return this.persistence.getActiveClients()},t.prototype.removeCachedMutationBatchMetadata=function(t){this.mutationQueue.removeCachedMutationKeys(t)},t.prototype.setNetworkEnabled=function(t){this.persistence.setNetworkEnabled(t)},t.prototype.applyWriteToRemoteDocuments=function(t,e,n){var r=this,o=e.batch,l=o.keys(),c=Bn.resolve();return l.forEach(function(r){c=c.next(function(){return n.getEntry(t,r)}).next(function(t){var l=t,c=e.docVersions.get(r);k(null!==c,"ackVersions should contain every doc in the write."),(!l||l.version.compareTo(c)<0)&&((l=o.applyToRemoteDocument(r,l,e))?n.addEntry(l):k(!t,"Mutation batch "+o+" applied to document "+t+" resulted in null"))})}),c.next(function(){return r.mutationQueue.removeMutationBatch(t,o)})},t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.queryDataByTarget)})},t.prototype.getQueryForTarget=function(t){var e=this;return this.queryDataByTarget[t]?Promise.resolve(this.queryDataByTarget[t].query):this.persistence.runTransaction("Get query data","readonly",function(n){return e.queryCache.getQueryDataForTarget(n,t).next(function(t){return t?t.query:null})})},t.prototype.getNewDocumentChanges=function(){var t=this;return this.persistence.runTransaction("Get new document changes","readonly",function(e){return t.remoteDocuments.getNewDocumentChanges(e)})},t.RESUME_TOKEN_MAX_AGE_MICROS=3e8,t}(),co=function(){function t(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.nextBatchId=1,this.lastStreamToken=C(),this.batchesByDocumentKey=new pe(uo.compareByKey)}return t.prototype.checkEmpty=function(t){return Bn.resolve(0===this.mutationQueue.length)},t.prototype.acknowledgeBatch=function(t,e,n){var r=e.batchId,o=this.indexOfExistingBatchId(r,"acknowledged");k(0===o,"Can only acknowledge the first batch in the mutation queue");var l=this.mutationQueue[o];return k(r===l.batchId,"Queue ordering failure: expected batch "+r+", got batch "+l.batchId),this.lastStreamToken=n,Bn.resolve()},t.prototype.getLastStreamToken=function(t){return Bn.resolve(this.lastStreamToken)},t.prototype.setLastStreamToken=function(t,e){return this.lastStreamToken=e,Bn.resolve()},t.prototype.addMutationBatch=function(t,e,n,r){k(0!==r.length,"Mutation batches should not be empty");var o=this.nextBatchId;(this.nextBatchId++,this.mutationQueue.length>0)&&k(this.mutationQueue[this.mutationQueue.length-1].batchId<o,"Mutation batchIDs must be monotonically increasing order");var l=new Ln(o,e,n,r);this.mutationQueue.push(l);for(var c=0,d=r;c<d.length;c++){var h=d[c];this.batchesByDocumentKey=this.batchesByDocumentKey.add(new uo(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast())}return Bn.resolve(l)},t.prototype.lookupMutationBatch=function(t,e){return Bn.resolve(this.findMutationBatch(e))},t.prototype.lookupMutationKeys=function(t,e){var n=this.findMutationBatch(e);return k(null!=n,"Failed to find local mutation batch."),Bn.resolve(n.keys())},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=e+1,r=this.indexOfBatchId(n),o=r<0?0:r;return Bn.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)},t.prototype.getAllMutationBatches=function(t){return Bn.resolve(this.mutationQueue.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new uo(e,0),o=new uo(e,Number.POSITIVE_INFINITY),l=[];return this.batchesByDocumentKey.forEachInRange([r,o],function(t){k(e.isEqual(t.key),"Should only iterate over a single key's batches");var r=n.findMutationBatch(t.targetOrBatchId);k(null!==r,"Batches in the index must exist in the main table"),l.push(r)}),Bn.resolve(l)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new pe(nt);return e.forEach(function(t){var e=new uo(t,0),o=new uo(t,Number.POSITIVE_INFINITY);n.batchesByDocumentKey.forEachInRange([e,o],function(e){k(t.isEqual(e.key),"For each key, should only iterate over a single key's batches"),r=r.add(e.targetOrBatchId)})}),Bn.resolve(this.findMutationBatches(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){k(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var n=e.path,r=n.length+1,o=n;St.isDocumentKey(o)||(o=o.child(""));var l=new uo(new St(o),0),c=new pe(nt);return this.batchesByDocumentKey.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(c=c.add(t.targetOrBatchId)),!0)},l),Bn.resolve(this.findMutationBatches(c))},t.prototype.findMutationBatches=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.findMutationBatch(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;k(0===this.indexOfExistingBatchId(e.batchId,"removed"),"Can only remove the first entry of the mutation queue"),this.mutationQueue.shift();var r=this.batchesByDocumentKey;return Bn.forEach(e.mutations,function(o){var l=new uo(o.key,e.batchId);return r=r.delete(l),n.referenceDelegate.removeMutationReference(t,o.key)}).next(function(){n.batchesByDocumentKey=r})},t.prototype.removeCachedMutationKeys=function(t){},t.prototype.containsKey=function(t,e){var n=new uo(e,0),r=this.batchesByDocumentKey.firstAfterOrEqual(n);return Bn.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return 0===this.mutationQueue.length&&k(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),Bn.resolve()},t.prototype.indexOfExistingBatchId=function(t,e){var n=this.indexOfBatchId(t);return k(n>=0&&n<this.mutationQueue.length,"Batches must exist to be "+e),n},t.prototype.indexOfBatchId=function(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId},t.prototype.findMutationBatch=function(t){var e=this.indexOfBatchId(t);if(e<0||e>=this.mutationQueue.length)return null;var n=this.mutationQueue[e];return k(n.batchId===t,"If found batch must match"),n},t}(),ho=function(){function t(t){this.persistence=t,this.queries=new ar(function(q){return q.canonicalId()}),this.lastRemoteSnapshotVersion=de.MIN,this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new so,this.targetCount=0,this.targetIdGenerator=Gn.forQueryCache()}return t.prototype.getTargetCount=function(t){return Bn.resolve(this.targetCount)},t.prototype.forEachTarget=function(t,e){return this.queries.forEach(function(t,n){return e(n)}),Bn.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Bn.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Bn.resolve(this.highestSequenceNumber)},t.prototype.allocateTargetId=function(t){var e=this.targetIdGenerator.after(this.highestTargetId);return this.highestTargetId=e,Bn.resolve(e)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.highestSequenceNumber&&(this.highestSequenceNumber=e),Bn.resolve()},t.prototype.saveQueryData=function(t){this.queries.set(t.query,t);var e=t.targetId;e>this.highestTargetId&&(this.highestTargetId=e),t.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=t.sequenceNumber)},t.prototype.addQueryData=function(t,e){return k(!this.queries.has(e.query),"Adding a query that already exists"),this.saveQueryData(e),this.targetCount+=1,Bn.resolve()},t.prototype.updateQueryData=function(t,e){return k(this.queries.has(e.query),"Updating a non-existent query"),this.saveQueryData(e),Bn.resolve()},t.prototype.removeQueryData=function(t,e){return k(this.targetCount>0,"Removing a target from an empty cache"),k(this.queries.has(e.query),"Removing a non-existent target from the cache"),this.queries.delete(e.query),this.references.removeReferencesForId(e.targetId),this.targetCount-=1,Bn.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,o=0,l=[];return this.queries.forEach(function(c,d){d.sequenceNumber<=e&&!n[d.targetId]&&(r.queries.delete(c),l.push(r.removeMatchingKeysForTargetId(t,d.targetId)),o++)}),Bn.waitFor(l).next(function(){return o})},t.prototype.getQueryCount=function(t){return Bn.resolve(this.targetCount)},t.prototype.getQueryData=function(t,e){var n=this.queries.get(e)||null;return Bn.resolve(n)},t.prototype.getQueryDataForTarget=function(t,e){return T("Not yet implemented.")},t.prototype.addMatchingKeys=function(t,e,n){this.references.addReferences(e,n);var r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(function(e){o.push(r.addReference(t,e))}),Bn.waitFor(o)},t.prototype.removeMatchingKeys=function(t,e,n){this.references.removeReferences(e,n);var r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(function(e){o.push(r.removeReference(t,e))}),Bn.waitFor(o)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this.references.removeReferencesForId(e),Bn.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this.references.referencesForId(e);return Bn.resolve(n)},t.prototype.containsKey=function(t,e){return Bn.resolve(this.references.containsKey(e))},t}();var fo,po=function(){function t(t,e){this.indexManager=t,this.sizer=e,this.docs=new Ct(St.comparator),this.newDocumentChanges=$e(),this.size=0}return t.prototype.addEntries=function(t,e,n){for(var r=[],o=0,l=e;o<l.length;o++){var c=l[o],d=c.maybeDocument.key;this.docs=this.docs.insert(d,c),this.newDocumentChanges=this.newDocumentChanges.add(d),r.push(this.indexManager.addToCollectionParentIndex(t,d.path.popLast()))}return this.size+=n,Bn.waitFor(r)},t.prototype.removeEntry=function(t,e){var n=this.docs.get(e);return n?(this.docs=this.docs.remove(e),this.size-=n.size,Bn.resolve(n.size)):Bn.resolve(0)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Bn.resolve(n?n.maybeDocument:null)},t.prototype.getSizedEntry=function(t,e){return Bn.resolve(this.docs.get(e))},t.prototype.getEntries=function(t,e){var n=this,r=je();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.maybeDocument:null)}),Bn.resolve(r)},t.prototype.getSizedEntries=function(t,e){var n=this,r=je(),o=new Ct(St.comparator);return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.maybeDocument:null),o=o.insert(t,e?e.size:0)}),Bn.resolve({maybeDocuments:r,sizeMap:o})},t.prototype.getDocumentsMatchingQuery=function(t,e){k(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");for(var n=Fe(),r=new St(e.path.child("")),o=this.docs.getIteratorFrom(r);o.hasNext();){var l=o.getNext(),c=l.key,d=l.value.maybeDocument;if(!e.path.isPrefixOf(c.path))break;d instanceof Tt&&e.matches(d)&&(n=n.insert(d.key,d))}return Bn.resolve(n)},t.prototype.forEachDocumentKey=function(t,e){return Bn.forEach(this.docs,function(t){return e(t)})},t.prototype.getNewDocumentChanges=function(t){var e=this,n=Le();return this.newDocumentChanges.forEach(function(t){var r=e.docs.get(t),o=r?r.maybeDocument:new kt(t,de.forDeletedDoc());n=n.insert(t,o)}),this.newDocumentChanges=$e(),Bn.resolve(n)},t.prototype.newChangeBuffer=function(){return new mo(this.sizer,this)},t.prototype.getSize=function(t){return Bn.resolve(this.size)},t}(),mo=function(t){function e(e,n){var r=t.call(this)||this;return r.sizer=e,r.documentCache=n,r}return d.__extends(e,t),e.prototype.applyChanges=function(t){var e=this,n=this.assertChanges(),r=0,o=[];return n.forEach(function(t,n){var l=e.documentSizes.get(t);k(void 0!==l,"Attempting to change document "+t.toString()+" without having read it first");var c=e.sizer(n);r+=c-l,o.push({maybeDocument:n,size:c})}),this.documentCache.addEntries(t,o,r)},e.prototype.getFromCache=function(t,e){return this.documentCache.getSizedEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.documentCache.getSizedEntries(t,e)},e}(sr),go=function(){function t(t,e){var n=this;this.clientId=t,this.mutationQueues={},this.listenSequence=new Tn(0),this._started=!1,this._started=!0,this.referenceDelegate=e(this),this.queryCache=new ho(this);this.indexManager=new vr,this.remoteDocumentCache=new po(this.indexManager,function(t){return n.referenceDelegate.documentSize(t)})}return t.createLruPersistence=function(e,n,r){return new t(e,function(p){return new bo(p,new Vr(n),r)})},t.createEagerPersistence=function(e){return new t(e,function(p){return new yo(p)})},t.prototype.shutdown=function(){return this._started=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),t.prototype.getActiveClients=function(){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(t){return[2,[this.clientId]]})})},t.prototype.setPrimaryStateListener=function(t){return t(!0)},t.prototype.setNetworkEnabled=function(t){},t.prototype.getIndexManager=function(){return this.indexManager},t.prototype.getMutationQueue=function(t){var e=this.mutationQueues[t.toKey()];return e||(e=new co(this.indexManager,this.referenceDelegate),this.mutationQueues[t.toKey()]=e),e},t.prototype.getQueryCache=function(){return this.queryCache},t.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},t.prototype.runTransaction=function(t,e,n){var r=this;_("MemoryPersistence","Starting transaction:",t);var o=new vo(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),n(o).next(function(t){return r.referenceDelegate.onTransactionCommitted(o).next(function(){return t})}).toPromise()},t.prototype.mutationQueuesContainKey=function(t,e){return Bn.or((n=this.mutationQueues,r=[],R(n,function(t,e){return r.push(e)}),r).map(function(n){return function(){return n.containsKey(t,e)}}));var n,r},t}(),vo=function(){return function(t){this.currentSequenceNumber=t}}(),yo=function(){function t(t){this.persistence=t}return t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.addReference=function(t,e){return this.orphanedDocuments.delete(e),Bn.resolve()},t.prototype.removeReference=function(t,e){return this.orphanedDocuments.add(e),Bn.resolve()},t.prototype.removeMutationReference=function(t,e){return this.orphanedDocuments.add(e),Bn.resolve()},t.prototype.removeTarget=function(t,e){var n=this,r=this.persistence.getQueryCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.orphanedDocuments.add(t)})}).next(function(){return r.removeQueryData(t,e)})},t.prototype.onTransactionStarted=function(){this.orphanedDocuments=new Set},t.prototype.onTransactionCommitted=function(t){var e=this,n=this.persistence.getRemoteDocumentCache();return Bn.forEach(this.orphanedDocuments,function(r){return e.isReferenced(t,r).next(function(e){return e?Bn.resolve():n.removeEntry(t,r).next(function(){})})})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.isReferenced(t,e).next(function(t){t?n.orphanedDocuments.delete(e):n.orphanedDocuments.add(e)})},t.prototype.documentSize=function(t){return 0},t.prototype.isReferenced=function(t,e){var n=this;return Bn.or([function(){return n.persistence.getQueryCache().containsKey(t,e)},function(){return n.persistence.mutationQueuesContainKey(t,e)},function(){return Bn.resolve(n.inMemoryPins.containsKey(e))}])},t}(),bo=function(){function t(t,e,n){this.persistence=t,this.serializer=e,this.orphanedSequenceNumbers=new ar(function(t){return Dn(t.path)}),this.garbageCollector=new Kr(this,n)}return t.prototype.onTransactionStarted=function(){},t.prototype.onTransactionCommitted=function(t){return Bn.resolve()},t.prototype.forEachTarget=function(t,e){return this.persistence.getQueryCache().forEachTarget(t,e)},t.prototype.getSequenceNumberCount=function(t){var e=this.orphanedDocumentCount(t);return this.persistence.getQueryCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.orphanedDocumentCount=function(t){var e=0;return this.forEachOrphanedDocumentSequenceNumber(t,function(t){e++}).next(function(){return e})},t.prototype.forEachOrphanedDocumentSequenceNumber=function(t,e){var n=this;return Bn.forEach(this.orphanedSequenceNumbers,function(r,o){return n.isPinned(t,r,o).next(function(t){return t?Bn.resolve():e(o)})})},t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.removeTargets=function(t,e,n){return this.persistence.getQueryCache().removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=0,o=this.persistence.getRemoteDocumentCache();return o.forEachDocumentKey(t,function(l){return n.isPinned(t,l,e).next(function(e){return e?Bn.resolve():(r++,o.removeEntry(t,l).next())})}).next(function(){return r})},t.prototype.removeMutationReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Bn.resolve()},t.prototype.removeTarget=function(t,e){var n=e.copy({sequenceNumber:t.currentSequenceNumber});return this.persistence.getQueryCache().updateQueryData(t,n)},t.prototype.addReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Bn.resolve()},t.prototype.removeReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Bn.resolve()},t.prototype.updateLimboDocument=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Bn.resolve()},t.prototype.documentSize=function(t){var e,n=this.serializer.toDbRemoteDocument(t);if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw T("Unknown remote document type");e=n.noDocument}return JSON.stringify(e).length},t.prototype.isPinned=function(t,e,n){var r=this;return Bn.or([function(){return r.persistence.mutationQueuesContainKey(t,e)},function(){return Bn.resolve(r.inMemoryPins.containsKey(e))},function(){return r.persistence.getQueryCache().containsKey(t,e)},function(){var t=r.orphanedSequenceNumbers.get(e);return Bn.resolve(void 0!==t&&t>n)}])},t.prototype.getCacheSize=function(t){return this.persistence.getRemoteDocumentCache().getSize(t)},t}(),wo=function(){function t(t,e,n,r,o){this.queue=t,this.timerId=e,this.initialDelayMs=n,this.backoffFactor=r,this.maxDelayMs=o,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}return t.prototype.reset=function(){this.currentBaseMs=0},t.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},t.prototype.backoffAndRun=function(t){var e=this;this.cancel();var n=Math.floor(this.currentBaseMs+this.jitterDelayMs()),r=Math.max(0,Date.now()-this.lastAttemptTime),o=Math.max(0,n-r);this.currentBaseMs>0&&_("ExponentialBackoff","Backing off for "+o+" ms (base delay: "+this.currentBaseMs+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,o,function(){return e.lastAttemptTime=Date.now(),t()}),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)},t.prototype.cancel=function(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)},t.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},t}();!function(t){t[t.Initial=0]="Initial",t[t.Starting=1]="Starting",t[t.Open=2]="Open",t[t.Error=3]="Error",t[t.Backoff=4]="Backoff"}(fo||(fo={}));var _o,So,Eo=1e3,To=6e4,ko=1.5,xo=function(){function t(t,e,n,r,o,l){this.queue=t,this.idleTimerId=n,this.connection=r,this.credentialsProvider=o,this.listener=l,this.state=fo.Initial,this.closeCount=0,this.idleTimer=null,this.stream=null,this.backoff=new wo(t,e,Eo,ko,To)}return t.prototype.isStarted=function(){return this.state===fo.Starting||this.state===fo.Open||this.state===fo.Backoff},t.prototype.isOpen=function(){return this.state===fo.Open},t.prototype.start=function(){this.state!==fo.Error?(k(this.state===fo.Initial,"Already started"),this.auth()):this.performBackoff()},t.prototype.stop=function(){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(t){switch(t.label){case 0:return this.isStarted()?[4,this.close(fo.Initial)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.inhibitBackoff=function(){k(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=fo.Initial,this.backoff.reset()},t.prototype.markIdle=function(){var t=this;this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,6e4,function(){return t.handleIdleCloseTimer()}))},t.prototype.sendRequest=function(t){this.cancelIdleCheck(),this.stream.send(t)},t.prototype.handleIdleCloseTimer=function(){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(t){return this.isOpen()?[2,this.close(fo.Initial)]:[2]})})},t.prototype.cancelIdleCheck=function(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)},t.prototype.close=function(t,e){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(n){switch(n.label){case 0:return k(this.isStarted(),"Only started streams should be closed."),k(t===fo.Error||Xt(e),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),this.backoff.cancel(),this.closeCount++,t!==fo.Error?this.backoff.reset():e&&e.code===I.RESOURCE_EXHAUSTED?(S(e.toString()),S("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):e&&e.code===I.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.onClose(e)];case 1:return n.sent(),[2]}})})},t.prototype.tearDown=function(){},t.prototype.auth=function(){var t=this;k(this.state===fo.Initial,"Must be in initial state to auth"),this.state=fo.Starting;var e=this.getCloseGuardedDispatcher(this.closeCount),n=this.closeCount;this.credentialsProvider.getToken().then(function(e){t.closeCount===n&&t.startStream(e)},function(n){e(function(){var e=new O(I.UNKNOWN,"Fetching auth token failed: "+n.message);return t.handleStreamClose(e)})})},t.prototype.startStream=function(t){var e=this;k(this.state===fo.Starting,"Trying to start stream in a non-starting state");var n=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(t),this.stream.onOpen(function(){n(function(){return k(e.state===fo.Starting,"Expected stream to be in state Starting, but was "+e.state),e.state=fo.Open,e.listener.onOpen()})}),this.stream.onClose(function(t){n(function(){return e.handleStreamClose(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.performBackoff=function(){var t=this;k(this.state===fo.Error,"Should only perform backoff when in Error state"),this.state=fo.Backoff,this.backoff.backoffAndRun(function(){return d.__awaiter(t,void 0,void 0,function(){return d.__generator(this,function(t){return k(this.state===fo.Backoff,"Backoff elapsed but state is now: "+this.state),this.state=fo.Initial,this.start(),k(this.isStarted(),"PersistentStream should have started"),[2]})})})},t.prototype.handleStreamClose=function(t){return k(this.isStarted(),"Can't handle server close on non-started stream"),_("PersistentStream","close with error: "+t),this.stream=null,this.close(fo.Error,t)},t.prototype.getCloseGuardedDispatcher=function(t){var e=this;return function(n){e.queue.enqueueAndForget(function(){return e.closeCount===t?n():(_("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Co=function(t){function e(e,n,r,o,l){var c=t.call(this,e,En.ListenStreamConnectionBackoff,En.ListenStreamIdle,n,r,l)||this;return c.serializer=o,c}return d.__extends(e,t),e.prototype.startRpc=function(t){return this.connection.openStream("Listen",t)},e.prototype.onMessage=function(t){this.backoff.reset();var e=this.serializer.fromWatchChange(t),n=this.serializer.versionFromListenResponse(t);return this.listener.onWatchChange(e,n)},e.prototype.watch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.addTarget=this.serializer.toTarget(t);var n=this.serializer.toListenRequestLabels(t);n&&(e.labels=n),this.sendRequest(e)},e.prototype.unwatch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.removeTarget=t,this.sendRequest(e)},e}(xo),Io=function(t){function e(e,n,r,o,l){var c=t.call(this,e,En.WriteStreamConnectionBackoff,En.WriteStreamIdle,n,r,l)||this;return c.serializer=o,c.handshakeComplete_=!1,c}return d.__extends(e,t),Object.defineProperty(e.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.handshakeComplete_=!1,t.prototype.start.call(this)},e.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},e.prototype.startRpc=function(t){return this.connection.openStream("Write",t)},e.prototype.onMessage=function(t){if(k(!!t.streamToken,"Got a write response without a stream token"),this.lastStreamToken=t.streamToken,this.handshakeComplete_){this.backoff.reset();var e=this.serializer.fromWriteResults(t.writeResults,t.commitTime),n=this.serializer.fromVersion(t.commitTime);return this.listener.onMutationResult(n,e)}return k(!t.writeResults||0===t.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},e.prototype.writeHandshake=function(){k(this.isOpen(),"Writing handshake requires an opened stream"),k(!this.handshakeComplete_,"Handshake already completed");var t={};t.database=this.serializer.encodedDatabaseId,this.sendRequest(t)},e.prototype.writeMutations=function(t){var e=this;k(this.isOpen(),"Writing mutations requires an opened stream"),k(this.handshakeComplete_,"Handshake must be complete before writing mutations"),k(this.lastStreamToken.length>0,"Trying to write mutation without a token");var n={streamToken:this.lastStreamToken,writes:t.map(function(t){return e.serializer.toMutation(t)})};this.sendRequest(n)},e}(xo),Oo=function(){function t(t,e,n,r){this.queue=t,this.connection=e,this.credentials=n,this.serializer=r}return t.prototype.newPersistentWriteStream=function(t){return new Io(this.queue,this.connection,this.credentials,this.serializer,t)},t.prototype.newPersistentWatchStream=function(t){return new Co(this.queue,this.connection,this.credentials,this.serializer,t)},t.prototype.commit=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,writes:t.map(function(t){return e.serializer.toMutation(t)})};return this.invokeRPC("Commit",n).then(function(t){return e.serializer.fromWriteResults(t.writeResults,t.commitTime)})},t.prototype.lookup=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,documents:t.map(function(t){return e.serializer.toName(t)})};return this.invokeStreamingRPC("BatchGetDocuments",n).then(function(n){var r=Le();n.forEach(function(t){var n=e.serializer.fromMaybeDocument(t);r=r.insert(n.key,n)});var o=[];return t.forEach(function(t){var e=r.get(t);k(!!e,"Missing entity in write response for "+t),o.push(e)}),o})},t.prototype.invokeRPC=function(t,e){var n=this;return this.credentials.getToken().then(function(r){return n.connection.invokeRPC(t,e,r)}).catch(function(t){throw t.code===I.UNAUTHENTICATED&&n.credentials.invalidateToken(),t})},t.prototype.invokeStreamingRPC=function(t,e){var n=this;return this.credentials.getToken().then(function(r){return n.connection.invokeStreamingRPC(t,e,r)}).catch(function(t){throw t.code===I.UNAUTHENTICATED&&n.credentials.invalidateToken(),t})},t}(),Ao=function(){function t(t){this.datastore=t,this.readVersions=Ve(),this.mutations=[],this.committed=!1}return t.prototype.recordVersion=function(t){var e;if(t instanceof Tt)e=t.version;else{if(!(t instanceof kt))throw T("Document in a transaction was a "+t.constructor.name);e=de.forDeletedDoc()}var n=this.readVersions.get(t.key);if(null!==n){if(!e.isEqual(n))throw new O(I.ABORTED,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(t.key,e)},t.prototype.lookup=function(t){var e=this;return this.committed?Promise.reject("Transaction has already completed."):this.mutations.length>0?Promise.reject("Transactions lookups are invalid after writes."):this.datastore.lookup(t).then(function(t){return t.forEach(function(t){t instanceof kt||t instanceof Tt?e.recordVersion(t):T("Document in a transaction was a "+t.constructor.name)}),t})},t.prototype.write=function(t){if(this.committed)throw new O(I.FAILED_PRECONDITION,"Transaction has already completed.");this.mutations=this.mutations.concat(t)},t.prototype.precondition=function(t){var e=this.readVersions.get(t);return e?be.updateTime(e):be.NONE},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t);if(e&&e.isEqual(de.forDeletedDoc()))throw new O(I.FAILED_PRECONDITION,"Can't update a document that doesn't exist.");return e?be.updateTime(e):be.exists(!0)},t.prototype.set=function(t,data){this.write(data.toMutations(t,this.precondition(t)))},t.prototype.update=function(t,data){this.write(data.toMutations(t,this.preconditionForUpdate(t)))},t.prototype.delete=function(t){this.write([new Te(t,this.precondition(t))]),this.readVersions=this.readVersions.insert(t,de.forDeletedDoc())},t.prototype.commit=function(){var t=this,e=this.readVersions;return this.mutations.forEach(function(t){e=e.remove(t.key)}),e.isEmpty()?this.datastore.commit(this.mutations).then(function(){t.committed=!0}):Promise.reject(Error("Every document read in a transaction must also be written."))},t}();!function(t){t[t.Unknown=0]="Unknown",t[t.Online=1]="Online",t[t.Offline=2]="Offline"}(_o||(_o={})),function(t){t[t.RemoteStore=0]="RemoteStore",t[t.SharedClientState=1]="SharedClientState"}(So||(So={}));var No=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state=_o.Unknown,this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}return t.prototype.handleWatchStreamStart=function(){var t=this;0===this.watchStreamFailures&&(this.setAndBroadcast(_o.Unknown),k(null===this.onlineStateTimer,"onlineStateTimer shouldn't be started yet"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay(En.OnlineStateTimeout,1e4,function(){return t.onlineStateTimer=null,k(t.state===_o.Unknown,"Timer should be canceled if we transitioned to a different state."),t.logClientOfflineWarningIfNecessary("Backend didn't respond within 10 seconds."),t.setAndBroadcast(_o.Offline),Promise.resolve()}))},t.prototype.handleWatchStreamFailure=function(t){this.state===_o.Online?(this.setAndBroadcast(_o.Unknown),k(0===this.watchStreamFailures,"watchStreamFailures must be 0"),k(null===this.onlineStateTimer,"onlineStateTimer must be null")):(this.watchStreamFailures++,this.watchStreamFailures>=1&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary("Connection failed 1 times. Most recent error: "+t.toString()),this.setAndBroadcast(_o.Offline)))},t.prototype.set=function(t){this.clearOnlineStateTimer(),this.watchStreamFailures=0,t===_o.Online&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(t)},t.prototype.setAndBroadcast=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.logClientOfflineWarningIfNecessary=function(details){var t="Could not reach Cloud Firestore backend. "+details+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.shouldWarnClientIsOffline?(S(t),this.shouldWarnClientIsOffline=!1):_("OnlineStateTracker",t)},t.prototype.clearOnlineStateTimer=function(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)},t}(),Do=function(){function t(t,e,n,r){this.localStore=t,this.datastore=e,this.writePipeline=[],this.listenTargets={},this.watchChangeAggregator=null,this.networkEnabled=!1,this.isPrimary=!1,this.onlineStateTracker=new No(n,r),this.watchStream=this.datastore.newPersistentWatchStream({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.writeStream=this.datastore.newPersistentWriteStream({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return d.__awaiter(this,void 0,void 0,function(){var t;return d.__generator(this,function(e){switch(e.label){case 0:return this.networkEnabled=!0,this.canUseNetwork()?(t=this.writeStream,[4,this.localStore.getLastStreamToken()]):[3,3];case 1:return t.lastStreamToken=e.sent(),this.shouldStartWatchStream()?this.startWatchStream():this.onlineStateTracker.set(_o.Unknown),[4,this.fillWritePipeline()];case 2:e.sent(),e.label=3;case 3:return[2]}})})},t.prototype.disableNetwork=function(){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.onlineStateTracker.set(_o.Offline),[2]}})})},t.prototype.disableNetworkInternal=function(){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(t){switch(t.label){case 0:return[4,this.writeStream.stop()];case 1:return t.sent(),[4,this.watchStream.stop()];case 2:return t.sent(),this.writePipeline.length>0&&(_("RemoteStore","Stopping write stream with "+this.writePipeline.length+" pending writes"),this.writePipeline=[]),this.cleanUpWatchStreamState(),[2]}})})},t.prototype.shutdown=function(){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(t){switch(t.label){case 0:return _("RemoteStore","RemoteStore shutting down."),this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.onlineStateTracker.set(_o.Unknown),[2]}})})},t.prototype.listen=function(t){k(!N(this.listenTargets,t.targetId),"listen called with duplicate targetId!"),this.listenTargets[t.targetId]=t,this.shouldStartWatchStream()?this.startWatchStream():this.watchStream.isOpen()&&this.sendWatchRequest(t)},t.prototype.unlisten=function(t){k(N(this.listenTargets,t),"unlisten called without assigned target ID!"),delete this.listenTargets[t],this.watchStream.isOpen()&&this.sendUnwatchRequest(t),M(this.listenTargets)&&(this.watchStream.isOpen()?this.watchStream.markIdle():this.canUseNetwork()&&this.onlineStateTracker.set(_o.Unknown))},t.prototype.getQueryDataForTarget=function(t){return this.listenTargets[t]||null},t.prototype.getRemoteKeysForTarget=function(t){return this.syncEngine.getRemoteKeysForTarget(t)},t.prototype.sendWatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t.targetId),this.watchStream.watch(t)},t.prototype.sendUnwatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t),this.watchStream.unwatch(t)},t.prototype.startWatchStream=function(){k(this.shouldStartWatchStream(),"startWatchStream() called when shouldStartWatchStream() is false."),this.watchChangeAggregator=new on(this),this.watchStream.start(),this.onlineStateTracker.handleWatchStreamStart()},t.prototype.shouldStartWatchStream=function(){return this.canUseNetwork()&&!this.watchStream.isStarted()&&!M(this.listenTargets)},t.prototype.canUseNetwork=function(){return this.isPrimary&&this.networkEnabled},t.prototype.cleanUpWatchStreamState=function(){this.watchChangeAggregator=null},t.prototype.onWatchStreamOpen=function(){return d.__awaiter(this,void 0,void 0,function(){var t=this;return d.__generator(this,function(e){return P(this.listenTargets,function(e,n){t.sendWatchRequest(n)}),[2]})})},t.prototype.onWatchStreamClose=function(t){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(e){return void 0===t&&k(!this.shouldStartWatchStream(),"Watch stream was stopped gracefully while still needed."),this.cleanUpWatchStreamState(),this.shouldStartWatchStream()?(this.onlineStateTracker.handleWatchStreamFailure(t),this.startWatchStream()):this.onlineStateTracker.set(_o.Unknown),[2]})})},t.prototype.onWatchStreamChange=function(t,e){return d.__awaiter(this,void 0,void 0,function(){var n;return d.__generator(this,function(r){switch(r.label){case 0:return this.onlineStateTracker.set(_o.Online),t instanceof nn&&t.state===Qe.Removed&&t.cause?[2,this.handleTargetError(t)]:(t instanceof tn?this.watchChangeAggregator.handleDocumentChange(t):t instanceof en?this.watchChangeAggregator.handleExistenceFilter(t):(k(t instanceof nn,"Expected watchChange to be an instance of WatchTargetChange"),this.watchChangeAggregator.handleTargetChange(t)),e.isEqual(de.MIN)?[3,3]:[4,this.localStore.getLastRemoteSnapshotVersion()]);case 1:return n=r.sent(),e.compareTo(n)>=0?[4,this.raiseWatchSnapshot(e)]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}})})},t.prototype.raiseWatchSnapshot=function(t){var e=this;k(!t.isEqual(de.MIN),"Can't raise event for unknown SnapshotVersion");var n=this.watchChangeAggregator.createRemoteEvent(t);return P(n.targetChanges,function(n,r){if(r.resumeToken.length>0){var o=e.listenTargets[n];o&&(e.listenTargets[n]=o.copy({resumeToken:r.resumeToken,snapshotVersion:t}))}}),n.targetMismatches.forEach(function(t){var n=e.listenTargets[t];if(n){e.listenTargets[t]=n.copy({resumeToken:C()}),e.sendUnwatchRequest(t);var r=new fe(n.query,t,Zt.ExistenceFilterMismatch,n.sequenceNumber);e.sendWatchRequest(r)}}),this.syncEngine.applyRemoteEvent(n)},t.prototype.handleTargetError=function(t){var e=this;k(!!t.cause,"Handling target error without a cause");var n=t.cause,r=Promise.resolve();return t.targetIds.forEach(function(t){r=r.then(function(){return d.__awaiter(e,void 0,void 0,function(){return d.__generator(this,function(e){return N(this.listenTargets,t)?(delete this.listenTargets[t],this.watchChangeAggregator.removeTarget(t),[2,this.syncEngine.rejectListen(t,n)]):[2]})})})}),r},t.prototype.fillWritePipeline=function(){return d.__awaiter(this,void 0,void 0,function(){var t,e;return d.__generator(this,function(n){switch(n.label){case 0:return this.canAddToWritePipeline()?(t=this.writePipeline.length>0?this.writePipeline[this.writePipeline.length-1].batchId:-1,[4,this.localStore.nextMutationBatch(t)]):[3,4];case 1:return null!==(e=n.sent())?[3,2]:(0===this.writePipeline.length&&this.writeStream.markIdle(),[3,4]);case 2:return this.addToWritePipeline(e),[4,this.fillWritePipeline()];case 3:n.sent(),n.label=4;case 4:return this.shouldStartWriteStream()&&this.startWriteStream(),[2]}})})},t.prototype.canAddToWritePipeline=function(){return this.canUseNetwork()&&this.writePipeline.length<10},t.prototype.outstandingWrites=function(){return this.writePipeline.length},t.prototype.addToWritePipeline=function(t){k(this.canAddToWritePipeline(),"addToWritePipeline called when pipeline is full"),this.writePipeline.push(t),this.writeStream.isOpen()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(t.mutations)},t.prototype.shouldStartWriteStream=function(){return this.canUseNetwork()&&!this.writeStream.isStarted()&&this.writePipeline.length>0},t.prototype.startWriteStream=function(){k(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start()},t.prototype.onWriteStreamOpen=function(){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(t){return this.writeStream.writeHandshake(),[2]})})},t.prototype.onWriteHandshakeComplete=function(){var t=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then(function(){for(var e=0,n=t.writePipeline;e<n.length;e++){var r=n[e];t.writeStream.writeMutations(r.mutations)}}).catch(eo)},t.prototype.onMutationResult=function(t,e){var n=this;k(this.writePipeline.length>0,"Got result for empty write pipeline");var r=this.writePipeline.shift(),o=jn.from(r,t,e,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(o).then(function(){return n.fillWritePipeline()})},t.prototype.onWriteStreamClose=function(t){return d.__awaiter(this,void 0,void 0,function(){var e=this;return d.__generator(this,function(n){return void 0===t&&k(!this.shouldStartWriteStream(),"Write stream was stopped gracefully while still needed."),t&&this.writePipeline.length>0?(void 0,[2,(this.writeStream.handshakeComplete?this.handleWriteError(t):this.handleHandshakeError(t)).then(function(){e.shouldStartWriteStream()&&e.startWriteStream()})]):[2]})})},t.prototype.handleHandshakeError=function(t){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(e){return De(t.code)?(_("RemoteStore","RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=C(),[2,this.localStore.setLastStreamToken(C()).catch(eo)]):[2]})})},t.prototype.handleWriteError=function(t){return d.__awaiter(this,void 0,void 0,function(){var e,n=this;return d.__generator(this,function(r){return De(code=t.code)&&code!==I.ABORTED?(e=this.writePipeline.shift(),this.writeStream.inhibitBackoff(),[2,this.syncEngine.rejectFailedWrite(e.batchId,t).then(function(){return n.fillWritePipeline()})]):[2];var code})})},t.prototype.createTransaction=function(){return new Ao(this.datastore)},t.prototype.handleCredentialChange=function(){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(t){switch(t.label){case 0:return this.canUseNetwork()?(_("RemoteStore","RemoteStore restarting streams for new credential"),this.networkEnabled=!1,[4,this.disableNetworkInternal()]):[3,3];case 1:return t.sent(),this.onlineStateTracker.set(_o.Unknown),[4,this.enableNetwork()];case 2:t.sent(),t.label=3;case 3:return[2]}})})},t.prototype.applyPrimaryState=function(t){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(e){switch(e.label){case 0:return this.isPrimary=t,t&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return e.sent(),[3,4];case 2:return t?[3,4]:[4,this.disableNetworkInternal()];case 3:e.sent(),this.onlineStateTracker.set(_o.Unknown),e.label=4;case 4:return[2]}})})},t}(),Po=function(){return function(){this.listeners=[]}}(),Ro=function(){function t(t){this.syncEngine=t,this.queries=new ar(function(q){return q.canonicalId()}),this.onlineState=_o.Unknown,this.syncEngine.subscribe(this)}return t.prototype.listen=function(t){var e=t.query,n=!1,r=this.queries.get(e);return r||(n=!0,r=new Po,this.queries.set(e,r)),r.listeners.push(t),t.applyOnlineStateChange(this.onlineState),r.viewSnap&&t.onViewSnapshot(r.viewSnap),n?this.syncEngine.listen(e).then(function(t){return r.targetId=t,t}):Promise.resolve(r.targetId)},t.prototype.unlisten=function(t){return d.__awaiter(this,void 0,void 0,function(){var e,n,r,i;return d.__generator(this,function(o){return e=t.query,n=!1,(r=this.queries.get(e))&&(i=r.listeners.indexOf(t))>=0&&(r.listeners.splice(i,1),n=0===r.listeners.length),n?(this.queries.delete(e),[2,this.syncEngine.unlisten(e)]):[2]})})},t.prototype.onWatchChange=function(t){for(var e=0,n=t;e<n.length;e++){var r=n[e],o=r.query,l=this.queries.get(o);if(l){for(var c=0,d=l.listeners;c<d.length;c++){d[c].onViewSnapshot(r)}l.viewSnap=r}}},t.prototype.onWatchError=function(t,e){var n=this.queries.get(t);if(n)for(var r=0,o=n.listeners;r<o.length;r++){o[r].onError(e)}this.queries.delete(t)},t.prototype.onOnlineStateChange=function(t){this.onlineState=t,this.queries.forEach(function(e,n){for(var r=0,o=n.listeners;r<o.length;r++){o[r].applyOnlineStateChange(t)}})},t}(),Mo=function(){function t(t,e,n){this.query=t,this.queryObserver=e,this.raisedInitialEvent=!1,this.onlineState=_o.Unknown,this.options=n||{}}return t.prototype.onViewSnapshot=function(t){if(k(t.docChanges.length>0||t.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var o=r[n];o.type!==He.Metadata&&e.push(o)}t=new Xe(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}this.raisedInitialEvent?this.shouldRaiseEvent(t)&&this.queryObserver.next(t):this.shouldRaiseInitialEvent(t,this.onlineState)&&this.raiseInitialEvent(t),this.snap=t},t.prototype.onError=function(t){this.queryObserver.error(t)},t.prototype.applyOnlineStateChange=function(t){this.onlineState=t,this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,t)&&this.raiseInitialEvent(this.snap)},t.prototype.shouldRaiseInitialEvent=function(t,e){if(k(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!t.fromCache)return!0;var n=e!==_o.Offline;return this.options.waitForSyncWhenOnline&&n?(k(t.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!t.docs.isEmpty()||e===_o.Offline},t.prototype.shouldRaiseEvent=function(t){if(t.docChanges.length>0)return!0;var e=this.snap&&this.snap.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.raiseInitialEvent=function(t){k(!this.raisedInitialEvent,"Trying to raise initial events for second time"),t=Xe.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.raisedInitialEvent=!0,this.queryObserver.next(t)},t}(),Lo=function(){function t(t,e,n){this.targetId=t,this.addedKeys=e,this.removedKeys=n}return t.fromSnapshot=function(e,n){for(var r=$e(),o=$e(),l=0,c=n.docChanges;l<c.length;l++){var d=c[l];switch(d.type){case He.Added:r=r.add(d.doc.key);break;case He.Removed:o=o.add(d.doc.key)}}return new t(e,r,o)},t}(),jo=function(){return function(t){this.key=t}}(),Bo=function(){return function(t){this.key=t}}(),Fo=function(){function t(t,e){this.query=t,this._syncedDocuments=e,this.syncState=null,this.current=!1,this.limboDocuments=$e(),this.mutatedKeys=$e(),this.documentSet=new Ge(t.docComparator.bind(t))}return Object.defineProperty(t.prototype,"syncedDocuments",{get:function(){return this._syncedDocuments},enumerable:!0,configurable:!0}),t.prototype.computeDocChanges=function(t,e){var n=this,r=e?e.changeSet:new Ye,o=e?e.documentSet:this.documentSet,l=e?e.mutatedKeys:this.mutatedKeys,c=o,d=!1,h=this.query.hasLimit()&&o.size===this.query.limit?o.last():null;if(t.inorderTraversal(function(t,e){var f=o.get(t),m=e instanceof Tt?e:null;m&&(k(t.isEqual(m.key),"Mismatching keys found in document changes: "+t+" != "+m.key),m=n.query.matches(m)?m:null);var v=!!f&&n.mutatedKeys.has(f.key),y=!!m&&(m.hasLocalMutations||n.mutatedKeys.has(m.key)&&m.hasCommittedMutations),w=!1;f&&m?f.data.isEqual(m.data)?v!==y&&(r.track({type:He.Metadata,doc:m}),w=!0):n.shouldWaitForSyncedDocument(f,m)||(r.track({type:He.Modified,doc:m}),w=!0,h&&n.query.docComparator(m,h)>0&&(d=!0)):!f&&m?(r.track({type:He.Added,doc:m}),w=!0):f&&!m&&(r.track({type:He.Removed,doc:f}),w=!0,h&&(d=!0));w&&(m?(c=c.add(m),l=y?l.add(t):l.delete(t)):(c=c.delete(t),l=l.delete(t)))}),this.query.hasLimit())for(;c.size>this.query.limit;){var f=c.last();c=c.delete(f.key),l=l.delete(f.key),r.track({type:He.Removed,doc:f})}return k(!d||!e,"View was refilled using docs that themselves needed refilling."),{documentSet:c,changeSet:r,needsRefill:d,mutatedKeys:l}},t.prototype.shouldWaitForSyncedDocument=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this;k(!t.needsRefill,"Cannot apply changes that need a refill");var o=this.documentSet;this.documentSet=t.documentSet,this.mutatedKeys=t.mutatedKeys;var l=t.changeSet.getChanges();l.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case He.Added:return 1;case He.Modified:case He.Metadata:return 2;case He.Removed:return 0;default:return T("Unknown ChangeType: "+t)}};return n(t)-n(e)}(t.type,e.type)||r.query.docComparator(t.doc,e.doc)}),this.applyTargetChange(n);var c=e?this.updateLimboDocuments():[],d=0===this.limboDocuments.size&&this.current?Ke.Synced:Ke.Local,h=d!==this.syncState;return this.syncState=d,0!==l.length||h?{snapshot:new Xe(this.query,t.documentSet,o,l,t.mutatedKeys,d===Ke.Local,h,!1),limboChanges:c}:{limboChanges:c}},t.prototype.applyOnlineStateChange=function(t){return this.current&&t===_o.Offline?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new Ye,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}},t.prototype.shouldBeInLimbo=function(t){return!this._syncedDocuments.has(t)&&(!!this.documentSet.has(t)&&!this.documentSet.get(t).hasLocalMutations)},t.prototype.applyTargetChange=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e._syncedDocuments=e._syncedDocuments.add(t)}),t.modifiedDocuments.forEach(function(t){return k(e._syncedDocuments.has(t),"Modified document "+t+" not found in view.")}),t.removedDocuments.forEach(function(t){return e._syncedDocuments=e._syncedDocuments.delete(t)}),this.current=t.current)},t.prototype.updateLimboDocuments=function(){var t=this;if(!this.current)return[];var e=this.limboDocuments;this.limboDocuments=$e(),this.documentSet.forEach(function(e){t.shouldBeInLimbo(e.key)&&(t.limboDocuments=t.limboDocuments.add(e.key))});var n=[];return e.forEach(function(e){t.limboDocuments.has(e)||n.push(new Bo(e))}),this.limboDocuments.forEach(function(t){e.has(t)||n.push(new jo(t))}),n},t.prototype.synchronizeWithPersistedState=function(t,e){this._syncedDocuments=e,this.limboDocuments=$e();var n=this.computeDocChanges(t);return this.applyChanges(n,!0)},t.prototype.computeInitialSnapshot=function(){return Xe.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,this.syncState===Ke.Local)},t}();var Uo=function(){return function(t,e,view){this.query=t,this.targetId=e,this.view=view}}(),Vo=function(){return function(t){this.key=t}}(),qo=function(){function t(t,e,n,r){this.localStore=t,this.remoteStore=e,this.sharedClientState=n,this.currentUser=r,this.syncEngineListener=null,this.queryViewsByQuery=new ar(function(q){return q.canonicalId()}),this.queryViewsByTarget={},this.limboTargetsByKey=new Ct(St.comparator),this.limboResolutionsByTarget={},this.limboDocumentRefs=new so,this.mutationUserCallbacks={},this.limboTargetIdGenerator=Gn.forSyncEngine(),this.isPrimary=void 0,this.onlineState=_o.Unknown}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),t.prototype.subscribe=function(t){k(null!==t,"SyncEngine listener cannot be null"),k(null===this.syncEngineListener,"SyncEngine already has a subscriber."),this.syncEngineListener=t},t.prototype.listen=function(t){return d.__awaiter(this,void 0,void 0,function(){var e,n,r,o,l;return d.__generator(this,function(c){switch(c.label){case 0:return this.assertSubscribed("listen()"),(r=this.queryViewsByQuery.get(t))?(e=r.targetId,this.sharedClientState.addLocalQueryTarget(e),n=r.view.computeInitialSnapshot(),[3,4]):[3,1];case 1:return[4,this.localStore.allocateQuery(t)];case 2:return o=c.sent(),l=this.sharedClientState.addLocalQueryTarget(o.targetId),e=o.targetId,[4,this.initializeViewAndComputeSnapshot(o,"current"===l)];case 3:n=c.sent(),this.isPrimary&&this.remoteStore.listen(o),c.label=4;case 4:return this.syncEngineListener.onWatchChange([n]),[2,e]}})})},t.prototype.initializeViewAndComputeSnapshot=function(t,e){var n=this,r=t.query;return this.localStore.executeQuery(r).then(function(o){return n.localStore.remoteDocumentKeys(t.targetId).then(function(l){var view=new Fo(r,l),c=view.computeDocChanges(o),d=Ze.createSynthesizedTargetChangeForCurrentChange(t.targetId,e&&n.onlineState!==_o.Offline),h=view.applyChanges(c,!0===n.isPrimary,d);k(0===h.limboChanges.length,"View returned limbo docs before target ack from the server."),k(!!h.snapshot,"applyChanges for new view should always return a snapshot");var data=new Uo(r,t.targetId,view);return n.queryViewsByQuery.set(r,data),n.queryViewsByTarget[t.targetId]=data,h.snapshot})})},t.prototype.synchronizeViewAndComputeSnapshot=function(t){var e=this;return this.localStore.executeQuery(t.query).then(function(n){return e.localStore.remoteDocumentKeys(t.targetId).then(function(r){return d.__awaiter(e,void 0,void 0,function(){var e;return d.__generator(this,function(o){return e=t.view.synchronizeWithPersistedState(n,r),this.isPrimary&&this.updateTrackedLimbos(t.targetId,e.limboChanges),[2,e]})})})})},t.prototype.unlisten=function(t){return d.__awaiter(this,void 0,void 0,function(){var e,n=this;return d.__generator(this,function(r){switch(r.label){case 0:return this.assertSubscribed("unlisten()"),k(!!(e=this.queryViewsByQuery.get(t)),"Trying to unlisten on query not found:"+t),this.isPrimary?(this.sharedClientState.removeLocalQueryTarget(e.targetId),this.sharedClientState.isActiveQueryTarget(e.targetId)?[3,2]:[4,this.localStore.releaseQuery(t,!1).then(function(){n.sharedClientState.clearQueryState(e.targetId),n.remoteStore.unlisten(e.targetId),n.removeAndCleanupQuery(e)}).catch(eo)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return this.removeAndCleanupQuery(e),[4,this.localStore.releaseQuery(t,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}})})},t.prototype.write=function(t,e){var n=this;return this.assertSubscribed("write()"),this.localStore.localWrite(t).then(function(t){return n.sharedClientState.addPendingMutation(t.batchId),n.addMutationCallback(t.batchId,e),n.emitNewSnapsAndNotifyLocalStore(t.changes)}).then(function(){return n.remoteStore.fillWritePipeline()})},t.prototype.wrapUpdateFunctionError=function(t){return t},t.prototype.runTransaction=function(t,e){var n=this;void 0===e&&(e=5),k(e>=0,"Got negative number of retries for transaction.");var r=this.remoteStore.createTransaction();return function(){try{var e=t(r);return!Xt(e)&&e.catch&&e.then?e.catch(function(t){return Promise.reject(n.wrapUpdateFunctionError(t))}):Promise.reject(Error("Transaction callback must return a Promise"))}catch(t){return Promise.reject(n.wrapUpdateFunctionError(t))}}().then(function(o){return r.commit().then(function(){return o}).catch(function(r){return 0===e?Promise.reject(r):n.runTransaction(t,e-1)})})},t.prototype.applyRemoteEvent=function(t){var e=this;return this.assertSubscribed("applyRemoteEvent()"),this.localStore.applyRemoteEvent(t).then(function(n){return R(t.targetChanges,function(t,n){var r=e.limboResolutionsByTarget[t];r&&(k(n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size<=1,"Limbo resolution for single document contains multiple changes."),n.addedDocuments.size>0?r.receivedDocument=!0:n.modifiedDocuments.size>0?k(r.receivedDocument,"Received change for limbo target document without add."):n.removedDocuments.size>0&&(k(r.receivedDocument,"Received remove for limbo target document without add."),r.receivedDocument=!1))}),e.emitNewSnapsAndNotifyLocalStore(n,t)}).catch(eo)},t.prototype.applyOnlineStateChange=function(t,source){if(this.isPrimary&&source===So.RemoteStore||!this.isPrimary&&source===So.SharedClientState){var e=[];this.queryViewsByQuery.forEach(function(n,r){var o=r.view.applyOnlineStateChange(t);k(0===o.limboChanges.length,"OnlineState should not affect limbo documents."),o.snapshot&&e.push(o.snapshot)}),this.syncEngineListener.onOnlineStateChange(t),this.syncEngineListener.onWatchChange(e),this.onlineState=t,this.isPrimary&&this.sharedClientState.setOnlineState(t)}},t.prototype.rejectListen=function(t,e){return d.__awaiter(this,void 0,void 0,function(){var n,r,o,l,c,h,f=this;return d.__generator(this,function(d){switch(d.label){case 0:return this.assertSubscribed("rejectListens()"),this.sharedClientState.updateQueryState(t,"rejected",e),n=this.limboResolutionsByTarget[t],(r=n&&n.key)?(this.limboTargetsByKey=this.limboTargetsByKey.remove(r),delete this.limboResolutionsByTarget[t],o=(o=new Ct(St.comparator)).insert(r,new kt(r,de.forDeletedDoc())),l=$e().add(r),c=new Je(de.MIN,{},new pe(nt),o,l),[2,this.applyRemoteEvent(c)]):[3,1];case 1:return k(!!(h=this.queryViewsByTarget[t]),"Unknown targetId: "+t),[4,this.localStore.releaseQuery(h.query,!1).then(function(){return f.removeAndCleanupQuery(h)}).catch(eo)];case 2:d.sent(),this.syncEngineListener.onWatchError(h.query,e),d.label=3;case 3:return[2]}})})},t.prototype.applyBatchState=function(t,e,n){return d.__awaiter(this,void 0,void 0,function(){var r;return d.__generator(this,function(o){switch(o.label){case 0:return this.assertSubscribed("applyBatchState()"),[4,this.localStore.lookupMutationDocuments(t)];case 1:return null===(r=o.sent())?(_("SyncEngine","Cannot apply mutation batch with id: "+t),[2]):"pending"!==e?[3,3]:[4,this.remoteStore.fillWritePipeline()];case 2:return o.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(this.processUserCallback(t,n||null),this.localStore.removeCachedMutationBatchMetadata(t)):T("Unknown batchState: "+e),o.label=4;case 4:return[4,this.emitNewSnapsAndNotifyLocalStore(r)];case 5:return o.sent(),[2]}})})},t.prototype.applySuccessfulWrite=function(t){var e=this;this.assertSubscribed("applySuccessfulWrite()");var n=t.batch.batchId;return this.processUserCallback(n,null),this.localStore.acknowledgeBatch(t).then(function(t){return e.sharedClientState.updateMutationState(n,"acknowledged"),e.emitNewSnapsAndNotifyLocalStore(t)}).catch(eo)},t.prototype.rejectFailedWrite=function(t,e){var n=this;return this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(t,e),this.localStore.rejectBatch(t).then(function(r){return n.sharedClientState.updateMutationState(t,"rejected",e),n.emitNewSnapsAndNotifyLocalStore(r)}).catch(eo)},t.prototype.addMutationCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n||(n=new Ct(nt)),n=n.insert(t,e),this.mutationUserCallbacks[this.currentUser.toKey()]=n},t.prototype.processUserCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var r=n.get(t);r&&(k(t===n.minKey(),"Mutation callbacks processed out-of-order?"),e?r.reject(e):r.resolve(),n=n.remove(t)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},t.prototype.removeAndCleanupQuery=function(t){var e=this;if(this.sharedClientState.removeLocalQueryTarget(t.targetId),this.queryViewsByQuery.delete(t.query),delete this.queryViewsByTarget[t.targetId],this.isPrimary){var n=this.limboDocumentRefs.referencesForId(t.targetId);this.limboDocumentRefs.removeReferencesForId(t.targetId),n.forEach(function(t){e.limboDocumentRefs.containsKey(t)||e.removeLimboTarget(t)})}},t.prototype.removeLimboTarget=function(t){var e=this.limboTargetsByKey.get(t);null!==e&&(this.remoteStore.unlisten(e),this.limboTargetsByKey=this.limboTargetsByKey.remove(t),delete this.limboResolutionsByTarget[e])},t.prototype.updateTrackedLimbos=function(t,e){for(var n=0,r=e;n<r.length;n++){var o=r[n];if(o instanceof jo)this.limboDocumentRefs.addReference(o.key,t),this.trackLimboChange(o);else if(o instanceof Bo){_("SyncEngine","Document no longer in limbo: "+o.key),this.limboDocumentRefs.removeReference(o.key,t),this.limboDocumentRefs.containsKey(o.key)||this.removeLimboTarget(o.key)}else T("Unknown limbo change: "+JSON.stringify(o))}},t.prototype.trackLimboChange=function(t){var e=t.key;if(!this.limboTargetsByKey.get(e)){_("SyncEngine","New document in limbo: "+e);var n=this.limboTargetIdGenerator.next(),r=te.atPath(e.path);this.limboResolutionsByTarget[n]=new Vo(e),this.remoteStore.listen(new fe(r,n,Zt.LimboResolution,Tn.INVALID)),this.limboTargetsByKey=this.limboTargetsByKey.insert(e,n)}},t.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},t.prototype.emitNewSnapsAndNotifyLocalStore=function(t,e){return d.__awaiter(this,void 0,void 0,function(){var n,r,o,l=this;return d.__generator(this,function(c){switch(c.label){case 0:return n=[],r=[],o=[],this.queryViewsByQuery.forEach(function(c,d){o.push(Promise.resolve().then(function(){var e=d.view.computeDocChanges(t);return e.needsRefill?l.localStore.executeQuery(d.query).then(function(t){return d.view.computeDocChanges(t,e)}):e}).then(function(t){var o=e&&e.targetChanges[d.targetId],c=d.view.applyChanges(t,!0===l.isPrimary,o);if(l.updateTrackedLimbos(d.targetId,c.limboChanges),c.snapshot){l.isPrimary&&l.sharedClientState.updateQueryState(d.targetId,c.snapshot.fromCache?"not-current":"current"),n.push(c.snapshot);var h=Lo.fromSnapshot(d.targetId,c.snapshot);r.push(h)}}))}),[4,Promise.all(o)];case 1:return c.sent(),this.syncEngineListener.onWatchChange(n),[4,this.localStore.notifyLocalViewChanges(r)];case 2:return c.sent(),[2]}})})},t.prototype.assertSubscribed=function(t){k(null!==this.syncEngineListener,"Trying to call "+t+" before calling subscribe().")},t.prototype.handleCredentialChange=function(t){return d.__awaiter(this,void 0,void 0,function(){var e,n;return d.__generator(this,function(r){switch(r.label){case 0:return e=!this.currentUser.isEqual(t),this.currentUser=t,e?[4,this.localStore.handleUserChange(t)]:[3,3];case 1:return n=r.sent(),this.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),[4,this.emitNewSnapsAndNotifyLocalStore(n.affectedDocuments)];case 2:r.sent(),r.label=3;case 3:return[4,this.remoteStore.handleCredentialChange()];case 4:return r.sent(),[2]}})})},t.prototype.applyPrimaryState=function(t){return d.__awaiter(this,void 0,void 0,function(){var e,n,r,o,l,c,h,f=this;return d.__generator(this,function(d){switch(d.label){case 0:return!0!==t||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.remoteStore.applyPrimaryState(!0)]);case 1:return d.sent(),e=this.sharedClientState.getAllActiveQueryTargets(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(e.toArray())];case 2:for(n=d.sent(),r=0,o=n;r<o.length;r++)l=o[r],this.remoteStore.listen(l);return[3,7];case 3:return!1!==t||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,c=[],h=Promise.resolve(),P(this.queryViewsByTarget,function(t,e){f.sharedClientState.isLocalQueryTarget(t)?c.push(t):h=h.then(function(){return f.unlisten(e.query)}),f.remoteStore.unlisten(e.targetId)}),[4,h]);case 4:return d.sent(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(c)];case 5:return d.sent(),this.resetLimboDocuments(),[4,this.remoteStore.applyPrimaryState(!1)];case 6:d.sent(),d.label=7;case 7:return[2]}})})},t.prototype.resetLimboDocuments=function(){var t=this;P(this.limboResolutionsByTarget,function(e){t.remoteStore.unlisten(e)}),this.limboDocumentRefs.removeAllReferences(),this.limboResolutionsByTarget=[],this.limboTargetsByKey=new Ct(St.comparator)},t.prototype.synchronizeQueryViewsAndRaiseSnapshots=function(t){for(var e=this,p=Promise.resolve(),n=[],r=[],o=function(t){p=p.then(function(){return d.__awaiter(e,void 0,void 0,function(){var e,o,l,c;return d.__generator(this,function(d){switch(d.label){case 0:return(o=this.queryViewsByTarget[t])?[4,this.localStore.releaseQuery(o.query,!0)]:[3,4];case 1:return d.sent(),[4,this.localStore.allocateQuery(o.query)];case 2:return e=d.sent(),[4,this.synchronizeViewAndComputeSnapshot(o)];case 3:return(l=d.sent()).snapshot&&r.push(l.snapshot),[3,8];case 4:return k(!0===this.isPrimary,"A secondary tab should never have an active query without an active view."),[4,this.localStore.getQueryForTarget(t)];case 5:return k(!!(c=d.sent()),"Query data for target "+t+" not found"),[4,this.localStore.allocateQuery(c)];case 6:return e=d.sent(),[4,this.initializeViewAndComputeSnapshot(e,!1)];case 7:d.sent(),d.label=8;case 8:return n.push(e),[2]}})})})},l=0,c=t;l<c.length;l++){o(c[l])}return p.then(function(){return e.syncEngineListener.onWatchChange(r),n})},t.prototype.getActiveClients=function(){return this.localStore.getActiveClients()},t.prototype.applyTargetState=function(t,e,n){return d.__awaiter(this,void 0,void 0,function(){var r,o=this;return d.__generator(this,function(l){switch(l.label){case 0:if(this.isPrimary)return _("SyncEngine","Ignoring unexpected query state notification."),[2];if(!this.queryViewsByTarget[t])return[3,5];switch(e){case"current":case"not-current":return[3,1];case"rejected":return[3,2]}return[3,4];case 1:return[2,this.localStore.getNewDocumentChanges().then(function(n){return d.__awaiter(o,void 0,void 0,function(){var r;return d.__generator(this,function(o){switch(o.label){case 0:return r=Je.createSynthesizedRemoteEventForCurrentChange(t,"current"===e),[4,this.emitNewSnapsAndNotifyLocalStore(n,r)];case 1:return o.sent(),[2]}})})},function(t){return d.__awaiter(o,void 0,void 0,function(){var e;return d.__generator(this,function(n){switch(n.label){case 0:return function(t){return t.code===I.DATA_LOSS&&t.message===ur}(t)?(e=[],P(this.queryViewsByTarget,function(t){return e.push(t)}),[4,this.synchronizeQueryViewsAndRaiseSnapshots(e)]):[3,2];case 1:return n.sent(),[3,3];case 2:throw t;case 3:return[2]}})})})];case 2:return r=this.queryViewsByTarget[t],this.removeAndCleanupQuery(r),[4,this.localStore.releaseQuery(r.query,!0)];case 3:return l.sent(),this.syncEngineListener.onWatchError(r.query,n),[3,5];case 4:T("Unexpected target state: "+e),l.label=5;case 5:return[2]}})})},t.prototype.applyActiveTargetsChange=function(t,e){return d.__awaiter(this,void 0,void 0,function(){var n,r,o,l,c,h,f,m,v,y=this;return d.__generator(this,function(w){switch(w.label){case 0:if(!this.isPrimary)return[2];n=0,r=t,w.label=1;case 1:return n<r.length?(v=r[n],k(!this.queryViewsByTarget[v],"Trying to add an already active target"),[4,this.localStore.getQueryForTarget(v)]):[3,6];case 2:return k(!!(o=w.sent()),"Query data for active target "+v+" not found"),[4,this.localStore.allocateQuery(o)];case 3:return l=w.sent(),[4,this.initializeViewAndComputeSnapshot(l,!1)];case 4:w.sent(),this.remoteStore.listen(l),w.label=5;case 5:return n++,[3,1];case 6:c=function(t){var e;return d.__generator(this,function(n){switch(n.label){case 0:return(e=h.queryViewsByTarget[t])?[4,h.localStore.releaseQuery(e.query,!1).then(function(){y.remoteStore.unlisten(t),y.removeAndCleanupQuery(e)}).catch(eo)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})},h=this,f=0,m=e,w.label=7;case 7:return f<m.length?(v=m[f],[5,c(v)]):[3,10];case 8:w.sent(),w.label=9;case 9:return f++,[3,7];case 10:return[2]}})})},t.prototype.enableNetwork=function(){return this.localStore.setNetworkEnabled(!0),this.remoteStore.enableNetwork()},t.prototype.disableNetwork=function(){return this.localStore.setNetworkEnabled(!1),this.remoteStore.disableNetwork()},t.prototype.getRemoteKeysForTarget=function(t){var e=this.limboResolutionsByTarget[t];return e&&e.receivedDocument?$e().add(e.key):this.queryViewsByTarget[t]?this.queryViewsByTarget[t].view.syncedDocuments:$e()},t}(),$o=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t.UNAUTHENTICATED=new t(null),t.GOOGLE_CREDENTIALS=new t("google-credentials-uid"),t.FIRST_PARTY=new t("first-party-uid"),t}(),Wo="SharedClientState",zo="firestore_clients",Ho="firestore_mutations",Ko="firestore_targets",Go="firestore_online_state",Qo="firestore_sequence_number",Yo=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r,k(void 0!==r==("rejected"===n),"MutationMetadata must contain an error iff state is 'rejected'")}return t.fromWebStorageEntry=function(e,n,r){var o=JSON.parse(r),l="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error),c=void 0;return l&&o.error&&(l="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(c=new O(o.error.code,o.error.message)),l?new t(e,n,o.state,c):(S(Wo,"Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.toWebStorageJSON=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Xo=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n,k(void 0!==n==("rejected"===e),"QueryTargetMetadata must contain an error iff state is 'rejected'")}return t.fromWebStorageEntry=function(e,n){var r=JSON.parse(n),o="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),l=void 0;return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(l=new O(r.error.code,r.error.message)),o?new t(e,r.state,l):(S(Wo,"Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.toWebStorageJSON=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Jo=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.fromWebStorageEntry=function(e,n){for(var r=JSON.parse(n),o="object"==typeof r&&r.activeTargetIds instanceof Array,l=ze(),i=0;o&&i<r.activeTargetIds.length;++i)o=Jt(r.activeTargetIds[i]),l=l.add(r.activeTargetIds[i]);return o?new t(e,l):(S(Wo,"Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Zo=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.fromWebStorageEntry=function(e){var n=JSON.parse(e);return"object"==typeof n&&void 0!==_o[n.onlineState]&&"string"==typeof n.clientId?new t(n.clientId,_o[n.onlineState]):(S(Wo,"Failed to parse online state: "+e),null)},t}(),ti=function(){function t(){this.activeTargetIds=ze()}return t.prototype.addQueryTarget=function(t){k(!this.activeTargetIds.has(t),"Target with ID '"+t+"' already active."),this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.removeQueryTarget=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.toWebStorageJSON=function(){var data={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(data)},t}(),ei=function(){function t(e,n,r,o,l){if(this.queue=e,this.platform=n,this.persistenceKey=r,this.localClientId=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.activeClients={},this.storageListener=this.handleWebStorageEvent.bind(this),this.started=!1,this.earlyEvents=[],!t.isAvailable(this.platform))throw new O(I.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=l,this.localClientStorageKey=this.toWebStorageClientStateKey(this.localClientId),this.sequenceNumberKey=Qo+"_"+r,this.activeClients[this.localClientId]=new ti,this.clientStateKeyRe=new RegExp("^"+zo+"_"+c+"_([^_]*)$"),this.mutationBatchKeyRe=new RegExp("^"+Ho+"_"+c+"_(\\d+)(?:_(.*))?$"),this.queryTargetKeyRe=new RegExp("^"+Ko+"_"+c+"_(\\d+)$"),this.onlineStateKey=Go+"_"+r,this.platform.window.addEventListener("storage",this.storageListener)}return t.isAvailable=function(t){return!(!t.window||null==t.window.localStorage)},t.prototype.start=function(){return d.__awaiter(this,void 0,void 0,function(){var t,e,n,r,o,l,c,h,f,m,v,y=this;return d.__generator(this,function(d){switch(d.label){case 0:return k(!this.started,"WebStorageSharedClientState already started"),k(null!==this.syncEngine,"syncEngine property must be set before calling start()"),k(null!==this.onlineStateHandler,"onlineStateHandler property must be set before calling start()"),[4,this.syncEngine.getActiveClients()];case 1:for(t=d.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.localClientId&&(o=this.getItem(this.toWebStorageClientStateKey(r)))&&(l=Jo.fromWebStorageEntry(r,o))&&(this.activeClients[l.clientId]=l);for(this.persistClientState(),(c=this.storage.getItem(this.onlineStateKey))&&(h=this.fromWebStorageOnlineState(c))&&this.handleOnlineStateEvent(h),f=0,m=this.earlyEvents;f<m.length;f++)v=m[f],this.handleWebStorageEvent(v);return this.earlyEvents=[],this.platform.window.addEventListener("unload",function(){return y.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.sequenceNumberKey,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){var t=ze();return R(this.activeClients,function(e,n){t=t.unionWith(n.activeTargetIds)}),t},t.prototype.isActiveQueryTarget=function(t){for(var e in this.activeClients)if(this.activeClients.hasOwnProperty(e)&&this.activeClients[e].activeTargetIds.has(t))return!0;return!1},t.prototype.addPendingMutation=function(t){this.persistMutationState(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.persistMutationState(t,e,n),this.removeMutationState(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(this.toWebStorageQueryTargetMetadataKey(t));if(n){var r=Xo.fromWebStorageEntry(t,n);r&&(e=r.state)}}return this.localClientState.addQueryTarget(t),this.persistClientState(),e},t.prototype.removeLocalQueryTarget=function(t){this.localClientState.removeQueryTarget(t),this.persistClientState()},t.prototype.isLocalQueryTarget=function(t){return this.localClientState.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(this.toWebStorageQueryTargetMetadataKey(t))},t.prototype.updateQueryState=function(t,e,n){this.persistQueryTargetState(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.removeMutationState(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.persistOnlineState(t)},t.prototype.shutdown=function(){this.started&&(this.platform.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return _(Wo,"READ",t,e),e},t.prototype.setItem=function(t,e){_(Wo,"SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){_(Wo,"REMOVE",t),this.storage.removeItem(t)},t.prototype.handleWebStorageEvent=function(t){var e=this;if(t.storageArea===this.storage){if(_(Wo,"EVENT",t.key,t.newValue),t.key===this.localClientStorageKey)return void S("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.queue.enqueueAndForget(function(){return d.__awaiter(e,void 0,void 0,function(){var e,n,r,o,l,c;return d.__generator(this,function(d){if(!this.started)return this.earlyEvents.push(t),[2];if(null===t.key)return[2];if(this.clientStateKeyRe.test(t.key)){if(null==t.newValue)return n=this.fromWebStorageClientStateKey(t.key),[2,this.handleClientStateEvent(n,null)];if(e=this.fromWebStorageClientState(t.key,t.newValue))return[2,this.handleClientStateEvent(e.clientId,e)]}else if(this.mutationBatchKeyRe.test(t.key)){if(null!==t.newValue&&(r=this.fromWebStorageMutationMetadata(t.key,t.newValue)))return[2,this.handleMutationBatchEvent(r)]}else if(this.queryTargetKeyRe.test(t.key)){if(null!==t.newValue&&(o=this.fromWebStorageQueryTargetMetadata(t.key,t.newValue)))return[2,this.handleQueryTargetEvent(o)]}else if(t.key===this.onlineStateKey){if(null!==t.newValue&&(l=this.fromWebStorageOnlineState(t.newValue)))return[2,this.handleOnlineStateEvent(l)]}else t.key===this.sequenceNumberKey&&(k(!!this.sequenceNumberHandler,"Missing sequenceNumberHandler"),(c=function(t){var e=Tn.INVALID;if(null!=t)try{var n=JSON.parse(t);k("number"==typeof n,"Found non-numeric sequence number"),e=n}catch(t){S(Wo,"Failed to read sequence number from WebStorage",t)}return e}(t.newValue))!==Tn.INVALID&&this.sequenceNumberHandler(c));return[2]})})})}},Object.defineProperty(t.prototype,"localClientState",{get:function(){return this.activeClients[this.localClientId]},enumerable:!0,configurable:!0}),t.prototype.persistClientState=function(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())},t.prototype.persistMutationState=function(t,e,n){var r=new Yo(this.currentUser,t,e,n),o=this.toWebStorageMutationBatchKey(t);this.setItem(o,r.toWebStorageJSON())},t.prototype.removeMutationState=function(t){var e=this.toWebStorageMutationBatchKey(t);this.removeItem(e)},t.prototype.persistOnlineState=function(t){var e={clientId:this.localClientId,onlineState:_o[t]};this.storage.setItem(this.onlineStateKey,JSON.stringify(e))},t.prototype.persistQueryTargetState=function(t,e,n){var r=this.toWebStorageQueryTargetMetadataKey(t),o=new Xo(t,e,n);this.setItem(r,o.toWebStorageJSON())},t.prototype.toWebStorageClientStateKey=function(t){return k(-1===t.indexOf("_"),"Client key cannot contain '_', but was '"+t+"'"),zo+"_"+this.persistenceKey+"_"+t},t.prototype.toWebStorageQueryTargetMetadataKey=function(t){return Ko+"_"+this.persistenceKey+"_"+t},t.prototype.toWebStorageMutationBatchKey=function(t){var e=Ho+"_"+this.persistenceKey+"_"+t;return this.currentUser.isAuthenticated()&&(e+="_"+this.currentUser.uid),e},t.prototype.fromWebStorageClientStateKey=function(t){var e=this.clientStateKeyRe.exec(t);return e?e[1]:null},t.prototype.fromWebStorageClientState=function(t,e){var n=this.fromWebStorageClientStateKey(t);return k(null!==n,"Cannot parse client state key '"+t+"'"),Jo.fromWebStorageEntry(n,e)},t.prototype.fromWebStorageMutationMetadata=function(t,e){var n=this.mutationBatchKeyRe.exec(t);k(null!==n,"Cannot parse mutation batch key '"+t+"'");var r=Number(n[1]),o=void 0!==n[2]?n[2]:null;return Yo.fromWebStorageEntry(new $o(o),r,e)},t.prototype.fromWebStorageQueryTargetMetadata=function(t,e){var n=this.queryTargetKeyRe.exec(t);k(null!==n,"Cannot parse query target key '"+t+"'");var r=Number(n[1]);return Xo.fromWebStorageEntry(r,e)},t.prototype.fromWebStorageOnlineState=function(t){return Zo.fromWebStorageEntry(t)},t.prototype.handleMutationBatchEvent=function(t){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(e){return t.user.uid!==this.currentUser.uid?(_(Wo,"Ignoring mutation for non-active user "+t.user.uid),[2]):[2,this.syncEngine.applyBatchState(t.batchId,t.state,t.error)]})})},t.prototype.handleQueryTargetEvent=function(t){return this.syncEngine.applyTargetState(t.targetId,t.state,t.error)},t.prototype.handleClientStateEvent=function(t,e){var n=this,r=this.getAllActiveQueryTargets();e?this.activeClients[t]=e:delete this.activeClients[t];var o=this.getAllActiveQueryTargets(),l=[],c=[];return o.forEach(function(t){return d.__awaiter(n,void 0,void 0,function(){return d.__generator(this,function(e){return r.has(t)||l.push(t),[2]})})}),r.forEach(function(t){return d.__awaiter(n,void 0,void 0,function(){return d.__generator(this,function(e){return o.has(t)||c.push(t),[2]})})}),this.syncEngine.applyActiveTargetsChange(l,c)},t.prototype.handleOnlineStateEvent=function(t){this.activeClients[t.clientId]&&this.onlineStateHandler(t.onlineState)},t}();var ni=function(){function t(){this.localState=new ti,this.queryState={},this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.localState.addQueryTarget(t),this.queryState[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.queryState[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.localState.removeQueryTarget(t)},t.prototype.isLocalQueryTarget=function(t){return this.localState.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.queryState[t]},t.prototype.getAllActiveQueryTargets=function(){return this.localState.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.localState.activeTargetIds.has(t)},t.prototype.start=function(){return this.localState=new ti,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t}(),ri=function(){function t(t,e){this.cacheSizeBytes=t,this.experimentalTabSynchronization=e}return t.prototype.lruParams=function(){return zr.withCacheSize(this.cacheSizeBytes)},t}(),oi=function(){return function(){}}(),ii=function(){function t(t,e,n,r){this.platform=t,this.databaseInfo=e,this.credentials=n,this.asyncQueue=r,this.clientId=et.newId(),this.isShutdown=!1}return t.prototype.start=function(t){var e=this;this.verifyNotShutdown();var n=new kn,r=new kn,o=!1;return this.credentials.setChangeListener(function(l){o?e.asyncQueue.enqueueAndForget(function(){return e.handleCredentialChange(l)}):(o=!0,e.initializePersistence(t,r,l).then(function(t){return e.initializeRest(l,t)}).then(n.resolve,n.reject))}),this.asyncQueue.enqueueAndForget(function(){return n.promise}),r.promise},t.prototype.enableNetwork=function(){var t=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue(function(){return t.syncEngine.enableNetwork()})},t.prototype.initializePersistence=function(t,e,n){var r=this;return t instanceof ri?this.startIndexedDbPersistence(n,t).then(function(t){return e.resolve(),t}).catch(function(t){if(e.reject(t),!r.canFallback(t))throw t;return console.warn("Error enabling offline storage. Falling back to storage disabled: "+t),r.startMemoryPersistence()}):(e.resolve(),this.startMemoryPersistence())},t.prototype.canFallback=function(t){return t instanceof O?t.code===I.FAILED_PRECONDITION||t.code===I.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||(22===t.code||20===t.code)},t.prototype.verifyNotShutdown=function(){if(this.isShutdown)throw new O(I.FAILED_PRECONDITION,"The client has already been shutdown.")},t.prototype.startIndexedDbPersistence=function(t,e){var n=this,r=to.buildStoragePrefix(this.databaseInfo),o=new mn(this.databaseInfo.databaseId,{useProto3Json:!0});return Promise.resolve().then(function(){return d.__awaiter(n,void 0,void 0,function(){var n,l;return d.__generator(this,function(c){switch(c.label){case 0:if(e.experimentalTabSynchronization&&!ei.isAvailable(this.platform))throw new O(I.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");return l=e.lruParams(),e.experimentalTabSynchronization?(this.sharedClientState=new ei(this.asyncQueue,this.platform,r,this.clientId,t),[4,to.createMultiClientIndexedDbPersistence(r,this.clientId,this.platform,this.asyncQueue,o,l,{sequenceNumberSyncer:this.sharedClientState})]):[3,2];case 1:return n=c.sent(),[3,4];case 2:return this.sharedClientState=new ni,[4,to.createIndexedDbPersistence(r,this.clientId,this.platform,this.asyncQueue,o,l)];case 3:n=c.sent(),c.label=4;case 4:return this.persistence=n,[2,n.referenceDelegate.garbageCollector]}})})})},t.prototype.startMemoryPersistence=function(){return this.persistence=go.createEagerPersistence(this.clientId),this.sharedClientState=new ni,Promise.resolve(null)},t.prototype.initializeRest=function(t,e){var n=this;return _("FirestoreClient","Initializing. user=",t.uid),this.platform.loadConnection(this.databaseInfo).then(function(r){return d.__awaiter(n,void 0,void 0,function(){var n,o,l,c,h=this;return d.__generator(this,function(f){switch(f.label){case 0:return this.localStore=new lo(this.persistence,t),e&&(this.lruScheduler=new Hr(e,this.asyncQueue,this.localStore)),n=this.platform.newSerializer(this.databaseInfo.databaseId),o=new Oo(this.asyncQueue,r,this.credentials,n),l=function(t){return h.syncEngine.applyOnlineStateChange(t,So.RemoteStore)},c=function(t){return h.syncEngine.applyOnlineStateChange(t,So.SharedClientState)},this.remoteStore=new Do(this.localStore,o,this.asyncQueue,l),this.syncEngine=new qo(this.localStore,this.remoteStore,this.sharedClientState,t),this.sharedClientState.onlineStateHandler=c,this.remoteStore.syncEngine=this.syncEngine,this.sharedClientState.syncEngine=this.syncEngine,this.eventMgr=new Ro(this.syncEngine),[4,this.sharedClientState.start()];case 1:return f.sent(),[4,this.remoteStore.start()];case 2:return f.sent(),[4,this.persistence.setPrimaryStateListener(function(t){return d.__awaiter(h,void 0,void 0,function(){return d.__generator(this,function(e){switch(e.label){case 0:return[4,this.syncEngine.applyPrimaryState(t)];case 1:return e.sent(),this.lruScheduler&&(t&&!this.lruScheduler.started?this.lruScheduler.start():t||this.lruScheduler.stop()),[2]}})})})];case 3:return f.sent(),[2]}})})})},t.prototype.handleCredentialChange=function(t){return this.asyncQueue.verifyOperationInProgress(),_("FirestoreClient","Credential Changed. Current user: "+t.uid),this.syncEngine.handleCredentialChange(t)},t.prototype.disableNetwork=function(){var t=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue(function(){return t.syncEngine.disableNetwork()})},t.prototype.shutdown=function(){var t=this;return!0===this.isShutdown?Promise.resolve():this.asyncQueue.enqueue(function(){return d.__awaiter(t,void 0,void 0,function(){return d.__generator(this,function(t){switch(t.label){case 0:return this.lruScheduler&&this.lruScheduler.stop(),[4,this.remoteStore.shutdown()];case 1:return t.sent(),[4,this.sharedClientState.shutdown()];case 2:return t.sent(),[4,this.persistence.shutdown()];case 3:return t.sent(),this.credentials.removeChangeListener(),this.isShutdown=!0,[2]}})})})},t.prototype.listen=function(t,e,n){var r=this;this.verifyNotShutdown();var o=new Mo(t,e,n);return this.asyncQueue.enqueueAndForget(function(){return r.eventMgr.listen(o)}),o},t.prototype.unlisten=function(t){var e=this;this.verifyNotShutdown(),this.asyncQueue.enqueueAndForget(function(){return e.eventMgr.unlisten(t)})},t.prototype.getDocumentFromLocalCache=function(t){var e=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue(function(){return e.localStore.readDocument(t)}).then(function(t){if(t instanceof Tt)return t;if(t instanceof kt)return null;throw new O(I.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")})},t.prototype.getDocumentsFromLocalCache=function(t){var e=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue(function(){return e.localStore.executeQuery(t)}).then(function(e){var n=$e(),view=new Fo(t,n),r=view.computeDocChanges(e);return view.applyChanges(r,!1).snapshot})},t.prototype.write=function(t){var e=this;this.verifyNotShutdown();var n=new kn;return this.asyncQueue.enqueueAndForget(function(){return e.syncEngine.write(t,n)}),n.promise},t.prototype.databaseId=function(){return this.databaseInfo.databaseId},t.prototype.transaction=function(t){var e=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue(function(){return d.__awaiter(e,void 0,void 0,function(){return d.__generator(this,function(t){return[2]})})}).then(function(){return e.syncEngine.runTransaction(t)})},t}(),ai=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.scheduleEvent(this.observer.next,t)},t.prototype.error=function(t){this.scheduleEvent(this.observer.error,t)},t.prototype.mute=function(){this.muted=!0},t.prototype.scheduleEvent=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),si=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];!function(t,e,n,r){if(!(e instanceof Array)||e.length<r)throw new O(I.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" argument to be an array with at least "+tt(r,"element")+".")}("FieldPath",t,"fieldNames",1);for(var i=0;i<t.length;++i)if(U("FieldPath","string",i,t[i]),0===t[i].length)throw new O(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _t(t)}return t.documentId=function(){return t._DOCUMENT_ID},t.prototype.isEqual=function(e){if(!(e instanceof t))throw J("isEqual","FieldPath",1,e);return this._internalPath.isEqual(e._internalPath)},t._DOCUMENT_ID=new t(_t.keyField().canonicalString()),t}(),ui=new RegExp("[~\\*/\\[\\]]");var ci=function(){return function(t,e){this.user=e,this.type="OAuth",this.authHeaders={Authorization:"Bearer "+t}}}(),di=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){k(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=t,t($o.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){k(null!==this.changeListener,"removeChangeListener() when no listener registered"),this.changeListener=null},t}(),hi=function(){function t(t){var e=this;this.app=t,this.tokenListener=null,this.tokenCounter=0,this.changeListener=null,this.forceRefresh=!1,this.tokenListener=function(){e.tokenCounter++,e.currentUser=e.getUser(),e.changeListener&&e.changeListener(e.currentUser)},this.tokenCounter=0,this.app.INTERNAL.addAuthTokenListener(this.tokenListener)}return t.prototype.getToken=function(){var t=this;k(null!=this.tokenListener,"getToken cannot be called after listener removed.");var e=this.tokenCounter,n=this.forceRefresh;return this.forceRefresh=!1,this.app.INTERNAL.getToken(n).then(function(n){if(t.tokenCounter!==e)throw new O(I.ABORTED,"getToken aborted due to token change.");return n?(k("string"==typeof n.accessToken,"Invalid tokenData returned from getToken():"+n),new ci(n.accessToken,t.currentUser)):null})},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){k(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=t,this.currentUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){k(null!=this.tokenListener,"removeChangeListener() called twice"),k(null!==this.changeListener,"removeChangeListener() called when no listener registered"),this.app.INTERNAL.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.changeListener=null},t.prototype.getUser=function(){var t=this.app.INTERNAL.getUid();return k(null===t||"string"==typeof t,"Received invalid UID: "+t),new $o(t)},t}(),fi=function(){function t(t,e){this.gapi=t,this.sessionIndex=e,this.type="FirstParty",this.user=$o.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.sessionIndex},e=this.gapi.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!0,configurable:!0}),t}(),pi=function(){function t(t,e){this.gapi=t,this.sessionIndex=e}return t.prototype.getToken=function(){return Promise.resolve(new fi(this.gapi,this.sessionIndex))},t.prototype.setChangeListener=function(t){t($o.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function mi(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var object=t,n=0,r=e;n<r.length;n++){var o=r[n];if(o in object&&"function"==typeof object[o])return!0}return!1}(t,["next","error","complete"])}var gi,vi=function(){function t(t){this._methodName=t}return t.delete=function(){return L("FieldValue.delete",arguments),yi.instance},t.serverTimestamp=function(){return L("FieldValue.serverTimestamp",arguments),bi.instance},t.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return B("FieldValue.arrayUnion",arguments,1),new wi(t)},t.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return B("FieldValue.arrayRemove",arguments,1),new _i(t)},t.increment=function(t){return U("FieldValue.increment","number",1,t),j("FieldValue.increment",arguments,1),new Si(t)},t.prototype.isEqual=function(t){return this===t},t}(),yi=function(t){function e(){return t.call(this,"FieldValue.delete")||this}return d.__extends(e,t),e.instance=new e,e}(vi),bi=function(t){function e(){return t.call(this,"FieldValue.serverTimestamp")||this}return d.__extends(e,t),e.instance=new e,e}(vi),wi=function(t){function e(e){var n=t.call(this,"FieldValue.arrayUnion")||this;return n._elements=e,n}return d.__extends(e,t),e}(vi),_i=function(t){function e(e){var n=t.call(this,"FieldValue.arrayRemove")||this;return n._elements=e,n}return d.__extends(e,t),e}(vi),Si=function(t){function e(e){var n=t.call(this,"FieldValue.increment")||this;return n._operand=e,n}return d.__extends(e,t),e}(vi),Ei=A(vi,"Use FieldValue.<field>() instead."),Ti=/^__.*__$/,ki=function(){function t(data,t,e){this.data=data,this.fieldMask=t,this.fieldTransforms=e}return t.prototype.toMutations=function(t,e){var n=[];return null!==this.fieldMask?n.push(new Se(t,this.data,this.fieldMask,e)):n.push(new _e(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new Ee(t,this.fieldTransforms)),n},t}(),xi=function(){function t(data,t,e){this.data=data,this.fieldMask=t,this.fieldTransforms=e}return t.prototype.toMutations=function(t,e){var n=[new Se(t,this.data,this.fieldMask,e)];return this.fieldTransforms.length>0&&n.push(new Ee(t,this.fieldTransforms)),n},t}();function Ci(t){switch(t){case gi.Set:case gi.MergeSet:case gi.Update:return!0;case gi.Argument:return!1;default:throw T("Unexpected case for UserDataSource: "+t)}}!function(t){t[t.Set=0]="Set",t[t.Update=1]="Update",t[t.MergeSet=2]="MergeSet",t[t.Argument=3]="Argument"}(gi||(gi={}));var Ii=function(){function t(t,e,path,n,r,o){this.dataSource=t,this.methodName=e,this.path=path,this.arrayElement=n,void 0===r&&this.validatePath(),this.arrayElement=void 0!==n&&n,this.fieldTransforms=r||[],this.fieldMask=o||[]}return t.prototype.childContextForField=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePathSegment(e),r},t.prototype.childContextForFieldPath=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePath(),r},t.prototype.childContextForArray=function(e){return new t(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},t.prototype.createError=function(t){var e=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new O(I.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+t+e)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.validatePath=function(){if(null!==this.path)for(var i=0;i<this.path.length;i++)this.validatePathSegment(this.path.get(i))},t.prototype.validatePathSegment=function(t){if(Ci(this.dataSource)&&Ti.test(t))throw this.createError("Document fields cannot begin and end with __")},t}(),Oi=function(){return function(t,e){this.databaseId=t,this.key=e}}(),Ai=function(){function t(t){this.preConverter=t}return t.prototype.parseSetData=function(t,input){var e=new Ii(gi.Set,t,_t.EMPTY_PATH);Di("Data must be an object, but it was:",e,input);var n=this.parseData(input,e);return new ki(n,null,e.fieldTransforms)},t.prototype.parseMergeData=function(t,input,e){var n=new Ii(gi.MergeSet,t,_t.EMPTY_PATH);Di("Data must be an object, but it was:",n,input);var r,o,l=this.parseData(input,n);if(e){for(var c=new pe(_t.comparator),d=0,h=e;d<h.length;d++){var f=h[d],m=void 0;if(f instanceof si)m=f._internalPath;else{if("string"!=typeof f)throw T("Expected stringOrFieldPath to be a string or a FieldPath");m=Ri(t,f)}if(!n.contains(m))throw new O(I.INVALID_ARGUMENT,"Field '"+m+"' is specified in your field mask but missing from your input data.");c=c.add(m)}r=ge.fromSet(c),o=n.fieldTransforms.filter(function(t){return r.covers(t.field)})}else r=ge.fromArray(n.fieldMask),o=n.fieldTransforms;return new ki(l,r,o)},t.prototype.parseUpdateData=function(t,input){var e=this,n=new Ii(gi.Update,t,_t.EMPTY_PATH);Di("Data must be an object, but it was:",n,input);var r=new pe(_t.comparator),o=zt.EMPTY;R(input,function(l,c){var path=Ri(t,l),d=n.childContextForFieldPath(path);if((c=e.runPreConverter(c,d))instanceof yi)r=r.add(path);else{var h=e.parseData(c,d);null!=h&&(r=r.add(path),o=o.set(path,h))}});var mask=ge.fromSet(r);return new xi(o,mask,n.fieldTransforms)},t.prototype.parseUpdateVarargs=function(t,e,n,r){var o=new Ii(gi.Update,t,_t.EMPTY_PATH),l=[Pi(t,e)],c=[n];if(r.length%2!=0)throw new O(I.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var i=0;i<r.length;i+=2)l.push(Pi(t,r[i])),c.push(r[i+1]);var d=new pe(_t.comparator),h=zt.EMPTY;for(i=0;i<l.length;++i){var path=l[i],f=o.childContextForFieldPath(path),m=this.runPreConverter(c[i],f);if(m instanceof yi)d=d.add(path);else{var v=this.parseData(m,f);null!=v&&(d=d.add(path),h=h.set(path,v))}}var mask=ge.fromSet(d);return new xi(h,mask,o.fieldTransforms)},t.prototype.parseQueryValue=function(t,input){var e=new Ii(gi.Argument,t,_t.EMPTY_PATH),n=this.parseData(input,e);return k(null!=n,"Parsed data should not be null."),k(0===e.fieldTransforms.length,"Field transforms should have been disallowed."),n},t.prototype.runPreConverter=function(input,t){try{return this.preConverter(input)}catch(n){var e=Mi(n);throw t.createError(e)}},t.prototype.parseData=function(input,t){if(Ni(input=this.runPreConverter(input,t)))return Di("Unsupported field value:",t,input),this.parseObject(input,t);if(input instanceof vi)return this.parseSentinelFieldValue(input,t),null;if(t.path&&t.fieldMask.push(t.path),input instanceof Array){if(t.arrayElement)throw t.createError("Nested arrays are not supported");return this.parseArray(input,t)}return this.parseScalarValue(input,t)},t.prototype.parseObject=function(t,e){var n=this,r=new Ct(nt);return M(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):R(t,function(t,o){var l=n.parseData(o,e.childContextForField(t));null!=l&&(r=r.insert(t,l))}),new zt(r)},t.prototype.parseArray=function(t,e){for(var n=[],r=0,o=0,l=t;o<l.length;o++){var c=l[o],d=this.parseData(c,e.childContextForArray(r));null==d&&(d=Pt.INSTANCE),n.push(d),r++}return new Ht(n)},t.prototype.parseSentinelFieldValue=function(t,e){if(!Ci(e.dataSource))throw e.createError(t._methodName+"() can only be used with update() and set()");if(null===e.path)throw e.createError(t._methodName+"() is not currently supported inside arrays");if(t instanceof yi){if(e.dataSource!==gi.MergeSet)throw e.dataSource===gi.Update?(k(e.path.length>0,"FieldValue.delete() at the top level should have already been handled."),e.createError("FieldValue.delete() can only appear at the top level of your update data")):e.createError("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");e.fieldMask.push(e.path)}else if(t instanceof bi)e.fieldTransforms.push(new ve(e.path,ke.instance));else if(t instanceof wi){var n=this.parseArrayTransformElements(t._methodName,t._elements),r=new xe(n);e.fieldTransforms.push(new ve(e.path,r))}else if(t instanceof _i){n=this.parseArrayTransformElements(t._methodName,t._elements);var o=new Ce(n);e.fieldTransforms.push(new ve(e.path,o))}else if(t instanceof Si){var l=this.parseQueryValue("FieldValue.increment",t._operand),c=new Ie(l);e.fieldTransforms.push(new ve(e.path,c))}else T("Unknown FieldValue type: "+t)},t.prototype.parseScalarValue=function(t,e){if(null===t)return Pt.INSTANCE;if("number"==typeof t)return Jt(t)?new jt(t):new Bt(t);if("boolean"==typeof t)return Rt.of(t);if("string"==typeof t)return new Ft(t);if(t instanceof Date)return new Ut(pt.fromDate(t));if(t instanceof pt)return new Ut(new pt(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)));if(t instanceof ft)return new Wt(t);if(t instanceof ct)return new qt(t);if(t instanceof Oi)return new $t(t.databaseId,t.key);throw e.createError("Unsupported field value: "+Q(t))},t.prototype.parseArrayTransformElements=function(t,e){var n=this;return e.map(function(element,i){var e=new Ii(gi.Argument,t,_t.EMPTY_PATH);return n.parseData(element,e.childContextForArray(i))})},t}();function Ni(input){return!("object"!=typeof input||null===input||input instanceof Array||input instanceof Date||input instanceof pt||input instanceof ft||input instanceof ct||input instanceof Oi||input instanceof vi)}function Di(t,e,input){if(!Ni(input)||!G(input)){var n=Q(input);throw"an object"===n?e.createError(t+" a custom object"):e.createError(t+" "+n)}}function Pi(t,path){if(path instanceof si)return path._internalPath;if("string"==typeof path)return Ri(t,path);throw new O(I.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function Ri(t,path){try{return function(path){if(path.search(ui)>=0)throw new O(I.INVALID_ARGUMENT,"Invalid field path ("+path+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(si.bind.apply(si,[void 0].concat(path.split("."))))}catch(t){throw new O(I.INVALID_ARGUMENT,"Invalid field path ("+path+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(path)._internalPath}catch(n){var e=Mi(n);throw new O(I.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+e)}}function Mi(t){return t instanceof Error?t.message:t.toString()}var Li="firestore.googleapis.com",ji=!0,Bi=!0,Fi=!1,Ui=zr.COLLECTION_DISABLED,Vi=function(){function t(t){if(void 0===t.host){if(void 0!==t.ssl)throw new O(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Li,this.ssl=ji}else $("settings","non-empty string","host",t.host),this.host=t.host,W("settings","boolean","ssl",t.ssl),this.ssl=D(t.ssl,ji);if(X("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling"]),W("settings","object","credentials",t.credentials),this.credentials=t.credentials,W("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),!0===t.timestampsInSnapshots?S("\n  The timestampsInSnapshots setting now defaults to true and you no\n  longer need to explicitly set it. In a future release, the setting\n  will be removed entirely and so it is recommended that you remove it\n  from your firestore.settings() call now."):!1===t.timestampsInSnapshots&&S("\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\n  YOUR CODE.\n\n  To hide this warning, stop using the timestampsInSnapshots setting in your\n  firestore.settings({ ... }) call.\n\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\n  read back as Firebase Timestamp objects instead of as system Date objects.\n  So you will also need to update code expecting a Date to instead expect a\n  Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at'); const date =\n  timestamp.toDate();\n\n  Please audit all existing usages of Date when you enable the new\n  behavior."),this.timestampsInSnapshots=D(t.timestampsInSnapshots,Bi),W("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=zr.DEFAULT_CACHE_SIZE_BYTES;else{if(t.cacheSizeBytes!==Ui&&t.cacheSizeBytes<zr.MINIMUM_CACHE_SIZE_BYTES)throw new O(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+zr.MINIMUM_CACHE_SIZE_BYTES);this.cacheSizeBytes=t.cacheSizeBytes}W("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.forceLongPolling=void 0===t.experimentalForceLongPolling?Fi:t.experimentalForceLongPolling}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.forceLongPolling===t.forceLongPolling},t}(),qi=function(){return function(){}}(),$i=function(){function t(e){var n=this;this._queue=new Cn,this.INTERNAL={delete:function(){return d.__awaiter(n,void 0,void 0,function(){return d.__generator(this,function(t){switch(t.label){case 0:return this.ensureClientConfigured(),[4,this._firestoreClient.shutdown()];case 1:return t.sent(),this.clientRunning=!1,[2]}})})}},this.clientRunning=!1;var r=new qi;if("object"==typeof e.options){var o=e;r.firebaseApp=o,r.databaseId=t.databaseIdFromApp(o),r.persistenceKey=r.firebaseApp.name,r.credentials=new hi(o)}else{var l=e;if(!l.projectId)throw new O(I.INVALID_ARGUMENT,"Must provide projectId");r.databaseId=new vt(l.projectId,l.database),r.persistenceKey="[DEFAULT]",r.credentials=new di}r.settings=new Vi({}),this._config=r,this._databaseId=r.databaseId}return t.prototype.settings=function(t){if(j("Firestore.settings",arguments,1),U("Firestore.settings","object",1,t),N(t,"persistence"))throw new O(I.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var e=new Vi(t);if(this._firestoreClient&&!this._config.settings.isEqual(e))throw new O(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this._config.settings=e,void 0!==e.credentials&&(this._config.credentials=function(t){if(!t)return new di;switch(t.type){case"gapi":var e=t.client;return k(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty),"unexpected gapi interface"),new pi(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new O(I.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.enableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.enableNetwork()},t.prototype.disableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.disableNetwork()},t.prototype.enablePersistence=function(t){if(this._firestoreClient)throw new O(I.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");return this.configureClient(new ri(this._config.settings.cacheSizeBytes,void 0!==t&&D(t.experimentalTabSynchronization,!1)))},t.prototype._clearPersistence=function(){if(this.clientRunning)throw new O(I.FAILED_PRECONDITION,"Persistence cannot be cleared while the client is running");var t=to.buildStoragePrefix(this.makeDatabaseInfo());return to.clearPersistence(t)},t.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(new oi),this._firestoreClient},t.prototype.makeDatabaseInfo=function(){return new mt(this._config.databaseId,this._config.persistenceKey,this._config.settings.host,this._config.settings.ssl,this._config.settings.forceLongPolling)},t.prototype.configureClient=function(t){var e=this;k(!!this._config.settings.host,"FirestoreSettings.host cannot be falsey"),k(!this._firestoreClient,"configureClient() called multiple times"),this.clientRunning=!0;var n=this.makeDatabaseInfo();return this._dataConverter=new Ai(function(t){if(t instanceof Hi){var n=e._config.databaseId,r=t.firestore._config.databaseId;if(!r.isEqual(n))throw new O(I.INVALID_ARGUMENT,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new Oi(e._config.databaseId,t._key)}return t}),this._firestoreClient=new ii(x.getPlatform(),n,this._config.credentials,this._queue),this._firestoreClient.start(t)},t.databaseIdFromApp=function(t){var e=t.options;if(!N(e,"projectId"))throw new O(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var n=e.projectId;if(!n||"string"!=typeof n)throw new O(I.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new vt(n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this._config.firebaseApp)throw new O(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._config.firebaseApp},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){return j("Firestore.collection",arguments,1),U("Firestore.collection","non-empty string",1,t),this.ensureClientConfigured(),new Ji(bt.fromString(t),this)},t.prototype.doc=function(t){return j("Firestore.doc",arguments,1),U("Firestore.doc","non-empty string",1,t),this.ensureClientConfigured(),Hi.forPath(bt.fromString(t),this)},t.prototype._collectionGroup=function(t){if(j("Firestore.collectionGroup",arguments,1),U("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new O(I.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.ensureClientConfigured(),new Yi(new te(bt.EMPTY_PATH,t),this)},t.prototype.runTransaction=function(t){var e=this;return j("Firestore.runTransaction",arguments,1),U("Firestore.runTransaction","function",1,t),this.ensureClientConfigured().transaction(function(n){return t(new Wi(e,n))})},t.prototype.batch=function(){return this.ensureClientConfigured(),new zi(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(y()){case o.DEBUG:return"debug";case o.ERROR:return"error";case o.SILENT:return"silent";default:return T("Unknown log level: "+y())}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){switch(j("Firestore.setLogLevel",arguments,1),U("Firestore.setLogLevel","non-empty string",1,t),t){case"debug":w(o.DEBUG);break;case"error":w(o.ERROR);break;case"silent":w(o.SILENT);break;default:throw new O(I.INVALID_ARGUMENT,"Invalid log level: "+t)}},t.prototype._areTimestampsInSnapshotsEnabled=function(){return this._config.settings.timestampsInSnapshots},t}(),Wi=function(){function t(t,e){this._firestore=t,this._transaction=e}return t.prototype.get=function(t){var e=this;j("Transaction.get",arguments,1);var n=na("Transaction.get",t,this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return T("Mismatch in docs returned from document lookup.");var r=t[0];if(r instanceof kt)return new Gi(e._firestore,n._key,null,!1,!1);if(r instanceof Tt)return new Gi(e._firestore,n._key,r,!1,!1);throw T("BatchGetDocumentsRequest returned unexpected document type: "+r.constructor.name)})},t.prototype.set=function(t,e,n){F("Transaction.set",arguments,2,3);var r=na("Transaction.set",t,this._firestore),o=(n=Zi("Transaction.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("Transaction.set",e,n.mergeFields):this._firestore._dataConverter.parseSetData("Transaction.set",e);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r,o,l=[],c=3;c<arguments.length;c++)l[c-3]=arguments[c];return"string"==typeof e||e instanceof si?(B("Transaction.update",arguments,3),r=na("Transaction.update",t,this._firestore),o=this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",e,n,l)):(j("Transaction.update",arguments,2),r=na("Transaction.update",t,this._firestore),o=this._firestore._dataConverter.parseUpdateData("Transaction.update",e)),this._transaction.update(r._key,o),this},t.prototype.delete=function(t){j("Transaction.delete",arguments,1);var e=na("Transaction.delete",t,this._firestore);return this._transaction.delete(e._key),this},t}(),zi=function(){function t(t){this._firestore=t,this._mutations=[],this._committed=!1}return t.prototype.set=function(t,e,n){F("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var r=na("WriteBatch.set",t,this._firestore),o=(n=Zi("WriteBatch.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("WriteBatch.set",e,n.mergeFields):this._firestore._dataConverter.parseSetData("WriteBatch.set",e);return this._mutations=this._mutations.concat(o.toMutations(r._key,be.NONE)),this},t.prototype.update=function(t,e,n){for(var r,o,l=[],c=3;c<arguments.length;c++)l[c-3]=arguments[c];return this.verifyNotCommitted(),"string"==typeof e||e instanceof si?(B("WriteBatch.update",arguments,3),r=na("WriteBatch.update",t,this._firestore),o=this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",e,n,l)):(j("WriteBatch.update",arguments,2),r=na("WriteBatch.update",t,this._firestore),o=this._firestore._dataConverter.parseUpdateData("WriteBatch.update",e)),this._mutations=this._mutations.concat(o.toMutations(r._key,be.exists(!0))),this},t.prototype.delete=function(t){j("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var e=na("WriteBatch.delete",t,this._firestore);return this._mutations=this._mutations.concat(new Te(e._key,be.NONE)),this},t.prototype.commit=function(){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(t){return this.verifyNotCommitted(),this._committed=!0,this._mutations.length>0?[2,this._firestore.ensureClientConfigured().write(this._mutations)]:[2]})})},t.prototype.verifyNotCommitted=function(){if(this._committed)throw new O(I.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),Hi=function(){function t(t,e){this._key=t,this.firestore=e,this._firestoreClient=this.firestore.ensureClientConfigured()}return t.forPath=function(path,e){if(path.length%2!=0)throw new O(I.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+path.canonicalString()+" has "+path.length);return new t(new St(path),e)},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Ji(this._key.path.popLast(),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(j("DocumentReference.collection",arguments,1),U("DocumentReference.collection","non-empty string",1,t),!t)throw new O(I.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var path=bt.fromString(t);return new Ji(this._key.path.child(path),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw J("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this._key.isEqual(e._key)},t.prototype.set=function(t,e){F("DocumentReference.set",arguments,1,2);var n=(e=Zi("DocumentReference.set",e)).merge||e.mergeFields?this.firestore._dataConverter.parseMergeData("DocumentReference.set",t,e.mergeFields):this.firestore._dataConverter.parseSetData("DocumentReference.set",t);return this._firestoreClient.write(n.toMutations(this._key,be.NONE))},t.prototype.update=function(t,e){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];return"string"==typeof t||t instanceof si?(B("DocumentReference.update",arguments,2),n=this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",t,e,r)):(j("DocumentReference.update",arguments,1),n=this.firestore._dataConverter.parseUpdateData("DocumentReference.update",t)),this._firestoreClient.write(n.toMutations(this._key,be.exists(!0)))},t.prototype.delete=function(){return j("DocumentReference.delete",arguments,0),this._firestoreClient.write([new Te(this._key,be.NONE)])},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];F("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},o=0;"object"!=typeof t[o]||mi(t[o])||(X("DocumentReference.onSnapshot",r=t[o],["includeMetadataChanges"]),W("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),o++);var l={includeMetadataChanges:r.includeMetadataChanges};return mi(t[o])?n=t[o]:(U("DocumentReference.onSnapshot","function",o,t[o]),V("DocumentReference.onSnapshot","function",o+1,t[o+1]),V("DocumentReference.onSnapshot","function",o+2,t[o+2]),n={next:t[o],error:t[o+1],complete:t[o+2]}),this.onSnapshotInternal(l,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var o=new ai({next:function(t){if(e.next){k(t.docs.size<=1,"Too many documents returned on a document query");var r=t.docs.get(n._key);e.next(new Gi(n.firestore,n._key,r,t.fromCache,t.hasPendingWrites))}},error:r}),l=this._firestoreClient.listen(te.atPath(this._key.path),o,t);return function(){o.mute(),n._firestoreClient.unlisten(l)}},t.prototype.get=function(t){var e=this;return F("DocumentReference.get",arguments,0,1),ea("DocumentReference.get",t),new Promise(function(n,r){t&&"cache"===t.source?e.firestore.ensureClientConfigured().getDocumentFromLocalCache(e._key).then(function(t){n(new Gi(e.firestore,e._key,t,!0,t instanceof Tt&&t.hasLocalMutations))},r):e.getViaSnapshotListener(n,r,t)})},t.prototype.getViaSnapshotListener=function(t,e,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(o){r(),!o.exists&&o.metadata.fromCache?e(new O(I.UNAVAILABLE,"Failed to get document because the client is offline.")):o.exists&&o.metadata.fromCache&&n&&"server"===n.source?e(new O(I.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):t(o)},error:e})},t}(),Ki=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Gi=function(){function t(t,e,n,r,o){this._firestore=t,this._key=e,this._document=n,this._fromCache=r,this._hasPendingWrites=o}return t.prototype.data=function(t){return F("DocumentSnapshot.data",arguments,0,1),t=ta("DocumentSnapshot.data",t),this._document?this.convertObject(this._document.data,Nt.fromSnapshotOptions(t,this._firestore._areTimestampsInSnapshotsEnabled())):void 0},t.prototype.get=function(t,e){if(F("DocumentSnapshot.get",arguments,1,2),e=ta("DocumentSnapshot.get",e),this._document){var n=this._document.data.field(Pi("DocumentSnapshot.get",t));if(void 0!==n)return this.convertValue(n,Nt.fromSnapshotOptions(e,this._firestore._areTimestampsInSnapshotsEnabled()))}},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Hi(this._key,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new Ki(this._hasPendingWrites,this._fromCache)},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw J("isEqual","DocumentSnapshot",1,e);return this._firestore===e._firestore&&this._fromCache===e._fromCache&&this._key.isEqual(e._key)&&(null===this._document?null===e._document:this._document.isEqual(e._document))},t.prototype.convertObject=function(data,t){var e=this,n={};return data.forEach(function(r,o){n[r]=e.convertValue(o,t)}),n},t.prototype.convertValue=function(t,e){if(t instanceof zt)return this.convertObject(t,e);if(t instanceof Ht)return this.convertArray(t,e);if(t instanceof $t){var n=t.value(e),r=this._firestore.ensureClientConfigured().databaseId();return t.databaseId.isEqual(r)||S("Document "+this._key.path+" contains a document reference within a different database ("+t.databaseId.projectId+"/"+t.databaseId.database+") which is not supported. It will be treated as a reference in the current database ("+r.projectId+"/"+r.database+") instead."),new Hi(n,this._firestore)}return t.value(e)},t.prototype.convertArray=function(data,t){var e=this;return data.internalValue.map(function(n){return e.convertValue(n,t)})},t}(),Qi=function(t){function e(e,n,r,o,l){return t.call(this,e,n,r,o,l)||this}return d.__extends(e,t),e.prototype.data=function(e){var data=t.prototype.data.call(this,e);return k("object"==typeof data,"Document in a QueryDocumentSnapshot should exist"),data},e}(Gi),Yi=function(){function t(t,e){this._query=t,this.firestore=e}return t.prototype.where=function(e,n,r){j("Query.where",arguments,3),Y("Query.where",3,r);var o;!function(t,e,n,r){if(!e.some(function(element){return element===r}))throw new O(I.INVALID_ARGUMENT,"Invalid value "+Q(r)+" provided to function "+t+"() for its "+Z(n)+" argument. Acceptable values: "+e.join(", "))}("Query.where",["<","<=","==",">=",">","array-contains"],2,n);var l=Pi("Query.where",e),c=ne.fromString(n);if(l.isKeyField()){if(c===ne.ARRAY_CONTAINS)throw new O(I.INVALID_ARGUMENT,"Invalid Query. You can't perform array-contains queries on FieldPath.documentId() since document IDs are not arrays.");if("string"==typeof r){if(""===r)throw new O(I.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a valid document ID if the first parameter is FieldPath.documentId(), but it was an empty string.");if(!this._query.isCollectionGroupQuery()&&-1!==r.indexOf("/"))throw new O(I.INVALID_ARGUMENT,"Invalid third parameter to Query.where(). When querying a collection by FieldPath.documentId(), the value provided must be a plain document ID, but '"+r+"' contains a slash.");var path=this._query.path.child(bt.fromString(r));if(!St.isDocumentKey(path))throw new O(I.INVALID_ARGUMENT,"Invalid third parameter to Query.where(). When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+path+"' is not because it has an odd number of segments ("+path.length+").");o=new $t(this.firestore._databaseId,new St(path))}else{if(!(r instanceof Hi))throw new O(I.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a string or a DocumentReference if the first parameter is FieldPath.documentId(), but it was: "+Q(r)+".");var d=r;o=new $t(this.firestore._databaseId,d._key)}}else o=this.firestore._dataConverter.parseQueryValue("Query.where",r);var filter=ee.create(l,c,o);return this.validateNewFilter(filter),new t(this._query.addFilter(filter),this.firestore)},t.prototype.orderBy=function(e,n){var r;if(F("Query.orderBy",arguments,1,2),V("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r=ae.ASCENDING;else{if("desc"!==n)throw new O(I.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r=ae.DESCENDING}if(null!==this._query.startAt)throw new O(I.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new O(I.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var o=Pi("Query.orderBy",e),l=new ue(o,r);return this.validateNewOrderBy(l),new t(this._query.addOrderBy(l),this.firestore)},t.prototype.limit=function(e){if(j("Query.limit",arguments,1),U("Query.limit","number",1,e),e<=0)throw new O(I.INVALID_ARGUMENT,"Invalid Query. Query limit ("+e+") is invalid. Limit must be positive.");return new t(this._query.withLimit(e),this.firestore)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];B("Query.startAt",arguments,1);var o=this.boundFromDocOrFields("Query.startAt",e,n,!0);return new t(this._query.withStartAt(o),this.firestore)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];B("Query.startAfter",arguments,1);var o=this.boundFromDocOrFields("Query.startAfter",e,n,!1);return new t(this._query.withStartAt(o),this.firestore)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];B("Query.endBefore",arguments,1);var o=this.boundFromDocOrFields("Query.endBefore",e,n,!0);return new t(this._query.withEndAt(o),this.firestore)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];B("Query.endAt",arguments,1);var o=this.boundFromDocOrFields("Query.endAt",e,n,!1);return new t(this._query.withEndAt(o),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw J("isEqual","Query",1,e);return this.firestore===e.firestore&&this._query.isEqual(e._query)},t.prototype.boundFromDocOrFields=function(t,e,n,r){if(Y(t,1,e),e instanceof Gi){if(n.length>0)throw new O(I.INVALID_ARGUMENT,"Too many arguments provided to "+t+"().");var o=e;if(!o.exists)throw new O(I.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");return this.boundFromDocument(t,o._document,r)}var l=[e].concat(n);return this.boundFromFields(t,l,r)},t.prototype.boundFromDocument=function(t,e,n){for(var r=[],o=0,l=this._query.orderBy;o<l.length;o++){var c=l[o];if(c.field.isKeyField())r.push(new $t(this.firestore._databaseId,e.key));else{var d=e.field(c.field);if(d instanceof Vt)throw new O(I.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(void 0===d){var h=c.field.canonicalString();throw new O(I.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+h+"' (used as the orderBy) does not exist.")}r.push(d)}}return new se(r,n)},t.prototype.boundFromFields=function(t,e,n){var r=this._query.explicitOrderBy;if(e.length>r.length)throw new O(I.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var o=[],i=0;i<e.length;i++){var l=e[i];if(r[i].field.isKeyField()){if("string"!=typeof l)throw new O(I.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof l);if(!this._query.isCollectionGroupQuery()&&-1!==l.indexOf("/"))throw new O(I.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+t+"() must be a plain document ID, but '"+l+"' contains a slash.");var path=this._query.path.child(bt.fromString(l));if(!St.isDocumentKey(path))throw new O(I.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+t+"() must result in a valid document path, but '"+path+"' is not because it contains an odd number of segments.");var c=new St(path);o.push(new $t(this.firestore._databaseId,c))}else{var d=this.firestore._dataConverter.parseQueryValue(t,l);o.push(d)}}return new se(o,n)},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];F("Query.onSnapshot",arguments,1,4);var n,r={},o=0;return"object"!=typeof t[o]||mi(t[o])||(X("Query.onSnapshot",r=t[o],["includeMetadataChanges"]),W("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),o++),mi(t[o])?n=t[o]:(U("Query.onSnapshot","function",o,t[o]),V("Query.onSnapshot","function",o+1,t[o+1]),V("Query.onSnapshot","function",o+2,t[o+2]),n={next:t[o],error:t[o+1],complete:t[o+2]}),this.onSnapshotInternal(r,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var o=new ai({next:function(t){e.next&&e.next(new Xi(n.firestore,n._query,t))},error:r}),l=this.firestore.ensureClientConfigured(),c=l.listen(this._query,o,t);return function(){o.mute(),l.unlisten(c)}},t.prototype.get=function(t){var e=this;return F("Query.get",arguments,0,1),ea("Query.get",t),new Promise(function(n,r){t&&"cache"===t.source?e.firestore.ensureClientConfigured().getDocumentsFromLocalCache(e._query).then(function(t){n(new Xi(e.firestore,e._query,t))},r):e.getViaSnapshotListener(n,r,t)})},t.prototype.getViaSnapshotListener=function(t,e,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(o){r(),o.metadata.fromCache&&n&&"server"===n.source?e(new O(I.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):t(o)},error:e})},t.prototype.validateNewFilter=function(filter){if(filter instanceof re)if(filter.isInequality()){var t=this._query.getInequalityFilterField();if(null!==t&&!t.isEqual(filter.field))throw new O(I.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+t.toString()+"' and '"+filter.field.toString()+"'");var e=this._query.getFirstOrderByField();null!==e&&this.validateOrderByAndInequalityMatch(filter.field,e)}else if(filter.op===ne.ARRAY_CONTAINS&&this._query.hasArrayContainsFilter())throw new O(I.INVALID_ARGUMENT,"Invalid query. Queries only support a single array-contains filter.")},t.prototype.validateNewOrderBy=function(t){if(null===this._query.getFirstOrderByField()){var e=this._query.getInequalityFilterField();null!==e&&this.validateOrderByAndInequalityMatch(e,t.field)}},t.prototype.validateOrderByAndInequalityMatch=function(t,e){if(!e.isEqual(t))throw new O(I.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},t}(),Xi=function(){function t(t,e,n){this._firestore=t,this._originalQuery=e,this._snapshot=n,this._cachedChanges=null,this._cachedChangesIncludeMetadataChanges=null,this.metadata=new Ki(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;F("QuerySnapshot.forEach",arguments,1,2),U("QuerySnapshot.forEach","function",1,t),this._snapshot.docs.forEach(function(r){t.call(e,n.convertToDocumentImpl(r))})},Object.defineProperty(t.prototype,"query",{get:function(){return new Yi(this._originalQuery,this._firestore)},enumerable:!0,configurable:!0}),t.prototype.docChanges=function(t){t&&(X("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),W("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this._snapshot.excludesMetadataChanges)throw new O(I.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e,n){if(n.oldDocs.isEmpty()){var r,o=0;return n.docChanges.map(function(e){var l=new Qi(t,e.doc.key,e.doc,n.fromCache,n.mutatedKeys.has(e.doc.key));return k(e.type===He.Added,"Invalid event type for first snapshot"),k(!r||n.query.docComparator(r,e.doc)<0,"Got added events in wrong order"),r=e.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}var l=n.oldDocs;return n.docChanges.filter(function(t){return e||t.type!==He.Metadata}).map(function(e){var r=new Qi(t,e.doc.key,e.doc,n.fromCache,n.mutatedKeys.has(e.doc.key)),o=-1,c=-1;return e.type!==He.Added&&(k((o=l.indexOf(e.doc.key))>=0,"Index for document not found"),l=l.delete(e.doc.key)),e.type!==He.Removed&&(l=l.add(e.doc),c=l.indexOf(e.doc.key)),{type:ra(e.type),doc:r,oldIndex:o,newIndex:c}})}(this._firestore,e,this._snapshot),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t.prototype.isEqual=function(e){if(!(e instanceof t))throw J("isEqual","QuerySnapshot",1,e);return this._firestore===e._firestore&&this._originalQuery.isEqual(e._originalQuery)&&this._snapshot.isEqual(e._snapshot)},t.prototype.convertToDocumentImpl=function(t){return new Qi(this._firestore,t.key,t,this.metadata.fromCache,this._snapshot.mutatedKeys.has(t.key))},t}();["length","forEach","map"].concat("undefined"!=typeof Symbol?[Symbol.iterator]:[]).forEach(function(t){try{Object.defineProperty(Xi.prototype.docChanges,t,{get:function(){return function(){throw new O(I.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}()}})}catch(t){}});var Ji=function(t){function e(path,e){var n=t.call(this,te.atPath(path),e)||this;if(path.length%2!=1)throw new O(I.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+path.canonicalString()+" has "+path.length);return n}return d.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._query.path.popLast();return t.isEmpty()?null:new Hi(new St(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),e.prototype.doc=function(t){if(F("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=et.newId()),U("CollectionReference.doc","non-empty string",1,t),""===t)throw new O(I.INVALID_ARGUMENT,"Document path must be a non-empty string");var path=bt.fromString(t);return Hi.forPath(this._query.path.child(path),this.firestore)},e.prototype.add=function(t){j("CollectionReference.add",arguments,1),U("CollectionReference.add","object",1,t);var e=this.doc();return e.set(t).then(function(){return e})},e}(Yi);function Zi(t,e){if(void 0===e)return{merge:!1};if(X(t,e,["merge","mergeFields"]),W(t,"boolean","merge",e.merge),z(t,"mergeFields","a string or a FieldPath",e.mergeFields,function(element){return"string"==typeof element||element instanceof si}),void 0!==e.mergeFields&&void 0!==e.merge)throw new O(I.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function ta(t,e){return void 0===e?{}:(X(t,e,["serverTimestamps"]),H(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function ea(t,e){V(t,"object",1,e),e&&(X(t,e,["source"]),H(t,0,"source",e.source,["default","server","cache"]))}function na(t,e,n){if(e instanceof Hi){if(e.firestore!==n)throw new O(I.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw J(t,"DocumentReference",1,e)}function ra(t){switch(t){case He.Added:return"added";case He.Modified:case He.Metadata:return"modified";case He.Removed:return"removed";default:return T("Unknown change type: "+t)}}var oa=A($i,"Use firebase.firestore() instead."),ia=A(Wi,"Use firebase.firestore().runTransaction() instead."),aa=A(zi,"Use firebase.firestore().batch() instead."),sa=A(Hi,"Use firebase.firestore().doc() instead."),ua=A(Gi),la=A(Qi),ca=A(Yi),da=A(Xi),ha=A(Ji,"Use firebase.firestore().collection() instead."),fa={Firestore:oa,GeoPoint:ft,Timestamp:pt,Blob:ht,Transaction:ia,WriteBatch:aa,DocumentReference:sa,DocumentSnapshot:ua,Query:ca,QueryDocumentSnapshot:la,QuerySnapshot:da,CollectionReference:ha,FieldPath:si,FieldValue:Ei,setLogLevel:$i.setLogLevel,CACHE_SIZE_UNLIMITED:Ui};function pa(t){t.INTERNAL.registerService("firestore",function(t){return new $i(t)},function(t){k(t&&"object"==typeof t,"shallowCopy() expects object parameter.");var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}(fa))}function ma(t){pa(t)}ma(l),e.registerFirestore=ma}).call(this,n(43))},function(t,e,n){"use strict";n.r(e),n.d(e,"LogLevel",function(){return r}),n.d(e,"Logger",function(){return d}),n.d(e,"setLogLevel",function(){return h});var r,o=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(r||(r={}));var l=r.INFO,c=function(t,e){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];if(!(e<t.logLevel)){var l=(new Date).toISOString();switch(e){case r.DEBUG:case r.VERBOSE:console.log.apply(console,["["+l+"]  "+t.name+":"].concat(n));break;case r.INFO:console.info.apply(console,["["+l+"]  "+t.name+":"].concat(n));break;case r.WARN:console.warn.apply(console,["["+l+"]  "+t.name+":"].concat(n));break;case r.ERROR:console.error.apply(console,["["+l+"]  "+t.name+":"].concat(n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}}},d=function(){function t(t){this.name=t,this._logLevel=l,this._logHandler=c,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in r))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,r.DEBUG].concat(t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,r.VERBOSE].concat(t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,r.INFO].concat(t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,r.WARN].concat(t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,r.ERROR].concat(t))},t}();function h(t){o.forEach(function(e){e.logLevel=t})}},function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"ErrorCode",function(){return pr}),n.d(e,"EventType",function(){return mr}),n.d(e,"WebChannel",function(){return gr}),n.d(e,"XhrIo",function(){return vr}),n.d(e,"createWebChannelTransport",function(){return fr});var g,r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},o=o||{},l=r;function c(a){return"string"==typeof a}function d(a){return"number"==typeof a}function h(a,b){a=a.split("."),b=b||l;for(var t=0;t<a.length;t++)if(null==(b=b[a[t]]))return null;return b}function f(){}function p(a){var b=typeof a;if("object"==b){if(!a)return"null";if(a instanceof Array)return"array";if(a instanceof Object)return b;var t=Object.prototype.toString.call(a);if("[object Window]"==t)return"object";if("[object Array]"==t||"number"==typeof a.length&&void 0!==a.splice&&void 0!==a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==t||void 0!==a.call&&void 0!==a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else if("function"==b&&void 0===a.call)return"object";return b}function q(a){return"array"==p(a)}function m(a){var b=p(a);return"array"==b||"object"==b&&"number"==typeof a.length}function v(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}var y="closure_uid_"+(1e9*Math.random()>>>0),w=0;function _(a,b,t){return a.call.apply(a.bind,arguments)}function S(a,b,t){if(!a)throw Error();if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return function(){var t=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(t,e),a.apply(b,t)}}return function(){return a.apply(b,arguments)}}function u(a,b,t){return(u=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_:S).apply(null,arguments)}function E(a,b){var t=Array.prototype.slice.call(arguments,1);return function(){var e=t.slice();return e.push.apply(e,arguments),a.apply(this,e)}}var T=Date.now||function(){return+new Date};function k(a,b){function t(){}t.prototype=b.prototype,a.N=b.prototype,a.prototype=new t,a.prototype.constructor=a,a.yb=function(t,e,n){for(var r=Array(arguments.length-2),o=2;o<arguments.length;o++)r[o-2]=arguments[o];return b.prototype[e].apply(t,r)}}function x(){this.j=this.j,this.i=this.i}x.prototype.j=!1,x.prototype.la=function(){if(!this.j&&(this.j=!0,this.G(),0))this[y]||(this[y]=++w)},x.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var C=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if(c(a))return c(b)&&1==b.length?a.indexOf(b,0):-1;for(var t=0;t<a.length;t++)if(t in a&&a[t]===b)return t;return-1},I=Array.prototype.forEach?function(a,b,t){Array.prototype.forEach.call(a,b,t)}:function(a,b,t){for(var e=a.length,n=c(a)?a.split(""):a,r=0;r<e;r++)r in n&&b.call(t,n[r],r,a)};function O(a){return Array.prototype.concat.apply([],arguments)}function A(a){var b=a.length;if(0<b){for(var t=Array(b),e=0;e<b;e++)t[e]=a[e];return t}return[]}function N(a){return/^[\s\xa0]*$/.test(a)}var D,P=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]};function R(a,b){return-1!=a.indexOf(b)}function M(a,b){return a<b?-1:a>b?1:0}t:{var L=l.navigator;if(L){var j=L.userAgent;if(j){D=j;break t}}D=""}function B(a,b,t){for(var e in a)b.call(t,a[e],e,a)}function F(a){var t,b={};for(t in a)b[t]=a[t];return b}var U="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(a,b){for(var t,e,n=1;n<arguments.length;n++){for(t in e=arguments[n])a[t]=e[t];for(var r=0;r<U.length;r++)t=U[r],Object.prototype.hasOwnProperty.call(e,t)&&(a[t]=e[t])}}function $(a){return $[" "](a),a}$[" "]=f;var W,a,z=R(D,"Opera"),H=R(D,"Trident")||R(D,"MSIE"),K=R(D,"Edge"),G=K||H,Q=R(D,"Gecko")&&!(R(D.toLowerCase(),"webkit")&&!R(D,"Edge"))&&!(R(D,"Trident")||R(D,"MSIE"))&&!R(D,"Edge"),Y=R(D.toLowerCase(),"webkit")&&!R(D,"Edge");function X(){var a=l.document;return a?a.documentMode:void 0}t:{var J="",Z=(a=D,Q?/rv:([^\);]+)(\)|;)/.exec(a):K?/Edge\/([\d\.]+)/.exec(a):H?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a):Y?/WebKit\/(\S+)/.exec(a):z?/(?:Version)[ \/]?(\S+)/.exec(a):void 0);if(Z&&(J=Z?Z[1]:""),H){var tt=X();if(null!=tt&&tt>parseFloat(J)){W=String(tt);break t}}W=J}var et,nt={};function ot(a){return function(a,b){var t=nt;return Object.prototype.hasOwnProperty.call(t,a)?t[a]:t[a]=b(a)}(a,function(){for(var b=0,t=P(String(W)).split("."),e=P(String(a)).split("."),n=Math.max(t.length,e.length),r=0;0==b&&r<n;r++){var o=t[r]||"",l=e[r]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==o[0].length&&0==l[0].length)break;b=M(0==o[1].length?0:parseInt(o[1],10),0==l[1].length?0:parseInt(l[1],10))||M(0==o[2].length,0==l[2].length)||M(o[2],l[2]),o=o[3],l=l[3]}while(0==b)}return 0<=b})}var it=l.document;et=it&&H?X()||("CSS1Compat"==it.compatMode?parseInt(W,10):5):void 0;var at=!H||9<=Number(et),st=H&&!ot("9"),ut=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{l.addEventListener("test",f,b),l.removeEventListener("test",f,b)}catch(t){}return a}();function lt(a,b){this.type=a,this.a=this.target=b,this.Ja=!0}function ct(a,b){if(lt.call(this,a?a.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,a){var t=this.type=a.type,e=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.a=b,b=a.relatedTarget){if(Q){t:{try{$(b.nodeName);var n=!0;break t}catch(t){}n=!1}n||(b=null)}}else"mouseover"==t?b=a.fromElement:"mouseout"==t&&(b=a.toElement);this.relatedTarget=b,e?(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0):(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=c(a.pointerType)?a.pointerType:ht[a.pointerType]||"",this.c=a,a.defaultPrevented&&this.b()}}lt.prototype.b=function(){this.Ja=!1},k(ct,lt);var ht={2:"touch",3:"pen",4:"mouse"};ct.prototype.b=function(){ct.N.b.call(this);var a=this.c;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,st)try{(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)&&(a.keyCode=-1)}catch(t){}};var ft="closure_listenable_"+(1e6*Math.random()|0),pt=0;function mt(a,b,t,e,n){this.listener=a,this.proxy=null,this.src=b,this.type=t,this.capture=!!e,this.da=n,this.key=++pt,this.X=this.Z=!1}function gt(a){a.X=!0,a.listener=null,a.proxy=null,a.src=null,a.da=null}function vt(a){this.src=a,this.a={},this.b=0}function yt(a,b){var t=b.type;if(t in a.a){var e,n=a.a[t],r=C(n,b);(e=0<=r)&&Array.prototype.splice.call(n,r,1),e&&(gt(b),0==a.a[t].length&&(delete a.a[t],a.b--))}}function bt(a,b,t,e){for(var n=0;n<a.length;++n){var r=a[n];if(!r.X&&r.listener==b&&r.capture==!!t&&r.da==e)return n}return-1}vt.prototype.add=function(a,b,t,e,n){var r=a.toString();(a=this.a[r])||(a=this.a[r]=[],this.b++);var o=bt(a,b,e,n);return-1<o?(b=a[o],t||(b.Z=!1)):((b=new mt(b,this.src,r,!!e,n)).Z=t,a.push(b)),b};var wt="closure_lm_"+(1e6*Math.random()|0),_t={};function St(a,b,t,e,n){if(e&&e.once)return function t(a,b,e,n,r){if(q(b)){for(var o=0;o<b.length;o++)t(a,b[o],e,n,r);return null}e=At(e);return a&&a[ft]?a.Ba(b,e,v(n)?!!n.capture:!!n,r):Et(a,b,e,!0,n,r)}(a,b,t,e,n);if(q(b)){for(var r=0;r<b.length;r++)St(a,b[r],t,e,n);return null}return t=At(t),a&&a[ft]?a.Aa(b,t,v(e)?!!e.capture:!!e,n):Et(a,b,t,!1,e,n)}function Et(a,b,t,e,n,r){if(!b)throw Error("Invalid event type");var o=v(n)?!!n.capture:!!n;if(o&&!at)return null;var l=It(a);if(l||(a[wt]=l=new vt(a)),(t=l.add(b,t,e,o,r)).proxy)return t;if(e=function(){var a=Ct,b=at?function(t){return a.call(b.src,b.listener,t)}:function(t){if(!(t=a.call(b.src,b.listener,t)))return t};return b}(),t.proxy=e,e.src=a,e.listener=t,a.addEventListener)ut||(n=o),void 0===n&&(n=!1),a.addEventListener(b.toString(),e,n);else if(a.attachEvent)a.attachEvent(kt(b.toString()),e);else{if(!a.addListener||!a.removeListener)throw Error("addEventListener and attachEvent are unavailable.");a.addListener(e)}return t}function Tt(a){if(!d(a)&&a&&!a.X){var b=a.src;if(b&&b[ft])yt(b.c,a);else{var t=a.type,e=a.proxy;b.removeEventListener?b.removeEventListener(t,e,a.capture):b.detachEvent?b.detachEvent(kt(t),e):b.addListener&&b.removeListener&&b.removeListener(e),(t=It(b))?(yt(t,a),0==t.b&&(t.src=null,b[wt]=null)):gt(a)}}}function kt(a){return a in _t?_t[a]:_t[a]="on"+a}function xt(a,b){var t=a.listener,e=a.da||a.src;return a.Z&&Tt(a),t.call(e,b)}function Ct(a,b){return!!a.X||(at?xt(a,new ct(b,this)):xt(a,b=new ct(b||h("window.event"),this)))}function It(a){return(a=a[wt])instanceof vt?a:null}var Ot="__closure_events_fn_"+(1e9*Math.random()>>>0);function At(a){return"function"==p(a)?a:(a[Ot]||(a[Ot]=function(b){return a.handleEvent(b)}),a[Ot])}function Nt(){x.call(this),this.c=new vt(this),this.J=this,this.B=null}function Dt(a,b,t,e){if(!(b=a.c.a[String(b)]))return!0;b=b.concat();for(var n=!0,r=0;r<b.length;++r){var o=b[r];if(o&&!o.X&&o.capture==t){var l=o.listener,c=o.da||o.src;o.Z&&yt(a.c,o),n=!1!==l.call(c,e)&&n}}return n&&0!=e.Ja}k(Nt,x),Nt.prototype[ft]=!0,(g=Nt.prototype).addEventListener=function(a,b,t,e){St(this,a,b,t,e)},g.removeEventListener=function(a,b,t,e){!function t(a,b,e,n,r){if(q(b))for(var o=0;o<b.length;o++)t(a,b[o],e,n,r);else n=v(n)?!!n.capture:!!n,e=At(e),a&&a[ft]?(a=a.c,(b=String(b).toString())in a.a&&-1<(e=bt(o=a.a[b],e,n,r))&&(gt(o[e]),Array.prototype.splice.call(o,e,1),0==o.length&&(delete a.a[b],a.b--))):a&&(a=It(a))&&(b=a.a[b.toString()],a=-1,b&&(a=bt(b,e,n,r)),(e=-1<a?b[a]:null)&&Tt(e))}(this,a,b,t,e)},g.dispatchEvent=function(a){var b,t=this.B;if(t)for(b=[];t;t=t.B)b.push(t);t=this.J;var e=a.type||a;if(c(a))a=new lt(a,t);else if(a instanceof lt)a.target=a.target||t;else{var n=a;V(a=new lt(e,t),n)}if(n=!0,b)for(var r=b.length-1;0<=r;r--){var o=a.a=b[r];n=Dt(o,e,!0,a)&&n}if(n=Dt(o=a.a=t,e,!0,a)&&n,n=Dt(o,e,!1,a)&&n,b)for(r=0;r<b.length;r++)n=Dt(o=a.a=b[r],e,!1,a)&&n;return n},g.G=function(){if(Nt.N.G.call(this),this.c){var t,a=this.c;for(t in a.a){for(var e=a.a[t],n=0;n<e.length;n++)gt(e[n]);delete a.a[t],a.b--}}this.B=null},g.Aa=function(a,b,t,e){return this.c.add(String(a),b,!1,t,e)},g.Ba=function(a,b,t,e){return this.c.add(String(a),b,!0,t,e)};var Pt=l.JSON.stringify;function Rt(a,b){this.c=a,this.f=b,this.b=0,this.a=null}function Mt(){this.b=this.a=null}Rt.prototype.get=function(){if(0<this.b){this.b--;var a=this.a;this.a=a.next,a.next=null}else a=this.c();return a};var Lt,jt=new Rt(function(){return new Ft},function(a){a.reset()});function Bt(){var a=$t,b=null;return a.a&&(b=a.a,a.a=a.a.next,a.a||(a.b=null),b.next=null),b}function Ft(){this.next=this.b=this.a=null}function Ut(a){l.setTimeout(function(){throw a},0)}function Vt(a,b){Lt||function(){var a=l.Promise.resolve(void 0);Lt=function(){a.then(Wt)}}(),qt||(Lt(),qt=!0),$t.add(a,b)}Mt.prototype.add=function(a,b){var t=jt.get();t.set(a,b),this.b?this.b.next=t:this.a=t,this.b=t},Ft.prototype.set=function(a,b){this.a=a,this.b=b,this.next=null},Ft.prototype.reset=function(){this.next=this.b=this.a=null};var qt=!1,$t=new Mt;function Wt(){for(var a;a=Bt();){try{a.a.call(a.b)}catch(t){Ut(t)}var b=jt;b.f(a),100>b.b&&(b.b++,a.next=b.a,b.a=a)}qt=!1}function zt(a,b){Nt.call(this),this.b=a||1,this.a=b||l,this.f=u(this.gb,this),this.g=T()}function Ht(a){a.ba=!1,a.L&&(a.a.clearTimeout(a.L),a.L=null)}function Kt(a,b,t){if("function"==p(a))t&&(a=u(a,t));else{if(!a||"function"!=typeof a.handleEvent)throw Error("Invalid listener argument");a=u(a.handleEvent,a)}return 2147483647<Number(b)?-1:l.setTimeout(a,b||0)}function Gt(a,b,t){x.call(this),this.f=null!=t?u(a,t):a,this.c=b,this.b=u(this.ab,this),this.a=[]}function Qt(a){a.U=Kt(a.b,a.c),a.f.apply(null,a.a)}function Yt(a){x.call(this),this.b=a,this.a={}}k(zt,Nt),(g=zt.prototype).ba=!1,g.L=null,g.gb=function(){if(this.ba){var a=T()-this.g;0<a&&a<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-a):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.ba&&(Ht(this),this.start()))}},g.start=function(){this.ba=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=T())},g.G=function(){zt.N.G.call(this),Ht(this),delete this.a},k(Gt,x),(g=Gt.prototype).ea=!1,g.U=null,g.Ua=function(a){this.a=arguments,this.U?this.ea=!0:Qt(this)},g.G=function(){Gt.N.G.call(this),this.U&&(l.clearTimeout(this.U),this.U=null,this.ea=!1,this.a=[])},g.ab=function(){this.U=null,this.ea&&(this.ea=!1,Qt(this))},k(Yt,x);var Xt=[];function Jt(a,b,t,e){q(t)||(t&&(Xt[0]=t.toString()),t=Xt);for(var n=0;n<t.length;n++){var r=St(b,t[n],e||a.handleEvent,!1,a.b||a);if(!r)break;a.a[r.key]=r}}function Zt(a){B(a.a,function(b,t){this.a.hasOwnProperty(t)&&Tt(b)},a),a.a={}}function te(){}Yt.prototype.G=function(){Yt.N.G.call(this),Zt(this)},Yt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ee=new Nt;function ne(a){lt.call(this,"serverreachability",a)}function re(a){ee.dispatchEvent(new ne(ee,a))}function oe(a){lt.call(this,"statevent",a)}function ie(a){ee.dispatchEvent(new oe(ee,a))}function ae(a){lt.call(this,"timingevent",a)}function se(a,b){if("function"!=p(a))throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},b)}k(ne,lt),k(oe,lt),k(ae,lt);var ue={NO_ERROR:0,hb:1,ob:2,nb:3,kb:4,mb:5,pb:6,Ma:7,TIMEOUT:8,sb:9},le={jb:"complete",wb:"success",Na:"error",Ma:"abort",ub:"ready",vb:"readystatechange",TIMEOUT:"timeout",qb:"incrementaldata",tb:"progress",lb:"downloadprogress",xb:"uploadprogress"};function ce(){}function de(a){var b;return(b=a.a)||(b=a.a={}),b}function he(){}ce.prototype.a=null;var fe,pe={OPEN:"a",ib:"b",Na:"c",rb:"d"};function me(){lt.call(this,"d")}function ge(){lt.call(this,"c")}function ve(){}function ye(a,b,t){this.g=a,this.W=b,this.V=t||1,this.I=new Yt(this),this.O=be,a=G?125:void 0,this.P=new zt(a),this.h=null,this.b=!1,this.l=this.D=this.f=this.F=this.v=this.R=this.i=null,this.j=[],this.a=null,this.A=0,this.c=this.w=null,this.o=-1,this.m=!1,this.J=0,this.B=null,this.s=this.S=this.H=!1}k(me,lt),k(ge,lt),k(ve,ce),fe=new ve;var be=45e3,we={},_e={};function Se(a,b,t){a.F=1,a.f=Ke(Ue(b)),a.l=t,a.H=!0,Te(a,null)}function Ee(a,b,t,e){a.F=1,a.f=Ke(Ue(b)),a.l=null,a.H=t,Te(a,e)}function Te(a,b){a.v=T(),Ce(a),a.D=Ue(a.f),He(a.D,"t",a.V),a.A=0,a.a=a.g.$(a.g.Y()?b:null),0<a.J&&(a.B=new Gt(u(a.Ka,a,a.a),a.J)),Jt(a.I,a.a,"readystatechange",a.eb),b=a.h?F(a.h):{},a.l?(a.w||(a.w="POST"),b["Content-Type"]="application/x-www-form-urlencoded",a.a.ca(a.D,a.w,a.l,b)):(a.w="GET",a.a.ca(a.D,a.w,null,b)),re(1)}function ke(a,b,t){for(var e=!0;!a.m&&a.A<t.length;){var n=xe(a,t);if(n==_e){4==b&&(a.c=4,ie(14),e=!1);break}if(n==we){a.c=4,ie(15),e=!1;break}De(a,n)}4==b&&0==t.length&&(a.c=1,ie(16),e=!1),a.b=a.b&&e,e||(Ne(a),Ae(a))}function xe(a,b){var t=a.A,e=b.indexOf("\n",t);return-1==e?_e:(t=Number(b.substring(t,e)),isNaN(t)?we:(e+=1)+t>b.length?_e:(b=b.substr(e,t),a.A=e+t,b))}function Ce(a){a.R=T()+a.O,Ie(a,a.O)}function Ie(a,b){if(null!=a.i)throw Error("WatchDog timer not null");a.i=se(u(a.bb,a),b)}function Oe(a){a.i&&(l.clearTimeout(a.i),a.i=null)}function Ae(a){a.g.Da()||a.m||a.g.na(a)}function Ne(a){Oe(a);var b=a.B;b&&"function"==typeof b.la&&b.la(),a.B=null,Ht(a.P),Zt(a.I),a.a&&(b=a.a,a.a=null,b.abort(),b.la())}function De(a,b){try{a.g.Ga(a,b),re(4)}catch(t){}}function Pe(a,b){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,void 0);else if(m(a)||c(a))I(a,b,void 0);else{if(a.K&&"function"==typeof a.K)var t=a.K();else if(a.C&&"function"==typeof a.C)t=void 0;else if(m(a)||c(a)){t=[];for(var e=a.length,n=0;n<e;n++)t.push(n)}else for(n in t=[],e=0,a)t[e++]=n;n=(e=function(a){if(a.C&&"function"==typeof a.C)return a.C();if(c(a))return a.split("");if(m(a)){for(var b=[],t=a.length,e=0;e<t;e++)b.push(a[e]);return b}for(e in b=[],t=0,a)b[t++]=a[e];return b}(a)).length;for(var r=0;r<n;r++)b.call(void 0,e[r],t&&t[r],a)}}function Re(a,b){this.b={},this.a=[],this.c=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var e=0;e<t;e+=2)this.set(arguments[e],arguments[e+1])}else if(a)if(a instanceof Re)for(t=a.K(),e=0;e<t.length;e++)this.set(t[e],a.get(t[e]));else for(e in a)this.set(e,a[e])}function Me(a,b){je(a.b,b)&&(delete a.b[b],a.c--,a.a.length>2*a.c&&Le(a))}function Le(a){if(a.c!=a.a.length){for(var b=0,t=0;b<a.a.length;){var e=a.a[b];je(a.b,e)&&(a.a[t++]=e),b++}a.a.length=t}if(a.c!=a.a.length){var n={};for(t=b=0;b<a.a.length;)je(n,e=a.a[b])||(a.a[t++]=e,n[e]=1),b++;a.a.length=t}}function je(a,b){return Object.prototype.hasOwnProperty.call(a,b)}(g=ye.prototype).setTimeout=function(a){this.O=a},g.eb=function(a){a=a.target;var b=this.B;b&&3==Bn(a)?b.Ua():this.Ka(a)},g.Ka=function(a){try{if(a==this.a)t:{var b=Bn(this.a),t=this.a.ya(),e=this.a.T();if(!(3>b||3==b&&!G&&!this.a.aa())){this.m||4!=b||7==t||re(8==t||0>=e?3:2),Oe(this);var n=this.a.T();this.o=n;var r=this.a.aa();if(this.b=200==n){if(this.S&&!this.s){e:{if(this.a){var o=Fn(this.a,"X-HTTP-Initial-Response");if(o&&!N(o)){var l=o;break e}}l=null}if(!l){this.b=!1,this.c=3,ie(12),Ne(this),Ae(this);break t}this.s=!0,De(this,l)}this.H?(ke(this,b,r),G&&this.b&&3==b&&(Jt(this.I,this.P,"tick",this.cb),this.P.start())):De(this,r),4==b&&Ne(this),this.b&&!this.m&&(4==b?this.g.na(this):(this.b=!1,Ce(this)))}else 400==n&&0<r.indexOf("Unknown SID")?(this.c=3,ie(12)):(this.c=0,ie(13)),Ne(this),Ae(this)}}}catch(t){}},g.cb=function(){if(this.a){var a=Bn(this.a),b=this.a.aa();this.A<b.length&&(Oe(this),ke(this,a,b),this.b&&4!=a&&Ce(this))}},g.cancel=function(){this.m=!0,Ne(this)},g.bb=function(){this.i=null;var a=T();0<=a-this.R?(2!=this.F&&(re(3),ie(17)),Ne(this),this.c=2,Ae(this)):Ie(this,this.R-a)},(g=Re.prototype).C=function(){Le(this);for(var a=[],b=0;b<this.a.length;b++)a.push(this.b[this.a[b]]);return a},g.K=function(){return Le(this),this.a.concat()},g.get=function(a,b){return je(this.b,a)?this.b[a]:b},g.set=function(a,b){je(this.b,a)||(this.c++,this.a.push(a)),this.b[a]=b},g.forEach=function(a,b){for(var t=this.K(),e=0;e<t.length;e++){var n=t[e],r=this.get(n);a.call(b,r,n,this)}};var Be=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Fe(a,b){var t;this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1,a instanceof Fe?(this.h=void 0!==b?b:a.h,Ve(this,a.f),this.j=a.j,qe(this,a.b),$e(this,a.i),this.a=a.a,We(this,un(a.c)),this.g=a.g):a&&(t=String(a).match(Be))?(this.h=!!b,Ve(this,t[1]||"",!0),this.j=Ge(t[2]||""),qe(this,t[3]||"",!0),$e(this,t[4]),this.a=Ge(t[5]||"",!0),We(this,t[6]||"",!0),this.g=Ge(t[7]||"")):(this.h=!!b,this.c=new nn(null,this.h))}function Ue(a){return new Fe(a)}function Ve(a,b,t){a.f=t?Ge(b,!0):b,a.f&&(a.f=a.f.replace(/:$/,""))}function qe(a,b,t){a.b=t?Ge(b,!0):b}function $e(a,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);a.i=b}else a.i=null}function We(a,b,t){b instanceof nn?(a.c=b,function(a,b){b&&!a.f&&(rn(a),a.c=null,a.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(on(this,e),sn(this,n,t))},a)),a.f=b}(a.c,a.h)):(t||(b=Qe(b,tn)),a.c=new nn(b,a.h))}function ze(a,b,t){a.c.set(b,t)}function He(a,b,t){q(t)||(t=[String(t)]),sn(a.c,b,t)}function Ke(a){return ze(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^T()).toString(36)),a}function Ge(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Qe(a,b,t){return c(a)?(a=encodeURI(a).replace(b,Ye),t&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Ye(a){return"%"+((a=a.charCodeAt(0))>>4&15).toString(16)+(15&a).toString(16)}Fe.prototype.toString=function(){var a=[],b=this.f;b&&a.push(Qe(b,Xe,!0),":");var t=this.b;return(t||"file"==b)&&(a.push("//"),(b=this.j)&&a.push(Qe(b,Xe,!0),"@"),a.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.i)&&a.push(":",String(t))),(t=this.a)&&(this.b&&"/"!=t.charAt(0)&&a.push("/"),a.push(Qe(t,"/"==t.charAt(0)?Ze:Je,!0))),(t=this.c.toString())&&a.push("?",t),(t=this.g)&&a.push("#",Qe(t,en)),a.join("")},Fe.prototype.resolve=function(a){var b=Ue(this),t=!!a.f;t?Ve(b,a.f):t=!!a.j,t?b.j=a.j:t=!!a.b,t?qe(b,a.b):t=null!=a.i;var e=a.a;if(t)$e(b,a.i);else if(t=!!a.a){if("/"!=e.charAt(0))if(this.b&&!this.a)e="/"+e;else{var n=b.a.lastIndexOf("/");-1!=n&&(e=b.a.substr(0,n+1)+e)}if(".."==(n=e)||"."==n)e="";else if(R(n,"./")||R(n,"/.")){e=0==n.lastIndexOf("/",0),n=n.split("/");for(var r=[],o=0;o<n.length;){var l=n[o++];"."==l?e&&o==n.length&&r.push(""):".."==l?((1<r.length||1==r.length&&""!=r[0])&&r.pop(),e&&o==n.length&&r.push("")):(r.push(l),e=!0)}e=r.join("/")}else e=n}return t?b.a=e:t=""!==a.c.toString(),t?We(b,un(a.c)):t=!!a.g,t&&(b.g=a.g),b};var Xe=/[#\/\?@]/g,Je=/[#\?:]/g,Ze=/[#\?]/g,tn=/[#\?@]/g,en=/#/g;function nn(a,b){this.b=this.a=null,this.c=a||null,this.f=!!b}function rn(a){a.a||(a.a=new Re,a.b=0,a.c&&function(a,b){if(a){a=a.split("&");for(var t=0;t<a.length;t++){var e=a[t].indexOf("="),n=null;if(0<=e){var r=a[t].substring(0,e);n=a[t].substring(e+1)}else r=a[t];b(r,n?decodeURIComponent(n.replace(/\+/g," ")):"")}}}(a.c,function(b,t){a.add(decodeURIComponent(b.replace(/\+/g," ")),t)}))}function on(a,b){rn(a),b=ln(a,b),je(a.a.b,b)&&(a.c=null,a.b-=a.a.get(b).length,Me(a.a,b))}function an(a,b){return rn(a),b=ln(a,b),je(a.a.b,b)}function sn(a,b,t){on(a,b),0<t.length&&(a.c=null,a.a.set(ln(a,b),A(t)),a.b+=t.length)}function un(a){var b=new nn;return b.c=a.c,a.a&&(b.a=new Re(a.a),b.b=a.b),b}function ln(a,b){return b=String(b),a.f&&(b=b.toLowerCase()),b}function cn(a){this.a=a,this.b=this.h=null,this.g=!1,this.i=null,this.c=-1,this.l=this.f=null}function dn(a){var b=a.a.F.a;if(null!=b)ie(4),b?(ie(10),Xn(a.a,a,!1)):(ie(11),Xn(a.a,a,!0));else{a.b=new ye(a,void 0,void 0),a.b.h=a.h,b=rr(b=a.a,b.Y()?a.f:null,a.i),ie(4),He(b,"TYPE","xmlhttp");var t=a.a.j,e=a.a.I;t&&e&&ze(b,t,e),Ee(a.b,b,!1,a.f)}}function hn(){this.a=this.b=null}function fn(){this.a=new Re}function pn(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+(a[y]||(a[y]=++w)):b.charAt(0)+a}function mn(a,b){this.b=a,this.a=b}function gn(a){this.g=a||vn,l.PerformanceNavigationTiming?a=0<(a=l.performance.getEntriesByType("navigation")).length&&("hq"==a[0].nextHopProtocol||"h2"==a[0].nextHopProtocol):a=!!(l.ka&&l.ka.Ea&&l.ka.Ea()&&l.ka.Ea().zb),this.f=a?this.g:1,this.a=null,1<this.f&&(this.a=new fn),this.b=null,this.c=[]}(g=nn.prototype).add=function(a,b){rn(this),this.c=null,a=ln(this,a);var t=this.a.get(a);return t||this.a.set(a,t=[]),t.push(b),this.b+=1,this},g.forEach=function(a,b){rn(this),this.a.forEach(function(t,e){I(t,function(t){a.call(b,t,e,this)},this)},this)},g.K=function(){rn(this);for(var a=this.a.C(),b=this.a.K(),t=[],e=0;e<b.length;e++)for(var n=a[e],r=0;r<n.length;r++)t.push(b[e]);return t},g.C=function(a){rn(this);var b=[];if(c(a))an(this,a)&&(b=O(b,this.a.get(ln(this,a))));else{a=this.a.C();for(var t=0;t<a.length;t++)b=O(b,a[t])}return b},g.set=function(a,b){return rn(this),this.c=null,an(this,a=ln(this,a))&&(this.b-=this.a.get(a).length),this.a.set(a,[b]),this.b+=1,this},g.get=function(a,b){return a&&0<(a=this.C(a)).length?String(a[0]):b},g.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var a=[],b=this.a.K(),t=0;t<b.length;t++){var e=b[t],n=encodeURIComponent(String(e));e=this.C(e);for(var r=0;r<e.length;r++){var o=n;""!==e[r]&&(o+="="+encodeURIComponent(String(e[r]))),a.push(o)}}return this.c=a.join("&")},k(function(){},function(){}),(g=cn.prototype).M=null,g.$=function(a){return this.a.$(a)},g.abort=function(){this.b&&(this.b.cancel(),this.b=null),this.c=-1},g.Da=function(){return!1},g.Ga=function(a,b){if(this.c=a.o,0==this.M){if(!this.a.o&&(a=a.a)){var t=Fn(a,"X-Client-Wire-Protocol");this.l=t||null,this.a.j&&(a=Fn(a,"X-HTTP-Session-Id"))&&(this.a.I=a)}if(b){try{var e=this.a.ja.a.parse(b)}catch(t){return(b=this.a).m=this.c,void er(b,2)}this.f=e[0]}else(b=this.a).m=this.c,er(b,2)}else 1==this.M&&(this.g?ie(6):"11111"==b?(ie(5),this.g=!0,(!H||10<=Number(et))&&(this.c=200,this.b.cancel(),ie(11),Xn(this.a,this,!0))):(ie(7),this.g=!1))},g.na=function(){if(this.c=this.b.o,this.b.b)0==this.M?(this.M=1,dn(this)):1==this.M&&(this.g?(ie(11),Xn(this.a,this,!0)):(ie(10),Xn(this.a,this,!1)));else{0==this.M?ie(8):1==this.M&&ie(9);var a=this.a;a.m=this.c,er(a,2)}},g.Y=function(){return this.a.Y()},g.ma=function(){return this.a.ma()},fn.prototype.add=function(a){this.a.set(pn(a),a)},fn.prototype.C=function(){return this.a.C()};var vn=10;function yn(a,b){!a.a&&(R(b,"spdy")||R(b,"quic")||R(b,"h2"))&&(a.f=a.g,a.a=new fn,a.b&&(dd(a,a.b),a.b=null))}function bn(a){return!!a.b||!!a.a&&a.a.a.c>=a.f}function wn(a){return a.b?1:a.a?a.a.a.c:0}function _n(a,b){return a.b?a=a.b==b:a.a?(b=pn(b),a=je(a.a.a.b,b)):a=!1,a}function dd(a,b){a.a?a.a.add(b):a.b=b}function Sn(a,b){var t;a.b&&a.b==b?a.b=null:((t=a.a)&&(t=pn(b),t=je(a.a.a.b,t)),t&&Me(a.a.a,pn(b)))}function En(a){if(null!=a.b)return a.c.concat(a.b.j);if(null!=a.a&&0!=a.a.a.c){var b=a.c;return I(a.a.C(),function(t){b=b.concat(t.j)}),b}return A(a.c)}function Tn(){}function kn(){this.a=new Tn}function xn(a,b,t){var e=t||"";try{Pe(a,function(t,n){var r=t;v(t)&&(r=Pt(t)),b.push(e+n+"="+encodeURIComponent(r))})}catch(t){throw b.push(e+"type="+encodeURIComponent("_badmap")),t}}function Cn(a,b,t,e,n){try{b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null,n(e)}catch(t){}}gn.prototype.cancel=function(){var a;this.c=En(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(I(this.a.C(),function(a){a.cancel()}),(a=this.a.a).b={},a.a.length=0,a.c=0)},Tn.prototype.stringify=function(a){return l.JSON.stringify(a,void 0)},Tn.prototype.parse=function(a){return l.JSON.parse(a,void 0)};var In=l.JSON.parse;function On(a){Nt.call(this),this.headers=new Re,this.H=a||null,this.b=!1,this.s=this.a=null,this.A="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.I=An,this.D=this.F=!1}k(On,Nt);var An="",Nn=/^https?$/i,Dn=["POST","PUT"];function Pn(a){return"content-type"==a.toLowerCase()}function Rn(a,b){a.b=!1,a.a&&(a.g=!0,a.a.abort(),a.g=!1),a.f=b,a.h=5,Mn(a),jn(a)}function Mn(a){a.v||(a.v=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))}function Ln(a){if(a.b&&void 0!==o&&(!a.s[1]||4!=Bn(a)||2!=a.T()))if(a.l&&4==Bn(a))Kt(a.Fa,0,a);else if(a.dispatchEvent("readystatechange"),4==Bn(a)){a.b=!1;try{var t,b=a.T();t:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}if(!(t=e)){var n;if(n=0===b){var r=String(a.A).match(Be)[1]||null;if(!r&&l.self&&l.self.location){var c=l.self.location.protocol;r=c.substr(0,c.length-1)}n=!Nn.test(r?r.toLowerCase():"")}t=n}t?(a.dispatchEvent("complete"),a.dispatchEvent("success")):(a.h=6,a.f=a.za()+" ["+a.T()+"]",Mn(a))}finally{jn(a)}}}function jn(a,b){if(a.a){td(a);var t=a.a,e=a.s[0]?f:null;a.a=null,a.s=null,b||a.dispatchEvent("ready");try{t.onreadystatechange=e}catch(t){}}}function td(a){a.a&&a.D&&(a.a.ontimeout=null),a.m&&(l.clearTimeout(a.m),a.m=null)}function Bn(a){return a.a?a.a.readyState:0}function Fn(a,b){return a.a?a.a.getResponseHeader(b):null}function Un(a,b,t){t:{for(e in t){var e=!1;break t}e=!0}if(e)return a;if(t=function(a){var b="";return B(a,function(t,e){b+=e,b+=":",b+=t,b+="\r\n"}),b}(t),c(a)){if(b=encodeURIComponent(String(b)),b+=t=null!=t?"="+encodeURIComponent(String(t)):""){if(0>(t=a.indexOf("#"))&&(t=a.length),0>(e=a.indexOf("?"))||e>t){e=t;var n=""}else n=a.substring(e+1,t);t=(a=[a.substr(0,e),n,a.substr(t)])[1],a[1]=b?t?t+"&"+b:b:t,a=a[0]+(a[1]?"?"+a[1]:"")+a[2]}return a}return ze(a,b,t),a}function Vn(a){this.f=[],this.F=new hn,this.ga=this.pa=this.B=this.ha=this.a=this.I=this.j=this.V=this.g=this.J=this.i=null,this.Ra=this.P=0,this.Pa=!!h("internalChannelParams.failFast",a),this.ia=this.w=this.s=this.l=this.h=this.c=null,this.oa=!0,this.m=this.ra=this.O=-1,this.S=this.v=this.A=0,this.Oa=h("internalChannelParams.baseRetryDelayMs",a)||5e3,this.Sa=h("internalChannelParams.retryDelaySeedMs",a)||1e4,this.Qa=h("internalChannelParams.forwardChannelMaxRetries",a)||2,this.qa=h("internalChannelParams.forwardChannelRequestTimeoutMs",a)||2e4,this.La=a&&a.Ab||void 0,this.D=void 0,this.R=a&&a.supportsCrossDomainXhr||!1,this.H="",this.b=new gn(a&&a.concurrentRequestLimit),this.ja=new kn,this.o=!a||void 0===a.backgroundChannelTest||a.backgroundChannelTest,(this.W=a&&a.fastHandshake||!1)&&!this.o&&(this.o=!0),a&&a.forceLongPolling&&(this.oa=!1),this.fa=void 0}function qn(a){if($n(a),3==a.u){var b=a.P++,t=Ue(a.B);ze(t,"SID",a.H),ze(t,"RID",b),ze(t,"TYPE","terminate"),Kn(a,t),(b=new ye(a,b,void 0)).F=2,b.f=Ke(Ue(t)),t=!1,l.navigator&&l.navigator.sendBeacon&&(t=l.navigator.sendBeacon(b.f.toString(),"")),!t&&l.Image&&((new Image).src=b.f,t=!0),t||(b.a=b.g.$(null),b.a.ca(b.f)),b.v=T(),Ce(b)}nr(a)}function $n(a){a.w&&(a.w.abort(),a.w=null),a.a&&(a.a.cancel(),a.a=null),a.l&&(l.clearTimeout(a.l),a.l=null),Jn(a),a.b.cancel(),a.h&&(d(a.h)&&l.clearTimeout(a.h),a.h=null)}function Wn(a,b){a.f.push(new mn(a.Ra++,b)),3==a.u&&zn(a)}function zn(a){bn(a.b)||a.h||(a.h=!0,Vt(a.Ia,a),a.A=0)}function Hn(a,b){var t;t=b?b.W:a.P++;var e=Ue(a.B);ze(e,"SID",a.H),ze(e,"RID",t),ze(e,"AID",a.O),Kn(a,e),a.g&&a.i&&Un(e,a.g,a.i),t=new ye(a,t,a.A+1),null===a.g&&(t.h=a.i),b&&(a.f=b.j.concat(a.f)),b=Gn(a,t,1e3),t.setTimeout(Math.round(.5*a.qa)+Math.round(.5*a.qa*Math.random())),dd(a.b,t),Se(t,e,b)}function Kn(a,b){a.c&&Pe({},function(t,e){ze(b,e,t)})}function Gn(a,b,t){t=Math.min(a.f.length,t);var e=a.c?u(a.c.Ta,a.c,a):null;t:for(var n=a.f,r=-1;;){var o=["count="+t];-1==r?0<t?(r=n[0].b,o.push("ofs="+r)):r=0:o.push("ofs="+r);for(var l=!0,c=0;c<t;c++){var d=n[c].b,h=n[c].a;if(0>(d-=r))r=Math.max(0,n[c].b-100),l=!1;else try{xn(h,o,"req"+d+"_")}catch(t){e&&e(h)}}if(l){e=o.join("&");break t}}return a=a.f.splice(0,t),b.j=a,e}function Qn(a){a.a||a.l||(a.S=1,Vt(a.Ha,a),a.v=0)}function Yn(a){return!(a.a||a.l||3<=a.v)&&(a.S++,a.l=se(u(a.Ha,a),Zn(a,a.v)),a.v++,!0)}function Xn(a,b,t){var e=b.l;e&&yn(a.b,e),a.ia=a.oa&&t,a.m=b.c,a.B=rr(a,null,a.ha),zn(a)}function Jn(a){null!=a.s&&(l.clearTimeout(a.s),a.s=null)}function Zn(a,b){var t=a.Oa+Math.floor(Math.random()*a.Sa);return a.ma()||(t*=2),t*b}function er(a,b){if(2==b){var t=null;a.c&&(t=null);var e=u(a.fb,a);t||(t=new Fe("//www.google.com/images/cleardot.gif"),l.location&&"http"==l.location.protocol||Ve(t,"https"),Ke(t)),function(a,b){var t=new te;if(l.Image){var e=new Image;e.onload=E(Cn,t,e,"TestLoadImage: loaded",!0,b),e.onerror=E(Cn,t,e,"TestLoadImage: error",!1,b),e.onabort=E(Cn,t,e,"TestLoadImage: abort",!1,b),e.ontimeout=E(Cn,t,e,"TestLoadImage: timeout",!1,b),l.setTimeout(function(){e.ontimeout&&e.ontimeout()},1e4),e.src=a}else b(!1)}(t.toString(),e)}else ie(2);a.u=0,a.c&&a.c.ta(b),nr(a),$n(a)}function nr(a){a.u=0,a.m=-1,a.c&&(0==En(a.b).length&&0==a.f.length||(a.b.c.length=0,A(a.f),a.f.length=0),a.c.sa())}function rr(a,b,t){var e=function(a){return a instanceof Fe?Ue(a):new Fe(a,void 0)}(t);if(""!=e.b)b&&qe(e,b+"."+e.b),$e(e,e.i);else{var n,r=l.location;n=b?b+"."+r.hostname:r.hostname,e=function(a,b,t,e){var n=new Fe(null,void 0);return a&&Ve(n,a),b&&qe(n,b),t&&$e(n,t),e&&(n.a=e),n}(r.protocol,n,+r.port,t)}return a.V&&B(a.V,function(t,n){ze(e,n,t)}),b=a.j,t=a.I,b&&t&&ze(e,b,t),ze(e,"VER",a.wa),Kn(a,e),e}function or(){}function ir(){if(H&&!(10<=Number(et)))throw Error("Environmental error: no available transport.")}function ar(a,b){Nt.call(this),this.a=new Vn(b),this.g=a,this.m=b&&b.testUrl?b.testUrl:function(a){for(var b=arguments[0],t=1;t<arguments.length;t++){var e,n=arguments[t];0==n.lastIndexOf("/",0)?b=n:((e=""==b)||(e=0<=(e=b.length-1)&&b.indexOf("/",e)==e),b+=e?n:"/"+n)}return b}(this.g,"test"),this.b=b&&b.messageUrlParams||null,a=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.a.i=a,a=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(a?a["X-WebChannel-Content-Type"]=b.messageContentType:a={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.xa&&(a?a["X-WebChannel-Client-Profile"]=b.xa:a={"X-WebChannel-Client-Profile":b.xa}),this.a.J=a,(a=b&&b.httpHeadersOverwriteParam)&&!N(a)&&(this.a.g=a),this.l=b&&b.supportsCrossDomainXhr||!1,this.h=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!N(b)&&(this.a.j=b,null!==(a=this.b)&&b in a&&(b in(a=this.b)&&delete a[b])),this.f=new lr(this)}function sr(a){me.call(this);var b=a.__sm__;if(b){t:{for(var t in b){a=t;break t}a=void 0}(this.c=a)?(a=this.c,this.data=null!==b&&a in b?b[a]:void 0):this.data=b}else this.data=a}function ur(){ge.call(this),this.status=1}function lr(a){this.a=a}(g=On.prototype).ca=function(a,b,t,e){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.A+"; newUri="+a);b=b?b.toUpperCase():"GET",this.A=a,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?de(this.H):de(fe),this.a.onreadystatechange=u(this.Fa,this);try{this.w=!0,this.a.open(b,String(a),!0),this.w=!1}catch(t){return void Rn(this,t)}a=t||"";var n=new Re(this.headers);e&&Pe(e,function(t,e){n.set(e,t)}),e=function(a){t:{for(var b=Pn,t=a.length,e=c(a)?a.split(""):a,n=0;n<t;n++)if(n in e&&b.call(void 0,e[n],n,a)){b=n;break t}b=-1}return 0>b?null:c(a)?a.charAt(b):a[b]}(n.K()),t=l.FormData&&a instanceof l.FormData,!(0<=C(Dn,b))||e||t||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),n.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{td(this),0<this.o&&((this.D=function(a){return H&&ot(9)&&d(a.timeout)&&void 0!==a.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=u(this.Ca,this)):this.m=Kt(this.Ca,this.o,this)),this.l=!0,this.a.send(a),this.l=!1}catch(t){Rn(this,t)}},g.Ca=function(){void 0!==o&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},g.abort=function(a){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),jn(this))},g.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),jn(this,!0)),On.N.G.call(this)},g.Fa=function(){this.j||(this.w||this.l||this.g?Ln(this):this.$a())},g.$a=function(){Ln(this)},g.T=function(){try{return 2<Bn(this)?this.a.status:-1}catch(t){return-1}},g.za=function(){try{return 2<Bn(this)?this.a.statusText:""}catch(t){return""}},g.aa=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},g.Va=function(a){if(this.a){var b=this.a.responseText;return a&&0==b.indexOf(a)&&(b=b.substring(a.length)),In(b)}},g.ya=function(){return this.h},g.Ya=function(){return c(this.f)?this.f:String(this.f)},(g=Vn.prototype).wa=8,g.u=1,g.Da=function(){return 0==this.u},g.Ia=function(a){if(this.h)if(this.h=null,1==this.u){if(!a){this.P=Math.floor(1e5*Math.random());var t,b=new ye(this,a=this.P++,void 0),e=this.i;if(this.J&&(e?V(e=F(e),this.J):e=this.J),null===this.g&&(b.h=e),this.W)t:{for(var n=t=0;n<this.f.length;n++){var r=this.f[n];if(void 0===(r="__data__"in r.a&&c(r=r.a.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break t}if(4096===t||n===this.f.length-1){t=n+1;break t}}t=1e3}else t=1e3;t=Gn(this,b,t),ze(n=Ue(this.B),"RID",a),ze(n,"CVER",22),this.o&&this.j&&ze(n,"X-HTTP-Session-Id",this.j),Kn(this,n),this.g&&e&&Un(n,this.g,e),dd(this.b,b),this.W?(ze(n,"$req",t),ze(n,"SID","null"),b.S=!0,Se(b,n,null)):Se(b,n,t),this.u=2}}else 3==this.u&&(a?Hn(this,a):0==this.f.length||bn(this.b)||Hn(this))},g.Ha=function(){this.l=null,this.a=new ye(this,"rpc",this.S),null===this.g&&(this.a.h=this.i),this.a.J=0;var a=Ue(this.pa);ze(a,"RID","rpc"),ze(a,"SID",this.H),ze(a,"CI",this.ia?"0":"1"),ze(a,"AID",this.O),Kn(this,a),ze(a,"TYPE","xmlhttp"),this.g&&this.i&&Un(a,this.g,this.i),this.D&&this.a.setTimeout(this.D),Ee(this.a,a,!0,this.ga)},g.Ga=function(a,b){if(0!=this.u&&(this.a==a||_n(this.b,a)))if(this.m=a.o,!a.s&&_n(this.b,a)&&3==this.u){try{var t=this.ja.a.parse(b)}catch(e){t=null}if(q(t)&&3==t.length){if(0==(b=t)[0]){t:if(!this.l){if(this.a){if(!(this.a.v+3e3<a.v))break t;Jn(this),this.a.cancel(),this.a=null}Yn(this),ie(18)}}else this.ra=b[1],0<this.ra-this.O&&37500>b[2]&&this.ia&&0==this.v&&!this.s&&(this.s=se(u(this.Za,this),6e3));if(1>=wn(this.b)&&this.fa){try{this.fa()}catch(t){}this.fa=void 0}}else er(this,11)}else if((a.s||this.a==a)&&Jn(this),!N(b))for(b=t=this.ja.a.parse(b),t=0;t<b.length;t++){var e=b[t];if(this.O=e[0],e=e[1],2==this.u)if("c"==e[0]){this.H=e[1],this.ga=e[2];var n=e[3];null!=n&&(this.wa=n),null!=(e=e[5])&&d(e)&&0<e&&(this.D=1.5*e),this.o&&(e=a.a)&&((n=Fn(e,"X-Client-Wire-Protocol"))&&yn(this.b,n),this.j&&(e=Fn(e,"X-HTTP-Session-Id")))&&(this.I=e,ze(this.B,this.j,e)),this.u=3,this.c&&this.c.va(),e=a,this.pa=rr(this,this.Y()?this.ga:null,this.ha),e.s?(Sn(this.b,e),(n=this.D)&&e.setTimeout(n),e.i&&(Oe(e),Ce(e)),this.a=e):Qn(this),0<this.f.length&&zn(this)}else"stop"!=e[0]&&"close"!=e[0]||er(this,7);else 3==this.u&&("stop"==e[0]||"close"==e[0]?"stop"==e[0]?er(this,7):qn(this):"noop"!=e[0]&&this.c&&this.c.ua(e),this.v=0)}},g.Za=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,Yn(this),ie(19))},g.na=function(a){var b=null;if(this.a==a){Jn(this),this.a=null;var t=2}else{if(!_n(this.b,a))return;b=a.j,Sn(this.b,a),t=1}if(this.m=a.o,0!=this.u)if(a.b)1==t?(b=T()-a.v,ee.dispatchEvent(new ae(ee,a.l?a.l.length:0,b,this.A)),zn(this)):Qn(this);else{var e=a.c;if(3==e||0==e&&0<this.m||!(1==t&&function(a,b){return!(wn(a.b)>=a.b.f-(a.h?1:0)||(a.h?(a.f=b.j.concat(a.f),0):1==a.u||2==a.u||a.A>=(a.Pa?0:a.Qa)||(a.h=se(u(a.Ia,a,b),Zn(a,a.A)),a.A++,0)))}(this,a)||2==t&&Yn(this)))switch(b&&0<b.length&&(a=this.b,a.c=a.c.concat(b)),e){case 1:er(this,5);break;case 4:er(this,10);break;case 3:er(this,6);break;default:er(this,2)}}},g.fb=function(a){ie(a?2:1)},g.$=function(a){if(a&&!this.R)throw Error("Can't create secondary domain capable XhrIo object.");return(a=new On(this.La)).F=this.R,a},g.ma=function(){return!!this.c&&!0},g.Y=function(){return this.R},(g=or.prototype).va=function(){},g.ua=function(){},g.ta=function(){},g.sa=function(){},g.Ta=function(){},ir.prototype.a=function(a,b){return new ar(a,b)},k(ar,Nt),(g=ar.prototype).addEventListener=function(a,b,t,e){ar.N.addEventListener.call(this,a,b,t,e)},g.removeEventListener=function(a,b,t,e){ar.N.removeEventListener.call(this,a,b,t,e)},g.Wa=function(){this.a.c=this.f,this.l&&(this.a.R=!0);var a=this.a,b=this.m,t=this.g,e=this.b||void 0;ie(0),a.ha=t,a.V=e||{},a.o&&(a.F.b=[],a.F.a=!1),a.w=new cn(a),null===a.g&&(a.w.h=a.i),t=b,a.g&&a.i&&(t=Un(b,a.g,a.i)),(a=a.w).i=t,b=rr(a.a,null,a.i),ie(3),null!=(t=a.a.F.b)?(a.f=t[0],a.M=1,dn(a)):(He(b,"MODE","init"),!a.a.o&&a.a.j&&He(b,"X-HTTP-Session-Id",a.a.j),a.b=new ye(a,void 0,void 0),a.b.h=a.h,Ee(a.b,b,!1,null),a.M=0)},g.close=function(){qn(this.a)},g.Xa=function(a){if(c(a)){var b={};b.__data__=a,Wn(this.a,b)}else this.h?((b={}).__data__=Pt(a),Wn(this.a,b)):Wn(this.a,a)},g.G=function(){this.a.c=null,delete this.f,qn(this.a),delete this.a,ar.N.G.call(this)},k(sr,me),k(ur,ge),k(lr,or),lr.prototype.va=function(){this.a.dispatchEvent("a")},lr.prototype.ua=function(a){this.a.dispatchEvent(new sr(a))},lr.prototype.ta=function(a){this.a.dispatchEvent(new ur(a))},lr.prototype.sa=function(){this.a.dispatchEvent("b")};var cr=E(function(a,b){function t(){}t.prototype=a.prototype;var e=new t;return a.apply(e,Array.prototype.slice.call(arguments,1)),e},ir);ir.prototype.createWebChannel=ir.prototype.a,ar.prototype.send=ar.prototype.Xa,ar.prototype.open=ar.prototype.Wa,ar.prototype.close=ar.prototype.close,ue.NO_ERROR=0,ue.TIMEOUT=8,ue.HTTP_ERROR=6,le.COMPLETE="complete",he.EventType=pe,pe.OPEN="a",pe.CLOSE="b",pe.ERROR="c",pe.MESSAGE="d",Nt.prototype.listen=Nt.prototype.Aa,On.prototype.listenOnce=On.prototype.Ba,On.prototype.getLastError=On.prototype.Ya,On.prototype.getLastErrorCode=On.prototype.ya,On.prototype.getStatus=On.prototype.T,On.prototype.getStatusText=On.prototype.za,On.prototype.getResponseJson=On.prototype.Va,On.prototype.getResponseText=On.prototype.aa,On.prototype.send=On.prototype.ca;var dr={createWebChannelTransport:cr,ErrorCode:ue,EventType:le,WebChannel:he,XhrIo:On},fr=dr.createWebChannelTransport,pr=dr.ErrorCode,mr=dr.EventType,gr=dr.WebChannel,vr=dr.XhrIo;e.default=dr}.call(this,n(18))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=(r=n(1))&&"object"==typeof r&&"default"in r?r.default:r,l=n(0),c={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},d=function(t){function e(code,n,details){var r=t.call(this,n)||this;return Object.setPrototypeOf(r,e.prototype),r.code=code,r.details=details,r}return l.__extends(e,t),e}(Error);var h=function(){function t(t){this.app=t}return t.prototype.getAuthToken=function(){return l.__awaiter(this,void 0,void 0,function(){var t;return l.__generator(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.app.INTERNAL.getToken()];case 1:return(t=e.sent())?[2,t.accessToken]:[2,void 0];case 2:return e.sent(),[2,void 0];case 3:return[2]}})})},t.prototype.getInstanceIdToken=function(){return l.__awaiter(this,void 0,void 0,function(){var t;return l.__generator(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),this.app.messaging?[4,this.app.messaging().getToken()]:[2,void 0];case 1:return(t=e.sent())?[2,t]:[2,void 0];case 2:return e.sent(),[2,void 0];case 3:return[2]}})})},t.prototype.getContext=function(){return l.__awaiter(this,void 0,void 0,function(){var t,e;return l.__generator(this,function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}})})},t}();function f(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var m=function(){function t(){}return t.prototype.encode=function(data){var t=this;if(null==data)return null;if(data instanceof Number&&(data=data.valueOf()),"number"==typeof data&&isFinite(data))return data;if(!0===data||!1===data)return data;if("[object String]"===Object.prototype.toString.call(data))return data;if(Array.isArray(data))return data.map(function(e){return t.encode(e)});if("function"==typeof data||"object"==typeof data)return f(data,function(e){return t.encode(e)});throw new Error("Data cannot be encoded in JSON: "+data)},t.prototype.decode=function(t){var e=this;if(null===t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=parseFloat(t.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(function(t){return e.decode(t)}):"function"==typeof t||"object"==typeof t?f(t,function(t){return e.decode(t)}):t},t}();var v=function(){function t(t,e){var n=this;void 0===e&&(e="us-central1"),this.app_=t,this.region_=e,this.serializer=new m,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return n.deleteService()}},this.contextProvider=new h(t),this.cancelAllRequests=new Promise(function(t){n.deleteService=function(){return t()}})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),t.prototype._url=function(t){var e=this.app_.options.projectId,n=this.region_;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+e+"/"+n+"/"+t:"https://"+n+"-"+e+".cloudfunctions.net/"+t},t.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},t.prototype.httpsCallable=function(t,e){var n=this;return function(data){return n.call(t,data,e||{})}},t.prototype.postJSON=function(t,body,e){return l.__awaiter(this,void 0,void 0,function(){var n,r;return l.__generator(this,function(o){switch(o.label){case 0:e.append("Content-Type","application/json"),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,fetch(t,{method:"POST",body:JSON.stringify(body),headers:e})];case 2:return n=o.sent(),[3,4];case 3:return o.sent(),[2,{status:0,json:null}];case 4:r=null,o.label=5;case 5:return o.trys.push([5,7,,8]),[4,n.json()];case 6:return r=o.sent(),[3,8];case 7:return o.sent(),[3,8];case 8:return[2,{status:n.status,json:r}]}})})},t.prototype.call=function(t,data,e){return l.__awaiter(this,void 0,void 0,function(){var n,body,r,o,h,f,m,v;return l.__generator(this,function(l){switch(l.label){case 0:return n=this._url(t),data=this.serializer.encode(data),body={data:data},r=new Headers,[4,this.contextProvider.getContext()];case 1:return(o=l.sent()).authToken&&r.append("Authorization","Bearer "+o.authToken),o.instanceIdToken&&r.append("Firebase-Instance-ID-Token",o.instanceIdToken),h=e.timeout||7e4,[4,Promise.race([this.postJSON(n,body,r),(y=h,new Promise(function(t,e){setTimeout(function(){e(new d("deadline-exceeded","deadline-exceeded"))},y)})),this.cancelAllRequests])];case 2:if(!(f=l.sent()))throw new d("cancelled","Firebase Functions instance was deleted.");if(m=function(t,e,n){var code=function(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),r=code,details=void 0;try{var o=e.error;if(o){var l=o.status;if("string"==typeof l){if(!c[l])return new d("internal","internal");code=c[l]}r=l;var h=o.message;"string"==typeof h&&(r=h),void 0!==(details=o.details)&&(details=n.decode(details))}}catch(t){}return"ok"===code?null:new d(code,r,details)}(f.status,f.json,this.serializer))throw m;if(!f.json)throw new d("internal","Response is not valid JSON object.");if(void 0===(v=f.json.data)&&(v=f.json.result),void 0===v)throw new d("internal","Response is missing data field.");return[2,{data:this.serializer.decode(v)}]}var y})})},t}(),y="functions";function w(t,e,n){return new v(t,n)}function _(t){var e={Functions:v};t.INTERNAL.registerService(y,w,e,void 0,!0)}_(o),e.registerFunctions=_},function(t,e,n){"use strict";n.r(e),n.d(e,"isSupported",function(){return U}),n.d(e,"registerMessaging",function(){return F});var r,o,l,c=n(1),d=n.n(c),h=n(0),f=n(132),m=((r={})["only-available-in-window"]="This method is available in a Window context.",r["only-available-in-sw"]="This method is available in a service worker context.",r["should-be-overriden"]="This method should be overriden by extended classes.",r["bad-sender-id"]="Please ensure that 'messagingSenderId' is set correctly in the options passed into firebase.initializeApp().",r["permission-default"]="The required permissions were not granted and dismissed instead.",r["permission-blocked"]="The required permissions were not granted and blocked instead.",r["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",r["notifications-blocked"]="Notifications have been blocked.",r["failed-serviceworker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",r["sw-registration-expected"]="A service worker registration was the expected input.",r["get-subscription-failed"]="There was an error when trying to get any existing Push Subscriptions.",r["invalid-saved-token"]="Unable to access details of the saved token.",r["sw-reg-redundant"]="The service worker being used for push was made redundant.",r["token-subscribe-failed"]="A problem occured while subscribing the user to FCM: {$message}",r["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",r["token-subscribe-no-push-set"]="FCM returned an invalid response when getting an FCM token.",r["token-unsubscribe-failed"]="A problem occured while unsubscribing the user from FCM: {$message}",r["token-update-failed"]="A problem occured while updating the user from FCM: {$message}",r["token-update-no-token"]="FCM returned no token when updating the user to push.",r["use-sw-before-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",r["invalid-delete-token"]="You must pass a valid token into deleteToken(), i.e. the token from getToken().",r["delete-token-not-found"]="The deletion attempt for token could not be performed as the token was not found.",r["delete-scope-not-found"]="The deletion attempt for service worker scope could not be performed as the scope was not found.",r["bg-handler-function-expected"]="The input to setBackgroundMessageHandler() must be a function.",r["no-window-client-to-msg"]="An attempt was made to message a non-existant window client.",r["unable-to-resubscribe"]="There was an error while re-subscribing the FCM token for push messaging. Will have to resubscribe the user on next visit. {$message}",r["no-fcm-token-for-resubscribe"]="Could not find an FCM token and as a result, unable to resubscribe. Will have to resubscribe the user on next visit.",r["failed-to-delete-token"]="Unable to delete the currently saved token.",r["no-sw-in-reg"]="Even though the service worker registration was successful, there was a problem accessing the service worker itself.",r["incorrect-gcm-sender-id"]="Please change your web app manifest's 'gcm_sender_id' value to '103953800507' to use Firebase messaging.",r["bad-scope"]="The service worker scope must be a string with at least one character.",r["bad-vapid-key"]="The public VAPID key is not a Uint8Array with 65 bytes.",r["bad-subscription"]="The subscription must be a valid PushSubscription.",r["bad-token"]="The FCM Token used for storage / lookup was not a valid token string.",r["bad-push-set"]="The FCM push set used for storage / lookup was not not a valid push set string.",r["failed-delete-vapid-key"]="The VAPID key could not be deleted.",r["invalid-public-vapid-key"]="The public VAPID key must be a string.",r["use-public-key-before-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",r["public-vapid-key-decryption-failed"]="The public VAPID key did not equal 65 bytes when decrypted.",r),v=new f.ErrorFactory("messaging","Messaging",m),y=new Uint8Array([4,51,148,247,223,161,235,177,220,3,162,94,21,113,219,72,211,46,237,237,178,52,219,183,71,58,12,143,196,204,225,111,60,140,132,223,171,182,102,62,242,12,212,139,254,227,249,118,47,20,28,99,8,106,111,45,177,26,149,176,206,55,192,156,110]),w="https://fcm.googleapis.com";function _(a,b){if(null==a||null==b)return!1;if(a===b)return!0;if(a.byteLength!==b.byteLength)return!1;for(var t=new DataView(a),e=new DataView(b),i=0;i<a.byteLength;i++)if(t.getUint8(i)!==e.getUint8(i))return!1;return!0}function S(t){return function(t){var e=new Uint8Array(t);return btoa(String.fromCharCode.apply(String,Object(h.__spread)(e)))}(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}!function(t){t.TYPE_OF_MSG="firebase-messaging-msg-type",t.DATA="firebase-messaging-msg-data"}(o||(o={})),function(t){t.PUSH_MSG_RECEIVED="push-msg-received",t.NOTIFICATION_CLICKED="notification-clicked"}(l||(l={}));var E=function(){function t(){}return t.prototype.getToken=function(t,e,n){return Object(h.__awaiter)(this,void 0,void 0,function(){var r,o,l,c,d,f,m,E;return Object(h.__generator)(this,function(h){switch(h.label){case 0:r=S(e.getKey("p256dh")),o=S(e.getKey("auth")),l="authorized_entity="+t+"&endpoint="+e.endpoint+"&encryption_key="+r+"&encryption_auth="+o,_(n.buffer,y.buffer)||(c=S(n),l+="&application_pub_key="+c),(d=new Headers).append("Content-Type","application/x-www-form-urlencoded"),f={method:"POST",headers:d,body:l},h.label=1;case 1:return h.trys.push([1,4,,5]),[4,fetch(w+"/fcm/connect/subscribe",f)];case 2:return[4,h.sent().json()];case 3:return m=h.sent(),[3,5];case 4:throw h.sent(),v.create("token-subscribe-failed");case 5:if(m.error)throw E=m.error.message,v.create("token-subscribe-failed",{message:E});if(!m.token)throw v.create("token-subscribe-no-token");if(!m.pushSet)throw v.create("token-subscribe-no-push-set");return[2,{token:m.token,pushSet:m.pushSet}]}})})},t.prototype.updateToken=function(t,e,n,r,o){return Object(h.__awaiter)(this,void 0,void 0,function(){var l,c,d,f,m,E,T,k;return Object(h.__generator)(this,function(h){switch(h.label){case 0:l=S(r.getKey("p256dh")),c=S(r.getKey("auth")),d="push_set="+n+"&token="+e+"&authorized_entity="+t+"&endpoint="+r.endpoint+"&encryption_key="+l+"&encryption_auth="+c,_(o.buffer,y.buffer)||(f=S(o),d+="&application_pub_key="+f),(m=new Headers).append("Content-Type","application/x-www-form-urlencoded"),E={method:"POST",headers:m,body:d},h.label=1;case 1:return h.trys.push([1,4,,5]),[4,fetch(w+"/fcm/connect/subscribe",E)];case 2:return[4,h.sent().json()];case 3:return T=h.sent(),[3,5];case 4:throw h.sent(),v.create("token-update-failed");case 5:if(T.error)throw k=T.error.message,v.create("token-update-failed",{message:k});if(!T.token)throw v.create("token-update-no-token");return[2,T.token]}})})},t.prototype.deleteToken=function(t,e,n){return Object(h.__awaiter)(this,void 0,void 0,function(){var r,o,l,c,d;return Object(h.__generator)(this,function(h){switch(h.label){case 0:r="authorized_entity="+t+"&token="+e+"&pushSet="+n,(o=new Headers).append("Content-Type","application/x-www-form-urlencoded"),l={method:"POST",headers:o,body:r},h.label=1;case 1:return h.trys.push([1,4,,5]),[4,fetch(w+"/fcm/connect/unsubscribe",l)];case 2:return[4,h.sent().json()];case 3:if((c=h.sent()).error)throw d=c.error.message,v.create("token-unsubscribe-failed",{message:d});return[3,5];case 4:throw h.sent(),v.create("token-unsubscribe-failed");case 5:return[2]}})})},t}();function T(t){for(var e=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(e),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}var k="undefined",x="fcm_token_object_Store";function C(){var t=indexedDB.open(k);t.onerror=function(t){},t.onsuccess=function(e){!function(t){if(t.objectStoreNames.contains(x)){var e=t.transaction(x).objectStore(x),n=new E,r=e.openCursor();r.onerror=function(t){console.warn("Unable to cleanup old IDB.",t)},r.onsuccess=function(){var cursor=r.result;if(cursor){var e=cursor.value;n.deleteToken(e.fcmSenderId,e.fcmToken,e.fcmPushSet),cursor.continue()}else t.close(),indexedDB.deleteDatabase(k)}}}(t.result)}}var I=function(){function t(){this.dbPromise=null}return t.prototype.get=function(t){return this.createTransaction(function(e){return e.get(t)})},t.prototype.getIndex=function(t,e){return this.createTransaction(function(n){return n.index(t).get(e)})},t.prototype.put=function(t){return this.createTransaction(function(e){return e.put(t)},"readwrite")},t.prototype.delete=function(t){return this.createTransaction(function(e){return e.delete(t)},"readwrite")},t.prototype.closeDatabase=function(){return Object(h.__awaiter)(this,void 0,void 0,function(){return Object(h.__generator)(this,function(t){switch(t.label){case 0:return this.dbPromise?[4,this.dbPromise]:[3,2];case 1:t.sent().close(),this.dbPromise=null,t.label=2;case 2:return[2]}})})},t.prototype.createTransaction=function(t,e){return void 0===e&&(e="readonly"),Object(h.__awaiter)(this,void 0,void 0,function(){var n,r,o,l;return Object(h.__generator)(this,function(c){switch(c.label){case 0:return[4,this.getDb()];case 1:return n=c.sent(),r=n.transaction(this.objectStoreName,e),o=r.objectStore(this.objectStoreName),[4,O(t(o))];case 2:return l=c.sent(),[2,new Promise(function(t,e){r.oncomplete=function(){t(l)},r.onerror=function(){e(r.error)}})]}})})},t.prototype.getDb=function(){var t=this;return this.dbPromise||(this.dbPromise=new Promise(function(e,n){var r=indexedDB.open(t.dbName,t.dbVersion);r.onsuccess=function(){e(r.result)},r.onerror=function(){t.dbPromise=null,n(r.error)},r.onupgradeneeded=function(e){return t.onDbUpgrade(r,e)}})),this.dbPromise},t}();function O(t){return new Promise(function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}})}var A=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dbName="fcm_token_details_db",e.dbVersion=3,e.objectStoreName="fcm_token_object_Store",e}return Object(h.__extends)(e,t),e.prototype.onDbUpgrade=function(t,e){var n=t.result;switch(e.oldVersion){case 0:(r=n.createObjectStore(this.objectStoreName,{keyPath:"swScope"})).createIndex("fcmSenderId","fcmSenderId",{unique:!1}),r.createIndex("fcmToken","fcmToken",{unique:!0});case 1:C();case 2:var r,o=(r=t.transaction.objectStore(this.objectStoreName)).openCursor();o.onsuccess=function(){var cursor=o.result;if(cursor){var t=cursor.value,e=Object(h.__assign)({},t);t.createTime||(e.createTime=Date.now()),"string"==typeof t.vapidKey&&(e.vapidKey=T(t.vapidKey)),"string"==typeof t.auth&&(e.auth=T(t.auth).buffer),"string"==typeof t.auth&&(e.p256dh=T(t.p256dh).buffer),cursor.update(e),cursor.continue()}}}},e.prototype.getTokenDetailsFromToken=function(t){return Object(h.__awaiter)(this,void 0,void 0,function(){return Object(h.__generator)(this,function(e){if(!t)throw v.create("bad-token");return N({fcmToken:t}),[2,this.getIndex("fcmToken",t)]})})},e.prototype.getTokenDetailsFromSWScope=function(t){return Object(h.__awaiter)(this,void 0,void 0,function(){return Object(h.__generator)(this,function(e){if(!t)throw v.create("bad-scope");return N({swScope:t}),[2,this.get(t)]})})},e.prototype.saveTokenDetails=function(t){return Object(h.__awaiter)(this,void 0,void 0,function(){return Object(h.__generator)(this,function(e){if(!t.swScope)throw v.create("bad-scope");if(!t.vapidKey)throw v.create("bad-vapid-key");if(!t.endpoint||!t.auth||!t.p256dh)throw v.create("bad-subscription");if(!t.fcmSenderId)throw v.create("bad-sender-id");if(!t.fcmToken)throw v.create("bad-token");if(!t.fcmPushSet)throw v.create("bad-push-set");return N(t),[2,this.put(t)]})})},e.prototype.deleteToken=function(t){return Object(h.__awaiter)(this,void 0,void 0,function(){var details;return Object(h.__generator)(this,function(e){switch(e.label){case 0:return"string"!=typeof t||0===t.length?[2,Promise.reject(v.create("invalid-delete-token"))]:[4,this.getTokenDetailsFromToken(t)];case 1:if(!(details=e.sent()))throw v.create("delete-token-not-found");return[4,this.delete(details.swScope)];case 2:return e.sent(),[2,details]}})})},e}(I);function N(input){if(input.fcmToken&&("string"!=typeof input.fcmToken||0===input.fcmToken.length))throw v.create("bad-token");if(input.swScope&&("string"!=typeof input.swScope||0===input.swScope.length))throw v.create("bad-scope");if(input.vapidKey&&(!(input.vapidKey instanceof Uint8Array)||65!==input.vapidKey.length))throw v.create("bad-vapid-key");if(input.endpoint&&("string"!=typeof input.endpoint||0===input.endpoint.length))throw v.create("bad-subscription");if(input.auth&&!(input.auth instanceof ArrayBuffer))throw v.create("bad-subscription");if(input.p256dh&&!(input.p256dh instanceof ArrayBuffer))throw v.create("bad-subscription");if(input.fcmSenderId&&("string"!=typeof input.fcmSenderId||0===input.fcmSenderId.length))throw v.create("bad-sender-id");if(input.fcmPushSet&&("string"!=typeof input.fcmPushSet||0===input.fcmPushSet.length))throw v.create("bad-push-set")}var D=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dbName="fcm_vapid_details_db",e.dbVersion=1,e.objectStoreName="fcm_vapid_object_Store",e}return Object(h.__extends)(e,t),e.prototype.onDbUpgrade=function(t){t.result.createObjectStore(this.objectStoreName,{keyPath:"swScope"})},e.prototype.getVapidFromSWScope=function(t){return Object(h.__awaiter)(this,void 0,void 0,function(){var e;return Object(h.__generator)(this,function(n){switch(n.label){case 0:if("string"!=typeof t||0===t.length)throw v.create("bad-scope");return[4,this.get(t)];case 1:return[2,(e=n.sent())?e.vapidKey:void 0]}})})},e.prototype.saveVapidDetails=function(t,e){return Object(h.__awaiter)(this,void 0,void 0,function(){var details;return Object(h.__generator)(this,function(n){if("string"!=typeof t||0===t.length)throw v.create("bad-scope");if(null===e||65!==e.length)throw v.create("bad-vapid-key");return details={swScope:t,vapidKey:e},[2,this.put(details)]})})},e.prototype.deleteVapidDetails=function(t){return Object(h.__awaiter)(this,void 0,void 0,function(){var e;return Object(h.__generator)(this,function(n){switch(n.label){case 0:return[4,this.getVapidFromSWScope(t)];case 1:if(!(e=n.sent()))throw v.create("delete-scope-not-found");return[4,this.delete(t)];case 2:return n.sent(),[2,e]}})})},e}(I),P="messagingSenderId",R=function(){function t(t){var e=this;if(!t.options[P]||"string"!=typeof t.options[P])throw v.create("bad-sender-id");this.messagingSenderId=t.options[P],this.tokenDetailsModel=new A,this.vapidDetailsModel=new D,this.iidModel=new E,this.app=t,this.INTERNAL={delete:function(){return e.delete()}}}return t.prototype.getToken=function(){return Object(h.__awaiter)(this,void 0,void 0,function(){var t,e,n,r,o;return Object(h.__generator)(this,function(l){switch(l.label){case 0:if("denied"===(t=this.getNotificationPermission_()))throw v.create("notifications-blocked");return"granted"!==t?[2,null]:[4,this.getSWRegistration_()];case 1:return e=l.sent(),[4,this.getPublicVapidKey_()];case 2:return n=l.sent(),[4,this.getPushSubscription(e,n)];case 3:return r=l.sent(),[4,this.tokenDetailsModel.getTokenDetailsFromSWScope(e.scope)];case 4:return(o=l.sent())?[2,this.manageExistingToken(e,r,n,o)]:[2,this.getNewToken(e,r,n)]}})})},t.prototype.manageExistingToken=function(t,e,n,r){return Object(h.__awaiter)(this,void 0,void 0,function(){return Object(h.__generator)(this,function(o){switch(o.label){case 0:return function(t,e,n){if(!n.vapidKey||!_(e.buffer,n.vapidKey.buffer))return!1;var r=t.endpoint===n.endpoint,o=_(t.getKey("auth"),n.auth),l=_(t.getKey("p256dh"),n.p256dh);return r&&o&&l}(e,n,r)?Date.now()<r.createTime+6048e5?[2,r.fcmToken]:[2,this.updateToken(t,e,n,r)]:[4,this.deleteTokenFromDB(r.fcmToken)];case 1:return o.sent(),[2,this.getNewToken(t,e,n)]}})})},t.prototype.updateToken=function(t,e,n,r){return Object(h.__awaiter)(this,void 0,void 0,function(){var o,l,c;return Object(h.__generator)(this,function(d){switch(d.label){case 0:return d.trys.push([0,4,,6]),[4,this.iidModel.updateToken(this.messagingSenderId,r.fcmToken,r.fcmPushSet,e,n)];case 1:return o=d.sent(),l={swScope:t.scope,vapidKey:n,fcmSenderId:this.messagingSenderId,fcmToken:o,fcmPushSet:r.fcmPushSet,createTime:Date.now(),endpoint:e.endpoint,auth:e.getKey("auth"),p256dh:e.getKey("p256dh")},[4,this.tokenDetailsModel.saveTokenDetails(l)];case 2:return d.sent(),[4,this.vapidDetailsModel.saveVapidDetails(t.scope,n)];case 3:return d.sent(),[2,o];case 4:return c=d.sent(),[4,this.deleteToken(r.fcmToken)];case 5:throw d.sent(),c;case 6:return[2]}})})},t.prototype.getNewToken=function(t,e,n){return Object(h.__awaiter)(this,void 0,void 0,function(){var r,o;return Object(h.__generator)(this,function(l){switch(l.label){case 0:return[4,this.iidModel.getToken(this.messagingSenderId,e,n)];case 1:return r=l.sent(),o={swScope:t.scope,vapidKey:n,fcmSenderId:this.messagingSenderId,fcmToken:r.token,fcmPushSet:r.pushSet,createTime:Date.now(),endpoint:e.endpoint,auth:e.getKey("auth"),p256dh:e.getKey("p256dh")},[4,this.tokenDetailsModel.saveTokenDetails(o)];case 2:return l.sent(),[4,this.vapidDetailsModel.saveVapidDetails(t.scope,n)];case 3:return l.sent(),[2,r.token]}})})},t.prototype.deleteToken=function(t){return Object(h.__awaiter)(this,void 0,void 0,function(){var e,n;return Object(h.__generator)(this,function(r){switch(r.label){case 0:return[4,this.deleteTokenFromDB(t)];case 1:return r.sent(),[4,this.getSWRegistration_()];case 2:return(e=r.sent())?[4,e.pushManager.getSubscription()]:[3,4];case 3:if(n=r.sent())return[2,n.unsubscribe()];r.label=4;case 4:return[2,!0]}})})},t.prototype.deleteTokenFromDB=function(t){return Object(h.__awaiter)(this,void 0,void 0,function(){var details;return Object(h.__generator)(this,function(e){switch(e.label){case 0:return[4,this.tokenDetailsModel.deleteToken(t)];case 1:return details=e.sent(),[4,this.iidModel.deleteToken(details.fcmSenderId,details.fcmToken,details.fcmPushSet)];case 2:return e.sent(),[2]}})})},t.prototype.getPushSubscription=function(t,e){return t.pushManager.getSubscription().then(function(n){return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:e})})},t.prototype.requestPermission=function(){throw v.create("only-available-in-window")},t.prototype.useServiceWorker=function(t){throw v.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(t){throw v.create("only-available-in-window")},t.prototype.onMessage=function(t,e,n){throw v.create("only-available-in-window")},t.prototype.onTokenRefresh=function(t,e,n){throw v.create("only-available-in-window")},t.prototype.setBackgroundMessageHandler=function(t){throw v.create("only-available-in-sw")},t.prototype.delete=function(){return Object(h.__awaiter)(this,void 0,void 0,function(){return Object(h.__generator)(this,function(t){switch(t.label){case 0:return[4,Promise.all([this.tokenDetailsModel.closeDatabase(),this.vapidDetailsModel.closeDatabase()])];case 1:return t.sent(),[2]}})})},t.prototype.getNotificationPermission_=function(){return Notification.permission},t.prototype.getTokenDetailsModel=function(){return this.tokenDetailsModel},t.prototype.getVapidDetailsModel=function(){return this.vapidDetailsModel},t.prototype.getIidModel=function(){return this.iidModel},t}();var M=function(t){function e(e){var n=t.call(this,e)||this;return n.bgMessageHandler=null,self.addEventListener("push",function(t){n.onPush(t)}),self.addEventListener("pushsubscriptionchange",function(t){n.onSubChange(t)}),self.addEventListener("notificationclick",function(t){n.onNotificationClick(t)}),n}return Object(h.__extends)(e,t),e.prototype.onPush=function(t){t.waitUntil(this.onPush_(t))},e.prototype.onSubChange=function(t){t.waitUntil(this.onSubChange_(t))},e.prototype.onNotificationClick=function(t){t.waitUntil(this.onNotificationClick_(t))},e.prototype.onPush_=function(t){return Object(h.__awaiter)(this,void 0,void 0,function(){var e,n,r,o,l,c;return Object(h.__generator)(this,function(d){switch(d.label){case 0:if(!t.data)return[2];try{e=t.data.json()}catch(t){return[2]}return[4,this.hasVisibleClients_()];case 1:return d.sent()?[2,this.sendMessageToWindowClients_(e)]:(n=this.getNotificationData_(e))?(r=n.title||"",[4,this.getSWRegistration_()]):[3,3];case 2:return o=d.sent(),l=n.actions,c=Notification.maxActions,l&&c&&l.length>c&&console.warn("This browser only supports "+c+" actions.The remaining actions will not be displayed."),[2,o.showNotification(r,n)];case 3:return this.bgMessageHandler?[4,this.bgMessageHandler(e)]:[3,5];case 4:return d.sent(),[2];case 5:return[2]}})})},e.prototype.onSubChange_=function(t){return Object(h.__awaiter)(this,void 0,void 0,function(){var t,e,n,r;return Object(h.__generator)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.getSWRegistration_()];case 1:return t=o.sent(),[3,3];case 2:throw e=o.sent(),v.create("unable-to-resubscribe",{message:e});case 3:return o.trys.push([3,5,,8]),[4,t.pushManager.getSubscription()];case 4:return o.sent(),[3,8];case 5:return n=o.sent(),[4,this.getTokenDetailsModel().getTokenDetailsFromSWScope(t.scope)];case 6:if(!(r=o.sent()))throw n;return[4,this.deleteToken(r.fcmToken)];case 7:throw o.sent(),n;case 8:return[2]}})})},e.prototype.onNotificationClick_=function(t){return Object(h.__awaiter)(this,void 0,void 0,function(){var e,link,n,r;return Object(h.__generator)(this,function(o){switch(o.label){case 0:return t.notification&&t.notification.data&&t.notification.data.FCM_MSG?t.action?[2]:(t.stopImmediatePropagation(),t.notification.close(),(e=t.notification.data.FCM_MSG).notification&&(link=e.fcmOptions&&e.fcmOptions.link||e.notification.click_action)?[4,this.getWindowClient_(link)]:[2]):[2];case 1:return(n=o.sent())?[3,3]:[4,self.clients.openWindow(link)];case 2:return n=o.sent(),[3,5];case 3:return[4,n.focus()];case 4:n=o.sent(),o.label=5;case 5:return n?(delete e.notification,delete e.fcmOptions,r=j(l.NOTIFICATION_CLICKED,e),[2,this.attemptToMessageClient_(n,r)]):[2]}})})},e.prototype.getNotificationData_=function(t){var e;if(t&&"object"==typeof t.notification){var n=Object(h.__assign)({},t.notification);return n.data=Object(h.__assign)({},t.notification.data,((e={}).FCM_MSG=t,e)),n}},e.prototype.setBackgroundMessageHandler=function(t){if(!t||"function"!=typeof t)throw v.create("bg-handler-function-expected");this.bgMessageHandler=t},e.prototype.getWindowClient_=function(t){return Object(h.__awaiter)(this,void 0,void 0,function(){var e,n,r,i;return Object(h.__generator)(this,function(o){switch(o.label){case 0:return e=new URL(t,self.location.href).href,[4,L()];case 1:for(n=o.sent(),r=null,i=0;i<n.length;i++)if(new URL(n[i].url,self.location.href).href===e){r=n[i];break}return[2,r]}})})},e.prototype.attemptToMessageClient_=function(t,e){return Object(h.__awaiter)(this,void 0,void 0,function(){return Object(h.__generator)(this,function(n){if(!t)throw v.create("no-window-client-to-msg");return t.postMessage(e),[2]})})},e.prototype.hasVisibleClients_=function(){return Object(h.__awaiter)(this,void 0,void 0,function(){return Object(h.__generator)(this,function(t){switch(t.label){case 0:return[4,L()];case 1:return[2,t.sent().some(function(t){return"visible"===t.visibilityState&&!t.url.startsWith("chrome-extension://")})]}})})},e.prototype.sendMessageToWindowClients_=function(t){return Object(h.__awaiter)(this,void 0,void 0,function(){var e,n,r=this;return Object(h.__generator)(this,function(o){switch(o.label){case 0:return[4,L()];case 1:return e=o.sent(),n=j(l.PUSH_MSG_RECEIVED,t),[4,Promise.all(e.map(function(t){return r.attemptToMessageClient_(t,n)}))];case 2:return o.sent(),[2]}})})},e.prototype.getSWRegistration_=function(){return Object(h.__awaiter)(this,void 0,void 0,function(){return Object(h.__generator)(this,function(t){return[2,self.registration]})})},e.prototype.getPublicVapidKey_=function(){return Object(h.__awaiter)(this,void 0,void 0,function(){var t,e;return Object(h.__generator)(this,function(n){switch(n.label){case 0:return[4,this.getSWRegistration_()];case 1:if(!(t=n.sent()))throw v.create("sw-registration-expected");return[4,this.getVapidDetailsModel().getVapidFromSWScope(t.scope)];case 2:return null==(e=n.sent())?[2,y]:[2,e]}})})},e}(R);function L(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function j(t,e){var n;return(n={})[o.TYPE_OF_MSG]=t,n[o.DATA]=e,n}var B=function(t){function e(e){var n=t.call(this,e)||this;return n.registrationToUse=null,n.publicVapidKeyToUse=null,n.manifestCheckPromise=null,n.messageObserver=null,n.tokenRefreshObserver=null,n.onMessageInternal=Object(f.createSubscribe)(function(t){n.messageObserver=t}),n.onTokenRefreshInternal=Object(f.createSubscribe)(function(t){n.tokenRefreshObserver=t}),n.setupSWMessageListener_(),n}return Object(h.__extends)(e,t),e.prototype.getToken=function(){return Object(h.__awaiter)(this,void 0,void 0,function(){return Object(h.__generator)(this,function(e){switch(e.label){case 0:return this.manifestCheckPromise||(this.manifestCheckPromise=function(){return Object(h.__awaiter)(this,void 0,void 0,function(){var t,e;return Object(h.__generator)(this,function(n){switch(n.label){case 0:if(!(t=document.querySelector('link[rel="manifest"]')))return[2];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,fetch(t.href)];case 2:return[4,n.sent().json()];case 3:return e=n.sent(),[3,5];case 4:return n.sent(),[2];case 5:if(!e||!e.gcm_sender_id)return[2];if("103953800507"!==e.gcm_sender_id)throw v.create("incorrect-gcm-sender-id");return[2]}})})}()),[4,this.manifestCheckPromise];case 1:return e.sent(),[2,t.prototype.getToken.call(this)]}})})},e.prototype.requestPermission=function(){return Object(h.__awaiter)(this,void 0,void 0,function(){var t;return Object(h.__generator)(this,function(e){switch(e.label){case 0:return"granted"===this.getNotificationPermission_()?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(t=e.sent()))return[2];throw"denied"===t?v.create("permission-blocked"):v.create("permission-default")}})})},e.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw v.create("sw-registration-expected");if(null!=this.registrationToUse)throw v.create("use-sw-before-get-token");this.registrationToUse=t},e.prototype.usePublicVapidKey=function(t){if("string"!=typeof t)throw v.create("invalid-public-vapid-key");if(null!=this.publicVapidKeyToUse)throw v.create("use-public-key-before-get-token");var e=T(t);if(65!==e.length)throw v.create("public-vapid-key-decryption-failed");this.publicVapidKeyToUse=e},e.prototype.onMessage=function(t,e,n){return"function"==typeof t?this.onMessageInternal(t,e,n):this.onMessageInternal(t)},e.prototype.onTokenRefresh=function(t,e,n){return"function"==typeof t?this.onTokenRefreshInternal(t,e,n):this.onTokenRefreshInternal(t)},e.prototype.waitForRegistrationToActivate_=function(t){var e=t.installing||t.waiting||t.active;return new Promise(function(n,r){if(e)if("activated"!==e.state)if("redundant"!==e.state){var o=function(){if("activated"===e.state)n(t);else{if("redundant"!==e.state)return;r(v.create("sw-reg-redundant"))}e.removeEventListener("statechange",o)};e.addEventListener("statechange",o)}else r(v.create("sw-reg-redundant"));else n(t);else r(v.create("no-sw-in-reg"))})},e.prototype.getSWRegistration_=function(){var t=this;return this.registrationToUse?this.waitForRegistrationToActivate_(this.registrationToUse):(this.registrationToUse=null,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"}).catch(function(t){throw v.create("failed-serviceworker-registration",{browserErrorMessage:t.message})}).then(function(e){return t.waitForRegistrationToActivate_(e).then(function(){return t.registrationToUse=e,e.update(),e})}))},e.prototype.getPublicVapidKey_=function(){return Object(h.__awaiter)(this,void 0,void 0,function(){return Object(h.__generator)(this,function(t){return this.publicVapidKeyToUse?[2,this.publicVapidKeyToUse]:[2,y]})})},e.prototype.setupSWMessageListener_=function(){var t=this;navigator.serviceWorker.addEventListener("message",function(e){if(e.data&&e.data[o.TYPE_OF_MSG]){var n=e.data;switch(n[o.TYPE_OF_MSG]){case l.PUSH_MSG_RECEIVED:case l.NOTIFICATION_CLICKED:var r=n[o.DATA];t.messageObserver&&t.messageObserver.next(r)}}},!1)},e}(R);function F(t){var e={isSupported:U};t.INTERNAL.registerService("messaging",function(t){if(!U())throw v.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new M(t):new B(t)},e)}function U(){return self&&"ServiceWorkerGlobalScope"in self?"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}F(d.a)},function(t,e,n){"use strict";n.r(e),n.d(e,"registerStorage",function(){return Jt});var r=n(1),o=n.n(r),l="firebasestorage.googleapis.com",c=12e4,d=6e4,h=-9007199254740991,f=function(){function t(code,t){this.code_=v(code),this.message_="Firebase Storage: "+t,this.serverResponse_=null,this.name_="FirebaseError"}return t.prototype.codeProp=function(){return this.code},t.prototype.codeEquals=function(code){return v(code)===this.codeProp()},t.prototype.serverResponseProp=function(){return this.serverResponse_},t.prototype.setServerResponseProp=function(t){this.serverResponse_=t},Object.defineProperty(t.prototype,"name",{get:function(){return this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"code",{get:function(){return this.code_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this.message_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!0,configurable:!0}),t}(),m={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error"};function v(code){return"storage/"+code}function y(){return new f(m.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function w(){return new f(m.CANCELED,"User canceled the upload/download.")}function _(){return new f(m.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function S(t,e,n){return new f(m.INVALID_ARGUMENT,"Invalid argument in `"+e+"` at index "+t+": "+n)}function E(){return new f(m.APP_DELETED,"The Firebase app was deleted.")}function T(t,e){return new f(m.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function k(t){throw new f(m.INTERNAL_ERROR,"Internal error: "+t)}var x={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function C(t){switch(t){case x.RAW:case x.BASE64:case x.BASE64URL:case x.DATA_URL:return;default:throw"Expected one of the event types: ["+x.RAW+", "+x.BASE64+", "+x.BASE64URL+", "+x.DATA_URL+"]."}}var I=function(){return function(data,t){this.data=data,this.contentType=t||null}}();function O(t,e){switch(t){case x.RAW:return new I(A(e));case x.BASE64:case x.BASE64URL:return new I(N(t,e));case x.DATA_URL:return new I(function(t){var e=new D(t);return e.base64?N(x.BASE64,e.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(t){throw T(x.DATA_URL,"Malformed data URL.")}return A(e)}(e.rest)}(e),function(t){return new D(t).contentType}(e))}throw y()}function A(t){for(var b=[],i=0;i<t.length;i++){var e=t.charCodeAt(i);if(e<=127)b.push(e);else if(e<=2047)b.push(192|e>>6,128|63&e);else if(55296==(64512&e))if(i<t.length-1&&56320==(64512&t.charCodeAt(i+1)))e=65536|(1023&e)<<10|1023&t.charCodeAt(++i),b.push(240|e>>18,128|e>>12&63,128|e>>6&63,128|63&e);else b.push(239,191,189);else 56320==(64512&e)?b.push(239,191,189):b.push(224|e>>12,128|e>>6&63,128|63&e)}return new Uint8Array(b)}function N(t,e){switch(t){case x.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw T(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case x.BASE64URL:var o=-1!==e.indexOf("+"),l=-1!==e.indexOf("/");if(o||l)throw T(t,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var c;try{c=atob(e)}catch(e){throw T(t,"Invalid character found")}for(var d=new Uint8Array(c.length),i=0;i<c.length;i++)d[i]=c.charCodeAt(i);return d}var D=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw T(x.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=e[1]||null;null!=n&&(this.base64=(s=n,r=";base64",s.length>=r.length&&s.substring(s.length-r.length)===r),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=t.substring(t.indexOf(",")+1);var s,r}}();var P,R={STATE_CHANGED:"state_changed"},M={RUNNING:"running",PAUSING:"pausing",PAUSED:"paused",SUCCESS:"success",CANCELING:"canceling",CANCELED:"canceled",ERROR:"error"},L={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function j(t){switch(t){case M.RUNNING:case M.PAUSING:case M.CANCELING:return L.RUNNING;case M.PAUSED:return L.PAUSED;case M.SUCCESS:return L.SUCCESS;case M.CANCELED:return L.CANCELED;case M.ERROR:default:return L.ERROR}}function B(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function F(t,e){for(var n in t)B(t,n)&&e(n,t[n])}function U(t){if(null==t)return{};var e={};return F(t,function(t,n){e[t]=n}),e}function V(t){return new Promise(t)}function $(t){return Promise.resolve(t)}function W(p){return null!=p}function z(p){return void 0!==p}function H(p){return"function"==typeof p}function K(p){return"object"==typeof p}function G(p){return K(p)&&null!==p}function Q(p){return"string"==typeof p||p instanceof String}function Y(p){return X()&&p instanceof Blob}function X(){return"undefined"!=typeof Blob}!function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"}(P||(P={}));var J=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=P.NO_ERROR,this.sendPromise_=V(function(e,n){t.xhr_.addEventListener("abort",function(n){t.errorCode_=P.ABORT,e(t)}),t.xhr_.addEventListener("error",function(n){t.errorCode_=P.NETWORK_ERROR,e(t)}),t.xhr_.addEventListener("load",function(n){e(t)})})}return t.prototype.send=function(t,e,n,r){var o=this;if(this.sent_)throw k("cannot .send() more than once");(this.sent_=!0,this.xhr_.open(e,t,!0),W(r))&&F(r,function(t,e){o.xhr_.setRequestHeader(t,e.toString())});return W(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw k("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw k("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw k("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(header){return this.xhr_.getResponseHeader(header)},t.prototype.addUploadProgressListener=function(t){W(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){W(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",t)},t}(),Z=function(){function t(){}return t.prototype.createXhrIo=function(){return new J},t}();function tt(s){var t,p;try{t=JSON.parse(s)}catch(t){return null}return K(p=t)&&!Array.isArray(p)?t:null}var et=function(){function t(t,path){this.bucket=t,this.path_=path}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!0,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n,r;try{n=t.makeFromUrl(e)}catch(n){return new t(e,"")}if(""===n.path)return n;throw r=e,new f(m.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")},t.makeFromUrl=function(e){var n=null;var r=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");for(var o=l.replace(/[.]/g,"\\."),c=[{regex:r,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+o+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:function(t){t.path_=decodeURIComponent(t.path)}}],i=0;i<c.length;i++){var d=c[i],h=d.regex.exec(e);if(h){var v=h[d.indices.bucket],y=h[d.indices.path];y||(y=""),n=new t(v,y),d.postModify(n);break}}if(null==n)throw function(t){return new f(m.INVALID_URL,"Invalid URL '"+t+"'.")}(e);return n},t}();function nt(path){var t=path.lastIndexOf("/",path.length-2);return-1===t?path:path.slice(t+1)}function ot(t){return"https://"+l+"/v0"+t}function it(t){var e=encodeURIComponent,n="?";return F(t,function(t,r){var o=e(t)+"="+e(r);n=n+o+"&"}),n=n.slice(0,-1)}function at(t,e){return e}var st=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||at}}(),ut=null;function lt(){if(ut)return ut;var t=[];t.push(new st("bucket")),t.push(new st("generation")),t.push(new st("metageneration")),t.push(new st("name","fullPath",!0));var e=new st("name");e.xform=function(t,e){return function(t){return!Q(t)||t.length<2?t:nt(t=t)}(e)},t.push(e);var n=new st("size");return n.xform=function(t,e){return W(e)?+e:e},t.push(n),t.push(new st("timeCreated")),t.push(new st("updated")),t.push(new st("md5Hash",null,!0)),t.push(new st("cacheControl",null,!0)),t.push(new st("contentDisposition",null,!0)),t.push(new st("contentEncoding",null,!0)),t.push(new st("contentLanguage",null,!0)),t.push(new st("contentType",null,!0)),t.push(new st("metadata","customMetadata",!0)),ut=t}function ct(t,e,n){for(var r={type:"file"},o=n.length,i=0;i<o;i++){var l=n[i];r[l.local]=l.xform(r,e[l.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=t.bucket,path=t.fullPath,r=new et(n,path);return e.makeStorageReference(r)}})}(r,t),r}function ht(t,e,n){var r=tt(e);return null===r?null:ct(t,r,n)}function ft(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}function pt(p){if(!(p&&K(p)))throw"Expected Metadata object.";for(var t in p){var e=p[t];if("customMetadata"===t){if(!K(e))throw"Expected object for 'customMetadata' mapping."}else if(G(e))throw"Mapping for '"+t+"' cannot be an object."}}function mt(t,e,n){for(var r=e.length,o=e.length,i=0;i<e.length;i++)if(e[i].optional){r=i;break}var l,c,d,h,v,y;if(!(r<=n.length&&n.length<=o))throw l=r,c=o,d=t,h=n.length,l===c?(v=l,y=1===l?"argument":"arguments"):(v="between "+l+" and "+c,y="arguments"),new f(m.INVALID_ARGUMENT_COUNT,"Invalid argument count in `"+d+"`: Expected "+v+" "+y+", received "+h+".");for(i=0;i<n.length;i++)try{e[i].validator(n[i])}catch(e){throw e instanceof Error?S(i,t,e.message):S(i,t,e)}}var gt=function(){return function(t,e){var n=this;this.validator=function(p){n.optional&&!z(p)||t(p)},this.optional=!!e}}();function vt(t,e){function n(p){if(!Q(p))throw"Expected string."}var r,o,l;return t?(o=n,l=t,r=function(p){o(p),l(p)}):r=n,new gt(r,e)}function yt(){return new gt(function(p){if(!(p instanceof Uint8Array||p instanceof ArrayBuffer||X()&&p instanceof Blob))throw"Expected Blob or File."})}function bt(t){return new gt(pt,t)}function wt(){return new gt(function(p){if(!(function(p){return"number"==typeof p||p instanceof Number}(p)&&p>=0))throw"Expected a number 0 or greater."})}function _t(t,e){return new gt(function(p){if(!(null===p||W(p)&&p instanceof Object))throw"Expected an Object.";null!=t&&t(p)},e)}function St(t){return new gt(function(p){if(null!==p&&!H(p))throw"Expected a Function."},t)}function Et(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}var Tt=function(){function t(data,t){var e=0,n="";Y(data)?(this.data_=data,e=data.size,n=data.type):data instanceof ArrayBuffer?(t?this.data_=new Uint8Array(data):(this.data_=new Uint8Array(data.byteLength),this.data_.set(new Uint8Array(data))),e=this.data_.length):data instanceof Uint8Array&&(t?this.data_=data:(this.data_=new Uint8Array(data.length),this.data_.set(data)),e=data.length),this.size_=e,this.type_=n}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(Y(this.data_)){var r=this.data_,o=(c=e,d=n,(l=r).webkitSlice?l.webkitSlice(c,d):l.mozSlice?l.mozSlice(c,d):l.slice?l.slice(c,d):null);return null===o?null:new t(o)}var l,c,d;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(X()){var r=e.map(function(e){return e instanceof t?e.data_:e});return new t(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Et();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(X())return new Blob(t);throw Error("This browser doesn't seem to support creating Blobs")}.apply(null,r))}var o=e.map(function(t){return Q(t)?O(x.RAW,t).data:t.data_}),l=0;o.forEach(function(t){l+=t.byteLength});var c=new Uint8Array(l),d=0;return o.forEach(function(t){for(var i=0;i<t.length;i++)c[d++]=t[i]}),new t(c,!0)},t.prototype.uploadData=function(){return this.data_},t}();function kt(t,e){return-1!==t.indexOf(e)}var xt=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function Ct(t){if(!t)throw y()}function It(t,e){return function(n,text){var r=ht(t,text,e);return Ct(null!==r),r}}function Ot(t,e){return function(n,text){var r=ht(t,text,e);return Ct(null!==r),function(t,e){var n=tt(e);if(null===n)return null;if(!Q(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var o=encodeURIComponent;return r.split(",").map(function(e){var n=t.bucket,path=t.fullPath;return ot("/b/"+o(n)+"/o/"+o(path))+it({alt:"media",token:e})})[0]}(r,text)}}function At(t){return function(e,n){var r,path,o;return 401===e.getStatus()?r=new f(m.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?(o=t.bucket,r=new f(m.QUOTA_EXCEEDED,"Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===e.getStatus()?(path=t.path,r=new f(m.UNAUTHORIZED,"User does not have permission to access '"+path+"'.")):r=n,r.setServerResponseProp(n.serverResponseProp()),r}}function Nt(t){var e=At(t);return function(n,r){var path,o=e(n,r);return 404===n.getStatus()&&(path=t.path,o=new f(m.OBJECT_NOT_FOUND,"Object '"+path+"' does not exist.")),o.setServerResponseProp(r.serverResponseProp()),o}}function Dt(t,e,n){var r=ot(e.fullServerUrl()),o=t.maxOperationRetryTime(),l=new xt(r,"GET",It(t,n),o);return l.errorHandler=Nt(e),l}function Pt(t,e,n){var r=U(n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}var Rt=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function Mt(t,e){var n;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(t){Ct(!1)}return Ct(kt(e||["active"],n)),n}function Lt(t,e,n,r,o,l,c,d){var h=new Rt(0,0);if(c?(h.current=c.current,h.total=c.total):(h.current=0,h.total=r.size()),r.size()!==h.total)throw new f(m.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");var v=h.total-h.current,y=v;o>0&&(y=Math.min(y,o));var w=h.current,S=w+y,E={"X-Goog-Upload-Command":y===v?"upload, finalize":"upload","X-Goog-Upload-Offset":h.current},body=r.slice(w,S);if(null===body)throw _();var T=e.maxUploadRetryTime(),k=new xt(n,"POST",function(t,text){var n,o=Mt(t,["active","final"]),c=h.current+y,d=r.size();return n="final"===o?It(e,l)(t,text):null,new Rt(c,d,"final"===o,n)},T);return k.headers=E,k.body=body.uploadData(),k.progressCallback=d||null,k.errorHandler=At(t),k}var jt=function(){return function(t,e,n){if(H(t)||W(e)||W(n))this.next=t,this.error=e||null,this.complete=n||null;else{var r=t;this.next=r.next||null,this.error=r.error||null,this.complete=r.complete||null}}}(),Bt=function(){return function(t,e,n,r,o,l){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=o,this.ref=l}}();function Ft(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];$(!0).then(function(){t.apply(null,e)})}}var Ut=function(){function t(t,e,n,r,o,l){var c=this;void 0===l&&(l=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=t,this.authWrapper_=e,this.location_=n,this.blob_=o,this.metadata_=l,this.mappings_=r,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=M.RUNNING,this.errorHandler_=function(t){c.request_=null,c.chunkMultiplier_=1,t.codeEquals(m.CANCELED)?(c.needToFetchStatus_=!0,c.completeTransitions_()):(c.error_=t,c.transition_(M.ERROR))},this.metadataErrorHandler_=function(t){c.request_=null,t.codeEquals(m.CANCELED)?c.completeTransitions_():(c.error_=t,c.transition_(M.ERROR))},this.promise_=V(function(t,e){c.resolve_=t,c.reject_=e,c.start_()}),this.promise_.then(null,function(){})}return t.prototype.makeProgressCallback_=function(){var t=this,e=this.transferred_;return function(n,r){t.updateProgress_(e+n)}},t.prototype.shouldDoResumable_=function(t){return t.size()>262144},t.prototype.start_=function(){this.state_===M.RUNNING&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},t.prototype.resolveToken_=function(t){var e=this;this.authWrapper_.getAuthToken().then(function(n){switch(e.state_){case M.RUNNING:t(n);break;case M.CANCELING:e.transition_(M.CANCELED);break;case M.PAUSING:e.transition_(M.PAUSED)}})},t.prototype.createResumable_=function(){var t=this;this.resolveToken_(function(e){var n=function(t,e,n,r,o){var l=e.bucketOnlyServerUrl(),c=Pt(e,r,o),d={name:c.fullPath},h=ot(l),f={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},body=ft(c,n),m=t.maxUploadRetryTime(),v=new xt(h,"POST",function(t,text){var e;Mt(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(t){Ct(!1)}return Ct(Q(e)),e},m);return v.urlParams=d,v.headers=f,v.body=body,v.errorHandler=At(e),v}(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then(function(e){t.request_=null,t.uploadUrl_=e,t.needToFetchStatus_=!1,t.completeTransitions_()},t.errorHandler_)})},t.prototype.fetchStatus_=function(){var t=this,e=this.uploadUrl_;this.resolveToken_(function(n){var r=function(t,e,n,r){var o=t.maxUploadRetryTime(),l=new xt(n,"POST",function(t,text){var e,n=Mt(t,["active","final"]);try{e=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(t){Ct(!1)}var o=parseInt(e,10);return Ct(!isNaN(o)),new Rt(o,r.size(),"final"===n)},o);return l.headers={"X-Goog-Upload-Command":"query"},l.errorHandler=At(e),l}(t.authWrapper_,t.location_,e,t.blob_),o=t.authWrapper_.makeRequest(r,n);t.request_=o,o.getPromise().then(function(e){e=e,t.request_=null,t.updateProgress_(e.current),t.needToFetchStatus_=!1,e.finalized&&(t.needToFetchMetadata_=!0),t.completeTransitions_()},t.errorHandler_)})},t.prototype.continueUpload_=function(){var t=this,e=262144*this.chunkMultiplier_,n=new Rt(this.transferred_,this.blob_.size()),r=this.uploadUrl_;this.resolveToken_(function(o){var l;try{l=Lt(t.location_,t.authWrapper_,r,t.blob_,e,t.mappings_,n,t.makeProgressCallback_())}catch(e){return t.error_=e,void t.transition_(M.ERROR)}var c=t.authWrapper_.makeRequest(l,o);t.request_=c,c.getPromise().then(function(e){t.increaseMultiplier_(),t.request_=null,t.updateProgress_(e.current),e.finalized?(t.metadata_=e.metadata,t.transition_(M.SUCCESS)):t.completeTransitions_()},t.errorHandler_)})},t.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},t.prototype.fetchMetadata_=function(){var t=this;this.resolveToken_(function(e){var n=Dt(t.authWrapper_,t.location_,t.mappings_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then(function(e){t.request_=null,t.metadata_=e,t.transition_(M.SUCCESS)},t.metadataErrorHandler_)})},t.prototype.oneShotUpload_=function(){var t=this;this.resolveToken_(function(e){var n=function(t,e,n,r,o){var l=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"},d=function(){for(var t="",i=0;i<2;i++)t+=Math.random().toString().slice(2);return t}();c["Content-Type"]="multipart/related; boundary="+d;var h=Pt(e,r,o),f="--"+d+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+ft(h,n)+"\r\n--"+d+"\r\nContent-Type: "+h.contentType+"\r\n\r\n",m="\r\n--"+d+"--",body=Tt.getBlob(f,r,m);if(null===body)throw _();var v={name:h.fullPath},y=ot(l),w=t.maxUploadRetryTime(),S=new xt(y,"POST",It(t,n),w);return S.urlParams=v,S.headers=c,S.body=body.uploadData(),S.errorHandler=At(e),S}(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then(function(e){t.request_=null,t.metadata_=e,t.updateProgress_(t.blob_.size()),t.transition_(M.SUCCESS)},t.errorHandler_)})},t.prototype.updateProgress_=function(t){var e=this.transferred_;this.transferred_=t,this.transferred_!==e&&this.notifyObservers_()},t.prototype.transition_=function(t){if(this.state_!==t)switch(t){case M.CANCELING:case M.PAUSING:this.state_=t,null!==this.request_&&this.request_.cancel();break;case M.RUNNING:var e=this.state_===M.PAUSED;this.state_=t,e&&(this.notifyObservers_(),this.start_());break;case M.PAUSED:this.state_=t,this.notifyObservers_();break;case M.CANCELED:this.error_=w(),this.state_=t,this.notifyObservers_();break;case M.ERROR:case M.SUCCESS:this.state_=t,this.notifyObservers_()}},t.prototype.completeTransitions_=function(){switch(this.state_){case M.PAUSING:this.transition_(M.PAUSED);break;case M.CANCELING:this.transition_(M.CANCELED);break;case M.RUNNING:this.start_()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=j(this.state_);return new Bt(this.transferred_,this.blob_.size(),t,this.metadata_,this,this.ref_)},enumerable:!0,configurable:!0}),t.prototype.on=function(t,e,n,r){void 0===e&&(e=void 0),void 0===n&&(n=void 0),void 0===r&&(r=void 0);var o="Expected a function or an Object with one of `next`, `error`, `complete` properties.",l=St(!0).validator,c=_t(null,!0).validator;function d(p){try{return void l(p)}catch(t){}try{if(c(p),!(z(p.next)||z(p.error)||z(p.complete)))throw"";return}catch(t){throw o}}mt("on",[vt(function(e){if(t!==R.STATE_CHANGED)throw"Expected one of the event types: ["+R.STATE_CHANGED+"]."}),_t(d,!0),St(!0),St(!0)],arguments);var h=this;function f(t){return function(e,n,o){null!==t&&mt("on",t,arguments);var l=new jt(e,n,r);return h.addObserver_(l),function(){h.removeObserver_(l)}}}var m=[_t(function(p){if(null===p)throw o;d(p)}),St(!0),St(!0)];return!(z(e)||z(n)||z(r))?f(m):f(null)(e,n,r)},t.prototype.then=function(t,e){return this.promise_.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype.addObserver_=function(t){this.observers_.push(t),this.notifyObserver_(t)},t.prototype.removeObserver_=function(t){var e,n,i;e=this.observers_,n=t,-1!==(i=e.indexOf(n))&&e.splice(i,1)},t.prototype.notifyObservers_=function(){var t,e=this;this.finishPromise_(),(t=this.observers_,Array.prototype.slice.call(t)).forEach(function(t){e.notifyObserver_(t)})},t.prototype.finishPromise_=function(){if(null!==this.resolve_){var t=!0;switch(j(this.state_)){case L.SUCCESS:Ft(this.resolve_.bind(null,this.snapshot))();break;case L.CANCELED:case L.ERROR:Ft(this.reject_.bind(null,this.error_))();break;default:t=!1}t&&(this.resolve_=null,this.reject_=null)}},t.prototype.notifyObserver_=function(t){switch(j(this.state_)){case L.RUNNING:case L.PAUSED:null!==t.next&&Ft(t.next.bind(t,this.snapshot))();break;case L.SUCCESS:null!==t.complete&&Ft(t.complete.bind(t))();break;case L.CANCELED:case L.ERROR:null!==t.error&&Ft(t.error.bind(t,this.error_))();break;default:null!==t.error&&Ft(t.error.bind(t,this.error_))()}},t.prototype.resume=function(){mt("resume",[],arguments);var t=this.state_===M.PAUSED||this.state_===M.PAUSING;return t&&this.transition_(M.RUNNING),t},t.prototype.pause=function(){mt("pause",[],arguments);var t=this.state_===M.RUNNING;return t&&this.transition_(M.PAUSING),t},t.prototype.cancel=function(){mt("cancel",[],arguments);var t=this.state_===M.RUNNING||this.state_===M.PAUSING;return t&&this.transition_(M.CANCELING),t},t}(),Vt=function(){function t(t,e){this.authWrapper=t,this.location=e instanceof et?e:et.makeFromUrl(e)}return t.prototype.toString=function(){return mt("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},t.prototype.newRef=function(e,n){return new t(e,n)},t.prototype.mappings=function(){return lt()},t.prototype.child=function(t){mt("child",[vt()],arguments);var e=function(path,t){var e=t.split("/").filter(function(component){return component.length>0}).join("/");return 0===path.length?e:path+"/"+e}(this.location.path,t),n=new et(this.location.bucket,e);return this.newRef(this.authWrapper,n)},Object.defineProperty(t.prototype,"parent",{get:function(){var t=function(path){if(0==path.length)return null;var t=path.lastIndexOf("/");return-1===t?"":path.slice(0,t)}(this.location.path);if(null===t)return null;var e=new et(this.location.bucket,t);return this.newRef(this.authWrapper,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){var t=new et(this.location.bucket,"");return this.newRef(this.authWrapper,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return nt(this.location.path)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this.authWrapper.service()},enumerable:!0,configurable:!0}),t.prototype.put=function(data,t){return void 0===t&&(t=null),mt("put",[yt(),bt(!0)],arguments),this.throwIfRoot_("put"),new Ut(this,this.authWrapper,this.location,this.mappings(),new Tt(data),t)},t.prototype.putString=function(t,e,n){void 0===e&&(e=x.RAW),mt("putString",[vt(),vt(C,!0),bt(!0)],arguments),this.throwIfRoot_("putString");var data=O(e,t),r=U(n);return!W(r.contentType)&&W(data.contentType)&&(r.contentType=data.contentType),new Ut(this,this.authWrapper,this.location,this.mappings(),new Tt(data.data,!0),r)},t.prototype.delete=function(){mt("delete",[],arguments),this.throwIfRoot_("delete");var t=this;return this.authWrapper.getAuthToken().then(function(e){var n=function(t,e){var n=ot(e.fullServerUrl()),r=t.maxOperationRetryTime(),o=new xt(n,"DELETE",function(t,text){},r);return o.successCodes=[200,204],o.errorHandler=Nt(e),o}(t.authWrapper,t.location);return t.authWrapper.makeRequest(n,e).getPromise()})},t.prototype.getMetadata=function(){mt("getMetadata",[],arguments),this.throwIfRoot_("getMetadata");var t=this;return this.authWrapper.getAuthToken().then(function(e){var n=Dt(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(n,e).getPromise()})},t.prototype.updateMetadata=function(t){mt("updateMetadata",[bt()],arguments),this.throwIfRoot_("updateMetadata");var e=this;return this.authWrapper.getAuthToken().then(function(n){var r=function(t,e,n,r){var o=ot(e.fullServerUrl()),body=ft(n,r),l=t.maxOperationRetryTime(),c=new xt(o,"PATCH",It(t,r),l);return c.headers={"Content-Type":"application/json; charset=utf-8"},c.body=body,c.errorHandler=Nt(e),c}(e.authWrapper,e.location,t,e.mappings());return e.authWrapper.makeRequest(r,n).getPromise()})},t.prototype.getDownloadURL=function(){mt("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL");var t=this;return this.authWrapper.getAuthToken().then(function(e){var n=function(t,e,n){var r=ot(e.fullServerUrl()),o=t.maxOperationRetryTime(),l=new xt(r,"GET",Ot(t,n),o);return l.errorHandler=Nt(e),l}(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(n,e).getPromise().then(function(t){if(null===t)throw new f(m.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return t})})},t.prototype.throwIfRoot_=function(t){if(""===this.location.path)throw function(t){return new f(m.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)},t}(),qt=function(){function t(t){this.promise_=function(t){return Promise.reject(t)}(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){void 0===t&&(t=!1)},t}(),$t=function(){function t(){this.map_={},this.id_=h}return t.prototype.addRequest=function(t){var e=this.id_;this.id_++,this.map_[e]=t;var n=this;function r(){delete n.map_[e]}t.getPromise().then(r,r)},t.prototype.clear=function(){F(this.map_,function(t,e){e&&e.cancel(!0)}),this.map_={}},t}(),Wt=function(){function t(e,n,r,o,l){if(this.bucket_=null,this.deleted_=!1,this.app_=e,null!==this.app_){var h=this.app_.options;W(h)&&(this.bucket_=t.extractBucket_(h))}this.storageRefMaker_=n,this.requestMaker_=r,this.pool_=l,this.service_=o,this.maxOperationRetryTime_=c,this.maxUploadRetryTime_=d,this.requestMap_=new $t}return t.extractBucket_=function(t){var e=t.storageBucket||null;return null==e?null:et.makeFromBucketSpec(e).bucket},t.prototype.getAuthToken=function(){return null!==this.app_&&W(this.app_.INTERNAL)&&W(this.app_.INTERNAL.getToken)?this.app_.INTERNAL.getToken().then(function(t){return null!==t?t.accessToken:null},function(t){return null}):$(null)},t.prototype.bucket=function(){if(this.deleted_)throw E();return this.bucket_},t.prototype.service=function(){return this.service_},t.prototype.makeStorageReference=function(t){return this.storageRefMaker_(this,t)},t.prototype.makeRequest=function(t,e){if(this.deleted_)return new qt(E());var n=this.requestMaker_(t,e,this.pool_);return this.requestMap_.addRequest(n),n},t.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requestMap_.clear()},t.prototype.maxUploadRetryTime=function(){return this.maxUploadRetryTime_},t.prototype.setMaxUploadRetryTime=function(time){this.maxUploadRetryTime_=time},t.prototype.maxOperationRetryTime=function(){return this.maxOperationRetryTime_},t.prototype.setMaxOperationRetryTime=function(time){this.maxOperationRetryTime_=time},t}();var zt=function(){function t(t,e,n,body,r,o,l,c,d,h,f){this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=body,this.successCodes_=r.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=l,this.errorCallback_=c,this.progressCallback_=h,this.timeout_=d,this.pool_=f;var m=this;this.promise_=V(function(t,e){m.resolve_=t,m.reject_=e,m.start_()})}return t.prototype.start_=function(){var t=this;function e(e,n){var r,o=t.resolve_,l=t.reject_,c=n.xhr;if(n.wasSuccessCode)try{var d=t.callback_(c,c.getResponseText());z(d)?o(d):o()}catch(t){l(t)}else null!==c?((r=y()).setServerResponseProp(c.getResponseText()),t.errorCallback_?l(t.errorCallback_(c,r)):l(r)):n.canceled?l(r=t.appDelete_?E():w()):l(r=new f(m.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new Ht(!1,null,!0)):this.backoffId_=function(t,e,n){var r=1,o=null,l=!1,c=0;function d(){return 2===c}var h=!1;function f(){h||(h=!0,e.apply(null,arguments))}function m(e){o=setTimeout(function(){o=null,t(v,d())},e)}function v(t){for(var e,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];h||(t?f.apply(null,arguments):d()||l?f.apply(null,arguments):(r<64&&(r*=2),1===c?(c=2,e=0):e=1e3*(r+Math.random()),m(e)))}var y=!1;function w(t){y||(y=!0,h||(null!==o?(t||(c=2),clearTimeout(o),m(0)):t||(c=1)))}return m(0),setTimeout(function(){l=!0,w(!0)},n),w}(function(e,n){if(n)e(!1,new Ht(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(o),r.send(t.url_,t.method_,t.body_,t.headers_).then(function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(o),t.pendingXhr_=null;var r=(n=n).getErrorCode()===P.NO_ERROR,l=n.getStatus();if(r&&!t.isRetryStatusCode_(l)){var c=kt(t.successCodes_,l);e(!0,new Ht(c,n))}else{var d=n.getErrorCode()===P.ABORT;e(!1,new Ht(!1,null,d))}})}function o(e){var n=e.loaded,r=e.lengthComputable?e.total:-1;null!==t.progressCallback_&&t.progressCallback_(n,r)}},e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=kt([408,429],t),r=kt(this.additionalRetryCodes_,t);return e||n||r},t}(),Ht=function(){return function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}}();function Kt(t,e,n){var r=it(t.urlParams),l=t.url+r,c=U(t.headers);return function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(c,e),function(t){var e=void 0!==o.a?o.a.SDK_VERSION:"AppManager";t["X-Firebase-Storage-Version"]="webjs/"+e}(c),new zt(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,n)}var Gt=function(){function t(t,e,n){if(this.bucket_=null,this.authWrapper_=new Wt(t,function(t,e){return new Vt(t,e)},Kt,this,e),this.app_=t,null!=n)this.bucket_=et.makeFromBucketSpec(n);else{var r=this.authWrapper_.bucket();null!=r&&(this.bucket_=new et(r,""))}this.internals_=new Qt(this)}return t.prototype.ref=function(path){if(mt("ref",[vt(function(path){if(/^[A-Za-z]+:\/\//.test(path))throw"Expected child path but got a URL, use refFromURL instead."},!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var t=new Vt(this.authWrapper_,this.bucket_);return null!=path?t.child(path):t},t.prototype.refFromURL=function(t){return mt("refFromURL",[vt(function(p){if(!/^[A-Za-z]+:\/\//.test(p))throw"Expected full URL but got a child path, use ref instead.";try{et.makeFromUrl(p)}catch(t){throw"Expected valid full URL but got an invalid one."}},!1)],arguments),new Vt(this.authWrapper_,t)},Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this.authWrapper_.maxUploadRetryTime()},enumerable:!0,configurable:!0}),t.prototype.setMaxUploadRetryTime=function(time){mt("setMaxUploadRetryTime",[wt()],arguments),this.authWrapper_.setMaxUploadRetryTime(time)},t.prototype.setMaxOperationRetryTime=function(time){mt("setMaxOperationRetryTime",[wt()],arguments),this.authWrapper_.setMaxOperationRetryTime(time)},Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!0,configurable:!0}),t}(),Qt=function(){function t(t){this.service_=t}return t.prototype.delete=function(){return this.service_.authWrapper_.deleteApp(),$(void 0)},t}(),Yt="storage";function Xt(t,e,n){return new Gt(t,new Z,n)}function Jt(t){var e={TaskState:L,TaskEvent:R,StringFormat:x,Storage:Gt,Reference:Vt};t.INTERNAL.registerService(Yt,Xt,e,void 0,!0)}Jt(o.a)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=(r=n(1))&&"object"==typeof r&&"default"in r?r.default:r,l=n(0),c=n(462);n(463);var d,h,f,m,v=n(464),y="0.2.1",w="FB-PERF-TRACE-START",_="FB-PERF-TRACE-STOP",S="FB-PERF-TRACE-MEASURE",E="@firebase/performance/config",T="@firebase/performance/configexpire",k=((d={})["trace started"]="Trace {$traceName} was started before.",d["trace stopped"]="Trace {$traceName} is not running.",d["no window"]="Window is not available.",d["no app id"]="App id is not available.",d["no project id"]="Project id is not available.",d["no api key"]="Api key is not available.",d["invalid cc log"]="Attempted to queue invalid cc event",d["FB not default"]="Performance can only start when Firebase app instance is the default one.",d["RC response not ok"]="RC response is not ok",d),x=new c.ErrorFactory("performance","Performance",k),C=function(){function t(t){if(!t)throw x.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.localStorage=t.localStorage,t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(t){this.performance&&this.performance.mark&&this.performance.mark(t)},t.prototype.measure=function(t,e,n){this.performance&&this.performance.measure&&this.performance.measure(t,e,n)},t.prototype.getEntriesByType=function(t){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(t):[]},t.prototype.getEntriesByName=function(t){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(t):[]},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.setupObserver=function(t,e){this.PerformanceObserver&&new this.PerformanceObserver(function(t){for(var n=0,r=t.getEntries();n<r.length;n++){var o=r[n];e(o)}}).observe({entryTypes:[t]})},t.getInstance=function(){return void 0===h&&(h=new t(f)),h},t}();var I,O,A=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw x.create("no app id");return t},t.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw x.create("no project id");return t},t.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw x.create("no api key");return t},t.getInstance=function(){return void 0===m&&(m=new t),m},t}();function N(){return I}function D(){switch(C.getInstance().document.visibilityState){case"visible":return O.VISIBLE;case"hidden":return O.HIDDEN;case"prerender":return O.PRERENDER;default:return O.UNKNOWN}}function P(){var t=C.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN",t[t.PRERENDER=3]="PRERENDER",t[t.UNLOADED=4]="UNLOADED"}(O||(O={}));var R=new v.Logger("Performance");R.logLevel=v.LogLevel.INFO;var M="0.0.1",L={loggingEnabled:!0},j="FIREBASE_INSTALLATIONS_AUTH";function B(t){var e=function(){var t=C.getInstance().localStorage,e=t.getItem(T);if(!(e&&(n=e,Number(n)>Date.now())))return;var n;var r=t.getItem(E);if(!r)return;try{var o=JSON.parse(r);return o}catch(t){return}}();return e?(U(e),Promise.resolve()):function(t){return(e=A.getInstance().firebaseAppInstance.installations().getToken(),e.then(function(t){}),e).then(function(e){var n=A.getInstance().getProjectId(),r="https://firebaseremoteconfig.googleapis.com/v1/projects/"+n+"/namespaces/fireperf:fetch?key="+A.getInstance().getApiKey(),o=new Request(r,{method:"POST",headers:{Authorization:j+" "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:A.getInstance().getAppId(),app_version:y,sdk_version:M})});return fetch(o).then(function(t){if(t.ok)return t.json();throw x.create("RC response not ok")})}).catch(function(){R.info(F)});var e}(t).then(function(t){return U(t)}).then(function(t){return function(t){if(!t)return;var e=C.getInstance().localStorage;e.setItem(E,JSON.stringify(t)),e.setItem(T,String(Date.now()+60*A.getInstance().configTimeToLive*60*1e3))}(t)},function(){})}var F="Could not fetch config, will use default configs";function U(t){if(!t)return t;var e=A.getInstance(),n=t.entries||{};return void 0!==n.fpr_enabled?e.loggingEnabled="true"===String(n.fpr_enabled):e.loggingEnabled=L.loggingEnabled,n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),void 0!==n.fpr_vc_network_request_sampling_rate&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=V(e.tracesSamplingRate),e.logNetworkAfterSampling=V(e.networkRequestsSamplingRate),t}function V(t){return Math.random()<=t}var $,W=1;function z(){var t;return W=2,$=$||(t=C.getInstance().document,new Promise(function(e){if(t&&"complete"!==t.readyState){var n=function(){"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()})).then(function(){return(t=A.getInstance().firebaseAppInstance.installations().getId()).then(function(t){I=t}),t;var t}).then(function(t){return B(t)}).then(function(){return H()},function(){return H()})}function H(){W=3}var K,G=1e4,Q=3,Y=Q,X=[];function J(t){return function(e,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];!function(t){if(!t.eventTime||!t.message)throw x.create("invalid cc log");X=X.concat([t])}({message:t.apply(void 0,r),eventTime:Date.now()})}}function Z(){if(K)return K;var t=J(nt);return(K=new v.Logger("@firebase/performance/cc")).logHandler=t,K}function tt(t){var e=A.getInstance();!e.instrumentationEnabled&&t.isAuto||(e.dataCollectionEnabled||t.isAuto)&&(t.isAuto&&D()!==O.VISIBLE||e.loggingEnabled&&e.logTraceAfterSampling&&(3===W?et(t):z().then(function(){return et(t)},function(){return et(t)})))}function et(t){N()&&setTimeout(function(){return Z().log(t,1)},0)}function nt(t,e){return 0===e?(r={url:(n=t).url,http_method:1,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},o={application_info:ot(),network_request_metric:r},JSON.stringify(o)):function(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};0!==Object.keys(t.counters).length&&(e.counters=it(t.counters));var n=t.getAttributes();0!==Object.keys(n).length&&(e.custom_attributes=it(n));var r={application_info:ot(),trace_metric:e};return JSON.stringify(r)}(t);var n,r,o}function ot(){return{google_app_id:A.getInstance().getAppId(),app_instance_id:N(),web_app_info:{sdk_version:y,page_url:C.getInstance().getUrl(),service_worker_status:(t=C.getInstance().navigator,"serviceWorker"in t?t.serviceWorker.controller?2:3:1),visibility_state:D(),effective_connection_type:P()},application_process_state:0};var t}function it(t){return Object.keys(t).map(function(e){return{key:e,value:t[e]}})}!function t(e){setTimeout(function(){if(0!==Y){if(!X.length)return t(G);var e=X.slice();X=[];var n=e.map(function(t){return{source_extension_json:t.message,event_time_ms:String(t.eventTime)}}),data={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:A.getInstance().logSource,log_event:n};fetch(A.getInstance().logEndPointUrl,{method:"POST",body:JSON.stringify(data)}).then(function(t){return t.ok||R.info("Call to Firebase backend failed."),t.json()}).then(function(e){var n=Math.max(G,parseInt(e.next_request_wait_millis,10));Y=Q,t(n)}).catch(function(){X=e.concat(X),Y--,R.info("Tries left: "+Y+"."),t(G)})}},e)}(5500);var at=function(){function t(t,e,n){void 0===e&&(e=!1),this.name=t,this.isAuto=e,this.state=1,this.customAttributes={},this.counters={},this.api=C.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark=w+"-"+this.randomId+"-"+this.name,this.traceStopMark=_+"-"+this.randomId+"-"+this.name,this.traceMeasure=n||S+"-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(1!==this.state)throw x.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(2!==this.state)throw x.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),tt(this)},t.prototype.record=function(t,e,n){if(this.durationUs=Math.floor(1e3*e),this.startTimeUs=Math.floor(1e3*t),n&&n.attributes&&(this.customAttributes=l.__assign({},n.attributes)),n&&n.metrics)for(var r=0,o=Object.keys(n.metrics);r<o.length;r++){var c=o[r];isNaN(Number(n.metrics[c]))||(this.counters[c]=Number(Math.floor(n.metrics[c])))}tt(this)},t.prototype.incrementMetric=function(t,e){void 0===e&&(e=1),void 0===this.counters[t]&&(this.counters[t]=0),this.counters[t]+=e},t.prototype.putMetric=function(t,e){this.counters[t]=e},t.prototype.getMetric=function(t){return this.counters[t]||0},t.prototype.putAttribute=function(t,e){this.customAttributes[t]=e},t.prototype.getAttribute=function(t){return this.customAttributes[t]},t.prototype.removeAttribute=function(t){void 0!==this.customAttributes[t]&&delete this.customAttributes[t]},t.prototype.getAttributes=function(){return l.__assign({},this.customAttributes)},t.prototype.setStartTime=function(t){this.startTimeUs=t},t.prototype.setDuration=function(t){this.durationUs=t},t.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),e=t&&t[0];e&&(this.durationUs=Math.floor(1e3*e.duration),this.startTimeUs=Math.floor(1e3*(e.startTime+this.api.getTimeOrigin())))},t.createOobTrace=function(e,n,r){var o=C.getInstance().getUrl();if(o){var l=new t("_wt_"+o,!0),c=Math.floor(1e3*C.getInstance().getTimeOrigin());l.setStartTime(c),e&&e[0]&&(l.setDuration(Math.floor(1e3*e[0].duration)),l.incrementMetric("domInteractive",Math.floor(1e3*e[0].domInteractive)),l.incrementMetric("domContentLoadedEventEnd",Math.floor(1e3*e[0].domContentLoadedEventEnd)),l.incrementMetric("loadEventEnd",Math.floor(1e3*e[0].loadEventEnd)));if(n){var d=n.find(function(t){return"first-paint"===t.name});d&&d.startTime&&l.incrementMetric("_fp",Math.floor(1e3*d.startTime));var h=n.find(function(t){return"first-contentful-paint"===t.name});h&&h.startTime&&l.incrementMetric("_fcp",Math.floor(1e3*h.startTime)),r&&l.incrementMetric("_fid",Math.floor(1e3*r))}tt(l)}},t.createUserTimingTrace=function(e){tt(new t(e,!1,e))},t}();function st(t){var e=t;if(e&&void 0!==e.responseStart){var n=C.getInstance().getTimeOrigin(),r=Math.floor(1e3*(e.startTime+n)),o=e.responseStart?Math.floor(1e3*(e.responseStart-e.startTime)):void 0,l=Math.floor(1e3*(e.responseEnd-e.startTime));!function(t){var e=A.getInstance();e.instrumentationEnabled&&t.url!==e.logEndPointUrl.split("?")[0]&&e.loggingEnabled&&e.logNetworkAfterSampling&&setTimeout(function(){return Z().log(t,0)},0)}({url:e.name&&e.name.split("?")[0],responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:o,timeToResponseCompletedUs:l})}}var ut=5e3;function lt(){N()&&(setTimeout(function(){return function(){var t=C.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var r=setTimeout(function(){at.createOobTrace(e,n),r=void 0},ut);t.onFirstInputDelay(function(t){r&&(clearTimeout(r),at.createOobTrace(e,n,t))})}else at.createOobTrace(e,n)}()},0),setTimeout(function(){return function(){for(var t=C.getInstance(),e=t.getEntriesByType("resource"),n=0,r=e;n<r.length;n++){var o=r[n];st(o)}t.setupObserver("resource",st)}()},0),setTimeout(function(){return function(){for(var t=C.getInstance(),e=t.getEntriesByType("measure"),n=0,r=e;n<r.length;n++){var o=r[n];ct(o)}t.setupObserver("measure",ct)}()},0))}function ct(t){var e=t.name;e.substring(0,S.length)!==S&&at.createUserTimingTrace(e)}var ht=function(){function t(t){this.app=t,z().then(lt,lt)}return t.prototype.trace=function(t){return new at(t)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return A.getInstance().instrumentationEnabled},set:function(t){A.getInstance().instrumentationEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return A.getInstance().dataCollectionEnabled},set:function(t){A.getInstance().dataCollectionEnabled=t},enumerable:!0,configurable:!0}),t}(),ft="[DEFAULT]";function pt(t){t.INTERNAL.registerService("performance",function(t){if(t.name!==ft)throw x.create("FB not default");return A.getInstance().firebaseAppInstance=t,new ht(t)},{})}window&&fetch&&Promise?(!function(t){f=t}(window),pt(o)):R.info("Firebase Performance cannot start if browser does not support fetch and Promise."),e.registerPerformance=pt},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},l=function(t,e){if(!t)throw c(e)},c=function(t){return new Error("Firebase Database ("+o.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},d=function(t){for(var e=[],p=0,i=0;i<t.length;i++){var n=t.charCodeAt(i);n<128?e[p++]=n:n<2048?(e[p++]=n>>6|192,e[p++]=63&n|128):55296==(64512&n)&&i+1<t.length&&56320==(64512&t.charCodeAt(i+1))?(n=65536+((1023&n)<<10)+(1023&t.charCodeAt(++i)),e[p++]=n>>18|240,e[p++]=n>>12&63|128,e[p++]=n>>6&63|128,e[p++]=63&n|128):(e[p++]=n>>12|224,e[p++]=n>>6&63|128,e[p++]=63&n|128)}return e},h={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(input,t){if(!Array.isArray(input))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,output=[],i=0;i<input.length;i+=3){var n=input[i],r=i+1<input.length,o=r?input[i+1]:0,l=i+2<input.length,c=l?input[i+2]:0,d=n>>2,h=(3&n)<<4|o>>4,f=(15&o)<<2|c>>6,m=63&c;l||(m=64,r||(f=64)),output.push(e[d],e[h],e[f],e[m])}return output.join("")},encodeString:function(input,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(input):this.encodeByteArray(d(input),t)},decodeString:function(input,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(input):function(t){for(var e=[],n=0,r=0;n<t.length;){var o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){var l=t[n++];e[r++]=String.fromCharCode((31&o)<<6|63&l)}else if(o>239&&o<365){var u=((7&o)<<18|(63&(l=t[n++]))<<12|(63&(c=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{l=t[n++];var c=t[n++];e[r++]=String.fromCharCode((15&o)<<12|(63&l)<<6|63&c)}}return e.join("")}(this.decodeStringToByteArray(input,t))},decodeStringToByteArray:function(input,t){this.init_();for(var e=t?this.charToByteMapWebSafe_:this.charToByteMap_,output=[],i=0;i<input.length;){var n=e[input.charAt(i++)],r=i<input.length?e[input.charAt(i)]:0,o=++i<input.length?e[input.charAt(i)]:64,l=++i<input.length?e[input.charAt(i)]:64;if(++i,null==n||null==r||null==o||null==l)throw Error();var c=n<<2|r>>4;if(output.push(c),64!=o){var d=r<<4&240|o>>2;if(output.push(d),64!=l){var h=o<<6&192|l;output.push(h)}}}return output},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}},f=function(t){try{return h.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function m(t,source){if(!(source instanceof Object))return source;switch(source.constructor){case Date:return new Date(source.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return source}for(var e in source)source.hasOwnProperty(e)&&(t[e]=m(t[e],source[e]));return t}var v=function(){function t(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}(),y=function(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""},w="FirebaseError",_=function(t){function e(code,n){var r=t.call(this,n)||this;return r.code=code,r.name=w,Object.setPrototypeOf(r,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(r,S.prototype.create),r}return r.__extends(e,t),e}(Error),S=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(code,data){void 0===data&&(data={});for(var t=this.service+"/"+code,template=this.errors[code],e=template?function(template,data){return template.replace(E,function(t,e){var n=data[e];return null!=n?n.toString():"<"+e+"?>"})}(template,data):"Error",n=this.serviceName+": "+e+" ("+t+").",r=new _(t,n),o=0,l=Object.keys(data);o<l.length;o++){var c=l[o];"_"!==c.slice(-1)&&(c in r&&console.warn('Overwriting FirebaseError base field "'+c+'" can cause unexpected behavior.'),r[c]=data[c])}return r},t}();var E=/\{\$([^}]+)}/g;function T(t){return JSON.parse(t)}var k=function(t){var header={},e={},data={},n="";try{var r=t.split(".");header=T(f(r[0])||""),e=T(f(r[1])||""),n=r[2],data=e.d||{},delete e.d}catch(t){}return{header:header,claims:e,data:data,signature:n}},x=function(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])},C=function(t,e){return x(e,function(e,n){t[e]=n}),t},I=function(t,e,n){for(var r in t)if(e.call(n,t[r],r,t))return r},O=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var i=1;i<this.blockSize;++i)this.pad_[i]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var i=0;i<16;i++)n[i]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(i=0;i<16;i++)n[i]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(i=16;i<80;i++){var r=n[i-3]^n[i-8]^n[i-14]^n[i-16];n[i]=4294967295&(r<<1|r>>>31)}var o,l,a=this.chain_[0],b=this.chain_[1],c=this.chain_[2],d=this.chain_[3],h=this.chain_[4];for(i=0;i<80;i++){i<40?i<20?(o=d^b&(c^d),l=1518500249):(o=b^c^d,l=1859775393):i<60?(o=b&c|d&(b|c),l=2400959708):(o=b^c^d,l=3395469782);r=(a<<5|a>>>27)+o+h+l+n[i]&4294967295;h=d,d=c,c=4294967295&(b<<30|b>>>2),b=a,a=r}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+b&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+d&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,o=this.buf_,l=this.inbuf_;r<e;){if(0==l)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(o[l]=t.charCodeAt(r),++r,++l==this.blockSize){this.compress_(o),l=0;break}}else for(;r<e;)if(o[l]=t[r],++r,++l==this.blockSize){this.compress_(o),l=0;break}}this.inbuf_=l,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&e,e/=256;this.compress_(this.buf_);var n=0;for(i=0;i<5;i++)for(var r=24;r>=0;r-=8)t[n]=this.chain_[i]>>r&255,++n;return t},t}();var A=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,o=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var o=r[n];if(o in t&&"function"==typeof t[o])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=N),void 0===r.error&&(r.error=N),void 0===r.complete&&(r.complete=N);var l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?r.error(o.finalError):r.complete()}catch(t){}}),this.observers.push(r),l},t.prototype.unsubscribeOne=function(i){void 0!==this.observers&&void 0!==this.observers[i]&&(delete this.observers[i],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var i=0;i<this.observers.length;i++)this.sendOne(i,t)},t.prototype.sendOne=function(i,t){var e=this;this.task.then(function(){if(void 0!==e.observers&&void 0!==e.observers[i])try{t(e.observers[i])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function N(){}function D(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var o=t+" failed: ";return o+=r+" argument "}e.CONSTANTS=o,e.Deferred=v,e.ErrorFactory=S,e.FirebaseError=_,e.Sha1=O,e.assert=l,e.assertionError=c,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){t.apply(void 0,n)}).catch(function(t){e&&e(t)})}},e.base64=h,e.base64Decode=f,e.base64Encode=function(t){var e=d(t);return h.encodeByteArray(e,!0)},e.clone=function(t){return C({},t)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new A(t,e);return n.subscribe.bind(n)},e.decode=k,e.deepCopy=function(t){return m(void 0,t)},e.deepExtend=m,e.errorPrefix=D,e.every=function(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&!e(n,t[n]))return!1;return!0},e.extend=C,e.findKey=I,e.findValue=function(t,e,n){var r=I(t,e,n);return r&&t[r]},e.forEach=x,e.getAnyKey=function(t){for(var e in t)return e},e.getCount=function(t){var e=0;for(var n in t)e++;return e},e.getUA=y,e.getValues=function(t){var e=[],i=0;for(var n in t)e[i++]=t[n];return e},e.isAdmin=function(t){var e=k(t).claims;return"object"==typeof e&&!0===e.admin},e.isEmpty=function(t){for(var e in t)return!1;return!0},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(y())},e.isNodeSdk=function(){return!0===o.NODE_CLIENT||!0===o.NODE_ADMIN},e.isNonNullObject=function(t){return"object"==typeof t&&null!==t},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isValidFormat=function(t){var e=k(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e,n,r=k(t).claims,o=Math.floor((new Date).getTime()/1e3);return"object"==typeof r&&(r.hasOwnProperty("nbf")?e=r.nbf:r.hasOwnProperty("iat")&&(e=r.iat),n=r.hasOwnProperty("exp")?r.exp:e+86400),o&&e&&n&&o>=e&&o<=n},e.issuedAtTime=function(t){var e=k(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=T,e.map=function(t,e,n){var r={};for(var o in t)r[o]=e.call(n,t[o],o,t);return r},e.patchProperty=function(t,e,n){t[e]=n},e.querystring=function(t){var e=[];return x(t,function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}),e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach(function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}}),e},e.safeGet=function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]},e.stringLength=function(t){for(var p=0,i=0;i<t.length;i++){var e=t.charCodeAt(i);e<128?p++:e<2048?p+=2:e>=55296&&e<=56319?(p+=4,i++):p+=3}return p},e.stringToByteArray=function(t){for(var e=[],p=0,i=0;i<t.length;i++){var n=t.charCodeAt(i);if(n>=55296&&n<=56319){var r=n-55296;l(++i<t.length,"Surrogate pair missing trail surrogate."),n=65536+(r<<10)+(t.charCodeAt(i)-56320)}n<128?e[p++]=n:n<2048?(e[p++]=n>>6|192,e[p++]=63&n|128):n<65536?(e[p++]=n>>12|224,e[p++]=n>>6&63|128,e[p++]=63&n|128):(e[p++]=n>>18|240,e[p++]=n>>12&63|128,e[p++]=n>>6&63|128,e[p++]=63&n|128)}return e},e.stringify=function(data){return JSON.stringify(data)},e.validateArgCount=function(t,e,n,r){var o;if(r<e?o="at least "+e:r>n&&(o=0===n?"none":"no more than "+n),o)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+o+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(D(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(D(t,e,r)+"must be a valid context object.")},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(D(t,e,r)+"must be a valid firebase namespace.")}},function(t,e,n){"use strict";n.r(e),n.d(e,"registerInstallations",function(){return tt});var r=n(1),o=n.n(r),l=n(191),c=n(318);var d=function(){return(d=Object.assign||function(t){for(var s,i=1,e=arguments.length;i<e;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};function h(t,e,n,r){return new(n||(n=Promise))(function(o,l){function c(t){try{h(r.next(t))}catch(t){l(t)}}function d(t){try{h(r.throw(t))}catch(t){l(t)}}function h(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(c,d)}h((r=r.apply(t,e||[])).next())})}function f(t,body){var e,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function l(l){return function(c){return function(l){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,n&&(r=2&l[0]?n.return:l[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,l[1])).done)return r;switch(n=0,r&&(l=[2&l[0],r.value]),l[0]){case 0:case 1:r=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,n=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!r||l[1]>r[0]&&l[1]<r[3])){o.label=l[1];break}if(6===l[0]&&o.label<r[1]){o.label=r[1],r=l;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(l);break}r[2]&&o.ops.pop(),o.trys.pop();continue}l=body.call(t,o)}catch(t){l=[6,t],n=0}finally{e=r=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}}function m(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),l=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)l.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return l}function v(){for(var t=[],i=0;i<arguments.length;i++)t=t.concat(m(arguments[i]));return t}var y,w=1e4,_="w:0.1.0",S="FIS_v2",E="https://firebaseinstallations.googleapis.com/v1",T=36e5,k=((y={})["missing-app-config-values"]="Missing App configuration values.",y["create-installation-failed"]="Could not register Firebase Installation.",y["generate-token-failed"]="Could not generate Auth Token.",y["not-registered"]="Firebase Installation is not registered.",y["installation-not-found"]="Firebase Installation not found.",y["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',y["app-offline"]="Could not process request. Application offline.",y["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",y),x=new l.ErrorFactory("installations","Installations",k);function C(t){return t instanceof l.FirebaseError&&t.code.includes("request-failed")}function I(t){if(!t||!t.options)throw x.create("missing-app-config-values");var e=t.name,n=t.options,r=n.projectId,o=n.apiKey,l=n.appId;if(!(e&&r&&o&&l))throw x.create("missing-app-config-values");return{appName:e,projectId:r,apiKey:o,appId:l}}function O(t){var e=t.projectId;return E+"/projects/"+e+"/installations"}function A(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function N(t,e){return h(this,void 0,void 0,function(){var n,r;return f(this,function(o){switch(o.label){case 0:return[4,e.json()];case 1:return n=o.sent(),r=n.error,[2,x.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}})})}function D(t){var e=t.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function P(t,e){var n=e.refreshToken,r=D(t);return r.append("Authorization",function(t){return S+" "+t}(n)),r}function R(t,e){var n=e.fid;return h(this,void 0,void 0,function(){var e,r,body,o,l,c;return f(this,function(d){switch(d.label){case 0:return e=O(t),r=D(t),body={fid:n,authVersion:S,appId:t.appId,sdkVersion:_},o={method:"POST",headers:r,body:JSON.stringify(body)},[4,fetch(e,o)];case 1:return(l=d.sent()).ok?[4,l.json()]:[3,3];case 2:return c=d.sent(),[2,{fid:n,registrationStatus:2,refreshToken:c.refreshToken,authToken:A(c.authToken)}];case 3:throw N("Create Installation",l)}})})}function M(t){return new Promise(function(e){setTimeout(e,t)})}function L(){var t=new Uint8Array(17);return crypto.getRandomValues(t),t[0]=112+t[0]%16,function(t){return(e=t,n=e instanceof Uint8Array?e:new Uint8Array(e),btoa(String.fromCharCode.apply(String,v(n))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var e,n}(t)}var j="firebase-installations-store",B=Object(c.openDb)("firebase-installations-database",1,function(t){switch(t.oldVersion){case 0:t.createObjectStore(j)}});function F(t,e){return h(this,void 0,void 0,function(){var n,r,o;return f(this,function(l){switch(l.label){case 0:return n=$(t),[4,B];case 1:return r=l.sent(),(o=r.transaction(j,"readwrite")).objectStore(j).put(e,n),[4,o.complete];case 2:return l.sent(),[2,e]}})})}function U(t){return h(this,void 0,void 0,function(){var e,n,r;return f(this,function(o){switch(o.label){case 0:return e=$(t),[4,B];case 1:return n=o.sent(),(r=n.transaction(j,"readwrite")).objectStore(j).delete(e),[2,r.complete]}})})}function V(t,e){return h(this,void 0,void 0,function(){var n,r,o,l,c,d;return f(this,function(h){switch(h.label){case 0:return n=$(t),[4,B];case 1:return r=h.sent(),o=r.transaction(j,"readwrite"),[4,(l=o.objectStore(j)).get(n)];case 2:return c=h.sent(),(d=e(c))===c?[2,d]:(void 0===d?l.delete(n):l.put(d,n),[4,o.complete]);case 3:return h.sent(),[2,d]}})})}function $(t){return t.appName+"!"+t.appId}function W(t){return h(this,void 0,void 0,function(){var e,n;return f(this,function(r){switch(r.label){case 0:return n={},[4,V(t,function(n){var r=function(t){var e=t||{fid:L(),registrationStatus:0};if(K(e))return{fid:e.fid,registrationStatus:0};return e}(n),o=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine){var n=Promise.reject(x.create("app-offline"));return{installationEntry:e,registrationPromise:n}}var r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},o=function(t,e){return h(this,void 0,void 0,function(){var n,r;return f(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,R(t,e)];case 1:return n=o.sent(),[4,F(t,n)];case 2:return o.sent(),[3,8];case 3:return C(r=o.sent())&&409===r.serverCode?[4,U(t)]:[3,5];case 4:return o.sent(),[3,7];case 5:return[4,F(t,{fid:e.fid,registrationStatus:0})];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}})})}(t,r);return{installationEntry:r,registrationPromise:o}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:z(t)}:{installationEntry:e}}(t,r);return e=o.registrationPromise,o.installationEntry})];case 1:return[2,(n.installationEntry=r.sent(),n.registrationPromise=e,n)]}})})}function z(t){return h(this,void 0,void 0,function(){var e;return f(this,function(n){switch(n.label){case 0:return[4,H(t)];case 1:e=n.sent(),n.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,M(100)];case 3:return n.sent(),[4,H(t)];case 4:return e=n.sent(),[3,2];case 5:if(0===e.registrationStatus)throw x.create("create-installation-failed");return[2]}})})}function H(t){return V(t,function(t){if(!t)throw x.create("installation-not-found");return K(t)?{fid:t.fid,registrationStatus:0}:t})}function K(t){return 1===t.registrationStatus&&t.registrationTime+w<Date.now()}function G(t,e){return h(this,void 0,void 0,function(){var n,r,body,o,l,c;return f(this,function(d){switch(d.label){case 0:return n=function(t,e){var n=e.fid;return O(t)+"/"+n+"/authTokens:generate"}(t,e),r=P(t,e),body={installation:{sdkVersion:_}},o={method:"POST",headers:r,body:JSON.stringify(body)},[4,fetch(n,o)];case 1:return(l=d.sent()).ok?[4,l.json()]:[3,3];case 2:return c=d.sent(),[2,A(c)];case 3:throw N("Generate Auth Token",l)}})})}function Q(t){return h(this,void 0,void 0,function(){var e,n,r;return f(this,function(o){switch(o.label){case 0:return[4,W(t)];case 1:return e=o.sent(),n=e.installationEntry,(r=e.registrationPromise)?[4,r]:[3,3];case 2:return o.sent(),[3,4];case 3:if(2!==n.registrationStatus)throw x.create("create-installation-failed");o.label=4;case 4:return[2]}})})}function Y(t){return h(this,void 0,void 0,function(){var e,n,r;return f(this,function(o){switch(o.label){case 0:return[4,V(t,function(n){if(!J(n))throw x.create("not-registered");var r,o=n.authToken;if(2!==(r=o).requestStatus||function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+T}(r)){if(1===o.requestStatus)return e=function(t){return h(this,void 0,void 0,function(){var e,n;return f(this,function(r){switch(r.label){case 0:return[4,X(t)];case 1:e=r.sent(),r.label=2;case 2:return 1!==e.authToken.requestStatus?[3,5]:[4,M(100)];case 3:return r.sent(),[4,X(t)];case 4:return e=r.sent(),[3,2];case 5:if(0===(n=e.authToken).requestStatus)throw x.create("generate-token-failed");return[2,n]}})})}(t),n;if(!navigator.onLine)throw x.create("app-offline");var l=function(t){var e={requestStatus:1,requestTime:Date.now()};return d({},t,{authToken:e})}(n);return e=function(t,e){return h(this,void 0,void 0,function(){var n,r,o;return f(this,function(l){switch(l.label){case 0:return l.trys.push([0,3,,8]),[4,G(t,e)];case 1:return n=l.sent(),o=d({},e,{authToken:n}),[4,F(t,o)];case 2:return l.sent(),[2,n];case 3:return!C(r=l.sent())||401!==r.serverCode&&404!==r.serverCode?[3,5]:[4,U(t)];case 4:return l.sent(),[3,7];case 5:return o=d({},e,{authToken:{requestStatus:0}}),[4,F(t,o)];case 6:l.sent(),l.label=7;case 7:throw r;case 8:return[2]}})})}(t,l),l}return n})];case 1:return n=o.sent(),e?[4,e]:[3,3];case 2:return r=o.sent(),[3,4];case 3:r=n.authToken,o.label=4;case 4:return[2,r.token]}})})}function X(t){return V(t,function(t){if(!J(t))throw x.create("not-registered");var e,n=t.authToken;return 1===(e=n).requestStatus&&e.requestTime+w<Date.now()?d({},t,{authToken:{requestStatus:0}}):t})}function J(t){return void 0!==t&&2===t.registrationStatus}function Z(t,e){return h(this,void 0,void 0,function(){var n,r,o;return f(this,function(l){switch(l.label){case 0:return n=function(t,e){var n=e.fid;return O(t)+"/"+n}(t,e),r=P(t,e),[4,fetch(n,{method:"DELETE",headers:r})];case 1:if(!(o=l.sent()).ok)throw N("Delete Installation",o);return[2]}})})}function tt(t){t.INTERNAL.registerService("installations",function(t){return I(t),{app:t,getId:function(){return function(t){return h(this,void 0,void 0,function(){var e,n,r;return f(this,function(o){switch(o.label){case 0:return[4,W(I(t))];case 1:return e=o.sent(),n=e.installationEntry,(r=e.registrationPromise)&&r.catch(function(){}),[2,n.fid]}})})}(t)},getToken:function(){return function(t){return h(this,void 0,void 0,function(){var e;return f(this,function(n){switch(n.label){case 0:return[4,Q(e=I(t))];case 1:return n.sent(),[2,Y(e)]}})})}(t)},delete:function(){return function(t){return h(this,void 0,void 0,function(){var e,n;return f(this,function(r){switch(r.label){case 0:return[4,V(e=I(t),function(t){if(!t||0!==t.registrationStatus)return t})];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw x.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw x.create("app-offline");case 3:return[4,Z(e,n)];case 4:return r.sent(),[4,U(e)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}(t)}}})}tt(o.a)},function(t,e,n){"use strict";n.r(e),n.d(e,"LogLevel",function(){return r}),n.d(e,"Logger",function(){return d}),n.d(e,"setLogLevel",function(){return h});var r,o=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(r||(r={}));var l=r.INFO,c=function(t,e){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];if(!(e<t.logLevel)){var l=(new Date).toISOString();switch(e){case r.DEBUG:case r.VERBOSE:console.log.apply(console,["["+l+"]  "+t.name+":"].concat(n));break;case r.INFO:console.info.apply(console,["["+l+"]  "+t.name+":"].concat(n));break;case r.WARN:console.warn.apply(console,["["+l+"]  "+t.name+":"].concat(n));break;case r.ERROR:console.error.apply(console,["["+l+"]  "+t.name+":"].concat(n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}}},d=function(){function t(t){this.name=t,this._logLevel=l,this._logHandler=c,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in r))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,r.DEBUG].concat(t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,r.VERBOSE].concat(t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,r.INFO].concat(t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,r.WARN].concat(t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,r.ERROR].concat(t))},t}();function h(t){o.forEach(function(e){e.logLevel=t})}},function(t,e,n){t.exports=f;var r=n(466),o=n(164),l=n(165),c=n(471),d=n(86),h=n(68);function f(){c.apply(this,arguments)}function m(){throw new h.AlgoliaSearchError("Not implemented in this environment.\nIf you feel this is a mistake, write to support@algolia.com")}d(f,c),f.prototype.deleteIndex=function(t,e){return this._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(t),hostType:"write",callback:e})},f.prototype.moveIndex=function(t,e,n){var r={operation:"move",destination:e};return this._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(t)+"/operation",body:r,hostType:"write",callback:n})},f.prototype.copyIndex=function(t,e,n,r){var o={operation:"copy",destination:e},l=r;if("function"==typeof n)l=n;else if(Array.isArray(n)&&n.length>0)o.scope=n;else if(void 0!==n)throw new Error("the scope given to `copyIndex` was not an array with settings, synonyms or rules");return this._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(t)+"/operation",body:o,hostType:"write",callback:l})},f.prototype.getLogs=function(t,e,r){var o=n(45),l={};return"object"==typeof t?(l=o(t),r=e):0===arguments.length||"function"==typeof t?r=t:1===arguments.length||"function"==typeof e?(r=e,l.offset=t):(l.offset=t,l.length=e),void 0===l.offset&&(l.offset=0),void 0===l.length&&(l.length=10),this._jsonRequest({method:"GET",url:"/1/logs?"+this._getSearchParams(l,""),hostType:"read",callback:r})},f.prototype.listIndexes=function(t,e){var n="";return void 0===t||"function"==typeof t?e=t:n="?page="+t,this._jsonRequest({method:"GET",url:"/1/indexes"+n,hostType:"read",callback:e})},f.prototype.initIndex=function(t){return new r(this,t)},f.prototype.initAnalytics=function(t){return n(475)(this.applicationID,this.apiKey,t)},f.prototype.listUserKeys=o(function(t){return this.listApiKeys(t)},l("client.listUserKeys()","client.listApiKeys()")),f.prototype.listApiKeys=function(t){return this._jsonRequest({method:"GET",url:"/1/keys",hostType:"read",callback:t})},f.prototype.getUserKeyACL=o(function(t,e){return this.getApiKey(t,e)},l("client.getUserKeyACL()","client.getApiKey()")),f.prototype.getApiKey=function(t,e){return this._jsonRequest({method:"GET",url:"/1/keys/"+t,hostType:"read",callback:e})},f.prototype.deleteUserKey=o(function(t,e){return this.deleteApiKey(t,e)},l("client.deleteUserKey()","client.deleteApiKey()")),f.prototype.deleteApiKey=function(t,e){return this._jsonRequest({method:"DELETE",url:"/1/keys/"+t,hostType:"write",callback:e})},f.prototype.restoreApiKey=function(t,e){return this._jsonRequest({method:"POST",url:"/1/keys/"+t+"/restore",hostType:"write",callback:e})},f.prototype.addUserKey=o(function(t,e,n){return this.addApiKey(t,e,n)},l("client.addUserKey()","client.addApiKey()")),f.prototype.addApiKey=function(t,e,r){if(!n(22)(t))throw new Error("Usage: client.addApiKey(arrayOfAcls[, params, callback])");1!==arguments.length&&"function"!=typeof e||(r=e,e=null);var o={acl:t};return e&&(o.validity=e.validity,o.maxQueriesPerIPPerHour=e.maxQueriesPerIPPerHour,o.maxHitsPerQuery=e.maxHitsPerQuery,o.indexes=e.indexes,o.description=e.description,e.queryParameters&&(o.queryParameters=this._getSearchParams(e.queryParameters,"")),o.referers=e.referers),this._jsonRequest({method:"POST",url:"/1/keys",body:o,hostType:"write",callback:r})},f.prototype.addUserKeyWithValidity=o(function(t,e,n){return this.addApiKey(t,e,n)},l("client.addUserKeyWithValidity()","client.addApiKey()")),f.prototype.updateUserKey=o(function(t,e,n,r){return this.updateApiKey(t,e,n,r)},l("client.updateUserKey()","client.updateApiKey()")),f.prototype.updateApiKey=function(t,e,r,o){if(!n(22)(e))throw new Error("Usage: client.updateApiKey(key, arrayOfAcls[, params, callback])");2!==arguments.length&&"function"!=typeof r||(o=r,r=null);var l={acl:e};return r&&(l.validity=r.validity,l.maxQueriesPerIPPerHour=r.maxQueriesPerIPPerHour,l.maxHitsPerQuery=r.maxHitsPerQuery,l.indexes=r.indexes,l.description=r.description,r.queryParameters&&(l.queryParameters=this._getSearchParams(r.queryParameters,"")),l.referers=r.referers),this._jsonRequest({method:"PUT",url:"/1/keys/"+t,body:l,hostType:"write",callback:o})},f.prototype.startQueriesBatch=o(function(){this._batch=[]},l("client.startQueriesBatch()","client.search()")),f.prototype.addQueryInBatch=o(function(t,e,n){this._batch.push({indexName:t,query:e,params:n})},l("client.addQueryInBatch()","client.search()")),f.prototype.sendQueriesBatch=o(function(t){return this.search(this._batch,t)},l("client.sendQueriesBatch()","client.search()")),f.prototype.batch=function(t,e){if(!n(22)(t))throw new Error("Usage: client.batch(operations[, callback])");return this._jsonRequest({method:"POST",url:"/1/indexes/*/batch",body:{requests:t},hostType:"write",callback:e})},f.prototype.assignUserID=function(data,t){if(!data.userID||!data.cluster)throw new h.AlgoliaSearchError("You have to provide both a userID and cluster",data);return this._jsonRequest({method:"POST",url:"/1/clusters/mapping",hostType:"write",body:{cluster:data.cluster},callback:t,headers:{"x-algolia-user-id":data.userID}})},f.prototype.getTopUserID=function(t){return this._jsonRequest({method:"GET",url:"/1/clusters/mapping/top",hostType:"read",callback:t})},f.prototype.getUserID=function(data,t){if(!data.userID)throw new h.AlgoliaSearchError("You have to provide a userID",{debugData:data});return this._jsonRequest({method:"GET",url:"/1/clusters/mapping/"+data.userID,hostType:"read",callback:t})},f.prototype.listClusters=function(t){return this._jsonRequest({method:"GET",url:"/1/clusters",hostType:"read",callback:t})},f.prototype.listUserIDs=function(data,t){return this._jsonRequest({method:"GET",url:"/1/clusters/mapping",body:data,hostType:"read",callback:t})},f.prototype.removeUserID=function(data,t){if(!data.userID)throw new h.AlgoliaSearchError("You have to provide a userID",{debugData:data});return this._jsonRequest({method:"DELETE",url:"/1/clusters/mapping",hostType:"write",callback:t,headers:{"x-algolia-user-id":data.userID}})},f.prototype.searchUserIDs=function(data,t){return this._jsonRequest({method:"POST",url:"/1/clusters/mapping/search",body:data,hostType:"read",callback:t})},f.prototype.setPersonalizationStrategy=function(data,t){return this._jsonRequest({method:"POST",url:"/1/recommendation/personalization/strategy",body:data,hostType:"write",callback:t})},f.prototype.getPersonalizationStrategy=function(t){return this._jsonRequest({method:"GET",url:"/1/recommendation/personalization/strategy",hostType:"read",callback:t})},f.prototype.destroy=m,f.prototype.enableRateLimitForward=m,f.prototype.disableRateLimitForward=m,f.prototype.useSecuredAPIKey=m,f.prototype.disableSecuredAPIKey=m,f.prototype.generateSecuredApiKey=m},function(t,e,n){var r=n(86),o=n(243),l=n(164),c=n(165),d=n(247),h=n(68),f=l(function(){},c("forwardToSlaves","forwardToReplicas"));function m(){o.apply(this,arguments)}function v(t,e,n){return function n(r,o){var l={page:r||0,hitsPerPage:e||100},c=o||[];return t(l).then(function(t){var e=t.hits,r=t.nbHits,o=e.map(function(s){return delete s._highlightResult,s}),d=c.concat(o);return d.length<r?n(l.page+1,d):d})}().then(function(data){if("function"!=typeof n)return data;n(data)})}t.exports=m,r(m,o),m.prototype.addObject=function(content,t,e){return 1!==arguments.length&&"function"!=typeof t||(e=t,t=void 0),this.as._jsonRequest({method:void 0!==t?"PUT":"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+(void 0!==t?"/"+encodeURIComponent(t):""),body:content,hostType:"write",callback:e})},m.prototype.addObjects=function(t,e){if(!n(22)(t))throw new Error("Usage: index.addObjects(arrayOfObjects[, callback])");for(var r={requests:[]},i=0;i<t.length;++i){var o={action:"addObject",body:t[i]};r.requests.push(o)}return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/batch",body:r,hostType:"write",callback:e})},m.prototype.partialUpdateObject=function(t,e,n){1!==arguments.length&&"function"!=typeof e||(n=e,e=void 0);var r="/1/indexes/"+encodeURIComponent(this.indexName)+"/"+encodeURIComponent(t.objectID)+"/partial";return!1===e&&(r+="?createIfNotExists=false"),this.as._jsonRequest({method:"POST",url:r,body:t,hostType:"write",callback:n})},m.prototype.partialUpdateObjects=function(t,e,r){1!==arguments.length&&"function"!=typeof e||(r=e,e=!0);if(!n(22)(t))throw new Error("Usage: index.partialUpdateObjects(arrayOfObjects[, callback])");for(var o={requests:[]},i=0;i<t.length;++i){var l={action:!0===e?"partialUpdateObject":"partialUpdateObjectNoCreate",objectID:t[i].objectID,body:t[i]};o.requests.push(l)}return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/batch",body:o,hostType:"write",callback:r})},m.prototype.saveObject=function(object,t){return this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/"+encodeURIComponent(object.objectID),body:object,hostType:"write",callback:t})},m.prototype.saveObjects=function(t,e){if(!n(22)(t))throw new Error("Usage: index.saveObjects(arrayOfObjects[, callback])");for(var r={requests:[]},i=0;i<t.length;++i){var o={action:"updateObject",objectID:t[i].objectID,body:t[i]};r.requests.push(o)}return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/batch",body:r,hostType:"write",callback:e})},m.prototype.deleteObject=function(t,e){if("function"==typeof t||"string"!=typeof t&&"number"!=typeof t){var n=new h.AlgoliaSearchError(t&&"function"!=typeof t?"ObjectID must be a string":"Cannot delete an object without an objectID");return"function"==typeof(e=t)?e(n):this.as._promise.reject(n)}return this.as._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/"+encodeURIComponent(t),hostType:"write",callback:e})},m.prototype.deleteObjects=function(t,e){var r=n(22),map=n(70);if(!r(t))throw new Error("Usage: index.deleteObjects(arrayOfObjectIDs[, callback])");var o={requests:map(t,function(t){return{action:"deleteObject",objectID:t,body:{objectID:t}}})};return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/batch",body:o,hostType:"write",callback:e})},m.prototype.deleteByQuery=l(function(t,e,r){var o=n(45),map=n(70),l=this,c=l.as;1===arguments.length||"function"==typeof e?(r=e,e={}):e=o(e),e.attributesToRetrieve="objectID",e.hitsPerPage=1e3,e.distinct=!1,this.clearCache();var h=this.search(t,e).then(function(t){if(0===t.nbHits)return t;var e=map(t.hits,function(object){return object.objectID});return l.deleteObjects(e).then(f).then(m)});function f(t){return l.waitTask(t.taskID)}function m(){return l.deleteByQuery(t,e)}if(!r)return h;h.then(function(){d(function(){r(null)},c._setTimeout||setTimeout)},function(t){d(function(){r(t)},c._setTimeout||setTimeout)})},c("index.deleteByQuery()","index.deleteBy()")),m.prototype.deleteBy=function(t,e){return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/deleteByQuery",body:{params:this.as._getSearchParams(t,"")},hostType:"write",callback:e})},m.prototype.browseAll=function(t,e){"object"==typeof t&&(e=t,t=void 0);var r=n(245),o=new(n(469)),l=this.as,c=this,d=l._getSearchParams(r({},e||{},{query:t}),"");function h(cursor){var body;o._stopped||(body=void 0!==cursor?{cursor:cursor}:{params:d},l._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(c.indexName)+"/browse",hostType:"read",body:body,callback:f}))}function f(t,content){o._stopped||(t?o._error(t):(o._result(content),void 0!==content.cursor?h(content.cursor):o._end()))}return h(),o},m.prototype.ttAdapter=l(function(t){var e=this;return function(n,r,o){var l;l="function"==typeof o?o:r,e.search(n,t,function(t,content){l(t||content.hits)})}},"ttAdapter is not necessary anymore and will be removed in the next version,\nhave a look at autocomplete.js (https://github.com/algolia/autocomplete.js)"),m.prototype.waitTask=function(t,e){var n=100,r=5e3,o=0,l=this,c=l.as,h=function e(){return c._jsonRequest({method:"GET",hostType:"read",url:"/1/indexes/"+encodeURIComponent(l.indexName)+"/task/"+t}).then(function(content){var t=n*++o*o;return t>r&&(t=r),"published"!==content.status?c._promise.delay(t).then(e):content})}();if(!e)return h;h.then(function(content){d(function(){e(null,content)},c._setTimeout||setTimeout)},function(t){d(function(){e(t)},c._setTimeout||setTimeout)})},m.prototype.clearIndex=function(t){return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/clear",hostType:"write",callback:t})},m.prototype.getSettings=function(t,e){1===arguments.length&&"function"==typeof t&&(e=t,t={}),t=t||{};var n=encodeURIComponent(this.indexName);return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+n+"/settings?getVersion=2"+(t.advanced?"&advanced="+t.advanced:""),hostType:"read",callback:e})},m.prototype.searchSynonyms=function(t,e){return"function"==typeof t?(e=t,t={}):void 0===t&&(t={}),this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/synonyms/search",body:t,hostType:"read",callback:e})},m.prototype.exportSynonyms=function(t,e){return v(this.searchSynonyms.bind(this),t,e)},m.prototype.saveSynonym=function(t,e,n){"function"==typeof e?(n=e,e={}):void 0===e&&(e={}),void 0!==e.forwardToSlaves&&f();var r=e.forwardToSlaves||e.forwardToReplicas?"true":"false";return this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/synonyms/"+encodeURIComponent(t.objectID)+"?forwardToReplicas="+r,body:t,hostType:"write",callback:n})},m.prototype.getSynonym=function(t,e){return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/synonyms/"+encodeURIComponent(t),hostType:"read",callback:e})},m.prototype.deleteSynonym=function(t,e,n){"function"==typeof e?(n=e,e={}):void 0===e&&(e={}),void 0!==e.forwardToSlaves&&f();var r=e.forwardToSlaves||e.forwardToReplicas?"true":"false";return this.as._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/synonyms/"+encodeURIComponent(t)+"?forwardToReplicas="+r,hostType:"write",callback:n})},m.prototype.clearSynonyms=function(t,e){"function"==typeof t?(e=t,t={}):void 0===t&&(t={}),void 0!==t.forwardToSlaves&&f();var n=t.forwardToSlaves||t.forwardToReplicas?"true":"false";return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/synonyms/clear?forwardToReplicas="+n,hostType:"write",callback:e})},m.prototype.batchSynonyms=function(t,e,n){"function"==typeof e?(n=e,e={}):void 0===e&&(e={}),void 0!==e.forwardToSlaves&&f();var r=e.forwardToSlaves||e.forwardToReplicas?"true":"false";return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/synonyms/batch?forwardToReplicas="+r+"&replaceExistingSynonyms="+(e.replaceExistingSynonyms?"true":"false"),hostType:"write",body:t,callback:n})},m.prototype.searchRules=function(t,e){return"function"==typeof t?(e=t,t={}):void 0===t&&(t={}),this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/rules/search",body:t,hostType:"read",callback:e})},m.prototype.exportRules=function(t,e){return v(this.searchRules.bind(this),t,e)},m.prototype.saveRule=function(t,e,n){if("function"==typeof e?(n=e,e={}):void 0===e&&(e={}),!t.objectID)throw new h.AlgoliaSearchError("Missing or empty objectID field for rule");var r=!0===e.forwardToReplicas?"true":"false";return this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/rules/"+encodeURIComponent(t.objectID)+"?forwardToReplicas="+r,body:t,hostType:"write",callback:n})},m.prototype.getRule=function(t,e){return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/rules/"+encodeURIComponent(t),hostType:"read",callback:e})},m.prototype.deleteRule=function(t,e,n){"function"==typeof e?(n=e,e={}):void 0===e&&(e={});var r=!0===e.forwardToReplicas?"true":"false";return this.as._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/rules/"+encodeURIComponent(t)+"?forwardToReplicas="+r,hostType:"write",callback:n})},m.prototype.clearRules=function(t,e){"function"==typeof t?(e=t,t={}):void 0===t&&(t={});var n=!0===t.forwardToReplicas?"true":"false";return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/rules/clear?forwardToReplicas="+n,hostType:"write",callback:e})},m.prototype.batchRules=function(t,e,n){"function"==typeof e?(n=e,e={}):void 0===e&&(e={});var r=!0===e.forwardToReplicas?"true":"false";return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/rules/batch?forwardToReplicas="+r+"&clearExistingRules="+(!0===e.clearExistingRules?"true":"false"),hostType:"write",body:t,callback:n})},m.prototype.setSettings=function(t,e,n){1!==arguments.length&&"function"!=typeof e||(n=e,e={}),void 0!==e.forwardToSlaves&&f();var r=e.forwardToSlaves||e.forwardToReplicas?"true":"false";return this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/settings?forwardToReplicas="+r,hostType:"write",body:t,callback:n})},m.prototype.listUserKeys=l(function(t){return this.listApiKeys(t)},c("index.listUserKeys()","client.listApiKeys()")),m.prototype.listApiKeys=l(function(t){return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/keys",hostType:"read",callback:t})},c("index.listApiKeys()","client.listApiKeys()")),m.prototype.getUserKeyACL=l(function(t,e){return this.getApiKey(t,e)},c("index.getUserKeyACL()","client.getApiKey()")),m.prototype.getApiKey=l(function(t,e){return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/keys/"+t,hostType:"read",callback:e})},c("index.getApiKey()","client.getApiKey()")),m.prototype.deleteUserKey=l(function(t,e){return this.deleteApiKey(t,e)},c("index.deleteUserKey()","client.deleteApiKey()")),m.prototype.deleteApiKey=l(function(t,e){return this.as._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/keys/"+t,hostType:"write",callback:e})},c("index.deleteApiKey()","client.deleteApiKey()")),m.prototype.addUserKey=l(function(t,e,n){return this.addApiKey(t,e,n)},c("index.addUserKey()","client.addApiKey()")),m.prototype.addApiKey=l(function(t,e,r){if(!n(22)(t))throw new Error("Usage: index.addApiKey(arrayOfAcls[, params, callback])");1!==arguments.length&&"function"!=typeof e||(r=e,e=null);var o={acl:t};return e&&(o.validity=e.validity,o.maxQueriesPerIPPerHour=e.maxQueriesPerIPPerHour,o.maxHitsPerQuery=e.maxHitsPerQuery,o.description=e.description,e.queryParameters&&(o.queryParameters=this.as._getSearchParams(e.queryParameters,"")),o.referers=e.referers),this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/keys",body:o,hostType:"write",callback:r})},c("index.addApiKey()","client.addApiKey()")),m.prototype.addUserKeyWithValidity=l(function(t,e,n){return this.addApiKey(t,e,n)},c("index.addUserKeyWithValidity()","client.addApiKey()")),m.prototype.updateUserKey=l(function(t,e,n,r){return this.updateApiKey(t,e,n,r)},c("index.updateUserKey()","client.updateApiKey()")),m.prototype.updateApiKey=l(function(t,e,r,o){if(!n(22)(e))throw new Error("Usage: index.updateApiKey(key, arrayOfAcls[, params, callback])");2!==arguments.length&&"function"!=typeof r||(o=r,r=null);var l={acl:e};return r&&(l.validity=r.validity,l.maxQueriesPerIPPerHour=r.maxQueriesPerIPPerHour,l.maxHitsPerQuery=r.maxHitsPerQuery,l.description=r.description,r.queryParameters&&(l.queryParameters=this.as._getSearchParams(r.queryParameters,"")),l.referers=r.referers),this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/keys/"+t,body:l,hostType:"write",callback:o})},c("index.updateApiKey()","client.updateApiKey()"))},function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty,o=Object.prototype.toString,l=Array.prototype.slice,c=n(468),d=Object.prototype.propertyIsEnumerable,h=!d.call({toString:null},"toString"),f=d.call(function(){},"prototype"),m=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],v=function(t){var e=t.constructor;return e&&e.prototype===t},y={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},w=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!y["$"+t]&&r.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{v(window[t])}catch(t){return!0}}catch(t){return!0}return!1}(),_=function(object){var t=null!==object&&"object"==typeof object,e="[object Function]"===o.call(object),n=c(object),l=t&&"[object String]"===o.call(object),d=[];if(!t&&!e&&!n)throw new TypeError("Object.keys called on a non-object");var y=f&&e;if(l&&object.length>0&&!r.call(object,0))for(var i=0;i<object.length;++i)d.push(String(i));if(n&&object.length>0)for(var _=0;_<object.length;++_)d.push(String(_));else for(var S in object)y&&"prototype"===S||!r.call(object,S)||d.push(String(S));if(h)for(var E=function(t){if("undefined"==typeof window||!w)return v(t);try{return v(t)}catch(t){return!1}}(object),T=0;T<m.length;++T)E&&"constructor"===m[T]||!r.call(object,m[T])||d.push(m[T]);return d};_.shim=function(){if(Object.keys){if(!function(){return 2===(Object.keys(arguments)||"").length}(1,2)){var t=Object.keys;Object.keys=function(object){return c(object)?t(l.call(object)):t(object)}}}else Object.keys=_;return Object.keys||_},t.exports=_},function(t,e,n){"use strict";var r=Object.prototype.toString;t.exports=function(t){var e=r.call(t),n="[object Arguments]"===e;return n||(n="[object Array]"!==e&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===r.call(t.callee)),n}},function(t,e,n){"use strict";function r(){}t.exports=r,n(86)(r,n(470).EventEmitter),r.prototype.stop=function(){this._stopped=!0,this._clean()},r.prototype._end=function(){this.emit("end"),this._clean()},r.prototype._error=function(t){this.emit("error",t),this._clean()},r.prototype._result=function(content){this.emit("result",content)},r.prototype._clean=function(){this.removeAllListeners("stop"),this.removeAllListeners("end"),this.removeAllListeners("error"),this.removeAllListeners("result")}},function(t,e,n){"use strict";var r,o="object"==typeof Reflect?Reflect:null,l=o&&"function"==typeof o.apply?o.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};r=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var c=Number.isNaN||function(t){return t!=t};function d(){d.init.call(this)}t.exports=d,d.EventEmitter=d,d.prototype._events=void 0,d.prototype._eventsCount=0,d.prototype._maxListeners=void 0;var h=10;function f(t){return void 0===t._maxListeners?d.defaultMaxListeners:t._maxListeners}function m(t,e,n,r){var o,l,c,d;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(l=t._events)?(l=t._events=Object.create(null),t._eventsCount=0):(void 0!==l.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),l=t._events),c=l[e]),void 0===c)c=l[e]=n,++t._eventsCount;else if("function"==typeof c?c=l[e]=r?[n,c]:[c,n]:r?c.unshift(n):c.push(n),(o=f(t))>0&&c.length>o&&!c.warned){c.warned=!0;var h=new Error("Possible EventEmitter memory leak detected. "+c.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");h.name="MaxListenersExceededWarning",h.emitter=t,h.type=e,h.count=c.length,d=h,console&&console.warn&&console.warn(d)}return t}function v(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},o=function(){for(var t=[],i=0;i<arguments.length;i++)t.push(arguments[i]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,l(this.listener,this.target,t))}.bind(r);return o.listener=n,r.wrapFn=o,o}function y(t,e,n){var r=t._events;if(void 0===r)return[];var o=r[e];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(t){for(var e=new Array(t.length),i=0;i<e.length;++i)e[i]=t[i].listener||t[i];return e}(o):_(o,o.length)}function w(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function _(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t[i];return n}Object.defineProperty(d,"defaultMaxListeners",{enumerable:!0,get:function(){return h},set:function(t){if("number"!=typeof t||t<0||c(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");h=t}}),d.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},d.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||c(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},d.prototype.getMaxListeners=function(){return f(this)},d.prototype.emit=function(t){for(var e=[],i=1;i<arguments.length;i++)e.push(arguments[i]);var n="error"===t,r=this._events;if(void 0!==r)n=n&&void 0===r.error;else if(!n)return!1;if(n){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var c=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw c.context=o,c}var d=r[t];if(void 0===d)return!1;if("function"==typeof d)l(d,this,e);else{var h=d.length,f=_(d,h);for(i=0;i<h;++i)l(f[i],this,e)}return!0},d.prototype.addListener=function(t,e){return m(this,t,e,!1)},d.prototype.on=d.prototype.addListener,d.prototype.prependListener=function(t,e){return m(this,t,e,!0)},d.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.on(t,v(this,t,e)),this},d.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.prependListener(t,v(this,t,e)),this},d.prototype.removeListener=function(t,e){var n,r,o,i,l;if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);if(void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===e||n[i].listener===e){l=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,o),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,l||e)}return this},d.prototype.off=d.prototype.removeListener,d.prototype.removeAllListeners=function(t){var e,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var r,o=Object.keys(n);for(i=0;i<o.length;++i)"removeListener"!==(r=o[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(i=e.length-1;i>=0;i--)this.removeListener(t,e[i]);return this},d.prototype.listeners=function(t){return y(this,t,!0)},d.prototype.rawListeners=function(t){return y(this,t,!1)},d.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):w.call(t,e)},d.prototype.listenerCount=w,d.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(t,e,n){(function(e){t.exports=h;var r=n(68),o=n(247),l=n(243),c=n(472),d=e.env.RESET_APP_DATA_TIMER&&parseInt(e.env.RESET_APP_DATA_TIMER,10)||12e4;function h(t,e,o){var l=n(114)("algoliasearch"),c=n(45),d=n(22),map=n(70),h="Usage: algoliasearch(applicationID, apiKey, opts)";if(!0!==o._allowEmptyCredentials&&!t)throw new r.AlgoliaSearchError("Please provide an application ID. "+h);if(!0!==o._allowEmptyCredentials&&!e)throw new r.AlgoliaSearchError("Please provide an API key. "+h);this.applicationID=t,this.apiKey=e,this.hosts={read:[],write:[]},o=o||{},this._timeouts=o.timeouts||{connect:1e3,read:2e3,write:3e4},o.timeout&&(this._timeouts.connect=this._timeouts.read=this._timeouts.write=o.timeout);var m=o.protocol||"https:";if(/:$/.test(m)||(m+=":"),"http:"!==m&&"https:"!==m)throw new r.AlgoliaSearchError("protocol must be `http:` or `https:` (was `"+o.protocol+"`)");if(this._checkAppIdData(),o.hosts)d(o.hosts)?(this.hosts.read=c(o.hosts),this.hosts.write=c(o.hosts)):(this.hosts.read=c(o.hosts.read),this.hosts.write=c(o.hosts.write));else{var v=map(this._shuffleResult,function(e){return t+"-"+e+".algolianet.com"}),y=(!1===o.dsn?"":"-dsn")+".algolia.net";this.hosts.read=[this.applicationID+y].concat(v),this.hosts.write=[this.applicationID+".algolia.net"].concat(v)}this.hosts.read=map(this.hosts.read,f(m)),this.hosts.write=map(this.hosts.write,f(m)),this.extraHeaders={},this.cache=o._cache||{},this._ua=o._ua,this._useCache=!(void 0!==o._useCache&&!o._cache)||o._useCache,this._useRequestCache=this._useCache&&o._useRequestCache,this._useFallback=void 0===o.useFallback||o.useFallback,this._setTimeout=o._setTimeout,l("init done, %j",this)}function f(t){return function(e){return t+"//"+e.toLowerCase()}}function m(t){if(void 0===Array.prototype.toJSON)return JSON.stringify(t);var e=Array.prototype.toJSON;delete Array.prototype.toJSON;var n=JSON.stringify(t);return Array.prototype.toJSON=e,n}function v(t){var e={};for(var n in t){var r;if(Object.prototype.hasOwnProperty.call(t,n))r="x-algolia-api-key"===n||"x-algolia-application-id"===n?"**hidden for security purposes**":t[n],e[n]=r}return e}h.prototype.initIndex=function(t){return new l(this,t)},h.prototype.setExtraHeader=function(t,e){this.extraHeaders[t.toLowerCase()]=e},h.prototype.getExtraHeader=function(t){return this.extraHeaders[t.toLowerCase()]},h.prototype.unsetExtraHeader=function(t){delete this.extraHeaders[t.toLowerCase()]},h.prototype.addAlgoliaAgent=function(t){var e="; "+t;-1===this._ua.indexOf(e)&&(this._ua+=e)},h.prototype._jsonRequest=function(t){this._checkAppIdData();var body,e,l,c=n(114)("algoliasearch:"+t.url),d=t.additionalUA||"",h=t.cache,f=this,y=0,w=!1,_=f._useFallback&&f._request.fallback&&t.fallback;this.apiKey.length>500&&void 0!==t.body&&(void 0!==t.body.params||void 0!==t.body.requests)?(t.body.apiKey=this.apiKey,l=this._computeRequestHeaders({additionalUA:d,withApiKey:!1,headers:t.headers})):l=this._computeRequestHeaders({additionalUA:d,headers:t.headers}),void 0!==t.body&&(body=m(t.body)),c("request start");var S=[];function E(t,e,n){return f._useCache&&t&&e&&void 0!==e[n]}function T(n,r){if(E(f._useRequestCache,h,e)&&n.catch(function(){delete h[e]}),"function"!=typeof t.callback)return n.then(r);n.then(function(content){o(function(){t.callback(null,r(content))},f._setTimeout||setTimeout)},function(e){o(function(){t.callback(e)},f._setTimeout||setTimeout)})}if(f._useCache&&f._useRequestCache&&(e=t.url),f._useCache&&f._useRequestCache&&body&&(e+="_body_"+body),E(f._useRequestCache,h,e)){c("serving request from cache");var k=h[e];return T("function"!=typeof k.then?f._promise.resolve({responseText:k}):k,function(content){return JSON.parse(content.responseText)})}var x=function n(o,T){f._checkAppIdData();var k=new Date;if(f._useCache&&!f._useRequestCache&&(e=t.url),f._useCache&&!f._useRequestCache&&body&&(e+="_body_"+T.body),E(!f._useRequestCache,h,e)){c("serving response from cache");var x=h[e];return f._promise.resolve({body:JSON.parse(x),responseText:x})}if(y>=f.hosts[t.hostType].length)return!_||w?(c("could not get any response"),f._promise.reject(new r.AlgoliaSearchError("Cannot connect to the AlgoliaSearch API. Send an email to support@algolia.com to report and resolve the issue. Application id was: "+f.applicationID,{debugData:S}))):(c("switching to fallback"),y=0,T.method=t.fallback.method,T.url=t.fallback.url,T.jsonBody=t.fallback.body,T.jsonBody&&(T.body=m(T.jsonBody)),l=f._computeRequestHeaders({additionalUA:d,headers:t.headers}),T.timeouts=f._getTimeoutsForRequest(t.hostType),f._setHostIndexByType(0,t.hostType),w=!0,n(f._request.fallback,T));var C=f._getHostByType(t.hostType),I=C+T.url,O={body:T.body,jsonBody:T.jsonBody,method:T.method,headers:l,timeouts:T.timeouts,debug:c,forceAuthHeaders:T.forceAuthHeaders};return c("method: %s, url: %s, headers: %j, timeouts: %d",O.method,I,O.headers,O.timeouts),o===f._request.fallback&&c("using fallback"),o.call(f,I,O).then(function(t){var n=t&&t.body&&t.body.message&&t.body.status||t.statusCode||t&&t.body&&200;c("received response: statusCode: %s, computed statusCode: %d, headers: %j",t.statusCode,n,t.headers);var o=2===Math.floor(n/100),d=new Date;if(S.push({currentHost:C,headers:v(l),content:body||null,contentLength:void 0!==body?body.length:null,method:T.method,timeouts:T.timeouts,url:T.url,startTime:k,endTime:d,duration:d-k,statusCode:n}),o)return f._useCache&&!f._useRequestCache&&h&&(h[e]=t.responseText),{responseText:t.responseText,body:t.body};if(4!==Math.floor(n/100))return y+=1,A();c("unrecoverable error");var m=new r.AlgoliaSearchError(t.body&&t.body.message,{debugData:S,statusCode:n});return f._promise.reject(m)},function(e){c("error: %s, stack: %s",e.message,e.stack);var d=new Date;return S.push({currentHost:C,headers:v(l),content:body||null,contentLength:void 0!==body?body.length:null,method:T.method,timeouts:T.timeouts,url:T.url,startTime:k,endTime:d,duration:d-k}),e instanceof r.AlgoliaSearchError||(e=new r.Unknown(e&&e.message,e)),y+=1,e instanceof r.Unknown||e instanceof r.UnparsableJSON||y>=f.hosts[t.hostType].length&&(w||!_)?(e.debugData=S,f._promise.reject(e)):e instanceof r.RequestTimeout?(c("retrying request with higher timeout"),f._incrementHostIndex(t.hostType),f._incrementTimeoutMultipler(),T.timeouts=f._getTimeoutsForRequest(t.hostType),n(o,T)):A()});function A(){return c("retrying request"),f._incrementHostIndex(t.hostType),n(o,T)}}(f._request,{url:t.url,method:t.method,body:body,jsonBody:t.body,timeouts:f._getTimeoutsForRequest(t.hostType),forceAuthHeaders:t.forceAuthHeaders});return f._useCache&&f._useRequestCache&&h&&(h[e]=x),T(x,function(content){return content.body})},h.prototype._getSearchParams=function(t,e){if(null==t)return e;for(var n in t)null!==n&&void 0!==t[n]&&t.hasOwnProperty(n)&&(e+=""===e?"":"&",e+=n+"="+encodeURIComponent("[object Array]"===Object.prototype.toString.call(t[n])?m(t[n]):t[n]));return e},h.prototype._computeRequestHeaders=function(t){var e=n(69),r={"x-algolia-agent":t.additionalUA?this._ua+"; "+t.additionalUA:this._ua,"x-algolia-application-id":this.applicationID};return!1!==t.withApiKey&&(r["x-algolia-api-key"]=this.apiKey),this.userToken&&(r["x-algolia-usertoken"]=this.userToken),this.securityTags&&(r["x-algolia-tagfilters"]=this.securityTags),e(this.extraHeaders,function(t,e){r[e]=t}),t.headers&&e(t.headers,function(t,e){r[e]=t}),r},h.prototype.search=function(t,e,r){var o=n(22),map=n(70);if(!o(t))throw new Error("Usage: client.search(arrayOfQueries[, callback])");"function"==typeof e?(r=e,e={}):void 0===e&&(e={});var l=this,c={requests:map(t,function(t){var e="";return void 0!==t.query&&(e+="query="+encodeURIComponent(t.query)),{indexName:t.indexName,params:l._getSearchParams(t.params,e)}})},d=map(c.requests,function(t,e){return e+"="+encodeURIComponent("/1/indexes/"+encodeURIComponent(t.indexName)+"?"+t.params)}).join("&");return void 0!==e.strategy&&(c.strategy=e.strategy),this._jsonRequest({cache:this.cache,method:"POST",url:"/1/indexes/*/queries",body:c,hostType:"read",fallback:{method:"GET",url:"/1/indexes/*",body:{params:d}},callback:r})},h.prototype.searchForFacetValues=function(t){var e=n(22),map=n(70),r="Usage: client.searchForFacetValues([{indexName, params: {facetName, facetQuery, ...params}}, ...queries])";if(!e(t))throw new Error(r);var o=this;return o._promise.all(map(t,function(t){if(!t||void 0===t.indexName||void 0===t.params.facetName||void 0===t.params.facetQuery)throw new Error(r);var e=n(45),l=n(246),c=t.indexName,d=t.params,h=d.facetName,f=l(e(d),function(t){return"facetName"===t}),m=o._getSearchParams(f,"");return o._jsonRequest({cache:o.cache,method:"POST",url:"/1/indexes/"+encodeURIComponent(c)+"/facets/"+encodeURIComponent(h)+"/query",hostType:"read",body:{params:m}})}))},h.prototype.setSecurityTags=function(t){if("[object Array]"===Object.prototype.toString.call(t)){for(var e=[],i=0;i<t.length;++i)if("[object Array]"===Object.prototype.toString.call(t[i])){for(var n=[],r=0;r<t[i].length;++r)n.push(t[i][r]);e.push("("+n.join(",")+")")}else e.push(t[i]);t=e.join(",")}this.securityTags=t},h.prototype.setUserToken=function(t){this.userToken=t},h.prototype.clearCache=function(){this.cache={}},h.prototype.setRequestTimeout=function(t){t&&(this._timeouts.connect=this._timeouts.read=this._timeouts.write=t)},h.prototype.setTimeouts=function(t){this._timeouts=t},h.prototype.getTimeouts=function(){return this._timeouts},h.prototype._getAppIdData=function(){var data=c.get(this.applicationID);return null!==data&&this._cacheAppIdData(data),data},h.prototype._setAppIdData=function(data){return data.lastChange=(new Date).getTime(),this._cacheAppIdData(data),c.set(this.applicationID,data)},h.prototype._checkAppIdData=function(){var data=this._getAppIdData(),t=(new Date).getTime();return null===data||t-data.lastChange>d?this._resetInitialAppIdData(data):data},h.prototype._resetInitialAppIdData=function(data){var t=data||{};return t.hostIndexes={read:0,write:0},t.timeoutMultiplier=1,t.shuffleResult=t.shuffleResult||function(t){var e,n,r=t.length;for(;0!==r;)n=Math.floor(Math.random()*r),e=t[r-=1],t[r]=t[n],t[n]=e;return t}([1,2,3]),this._setAppIdData(t)},h.prototype._cacheAppIdData=function(data){this._hostIndexes=data.hostIndexes,this._timeoutMultiplier=data.timeoutMultiplier,this._shuffleResult=data.shuffleResult},h.prototype._partialAppIdDataUpdate=function(t){var e=n(69),r=this._getAppIdData();return e(t,function(t,e){r[e]=t}),this._setAppIdData(r)},h.prototype._getHostByType=function(t){return this.hosts[t][this._getHostIndexByType(t)]},h.prototype._getTimeoutMultiplier=function(){return this._timeoutMultiplier},h.prototype._getHostIndexByType=function(t){return this._hostIndexes[t]},h.prototype._setHostIndexByType=function(t,e){var r=n(45)(this._hostIndexes);return r[e]=t,this._partialAppIdDataUpdate({hostIndexes:r}),t},h.prototype._incrementHostIndex=function(t){return this._setHostIndexByType((this._getHostIndexByType(t)+1)%this.hosts[t].length,t)},h.prototype._incrementTimeoutMultipler=function(){var t=Math.max(this._timeoutMultiplier+1,4);return this._partialAppIdDataUpdate({timeoutMultiplier:t})},h.prototype._getTimeoutsForRequest=function(t){return{connect:this._timeouts.connect*this._timeoutMultiplier,complete:this._timeouts[t]*this._timeoutMultiplier}}}).call(this,n(43))},function(t,e,n){(function(e){var r,o=n(114)("algoliasearch:src/hostIndexState.js"),l="algoliasearch-client-js",c={state:{},set:function(t,data){return this.state[t]=data,this.state[t]},get:function(t){return this.state[t]||null}},d={set:function(t,data){c.set(t,data);try{var n=JSON.parse(e.localStorage[l]);return n[t]=data,e.localStorage[l]=JSON.stringify(n),n[t]}catch(e){return h(t,e)}},get:function(t){try{return JSON.parse(e.localStorage[l])[t]||null}catch(e){return h(t,e)}}};function h(t,n){return o("localStorage failed with",n),function(){try{e.localStorage.removeItem(l)}catch(t){}}(),(r=c).get(t)}function f(t,data){return 1===arguments.length?r.get(t):r.set(t,data)}function m(){try{return"localStorage"in e&&null!==e.localStorage&&(e.localStorage[l]||e.localStorage.setItem(l,JSON.stringify({})),!0)}catch(t){return!1}}r=m()?d:c,t.exports={get:f,set:f,supportsLocalStorage:m}}).call(this,n(18))},function(t,e,n){var r;function o(t){function n(){if(n.enabled){var t=n,o=+new Date,l=o-(r||o);t.diff=l,t.prev=r,t.curr=o,r=o;for(var c=new Array(arguments.length),i=0;i<c.length;i++)c[i]=arguments[i];c[0]=e.coerce(c[0]),"string"!=typeof c[0]&&c.unshift("%O");var d=0;c[0]=c[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;d++;var o=e.formatters[r];if("function"==typeof o){var l=c[d];n=o.call(t,l),c.splice(d,1),d--}return n}),e.formatArgs.call(t,c),(n.log||e.log||console.log.bind(console)).apply(t,c)}}return n.namespace=t,n.enabled=e.enabled(t),n.useColors=e.useColors(),n.color=function(t){var i,n=0;for(i in t)n=(n<<5)-n+t.charCodeAt(i),n|=0;return e.colors[Math.abs(n)%e.colors.length]}(t),"function"==typeof e.init&&e.init(n),n}(e=t.exports=o.debug=o.default=o).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){e.save(t),e.names=[],e.skips=[];for(var n=("string"==typeof t?t:"").split(/[\s,]+/),r=n.length,i=0;i<r;i++)n[i]&&("-"===(t=n[i].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))},e.enabled=function(t){var i,n;for(i=0,n=e.skips.length;i<n;i++)if(e.skips[i].test(t))return!1;for(i=0,n=e.names.length;i<n;i++)if(e.names[i].test(t))return!0;return!1},e.humanize=n(474),e.names=[],e.skips=[],e.formatters={}},function(t,e){var s=1e3,n=60*s,r=60*n,o=24*r,l=365.25*o;function c(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}t.exports=function(t,e){e=e||{};var d,h=typeof t;if("string"===h&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(!e)return;var c=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*l;case"days":case"day":case"d":return c*o;case"hours":case"hour":case"hrs":case"hr":case"h":return c*r;case"minutes":case"minute":case"mins":case"min":case"m":return c*n;case"seconds":case"second":case"secs":case"sec":case"s":return c*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}(t);if("number"===h&&!1===isNaN(t))return e.long?c(d=t,o,"day")||c(d,r,"hour")||c(d,n,"minute")||c(d,s,"second")||d+" ms":function(t){if(t>=o)return Math.round(t/o)+"d";if(t>=r)return Math.round(t/r)+"h";if(t>=n)return Math.round(t/n)+"m";if(t>=s)return Math.round(t/s)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e,n){t.exports=function(t,e,n){var o={};return(n=n||{}).hosts=n.hosts||["analytics.algolia.com","analytics.algolia.com","analytics.algolia.com","analytics.algolia.com"],n.protocol=n.protocol||"https:",o.as=r(t,e,n),o.getABTests=function(t,e){var n=n||{},r=n.offset||0,o=n.limit||10;return this.as._jsonRequest({method:"GET",url:"/2/abtests?offset="+encodeURIComponent(r)+"&limit="+encodeURIComponent(o),hostType:"read",forceAuthHeaders:!0,callback:e})},o.getABTest=function(t,e){return this.as._jsonRequest({method:"GET",url:"/2/abtests/"+encodeURIComponent(t),hostType:"read",forceAuthHeaders:!0,callback:e})},o.addABTest=function(t,e){return this.as._jsonRequest({method:"POST",url:"/2/abtests",body:t,hostType:"read",forceAuthHeaders:!0,callback:e})},o.stopABTest=function(t,e){return this.as._jsonRequest({method:"POST",url:"/2/abtests/"+encodeURIComponent(t)+"/stop",hostType:"read",forceAuthHeaders:!0,callback:e})},o.deleteABTest=function(t,e){return this.as._jsonRequest({method:"DELETE",url:"/2/abtests/"+encodeURIComponent(t),hostType:"write",forceAuthHeaders:!0,callback:e})},o.waitTask=function(t,e,n){return this.as.initIndex(t).waitTask(e,n)},o};var r=n(242)},function(t,e,n){"use strict";var r=n(477),o=r.Promise||n(478).Promise;t.exports=function(t,e){var l=n(86),c=n(68),d=n(479),h=n(480),f=n(481);function m(t,e,r){return(r=n(45)(r||{}))._ua=r._ua||m.ua,new y(t,e,r)}e=e||"",m.version=n(484),m.ua="Algolia for JavaScript ("+m.version+"); "+e,m.initPlaces=f(m),r.__algolia={debug:n(114),algoliasearch:m};var v={hasXMLHttpRequest:"XMLHttpRequest"in r,hasXDomainRequest:"XDomainRequest"in r};function y(){t.apply(this,arguments)}return v.hasXMLHttpRequest&&(v.cors="withCredentials"in new XMLHttpRequest),l(y,t),y.prototype._request=function(t,e){return new o(function(n,r){if(v.cors||v.hasXDomainRequest){t=d(t,e.headers);var o,l,body=e.body,h=v.cors?new XMLHttpRequest:new XDomainRequest,f=!1;o=setTimeout(m,e.timeouts.connect),h.onprogress=function(){f||y()},"onreadystatechange"in h&&(h.onreadystatechange=function(){!f&&h.readyState>1&&y()}),h.onload=function(){if(l)return;var t;clearTimeout(o);try{t={body:JSON.parse(h.responseText),responseText:h.responseText,statusCode:h.status,headers:h.getAllResponseHeaders&&h.getAllResponseHeaders()||{}}}catch(e){t=new c.UnparsableJSON({more:h.responseText})}t instanceof c.UnparsableJSON?r(t):n(t)},h.onerror=function(t){if(l)return;clearTimeout(o),r(new c.Network({more:t}))},h instanceof XMLHttpRequest?(h.open(e.method,t,!0),e.forceAuthHeaders&&(h.setRequestHeader("x-algolia-application-id",e.headers["x-algolia-application-id"]),h.setRequestHeader("x-algolia-api-key",e.headers["x-algolia-api-key"]))):h.open(e.method,t),v.cors&&(body&&("POST"===e.method?h.setRequestHeader("content-type","application/x-www-form-urlencoded"):h.setRequestHeader("content-type","application/json")),h.setRequestHeader("accept","application/json")),body?h.send(body):h.send()}else r(new c.Network("CORS not supported"));function m(){l=!0,h.abort(),r(new c.RequestTimeout)}function y(){f=!0,clearTimeout(o),o=setTimeout(m,e.timeouts.complete)}})},y.prototype._request.fallback=function(t,e){return t=d(t,e.headers),new o(function(n,r){h(t,e,function(t,content){t?r(t):n(content)})})},y.prototype._promise={reject:function(t){return o.reject(t)},resolve:function(t){return o.resolve(t)},delay:function(t){return new o(function(e){setTimeout(e,t)})},all:function(t){return o.all(t)}},m}},function(t,e,n){(function(e){var n;n="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},t.exports=n}).call(this,n(18))},function(t,e,n){(function(e,n){var r;r=function(){"use strict";function t(t){return"function"==typeof t}var r=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},o=0,l=void 0,c=void 0,d=function(t,e){_[o]=t,_[o+1]=e,2===(o+=2)&&(c?c(S):C())},h="undefined"!=typeof window?window:void 0,f=h||{},m=f.MutationObserver||f.WebKitMutationObserver,v="undefined"==typeof self&&void 0!==e&&"[object process]"==={}.toString.call(e),y="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function w(){var t=setTimeout;return function(){return t(S,1)}}var _=new Array(1e3);function S(){for(var i=0;i<o;i+=2){(0,_[i])(_[i+1]),_[i]=void 0,_[i+1]=void 0}o=0}var E,T,k,x,C=void 0;function I(t,e){var n=this,r=new this.constructor(N);void 0===r[A]&&K(r);var o=n._state;if(o){var l=arguments[o-1];d(function(){return z(o,r,l,n._result)})}else $(n,r,t,e);return r}function O(object){if(object&&"object"==typeof object&&object.constructor===this)return object;var t=new this(N);return B(t,object),t}v?C=function(){return e.nextTick(S)}:m?(T=0,k=new m(S),x=document.createTextNode(""),k.observe(x,{characterData:!0}),C=function(){x.data=T=++T%2}):y?((E=new MessageChannel).port1.onmessage=S,C=function(){return E.port2.postMessage(0)}):C=void 0===h?function(){try{var t=Function("return this")().require("vertx");return void 0!==(l=t.runOnLoop||t.runOnContext)?function(){l(S)}:w()}catch(t){return w()}}():w();var A=Math.random().toString(36).substring(2);function N(){}var D=void 0,P=1,R=2,M={error:null};function L(t){try{return t.then}catch(t){return M.error=t,M}}function j(e,n,r){n.constructor===e.constructor&&r===I&&n.constructor.resolve===O?function(t,e){e._state===P?U(t,e._result):e._state===R?V(t,e._result):$(e,void 0,function(e){return B(t,e)},function(e){return V(t,e)})}(e,n):r===M?(V(e,M.error),M.error=null):void 0===r?U(e,n):t(r)?function(t,e,n){d(function(t){var r=!1,o=function(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}(n,e,function(n){r||(r=!0,e!==n?B(t,n):U(t,n))},function(e){r||(r=!0,V(t,e))},t._label);!r&&o&&(r=!0,V(t,o))},t)}(e,n,r):U(e,n)}function B(t,e){var n,r;t===e?V(t,new TypeError("You cannot resolve a promise with itself")):(r=typeof(n=e),null===n||"object"!==r&&"function"!==r?U(t,e):j(t,e,L(e)))}function F(t){t._onerror&&t._onerror(t._result),W(t)}function U(t,e){t._state===D&&(t._result=e,t._state=P,0!==t._subscribers.length&&d(W,t))}function V(t,e){t._state===D&&(t._state=R,t._result=e,d(F,t))}function $(t,e,n,r){var o=t._subscribers,l=o.length;t._onerror=null,o[l]=e,o[l+P]=n,o[l+R]=r,0===l&&t._state&&d(W,t)}function W(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,o=void 0,l=t._result,i=0;i<e.length;i+=3)r=e[i],o=e[i+n],r?z(n,r,o,l):o(l);t._subscribers.length=0}}function z(e,n,r,o){var l=t(r),c=void 0,d=void 0,h=void 0,f=void 0;if(l){if((c=function(t,e){try{return t(e)}catch(t){return M.error=t,M}}(r,o))===M?(f=!0,d=c.error,c.error=null):h=!0,n===c)return void V(n,new TypeError("A promises callback cannot return that same promise."))}else c=o,h=!0;n._state!==D||(l&&h?B(n,c):f?V(n,d):e===P?U(n,c):e===R&&V(n,c))}var H=0;function K(t){t[A]=H++,t._state=void 0,t._result=void 0,t._subscribers=[]}var G=function(){function t(t,input){this._instanceConstructor=t,this.promise=new t(N),this.promise[A]||K(this.promise),r(input)?(this.length=input.length,this._remaining=input.length,this._result=new Array(this.length),0===this.length?U(this.promise,this._result):(this.length=this.length||0,this._enumerate(input),0===this._remaining&&U(this.promise,this._result))):V(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(input){for(var i=0;this._state===D&&i<input.length;i++)this._eachEntry(input[i],i)},t.prototype._eachEntry=function(t,i){var e=this._instanceConstructor,n=e.resolve;if(n===O){var r=L(t);if(r===I&&t._state!==D)this._settledAt(t._state,i,t._result);else if("function"!=typeof r)this._remaining--,this._result[i]=t;else if(e===Q){var o=new e(N);j(o,t,r),this._willSettleAt(o,i)}else this._willSettleAt(new e(function(e){return e(t)}),i)}else this._willSettleAt(n(t),i)},t.prototype._settledAt=function(t,i,e){var n=this.promise;n._state===D&&(this._remaining--,t===R?V(n,e):this._result[i]=e),0===this._remaining&&U(n,this._result)},t.prototype._willSettleAt=function(t,i){var e=this;$(t,void 0,function(t){return e._settledAt(P,i,t)},function(t){return e._settledAt(R,i,t)})},t}(),Q=function(){function e(t){this[A]=H++,this._result=this._state=void 0,this._subscribers=[],N!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(t,e){try{e(function(e){B(t,e)},function(e){V(t,e)})}catch(e){V(t,e)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype.catch=function(t){return this.then(null,t)},e.prototype.finally=function(e){var n=this.constructor;return t(e)?this.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){throw t})}):this.then(e,e)},e}();return Q.prototype.then=I,Q.all=function(t){return new G(this,t).promise},Q.race=function(t){var e=this;return r(t)?new e(function(n,r){for(var o=t.length,i=0;i<o;i++)e.resolve(t[i]).then(n,r)}):new e(function(t,e){return e(new TypeError("You must pass an array to race."))})},Q.resolve=O,Q.reject=function(t){var e=new this(N);return V(e,t),e},Q._setScheduler=function(t){c=t},Q._setAsap=function(t){d=t},Q._asap=d,Q.polyfill=function(){var t=void 0;if(void 0!==n)t=n;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var r=null;try{r=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===r&&!e.cast)return}t.Promise=Q},Q.Promise=Q,Q},t.exports=r()}).call(this,n(43),n(18))},function(t,e,n){"use strict";t.exports=function(t,e){/\?/.test(t)?t+="&":t+="?";return t+r(e)};var r=n(248)},function(t,e,n){"use strict";t.exports=function(t,e,n){if("GET"!==e.method)return void n(new Error("Method "+e.method+" "+t+" is not supported by JSONP."));e.debug("JSONP: start");var l=!1,c=!1;o+=1;var head=document.getElementsByTagName("head")[0],script=document.createElement("script"),d="algoliaJSONP_"+o,h=!1;window[d]=function(data){!function(){try{delete window[d],delete window[d+"_loaded"]}catch(t){window[d]=window[d+"_loaded"]=void 0}}(),c?e.debug("JSONP: Late answer, ignoring"):(l=!0,v(),n(null,{body:data,responseText:JSON.stringify(data)}))},t+="&callback="+d,e.jsonBody&&e.jsonBody.params&&(t+="&"+e.jsonBody.params);var f=setTimeout(function(){e.debug("JSONP: Script timeout"),c=!0,v(),n(new r.RequestTimeout)},e.timeouts.complete);function m(){e.debug("JSONP: success"),h||c||(h=!0,l||(e.debug("JSONP: Fail. Script loaded but did not call the callback"),v(),n(new r.JSONPScriptFail)))}function v(){clearTimeout(f),script.onload=null,script.onreadystatechange=null,script.onerror=null,head.removeChild(script)}script.onreadystatechange=function(){"loaded"!==this.readyState&&"complete"!==this.readyState||m()},script.onload=m,script.onerror=function(){if(e.debug("JSONP: Script error"),h||c)return;v(),n(new r.JSONPScriptError)},script.async=!0,script.defer=!0,script.src=t,head.appendChild(script)};var r=n(68),o=0},function(t,e,n){t.exports=function(t){return function(e,l,c){var d=n(45);(c=c&&d(c)||{}).hosts=c.hosts||["places-dsn.algolia.net","places-1.algolianet.com","places-2.algolianet.com","places-3.algolianet.com"],0!==arguments.length&&"object"!=typeof e&&void 0!==e||(e="",l="",c._allowEmptyCredentials=!0);var h=t(e,l,c),f=h.initIndex("places");return f.search=o("query","/1/places/query"),f.reverse=function(t,e){var n=r.encode(t);return this.as._jsonRequest({method:"GET",url:"/1/places/reverse?"+n,hostType:"read",callback:e})},f.getObject=function(t,e){return this.as._jsonRequest({method:"GET",url:"/1/places/"+encodeURIComponent(t),hostType:"read",callback:e})},f}};var r=n(482),o=n(244)},function(t,e,n){"use strict";e.decode=e.parse=n(483),e.encode=e.stringify=n(248)},function(t,e,n){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,n,l){e=e||"&",n=n||"=";var c={};if("string"!=typeof t||0===t.length)return c;var d=/\+/g;t=t.split(e);var h=1e3;l&&"number"==typeof l.maxKeys&&(h=l.maxKeys);var f=t.length;h>0&&f>h&&(f=h);for(var i=0;i<f;++i){var m,v,y,w,_=t[i].replace(d,"%20"),S=_.indexOf(n);S>=0?(m=_.substr(0,S),v=_.substr(S+1)):(m=_,v=""),y=decodeURIComponent(m),w=decodeURIComponent(v),r(c,y)?o(c[y])?c[y].push(w):c[y]=[c[y],w]:c[y]=w}return c};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,n){"use strict";t.exports="3.33.0"},,function(t,e,n){"use strict";e.__esModule=!0;var r=n(487);e.Alert=r.default;var o=n(490);e.Badge=o.default;var l=n(492);e.Breadcrumb=l.default;var c=n(494);e.Button=c.default;var d=n(495);e.ButtonGroup=d.default;var h=n(497);e.ButtonToolbar=h.default;var f=n(499);e.InputGroup=f.default;var m=n(501);e.Card=m.default;var v=n(508);e.Carousel=v.default;var y=n(511);e.Layout=y.default;var w=n(266);e.Collapse=w.default;var _=n(174);e.Dropdown=_.default;var S=n(525);e.Embed=S.default;var E=n(527);e.Form=E.default;var T=n(530);e.FormGroup=T.default;var k=n(532);e.FormCheckbox=k.default;var x=n(535);e.FormRadio=x.default;var C=n(537);e.FormInput=C.default;var I=n(539);e.FormTextarea=I.default;var O=n(541);e.FormFile=O.default;var A=n(544);e.FormSelect=A.default;var N=n(546);e.Image=N.default;var D=n(547);e.Jumbotron=D.default;var P=n(549);e.Link=P.default;var R=n(550);e.ListGroup=R.default;var M=n(553);e.Media=M.default;var L=n(555);e.Modal=L.default;var j=n(284);e.Nav=j.default;var B=n(563);e.Navbar=B.default;var F=n(568);e.Pagination=F.default;var U=n(571);e.PaginationNav=U.default;var V=n(573);e.Popover=V.default;var $=n(577);e.Progress=$.default;var W=n(579);e.Spinner=W.default;var z=n(581);e.Table=z.default;var H=n(603);e.Tabs=H.default;var K=n(606);e.Tooltip=K.default},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(488),o=n(3),l={BAlert:r.default},c={install:(0,o.installFactory)({components:l})};e.default=c},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(166),o=n(16),l=n(6);var c={name:"BAlert",components:{BButtonClose:r.default},model:{prop:"show",event:"input"},props:{variant:{type:String,default:function(){return(0,o.getComponentConfig)("BAlert","variant")}},dismissible:{type:Boolean,default:!1},dismissLabel:{type:String,default:function(){return(0,o.getComponentConfig)("BAlert","dismissLabel")}},show:{type:[Boolean,Number],default:!1},fade:{type:Boolean,default:!1}},data:function(){return{countDownTimerId:null,dismissed:!1,localShow:this.show,showClass:this.fade&&this.show}},watch:{show:function(t){this.showChanged(t)},dismissed:function(t){t&&(this.localShow=!1,this.$emit("dismissed"))}},mounted:function(){this.showChanged(this.show)},destroyed:function(){this.clearCounter()},methods:{dismiss:function(){this.clearCounter(),"number"==typeof this.show?(this.$emit("dismiss-count-down",0),this.$emit("input",0)):this.$emit("input",!1),this.dismissed=!0},clearCounter:function(){this.countDownTimerId&&(clearInterval(this.countDownTimerId),this.countDownTimerId=null)},showChanged:function(t){var e=this;if(this.clearCounter(),this.dismissed=!1,this.localShow=Boolean(t),!0!==t&&!1!==t&&null!==t&&0!==t){var n=parseInt(t,10)||1;this.countDownTimerId=setInterval(function(){n<1?e.dismiss():(n--,e.$emit("dismiss-count-down",n),e.$emit("input",n))},1e3)}},onBeforeEnter:function(){var t=this;this.fade&&(0,l.requestAF)(function(){t.showClass=!0})},onBeforeLeave:function(){this.showClass=!1}},render:function(t){var e,n,r,o=this.$slots,l=t(!1);if(this.localShow){var c=t(!1);this.dismissible&&(c=t("b-button-close",{attrs:{"aria-label":this.dismissLabel},on:{click:this.dismiss}},[o.dismiss])),l=[l=t("div",{staticClass:"alert",class:(e={fade:this.fade,show:this.showClass,"alert-dismissible":this.dismissible},n="alert-".concat(this.variant),r=this.variant,n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e),attrs:{role:"alert","aria-live":"polite","aria-atomic":!0}},[c,o.default])]}return t("transition",{props:{mode:"out-in","enter-class":"","enter-active-class":"","enter-to-class":"","leave-class":"show","leave-active-class":"","leave-to-class":""},on:{beforeEnter:this.onBeforeEnter,beforeLeave:this.onBeforeLeave}},l)}};e.default=c},function(t,e,n){"use strict";e.__esModule=!0,e.default=e.cloneDeep=void 0;var r=n(5),o=n(7);function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t){return function(t){if(Array.isArray(t)){for(var i=0,e=new Array(t.length);i<t.length;i++)e[i]=t[i];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var d=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return(0,r.isArray)(e)?e.reduce(function(e,n){return[].concat(c(e),[t(n,n)])},[]):(0,o.isPlainObject)(e)?(0,o.keys)(e).reduce(function(n,r){return function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},e=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(source).filter(function(t){return Object.getOwnPropertyDescriptor(source,t).enumerable}))),e.forEach(function(e){l(t,e,source[e])})}return t}({},n,l({},r,t(e[r],e[r])))},{}):n};e.cloneDeep=d;var h=d;e.default=h},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(491),o=n(3),l={BBadge:r.default},c={install:(0,o.installFactory)({components:l})};e.default=c},function(t,e,n){"use strict";e.__esModule=!0,e.default=e.props=void 0;var r=n(2),o=n(16),l=n(57),c=n(32);function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var h=(0,c.propsFactory)();delete h.href.default,delete h.to.default;var f=function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},e=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(source).filter(function(t){return Object.getOwnPropertyDescriptor(source,t).enumerable}))),e.forEach(function(e){d(t,e,source[e])})}return t}({},h,{tag:{type:String,default:"span"},variant:{type:String,default:function(){return(0,o.getComponentConfig)("BBadge","variant")}},pill:{type:Boolean,default:!1}});e.props=f;var m={name:"BBadge",functional:!0,props:f,render:function(t,e){var n=e.props,data=e.data,d=e.children,f=n.href||n.to?c.default:n.tag,m={staticClass:"badge",class:["badge-".concat(n.variant||(0,o.getComponentConfig)("BBadge","variant")),{"badge-pill":Boolean(n.pill),active:n.active,disabled:n.disabled}],props:(0,l.default)(h,n)};return t(f,(0,r.mergeData)(data,m),d)}};e.default=m},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(493),o=n(251),l=n(252),c=n(3),d={BBreadcrumb:r.default,BBreadcrumbItem:o.default,BBreadcrumbLink:l.default},h={install:(0,c.installFactory)({components:d})};e.default=h},function(t,e,n){"use strict";e.__esModule=!0,e.default=e.props=void 0;var r=n(2),o=n(5),l=n(87),c=n(251);function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},e=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(source).filter(function(t){return Object.getOwnPropertyDescriptor(source,t).enumerable}))),e.forEach(function(e){h(t,e,source[e])})}return t}function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var m={items:{type:Array,default:null}};e.props=m;var v={name:"BBreadcrumb",functional:!0,props:m,render:function(t,e){var n=e.props,data=e.data,h=e.children;if((0,o.isArray)(n.items)){var m=!1;h=n.items.map(function(e,r){"object"!==f(e)&&(e={text:(0,l.default)(e)});var o=e.active;return o&&(m=!0),o||m||(o=r+1===n.items.length),t(c.default,{props:d({},e,{active:o})})})}return t("ol",(0,r.mergeData)(data,{staticClass:"breadcrumb"}),h)}};e.default=v},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(168),o=n(166),l=n(3),c={BButton:r.default,BBtn:r.default,BButtonClose:o.default,BBtnClose:o.default},d={install:(0,l.installFactory)({components:c})};e.default=d},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(496),o=n(3),l={BButtonGroup:r.default,BBtnGroup:r.default},c={install:(0,o.installFactory)({components:l})};e.default=c},function(t,e,n){"use strict";e.__esModule=!0,e.default=e.props=void 0;var r=n(2);var o={vertical:{type:Boolean,default:!1},size:{type:String,default:null},tag:{type:String,default:"div"},ariaRole:{type:String,default:"group"}};e.props=o;var l={name:"BButtonGroup",functional:!0,props:o,render:function(t,e){var n,o,l,c=e.props,data=e.data,d=e.children;return t(c.tag,(0,r.mergeData)(data,{class:(n={"btn-group":!c.vertical,"btn-group-vertical":c.vertical},o="btn-group-".concat(c.size),l=Boolean(c.size),o in n?Object.defineProperty(n,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):n[o]=l,n),attrs:{role:c.ariaRole}}),d)}};e.default=l},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(498),o=n(3),l={BButtonToolbar:r.default,BBtnToolbar:r.default},c={install:(0,o.installFactory)({components:l})};e.default=c},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(6),o=n(46),l=[".btn:not(.disabled):not([disabled]):not(.dropdown-item)",".form-control:not(.disabled):not([disabled])","select:not(.disabled):not([disabled])",'input[type="checkbox"]:not(.disabled)','input[type="radio"]:not(.disabled)'].join(","),c={name:"BButtonToolbar",props:{justify:{type:Boolean,default:!1},keyNav:{type:Boolean,default:!1}},mounted:function(){this.keyNav&&this.getItems()},methods:{onFocusin:function(t){t.target===this.$el&&(t.preventDefault(),t.stopPropagation(),this.focusFirst(t))},stop:function(t){t.preventDefault(),t.stopPropagation()},onKeydown:function(t){if(this.keyNav){var e=t.keyCode,n=t.shiftKey;e===o.default.UP||e===o.default.LEFT?(this.stop(t),n?this.focusFirst(t):this.focusPrev(t)):e!==o.default.DOWN&&e!==o.default.RIGHT||(this.stop(t),n?this.focusLast(t):this.focusNext(t))}},setItemFocus:function(t){t&&t.focus&&t.focus()},focusFirst:function(t){var e=this.getItems();this.setItemFocus(e[0])},focusPrev:function(t){var e=this.getItems(),n=e.indexOf(t.target);n>-1&&(e=e.slice(0,n).reverse(),this.setItemFocus(e[0]))},focusNext:function(t){var e=this.getItems(),n=e.indexOf(t.target);n>-1&&(e=e.slice(n+1),this.setItemFocus(e[0]))},focusLast:function(t){var e=this.getItems().reverse();this.setItemFocus(e[0])},getItems:function(){var t=(0,r.selectAll)(l,this.$el);return t.forEach(function(t){t.tabIndex=-1}),t.filter(function(t){return(0,r.isVisible)(t)})}},render:function(t){return t("div",{staticClass:"btn-toolbar",class:{"justify-content-between":this.justify},attrs:{role:"toolbar",tabindex:this.keyNav?"0":null},on:this.keyNav?{focusin:this.onFocusin,keydown:this.onKeydown}:{}},[this.$slots.default])}};e.default=c},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(500),o=n(169),l=n(253),c=n(254),d=n(170),h=n(3),f={BInputGroup:r.default,BInputGroupAddon:o.default,BInputGroupPrepend:l.default,BInputGroupAppend:c.default,BInputGroupText:d.default},m={install:(0,h.installFactory)({components:f})};e.default=m},function(t,e,n){"use strict";e.__esModule=!0,e.default=e.props=void 0;var r=n(2),o=n(253),l=n(254),c=n(170),d=n(10);function h(t){return function(t){if(Array.isArray(t)){for(var i=0,e=new Array(t.length);i<t.length;i++)e[i]=t[i];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var f={id:{type:String},size:{type:String},prepend:{type:String},prependHTML:{type:String},append:{type:String},appendHTML:{type:String},tag:{type:String,default:"div"}};e.props=f;var m={name:"BInputGroup",functional:!0,props:f,render:function(t,e){var n,f,m,v=e.props,data=e.data,y=(0,e.slots)(),w=[];return v.prepend?w.push(t(o.default,[t(c.default,{domProps:(0,d.htmlOrText)(v.prependHTML,v.prepend)})])):w.push(t(!1)),y.prepend?w.push(t(o.default,y.prepend)):w.push(t(!1)),y.default?w.push.apply(w,h(y.default)):w.push(t(!1)),v.append?w.push(t(l.default,[t(c.default,{domProps:(0,d.htmlOrText)(v.appendHTML,v.append)})])):w.push(t(!1)),y.append?w.push(t(l.default,y.append)):w.push(t(!1)),t(v.tag,(0,r.mergeData)(data,{staticClass:"input-group",class:(n={},f="input-group-".concat(v.size),m=Boolean(v.size),f in n?Object.defineProperty(n,f,{value:m,enumerable:!0,configurable:!0,writable:!0}):n[f]=m,n),attrs:{id:v.id||null,role:"group"}}),w)}};e.default=m},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(502),o=n(258),l=n(255),c=n(256),d=n(257),h=n(259),f=n(260),m=n(505),v=n(506),y=n(507),w=n(3),_={BCard:r.default,BCardHeader:o.default,BCardBody:l.default,BCardTitle:c.default,BCardSubTitle:d.default,BCardFooter:h.default,BCardImg:f.default,BCardImgLazy:m.default,BCardText:v.default,BCardGroup:y.default},S={install:(0,w.installFactory)({components:_})};e.default=S},function(t,e,n){"use strict";e.__esModule=!0,e.default=e.props=void 0;var r=n(2),o=n(115),l=n(503),c=n(116),d=n(57),h=n(117),f=n(255),m=n(258),v=n(259),y=n(260);function w(t){return function(t){if(Array.isArray(t)){for(var i=0,e=new Array(t.length);i<t.length;i++)e[i]=t[i];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var S=(0,c.default)(y.props,o.default.bind(null,"img"));S.imgSrc.required=!1;var E=function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},e=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(source).filter(function(t){return Object.getOwnPropertyDescriptor(source,t).enumerable}))),e.forEach(function(e){_(t,e,source[e])})}return t}({},f.props,m.props,v.props,S,(0,c.default)(h.default.props),{align:{type:String,default:null},noBody:{type:Boolean,default:!1}});e.props=E;var T={name:"BCard",functional:!0,props:E,render:function(t,e){var n,o=e.props,data=e.data,c=(0,e.slots)(),h=t(!1),header=t(!1),content=t(!1),footer=t(!1),E=t(!1);if(o.imgSrc){var img=t(y.default,{props:(0,d.default)(S,o,l.default.bind(null,"img"))});o.imgBottom?E=img:h=img}return(o.header||c.header)&&(header=t(m.default,{props:(0,d.default)(m.props,o)},c.header)),content=o.noBody?c.default||[]:[t(f.default,{props:(0,d.default)(f.props,o)},c.default)],(o.footer||c.footer)&&(footer=t(v.default,{props:(0,d.default)(v.props,o)},c.footer)),t(o.tag,(0,r.mergeData)(data,{staticClass:"card",class:(n={"flex-row":o.imgLeft||o.imgStart,"flex-row-reverse":(o.imgRight||o.imgEnd)&&!(o.imgLeft||o.imgStart)},_(n,"text-".concat(o.align),Boolean(o.align)),_(n,"bg-".concat(o.bgVariant),Boolean(o.bgVariant)),_(n,"border-".concat(o.borderVariant),Boolean(o.borderVariant)),_(n,"text-".concat(o.textVariant),Boolean(o.textVariant)),n)}),[h,header].concat(w(content),[footer,E]))}};e.default=T},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(504),o=function(t,e){return(0,r.default)(e.replace(t,""))};e.default=o},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=function(t){return(t=String(t)).charAt(0).toLowerCase()+t.slice(1)};e.default=r},function(t,e,n){"use strict";e.__esModule=!0,e.default=e.props=void 0;var r=n(261),o=n(7),l=n(2);function c(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},e=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(source).filter(function(t){return Object.getOwnPropertyDescriptor(source,t).enumerable}))),e.forEach(function(e){d(t,e,source[e])})}return t}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var h=c({},(0,o.omit)(r.default.props,["left","right","center","block","rounded","thumbnail","fluid","fluidGrow"]),{top:{type:Boolean,default:!1},bottom:{type:Boolean,default:!1},left:{type:Boolean,default:!1},start:{type:Boolean,default:!1},right:{type:Boolean,default:!1},end:{type:Boolean,default:!1}});e.props=h;var f={name:"BCardImgLazy",functional:!0,props:h,render:function(t,e){var n=e.props,data=e.data,o="card-img";n.top?o+="-top":n.right||n.end?o+="-right":n.bottom?o+="-bottom":(n.left||n.start)&&(o+="-left");var d=c({},n,{left:!1,right:!1,center:!1});return t(r.default,(0,l.mergeData)(data,{class:[o],props:d}))}};e.default=f},function(t,e,n){"use strict";e.__esModule=!0,e.default=e.props=void 0;var r=n(2),o={textTag:{type:String,default:"p"}};e.props=o;var l={name:"BCardText",functional:!0,props:o,render:function(t,e){var n=e.props,data=e.data,o=e.children;return t(n.textTag,(0,r.mergeData)(data,{staticClass:"card-text"}),o)}};e.default=l},function(t,e,n){"use strict";e.__esModule=!0,e.default=e.props=void 0;var r=n(2),o={tag:{type:String,default:"div"},deck:{type:Boolean,default:!1},columns:{type:Boolean,default:!1}};e.props=o;var l={name:"BCardGroup",functional:!0,props:o,render:function(t,e){var n=e.props,data=e.data,o=e.children,l="card-group";return n.deck?l="card-deck":n.columns&&(l="card-columns"),t(n.tag,(0,r.mergeData)(data,{class:l}),o)}};e.default=l},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(509),o=n(510),l=n(3),c={BCarousel:r.default,BCarouselSlide:o.default},d={install:(0,l.installFactory)({components:c})};e.default=d},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(88),o=n(46),l=n(262),c=n(6),d=n(28),h=n(11),f={next:{dirClass:"carousel-item-left",overlayClass:"carousel-item-next"},prev:{dirClass:"carousel-item-right",overlayClass:"carousel-item-prev"}},m={TOUCH:"touch",PEN:"pen"},v={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend oTransitionEnd",transition:"transitionend"},y={passive:!0,capture:!1};var w={name:"BCarousel",mixins:[h.default],provide:function(){return{bvCarousel:this}},model:{prop:"value",event:"input"},props:{labelPrev:{type:String,default:"Previous Slide"},labelNext:{type:String,default:"Next Slide"},labelGotoSlide:{type:String,default:"Goto Slide"},labelIndicators:{type:String,default:"Select a slide to display"},interval:{type:Number,default:5e3},indicators:{type:Boolean,default:!1},controls:{type:Boolean,default:!1},noAnimation:{type:Boolean,default:!1},fade:{type:Boolean,default:!1},noTouch:{type:Boolean,default:!1},noHoverPause:{type:Boolean,default:!1},imgWidth:{type:[Number,String]},imgHeight:{type:[Number,String]},background:{type:String},value:{type:Number,default:0}},data:function(){return{index:this.value||0,isSliding:!1,transitionEndEvent:null,slides:[],direction:null,isPaused:!(parseInt(this.interval,10)>0),touchStartX:0,touchDeltaX:0}},watch:{value:function(t,e){t!==e&&this.setSlide(t)},interval:function(t,e){t!==e&&(t?(this.pause(!0),this.start(!1)):this.pause(!1))},isPaused:function(t,e){t!==e&&this.$emit(t?"paused":"unpaused")},index:function(t,e){t===e||this.isSliding||this.doSlide(t,e)}},created:function(){this._intervalId=null,this._animationTimeout=null,this._touchTimeout=null,this.isPaused=!(parseInt(this.interval,10)>0)},mounted:function(){this.transitionEndEvent=function(t){for(var e in v)if(void 0!==t.style[e])return v[e];return null}(this.$el)||null,this.updateSlides(),(0,r.default)(this.$refs.inner,this.updateSlides.bind(this),{subtree:!1,childList:!0,attributes:!0,attributeFilter:["id"]})},beforeDestroy:function(){clearTimeout(this._animationTimeout),clearTimeout(this._touchTimeout),clearInterval(this._intervalId),this._intervalId=null,this._animationTimeout=null,this._touchTimeout=null},methods:{setSlide:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!(d.inBrowser&&document.visibilityState&&document.hidden)){var r=this.slides.length;0!==r&&(this.isSliding?this.$once("sliding-end",function(){return e.setSlide(t,n)}):(this.direction=n,t=Math.floor(t),this.index=t>=r?0:t>=0?t:r-1))}},prev:function(){this.setSlide(this.index-1,"prev")},next:function(){this.setSlide(this.index+1,"next")},pause:function(t){t||(this.isPaused=!0),this._intervalId&&(clearInterval(this._intervalId),this._intervalId=null)},start:function(t){t||(this.isPaused=!1),this._intervalId&&(clearInterval(this._intervalId),this._intervalId=null),this.interval&&this.slides.length>1&&(this._intervalId=setInterval(this.next,Math.max(1e3,this.interval)))},restart:function(t){this.$el.contains(document.activeElement)||this.start()},doSlide:function(t,e){var n=this,r=Boolean(this.interval),o=this.calcDirection(this.direction,e,t),l=o.overlayClass,d=o.dirClass,h=this.slides[e],f=this.slides[t];if(h&&f){if(this.isSliding=!0,r&&this.pause(!1),this.$emit("sliding-start",t),this.$emit("input",this.index),this.noAnimation)(0,c.addClass)(f,"active"),(0,c.removeClass)(h,"active"),this.isSliding=!1,this.$nextTick(function(){return n.$emit("sliding-end",t)});else{(0,c.addClass)(f,l),(0,c.reflow)(f),(0,c.addClass)(h,d),(0,c.addClass)(f,d);var m=!1,v=function e(r){if(!m){if(m=!0,n.transitionEndEvent)n.transitionEndEvent.split(/\s+/).forEach(function(t){return(0,c.eventOff)(h,t,e,y)});n._animationTimeout=null,(0,c.removeClass)(f,d),(0,c.removeClass)(f,l),(0,c.addClass)(f,"active"),(0,c.removeClass)(h,"active"),(0,c.removeClass)(h,d),(0,c.removeClass)(h,l),(0,c.setAttr)(h,"aria-current","false"),(0,c.setAttr)(f,"aria-current","true"),(0,c.setAttr)(h,"aria-hidden","true"),(0,c.setAttr)(f,"aria-hidden","false"),n.isSliding=!1,n.direction=null,n.$nextTick(function(){return n.$emit("sliding-end",t)})}};if(this.transitionEndEvent)this.transitionEndEvent.split(/\s+/).forEach(function(t){return(0,c.eventOn)(h,t,v,y)});this._animationTimeout=setTimeout(v,650)}r&&this.start(!1)}},updateSlides:function(){this.pause(!0),this.slides=(0,c.selectAll)(".carousel-item",this.$refs.inner);var t=this.slides.length,e=Math.max(0,Math.min(Math.floor(this.index),t-1));this.slides.forEach(function(n,r){var o=r+1;r===e?((0,c.addClass)(n,"active"),(0,c.setAttr)(n,"aria-current","true")):((0,c.removeClass)(n,"active"),(0,c.setAttr)(n,"aria-current","false")),(0,c.setAttr)(n,"aria-posinset",String(o)),(0,c.setAttr)(n,"aria-setsize",String(t))}),this.setSlide(e),this.start(this.isPaused)},calcDirection:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return t?f[t]:n>e?f.next:f.prev},handleClick:function(t,e){var n=t.keyCode;"click"!==t.type&&n!==o.default.SPACE&&n!==o.default.ENTER||(t.preventDefault(),t.stopPropagation(),e())},handleSwipe:function(){var t=Math.abs(this.touchDeltaX);if(!(t<=40)){var e=t/this.touchDeltaX;e>0?this.prev():e<0&&this.next()}},touchStart:function(t){d.hasPointerEvent&&m[t.pointerType.toUpperCase()]?this.touchStartX=t.clientX:d.hasPointerEvent||(this.touchStartX=t.touches[0].clientX)},touchMove:function(t){t.touches&&t.touches.length>1?this.touchDeltaX=0:this.touchDeltaX=t.touches[0].clientX-this.touchStartX},touchEnd:function(t){d.hasPointerEvent&&m[t.pointerType.toUpperCase()]&&(this.touchDeltaX=t.clientX-this.touchStartX),this.handleSwipe(),this.pause(!1),this._touchTimeout&&clearTimeout(this._touchTimeout),this._touchTimeout=setTimeout(this.start,500+Math.max(1e3,this.interval))}},render:function(t){var e=this,n=t("div",{ref:"inner",class:["carousel-inner"],attrs:{id:this.safeId("__BV_inner_"),role:"list"}},[this.$slots.default]),r=t(!1);this.controls&&(r=[t("a",{class:["carousel-control-prev"],attrs:{href:"#",role:"button","aria-controls":this.safeId("__BV_inner_")},on:{click:function(t){e.handleClick(t,e.prev)},keydown:function(t){e.handleClick(t,e.prev)}}},[t("span",{class:["carousel-control-prev-icon"],attrs:{"aria-hidden":"true"}}),t("span",{class:["sr-only"]},[this.labelPrev])]),t("a",{class:["carousel-control-next"],attrs:{href:"#",role:"button","aria-controls":this.safeId("__BV_inner_")},on:{click:function(t){e.handleClick(t,e.next)},keydown:function(t){e.handleClick(t,e.next)}}},[t("span",{class:["carousel-control-next-icon"],attrs:{"aria-hidden":"true"}}),t("span",{class:["sr-only"]},[this.labelNext])])]);var c=t("ol",{class:["carousel-indicators"],directives:[{name:"show",rawName:"v-show",value:this.indicators,expression:"indicators"}],attrs:{id:this.safeId("__BV_indicators_"),"aria-hidden":this.indicators?"false":"true","aria-label":this.labelIndicators,"aria-owns":this.safeId("__BV_inner_")}},this.slides.map(function(n,r){return t("li",{key:"slide_".concat(r),class:{active:r===e.index},attrs:{role:"button",id:e.safeId("__BV_indicator_".concat(r+1,"_")),tabindex:e.indicators?"0":"-1","aria-current":r===e.index?"true":"false","aria-label":"".concat(e.labelGotoSlide," ").concat(r+1),"aria-describedby":e.slides[r].id||null,"aria-controls":e.safeId("__BV_inner_")},on:{click:function(t){e.handleClick(t,function(){e.setSlide(r)})},keydown:function(t){e.handleClick(t,function(){e.setSlide(r)})}}})})),h={mouseenter:this.noHoverPause?l.default:this.pause,mouseleave:this.noHoverPause?l.default:this.restart,focusin:this.pause,focusout:this.restart,keydown:function(t){if(!/input|textarea/i.test(t.target.tagName)){var n=t.keyCode;n!==o.default.LEFT&&n!==o.default.RIGHT||(t.preventDefault(),t.stopPropagation(),e[n===o.default.LEFT?"prev":"next"]())}}};return!this.noTouch&&d.hasTouchSupport&&(d.hasPointerEvent?(h["&pointerdown"]=this.touchStart,h["&pointerup"]=this.touchEnd):(h["&touchstart"]=this.touchStart,h["&touchmove"]=this.touchMove,h["&touchend"]=this.touchEnd)),t("div",{staticClass:"carousel",class:{slide:!this.noAnimation,"carousel-fade":!this.noAnimation&&this.fade,"pointer-event":!this.noTouch&&d.hasTouchSupport&&d.hasPointerEvent},style:{background:this.background},attrs:{role:"region",id:this.safeId(),"aria-busy":this.isSliding?"true":"false"},on:h},[n,r,c])}};e.default=w},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(172),o=n(11),l=n(28),c=n(10),d={name:"BCarouselSlide",components:{BImg:r.default},mixins:[o.default],inject:{bvCarousel:{default:function(){return{noTouch:!0}}}},props:{imgSrc:{type:String},imgAlt:{type:String},imgWidth:{type:[Number,String]},imgHeight:{type:[Number,String]},imgBlank:{type:Boolean,default:!1},imgBlankColor:{type:String,default:"transparent"},contentVisibleUp:{type:String},contentTag:{type:String,default:"div"},caption:{type:String},captionHtml:{type:String},captionTag:{type:String,default:"h3"},text:{type:String},textHtml:{type:String},textTag:{type:String,default:"p"},background:{type:String}},data:function(){return{}},computed:{contentClasses:function(){return[this.contentVisibleUp?"d-none":"",this.contentVisibleUp?"d-".concat(this.contentVisibleUp,"-block"):""]},computedWidth:function(){return this.imgWidth||this.bvCarousel.imgWidth||null},computedHeight:function(){return this.imgHeight||this.bvCarousel.imgHeight||null}},render:function(t){var e=this.$slots,n=!this.bvCarousel.noTouch&&l.hasTouchSupport,img=e.img;img||!this.imgSrc&&!this.imgBlank||(img=t("b-img",{props:{fluidGrow:!0,block:!0,src:this.imgSrc,blank:this.imgBlank,blankColor:this.imgBlankColor,width:this.computedWidth,height:this.computedHeight,alt:this.imgAlt},on:n?{dragstart:function(t){t.preventDefault()}}:{}})),img||(img=t(!1));var content=t(this.contentTag,{staticClass:"carousel-caption",class:this.contentClasses},[this.caption||this.captionHtml?t(this.captionTag,{domProps:(0,c.htmlOrText)(this.captionHtml,this.caption)}):t(!1),this.text||this.textHtml?t(this.textTag,{domProps:(0,c.htmlOrText)(this.textHtml,this.text)}):t(!1),e.default]);return t("div",{staticClass:"carousel-item",style:{background:this.background||this.bvCarousel.background||null},attrs:{id:this.safeId(),role:"listitem"}},[img,content])}};e.default=d},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(263),o=n(512),l=n(264),c=n(173),d=n(3),h={BContainer:r.default,BRow:o.default,BCol:l.default,BFormRow:c.default},f={install:(0,d.installFactory)({components:h})};e.default=f},function(t,e,n){"use strict";e.__esModule=!0,e.default=e.props=void 0;var r=n(2),o=n(5);function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c=["start","end","center"],d={tag:{type:String,default:"div"},noGutters:{type:Boolean,default:!1},alignV:{type:String,default:null,validator:function(t){return(0,o.arrayIncludes)(c.concat(["baseline","stretch"]),t)}},alignH:{type:String,default:null,validator:function(t){return(0,o.arrayIncludes)(c.concat(["between","around"]),t)}},alignContent:{type:String,default:null,validator:function(t){return(0,o.arrayIncludes)(c.concat(["between","around","stretch"]),t)}}};e.props=d;var h={name:"BRow",functional:!0,props:d,render:function(t,e){var n,o=e.props,data=e.data,c=e.children;return t(o.tag,(0,r.mergeData)(data,{staticClass:"row",class:(n={"no-gutters":o.noGutters},l(n,"align-items-".concat(o.alignV),o.alignV),l(n,"justify-content-".concat(o.alignH),o.alignH),l(n,"align-content-".concat(o.alignContent),o.alignContent),n)}),c)}};e.default=h},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(171),o=function(t,e){return e+(t?(0,r.default)(t):"")};e.default=o},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(118),o=n(28),l=n(6),c={passive:!0,capture:!1},d={name:"BCollapse",mixins:[r.default],model:{prop:"visible",event:"input"},props:{id:{type:String,required:!0},isNav:{type:Boolean,default:!1},accordion:{type:String,default:null},visible:{type:Boolean,default:!1},tag:{type:String,default:"div"}},data:function(){return{show:this.visible,transitioning:!1}},computed:{classObject:function(){return{"navbar-collapse":this.isNav,collapse:!this.transitioning,show:this.show&&!this.transitioning}}},watch:{visible:function(t){t!==this.show&&(this.show=t)},show:function(t,e){t!==e&&this.emitState()}},created:function(){this.listenOnRoot("bv::toggle::collapse",this.handleToggleEvt),this.listenOnRoot("bv::collapse::accordion",this.handleAccordionEvt)},mounted:function(){this.isNav&&o.inBrowser&&(this.setWindowEvents(!0),this.handleResize()),this.emitState()},deactivated:function(){this.isNav&&o.inBrowser&&this.setWindowEvents(!1)},activated:function(){this.isNav&&o.inBrowser&&this.setWindowEvents(!0)},beforeDestroy:function(){this.show=!1,this.isNav&&o.inBrowser&&this.setWindowEvents(!1)},methods:{setWindowEvents:function(t){var e=t?l.eventOn:l.eventOff;e(window,"resize",this.handleResize,c),e(window,"orientationchange",this.handleResize,c)},toggle:function(){this.show=!this.show},onEnter:function(t){t.style.height=0,(0,l.reflow)(t),t.style.height=t.scrollHeight+"px",this.transitioning=!0,this.$emit("show")},onAfterEnter:function(t){t.style.height=null,this.transitioning=!1,this.$emit("shown")},onLeave:function(t){t.style.height="auto",t.style.display="block",t.style.height=(0,l.getBCR)(t).height+"px",(0,l.reflow)(t),this.transitioning=!0,t.style.height=0,this.$emit("hide")},onAfterLeave:function(t){t.style.height=null,this.transitioning=!1,this.$emit("hidden")},emitState:function(){this.$emit("input",this.show),this.$root.$emit("bv::collapse::state",this.id,this.show),this.accordion&&this.show&&this.$root.$emit("bv::collapse::accordion",this.id,this.accordion)},clickHandler:function(t){var e=t.target;this.isNav&&e&&"block"===(0,l.getCS)(this.$el).display&&((0,l.matches)(e,".nav-link,.dropdown-item")||(0,l.closest)(".nav-link,.dropdown-item",e))&&(this.show=!1)},handleToggleEvt:function(t){t===this.id&&this.toggle()},handleAccordionEvt:function(t,e){this.accordion&&e===this.accordion&&(t===this.id?this.show||this.toggle():this.show&&this.toggle())},handleResize:function(){this.show="block"===(0,l.getCS)(this.$el).display}},render:function(t){var content=t(this.tag,{class:this.classObject,directives:[{name:"show",value:this.show}],attrs:{id:this.id||null},on:{click:this.clickHandler}},[this.$slots.default]);return t("transition",{props:{enterClass:"",enterActiveClass:"collapsing",enterToClass:"",leaveClass:"",leaveActiveClass:"collapsing",leaveToClass:""},on:{enter:this.onEnter,afterEnter:this.onAfterEnter,leave:this.onLeave,afterLeave:this.onAfterLeave}},[content])}};e.default=d},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(6),o=n(28),l=n(268),c={click:!0},d="__BV_toggle__",h=function(t,e){t[e]=null,delete t[e]},f=function(t,e,n){o.inBrowser&&(!0===t.__BV_toggle_STATE__?((0,r.addClass)(t,"collapsed"),(0,r.setAttr)(t,"aria-expanded","true")):!1===t.__BV_toggle_STATE__&&((0,r.removeClass)(t,"collapsed"),(0,r.setAttr)(t,"aria-expanded","false")),(0,r.setAttr)(t,"aria-controls",t.__BV_toggle_CONTROLS__))},m={bind:function(t,e,n){var h=(0,l.bindTargets)(n,e,c,function(t){var e=t.targets,n=t.vnode;e.forEach(function(t){n.context.$root.$emit("bv::toggle::collapse",t)})});o.inBrowser&&n.context&&h.length>0&&(t.__BV_toggle_CONTROLS__=h.join(" "),t.__BV_toggle_STATE__=!1,(0,r.setAttr)(t,"aria-controls",t.__BV_toggle_CONTROLS__),(0,r.setAttr)(t,"aria-expanded","false"),"BUTTON"!==t.tagName&&(0,r.setAttr)(t,"role","button"),t[d]=function(e,n){-1!==h.indexOf(e)&&((0,r.setAttr)(t,"aria-expanded",n?"true":"false"),t.__BV_toggle_STATE__=n,n?(0,r.removeClass)(t,"collapsed"):(0,r.addClass)(t,"collapsed"))},n.context.$root.$on("bv::collapse::state",t[d]))},componentUpdated:f,updated:f,unbind:function(t,e,n){(0,l.unbindTargets)(n,e,c),t[d]&&n.context.$root.$off("bv::collapse::state",t[d]),h(t,d),h(t,"__BV_toggle_STATE__"),h(t,"__BV_toggle_CONTROLS__"),(0,r.removeClass)(t,"collapsed"),(0,r.removeAttr)(t,"aria-expanded"),(0,r.removeAttr)(t,"aria-controls"),(0,r.removeAttr)(t,"role")}};e.default=m},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(10),o=n(16),l=n(11),c=n(269),d=n(168),h="BDropdown",f={name:h,components:{BButton:d.default},mixins:[l.default,c.default],props:{toggleText:{type:String,default:function(){return(0,o.getComponentConfig)(h,"toggleText")}},size:{type:String,default:null},variant:{type:String,default:function(){return(0,o.getComponentConfig)(h,"variant")}},menuClass:{type:[String,Array],default:null},toggleTag:{type:String,default:"button"},toggleClass:{type:[String,Array],default:null},noCaret:{type:Boolean,default:!1},split:{type:Boolean,default:!1},splitHref:{type:String},splitTo:{type:[String,Object]},splitVariant:{type:String,default:null},role:{type:String,default:"menu"},boundary:{type:[String,Object],default:"scrollParent"}},computed:{dropdownClasses:function(){var t="scrollParent"!==this.boundary||!this.boundary,e="";return this.dropup?e="dropup":this.dropright?e="dropright":this.dropleft&&(e="dropleft"),["btn-group","b-dropdown","dropdown",e,{show:this.visible,"position-static":t}]},menuClasses:function(){return["dropdown-menu",{"dropdown-menu-right":this.right,show:this.visible},this.menuClass]},toggleClasses:function(){return["dropdown-toggle",{"dropdown-toggle-split":this.split,"dropdown-toggle-no-caret":this.noCaret&&!this.split},this.toggleClass]}},render:function(t){var e=t(!1);if(this.split){var n={disabled:this.disabled,variant:this.splitVariant||this.variant,size:this.size};this.splitTo&&(n.to=this.splitTo),this.splitHref&&(n.href=this.splitHref),e=t("b-button",{ref:"button",props:n,attrs:{id:this.safeId("_BV_button_")},on:{click:this.click}},[this.$slots["button-content"]||this.$slots.text||this.html||(0,r.stripTags)(this.text)])}var o=t("b-button",{ref:"toggle",class:this.toggleClasses,props:{variant:this.variant,size:this.size,disabled:this.disabled,tag:this.toggleTag},attrs:{id:this.safeId("_BV_toggle_"),"aria-haspopup":"true","aria-expanded":this.visible?"true":"false"},on:{click:this.toggle,keydown:this.toggle}},[this.split?t("span",{class:["sr-only"]},[this.toggleText]):this.$slots["button-content"]||this.$slots.text||this.html||(0,r.stripTags)(this.text)]),menu=t("div",{ref:"menu",class:this.menuClasses,attrs:{role:this.role,tabindex:"-1","aria-labelledby":this.safeId(this.split?"_BV_button_":"_BV_toggle_")},on:{mouseover:this.onMouseOver,keydown:this.onKeydown}},[this.$slots.default]);return t("div",{attrs:{id:this.safeId()},class:this.dropdownClasses},[e,o,menu])}};e.default=f},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(6),o={data:function(){return{listenForClickOut:!1}},watch:{listenForClickOut:function(t,e){t!==e&&((0,r.eventOff)(this.clickOutElement,this.clickOutEventName,this._clickOutHandler,!1),t&&(0,r.eventOn)(this.clickOutElement,this.clickOutEventName,this._clickOutHandler,!1))}},beforeCreate:function(){this.clickOutElement=null,this.clickOutEventName=null},mounted:function(){this.clickOutElement||(this.clickOutElement=document),this.clickOutEventName||(this.clickOutEventName="ontouchstart"in document.documentElement?"touchstart":"click"),this.listenForClickOut&&(0,r.eventOn)(this.clickOutElement,this.clickOutEventName,this._clickOutHandler,!1)},beforeDestroy:function(){(0,r.eventOff)(this.clickOutElement,this.clickOutEventName,this._clickOutHandler,!1)},methods:{isClickOut:function(t){return!(0,r.contains)(this.$el,t.target)},_clickOutHandler:function(t){this.clickOutHandler&&this.isClickOut(t)&&this.clickOutHandler(t)}}};e.default=o},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(6),o={data:function(){return{listenForFocusIn:!1}},watch:{listenForFocusIn:function(t,e){t!==e&&((0,r.eventOff)(this.focusInElement,"focusin",this._focusInHandler,!1),t&&(0,r.eventOn)(this.focusInElement,"focusin",this._focusInHandler,!1))}},beforeCreate:function(){this.focusInElement=null},mounted:function(){this.focusInElement||(this.focusInElement=document),this.listenForFocusIn&&(0,r.eventOn)(this.focusInElement,"focusin",this._focusInHandler,!1)},beforeDestroy:function(){(0,r.eventOff)(this.focusInElement,"focusin",this._focusInHandler,!1)},methods:{_focusInHandler:function(t){this.focusInHandler&&this.focusInHandler(t)}}};e.default=o},function(t,e,n){"use strict";e.__esModule=!0,e.default=e.props=void 0;var r=n(32),o=(0,r.propsFactory)();e.props=o;var l={name:"BDropdownItem",inject:{bvDropdown:{default:null}},props:o,methods:{closeDropdown:function(){this.bvDropdown&&this.bvDropdown.hide(!0)},onClick:function(t){this.$emit("click",t),this.closeDropdown()}},render:function(t){return t(r.default,{props:this.$props,staticClass:"dropdown-item",attrs:{role:"menuitem"},on:{click:this.onClick}},this.$slots.default)}};e.default=l},function(t,e,n){"use strict";e.__esModule=!0,e.default=e.props=void 0;var r={active:{type:Boolean,default:!1},activeClass:{type:String,default:"active"},disabled:{type:Boolean,default:!1}};e.props=r;var o={name:"BDropdownItemButton",inject:{bvDropdown:{default:null}},props:r,methods:{closeDropdown:function(){this.bvDropdown&&this.bvDropdown.hide(!0)},onClick:function(t){this.$emit("click",t),this.closeDropdown()}},render:function(t){return t("button",{staticClass:"dropdown-item",class:(e={},n=this.activeClass,r=this.active,n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e),attrs:{role:"menuitem",type:"button",disabled:this.disabled},on:{click:this.onClick}},this.$slots.default);var e,n,r}};e.default=o},function(t,e,n){"use strict";e.__esModule=!0,e.default=e.props=void 0;var r=n(2),o={id:{type:String,default:null},tag:{type:String,default:"h6"}};e.props=o;var l={name:"BDropdownHeader",functional:!0,props:o,render:function(t,e){var n=e.props,data=e.data,o=e.children;return t(n.tag,(0,r.mergeData)(data,{staticClass:"dropdown-header",attrs:{id:n.id||null}}),o)}};e.default=l},function(t,e,n){"use strict";e.__esModule=!0,e.default=e.props=void 0;var r=n(2),o={tag:{type:String,default:"div"}};e.props=o;var l={name:"BDropdownDivider",functional:!0,props:o,render:function(t,e){var n=e.props,data=e.data;return t(n.tag,(0,r.mergeData)(data,{staticClass:"dropdown-divider",attrs:{role:"separator"}}))}};e.default=l},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(176),o=n(2);function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c={name:"BDropdownForm",functional:!0,props:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},e=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(source).filter(function(t){return Object.getOwnPropertyDescriptor(source,t).enumerable}))),e.forEach(function(e){l(t,e,source[e])})}return t}({},r.props),render:function(t,e){var n=e.props,data=e.data,l=e.children;return t(r.default,(0,o.mergeData)(data,{props:n,staticClass:"b-dropdown-form"}),l)}};e.default=c},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(2),o={name:"BDropdownText",functional:!0,props:{tag:{type:String,default:"p"}},render:function(t,e){var n=e.props,data=e.data,o=e.children;return t(n.tag,(0,r.mergeData)(data,{props:n,staticClass:"b-dropdown-text"}),o)}};e.default=o},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(526),o=n(3),l={BEmbed:r.default},c={install:(0,o.installFactory)({components:l})};e.default=c},function(t,e,n){"use strict";e.__esModule=!0,e.default=e.props=void 0;var r=n(2),o=n(5);var l={type:{type:String,default:"iframe",validator:function(t){return(0,o.arrayIncludes)(["iframe","embed","video","object","img","b-img","b-img-lazy"],t)}},tag:{type:String,default:"div"},aspect:{type:String,default:"16by9"}};e.props=l;var c={name:"BEmbed",functional:!0,props:l,render:function(t,e){var n,o,l,c=e.props,data=e.data,d=e.children;return t(c.tag,{ref:data.ref,staticClass:"embed-responsive",class:(n={},o="embed-responsive-".concat(c.aspect),l=Boolean(c.aspect),o in n?Object.defineProperty(n,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):n[o]=l,n)},[t(c.type,(0,r.mergeData)(data,{ref:"",staticClass:"embed-responsive-item"}),d)])}};e.default=c},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(176),o=n(528),l=n(529),c=n(270),d=n(271),h=n(272),f=n(3),m={BForm:r.default,BFormDatalist:o.default,BDatalist:o.default,BFormRow:l.default,BFormText:c.default,BFormInvalidFeedback:d.default,BFormFeedback:d.default,BFormValidFeedback:h.default},v={install:(0,f.installFactory)({components:m})};e.default=v},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(120),o=n(10);function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},e=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(source).filter(function(t){return Object.getOwnPropertyDescriptor(source,t).enumerable}))),e.forEach(function(e){c(t,e,source[e])})}return t}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d={name:"BFormDatalist",mixins:[r.default],props:{id:{type:String,default:null,required:!0}},render:function(t){var e=this.formOptions.map(function(option,e){return t("option",{key:"option_".concat(e,"_opt"),attrs:{disabled:option.disabled},domProps:l({},(0,o.htmlOrText)(option.html,option.text),{value:option.value})})});return t("datalist",{attrs:{id:this.id}},[e,this.$slots.default])}};e.default=d},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(173).default;e.default=r},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(531),o=n(3),l={BFormGroup:r.default,BFormFieldset:r.default},c={install:(0,o.installFactory)({components:l})};e.default=c},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(11),o=n(38),l=n(16),c=n(171),d=n(265),h=n(20),f=n(6),m=n(5),v=n(7),y=n(173),w=n(264),_=n(270),S=n(271),E=n(272);function T(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},e=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(source).filter(function(t){return Object.getOwnPropertyDescriptor(source,t).enumerable}))),e.forEach(function(e){k(t,e,source[e])})}return t}function k(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var x=(0,d.default)(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;return"".concat(e).concat((0,c.default)(t))}),C='Props "horizontal" and "breakpoint" are deprecated. Use "label-cols(-{breakpoint})" props instead.';function I(t,e){var content=e.$slots["invalid-feedback"]||e.invalidFeedback,n=t(!1);return content&&(n=t("b-form-invalid-feedback",{props:{id:e.invalidFeedbackId,state:e.computedState,tooltip:e.tooltip},attrs:{tabindex:content?"-1":null,role:"alert","aria-live":"assertive","aria-atomic":"true"}},[content])),n}function O(t,e){var content=e.$slots["valid-feedback"]||e.validFeedback,n=t(!1);return content&&(n=t("b-form-valid-feedback",{props:{id:e.validFeedbackId,state:e.computedState,tooltip:e.tooltip},attrs:{tabindex:"-1",role:"alert","aria-live":"assertive","aria-atomic":"true"}},[content])),n}function A(t,e){var content=e.$slots.description||e.description,n=t(!1);return content&&(n=t("b-form-text",{attrs:{id:e.descriptionId,tabindex:"-1"}},[content])),n}e.default=function(t,e){var n=(0,l.getBreakpointsUp)(),c=n.reduce(function(t,e){return t[x(e,"labelCols")]={type:[Number,String,Boolean],default:!e&&null},t},(0,v.create)(null)),d=n.reduce(function(t,e){return t[x(e,"labelAlign")]={type:String,default:null},t},(0,v.create)(null));t({name:"BFormGroup",components:{BFormRow:y.default,BCol:w.default,BFormInvalidFeedback:S.default,BFormValidFeedback:E.default,BFormText:_.default},mixins:[r.default,o.default],props:T({label:{type:String,default:null},labelFor:{type:String,default:null},labelSize:{type:String,default:null},labelSrOnly:{type:Boolean,default:!1}},c,d,{labelClass:{type:[String,Array,Object],default:null},description:{type:String,default:null},invalidFeedback:{type:String,default:null},validFeedback:{type:String,default:null},tooltip:{type:Boolean,default:!1},validated:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},horizontal:{type:Boolean,default:!1,deprecated:C},breakpoint:{type:String,default:null,deprecated:C}}),computed:{labelColProps:function(){var t=this,e={};if(this.horizontal){(0,h.default)("b-form-group: ".concat(C));var r=this.breakpoint||n[1],o=parseInt(this.labelCols,10)||3;return e[r]=o>0?o:3,e}return n.forEach(function(n){var r=t[x(n,"labelCols")];"boolean"!=typeof(r=""===r||r||!1)&&(r=(r=parseInt(r,10)||0)>0&&r),r&&(e[n||("boolean"==typeof r?"col":"cols")]=r)}),e},labelAlignClasses:function(){var t=this,e=[];return n.forEach(function(n){var r=t[x(n,"labelAlign")]||null;if(r){var o=n?"text-".concat(n,"-").concat(r):"text-".concat(r);e.push(o)}}),e},isHorizontal:function(){return(0,v.keys)(this.labelColProps).length>0},labelId:function(){return this.$slots.label||this.label?this.safeId("_BV_label_"):null},descriptionId:function(){return this.$slots.description||this.description?this.safeId("_BV_description_"):null},hasInvalidFeedback:function(){var t=this.$slots;return!1===this.computedState&&(t["invalid-feedback"]||this.invalidFeedback)},invalidFeedbackId:function(){return this.hasInvalidFeedback?this.safeId("_BV_feedback_invalid_"):null},hasValidFeedback:function(){return!0===this.computedState&&(this.$slots["valid-feedback"]||this.validFeedback)},validFeedbackId:function(){return this.hasValidFeedback?this.safeId("_BV_feedback_valid_"):null},describedByIds:function(){return[this.descriptionId,this.invalidFeedbackId,this.validFeedbackId].filter(function(i){return i}).join(" ")||null}},watch:{describedByIds:function(t,e){t!==e&&this.setInputDescribedBy(t,e)}},mounted:function(){var t=this;this.$nextTick(function(){t.setInputDescribedBy(t.describedByIds)})},methods:{legendClick:function(t){if(!this.labelFor){var e=t.target?t.target.tagName:"";if(!/^(input|select|textarea|label|button|a)$/i.test(e)){var n=(0,f.selectAll)("input:not(:disabled),textarea:not(:disabled),select:not(:disabled)",this.$refs.content).filter(f.isVisible);n&&1===n.length&&n[0].focus&&n[0].focus()}}},setInputDescribedBy:function(t,e){if(this.labelFor&&"undefined"!=typeof document){var input=(0,f.select)("#".concat(this.labelFor),this.$refs.content);if(input){var n="aria-describedby",r=((0,f.getAttr)(input,n)||"").split(/\s+/);e=(e||"").split(/\s+/),(r=r.filter(function(t){return!(0,m.arrayIncludes)(e,t)}).concat(t||"").join(" ").trim())?(0,f.setAttr)(input,n,r):(0,f.removeAttr)(input,n)}}}},render:function(t){var e=!this.labelFor,n=this.isHorizontal,label=function(t,e){var content=e.$slots.label||e.label,n=e.labelFor,r=!n,o=e.isHorizontal,l=r?"legend":"label";if(content||o){if(e.labelSrOnly){var label=t(!1);return content&&(label=t(l,{class:"sr-only",attrs:{id:e.labelId,for:n||null}},[content])),t(o?"b-col":"div",{props:o?e.labelColProps:{}},[label])}return t(o?"b-col":l,{on:r?{click:e.legendClick}:{},props:o?T({tag:l},e.labelColProps):{},attrs:{id:e.labelId,for:n||null,tabindex:r?"-1":null},class:[o||r?"col-form-label":"",!o&&r?"pt-0":"",o||r?"":"d-block",e.labelSize?"col-form-label-".concat(e.labelSize):"",e.labelAlignClasses,e.labelClass]},[content])}return t(!1)}(t,this),content=t(n?"b-col":"div",{ref:"content",attrs:{tabindex:e?"-1":null,role:e?"group":null,"aria-labelledby":e?this.labelId:null,"aria-describedby":e?this.ariaDescribedBy:null}},[this.$slots.default||t(!1),I(t,this),O(t,this),A(t,this)]);return t(e?"fieldset":n?"b-form-row":"div",{staticClass:"form-group",class:[this.validated?"was-validated":null,this.stateClass],attrs:{id:this.safeId(),disabled:e?this.disabled:null,role:e?null:"group","aria-invalid":!1===this.computedState?"true":null,"aria-labelledby":this.labelId||null,"aria-describedby":this.describedByIds||null}},n&&e?[t("b-form-row",{},[label,content])]:[label,content])}})}},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(273),o=n(534),l=n(3),c={BFormCheckbox:r.default,BCheckbox:r.default,BCheck:r.default,BFormCheckboxGroup:o.default,BCheckboxGroup:o.default,BCheckGroup:o.default},d={install:(0,l.installFactory)({components:c})};e.default=d},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(48),o=function(t,e){for(var i=0;i<t.length;i++)if((0,r.default)(t[i],e))return i;return-1};e.default=o},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(11),o=n(47),l=n(120),c=n(275),d=n(58),h=n(38),f={name:"BFormCheckboxGroup",components:{BFormCheckbox:n(273).default},mixins:[r.default,o.default,c.default,l.default,d.default,h.default],provide:function(){return{bvCheckGroup:this}},props:{switches:{type:Boolean,default:!1},checked:{type:[String,Number,Object,Array,Boolean],default:null}},data:function(){return{localChecked:this.checked||[]}},computed:{is_RadioGroup:function(){return!1}}};e.default=f},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(276),o=n(536),l=n(3),c={BFormRadio:r.default,BRadio:r.default,BFormRadioGroup:o.default,BRadioGroup:o.default},d={install:(0,l.installFactory)({components:c})};e.default=d},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(11),o=n(47),l=n(120),c=n(275),d=n(58),h=n(38),f={name:"BFormRadioGroup",components:{BFormRadio:n(276).default},mixins:[r.default,o.default,c.default,l.default,d.default,h.default],provide:function(){return{bvRadioGroup:this}},props:{checked:{type:[String,Object,Number,Boolean],default:null}},data:function(){return{localChecked:this.checked}},computed:{is_RadioGroup:function(){return!0}}};e.default=f},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(538),o=n(3),l={BFormInput:r.default,BInput:r.default},c={install:(0,o.installFactory)({components:l})};e.default=c},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(11),o=n(47),l=n(58),c=n(38),d=n(277),h=n(278),f=n(279),m=n(5),v=n(6);function y(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},e=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(source).filter(function(t){return Object.getOwnPropertyDescriptor(source,t).enumerable}))),e.forEach(function(e){w(t,e,source[e])})}return t}function w(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _=["text","password","email","number","url","tel","search","range","color","date","time","datetime","datetime-local","month","week"],S={name:"BFormInput",mixins:[r.default,o.default,l.default,c.default,d.default,h.default,f.default],props:{type:{type:String,default:"text",validator:function(t){return(0,m.arrayIncludes)(_,t)}},noWheel:{type:Boolean,default:!1},min:{type:[String,Number],default:null},max:{type:[String,Number],default:null},step:{type:[String,Number],default:null},list:{type:String,default:null}},computed:{localType:function(){return(0,m.arrayIncludes)(_,this.type)?this.type:"text"}},watch:{noWheel:function(t){this.setWheelStopper(t)}},mounted:function(){this.setWheelStopper(this.noWheel)},deactivated:function(){this.setWheelStopper(!1)},activated:function(){this.setWheelStopper(this.noWheel)},beforeDestroy:function(){this.setWheelStopper(!1)},methods:{setWheelStopper:function(t){var input=this.$el;t?((0,v.eventOn)(input,"focus",this.onWheelFocus),(0,v.eventOn)(input,"blur",this.onWheelBlur)):((0,v.eventOff)(input,"focus",this.onWheelFocus),(0,v.eventOff)(input,"blur",this.onWheelBlur),(0,v.eventOff)(document,"wheel",this.stopWheel))},onWheelFocus:function(t){(0,v.eventOn)(document,"wheel",this.stopWheel)},onWheelBlur:function(t){(0,v.eventOff)(document,"wheel",this.stopWheel)},stopWheel:function(t){t.preventDefault(),this.$el.blur()}},render:function(t){return t("input",{ref:"input",class:this.computedClass,directives:[{name:"model",rawName:"v-model",value:this.localValue,expression:"localValue"}],attrs:{id:this.safeId(),name:this.name,form:this.form||null,type:this.localType,disabled:this.disabled,placeholder:this.placeholder,required:this.required,autocomplete:this.autocomplete||null,readonly:this.readonly||this.plaintext,min:this.min,max:this.max,step:this.step,list:"password"!==this.localType?this.list:null,"aria-required":this.required?"true":null,"aria-invalid":this.computedAriaInvalid},domProps:{value:this.localValue},on:y({},this.$listeners,{input:this.onInput,change:this.onChange,blur:this.onBlur})})}};e.default=S},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(540),o=n(3),l={BFormTextarea:r.default,BTextarea:r.default},c={install:(0,o.installFactory)({components:l})};e.default=c},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(11),o=n(47),l=n(58),c=n(38),d=n(277),h=n(278),f=n(279),m=n(6);function v(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},e=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(source).filter(function(t){return Object.getOwnPropertyDescriptor(source,t).enumerable}))),e.forEach(function(e){y(t,e,source[e])})}return t}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var w={name:"BFormTextarea",mixins:[r.default,o.default,l.default,c.default,d.default,h.default,f.default],props:{rows:{type:[Number,String],default:2},maxRows:{type:[Number,String],default:null},wrap:{type:String,default:"soft"},noResize:{type:Boolean,default:!1},noAutoShrink:{type:Boolean,default:!1}},data:function(){return{dontResize:!0}},computed:{computedStyle:function(){var t={resize:!this.computedRows||this.noResize?"none":null};return this.computedRows||(t.height=this.computedHeight),t},computedMinRows:function(){return Math.max(parseInt(this.rows,10)||2,2)},computedMaxRows:function(){return Math.max(this.computedMinRows,parseInt(this.maxRows,10)||0)},computedRows:function(){return this.computedMinRows===this.computedMaxRows?this.computedMinRows:null},computedHeight:function(){if(this.$isServer||this.dontResize||!0===this.computedRows||!0===this.localValue)return null;var t=this.$el;if(!(0,m.isVisible)(t))return null;var e=t.style.height;t.style.height="auto";var n=(0,m.getCS)(t),r=parseFloat(n.lineHeight),o=parseInt(n.height,10)||r*this.computedMinRows,l=(parseFloat(n.borderTopWidth)||0)+(parseFloat(n.borderBottomWidth)||0)+(parseFloat(n.paddingTop)||0)+(parseFloat(n.paddingBottom)||0),c=Math.max((t.scrollHeight-l)/r,2),d=Math.min(Math.max(c,this.computedMinRows),this.computedMaxRows),h=Math.max(Math.ceil(d*r+l),o);t.style.height=e;var f=parseFloat(e)||0;return this.noAutoShrink&&f>h?e:"".concat(h,"px")}},mounted:function(){var t=this;this.$nextTick(function(){t.dontResize=!1})},activated:function(){var t=this;this.$nextTick(function(){t.dontResize=!1})},deactivated:function(){this.dontResize=!0},beforeDestroy:function(){this.dontResize=!0},render:function(t){return t("textarea",{ref:"input",class:this.computedClass,style:this.computedStyle,directives:[{name:"model",rawName:"v-model",value:this.localValue,expression:"localValue"}],attrs:{id:this.safeId(),name:this.name,form:this.form||null,disabled:this.disabled,placeholder:this.placeholder,required:this.required,autocomplete:this.autocomplete||null,readonly:this.readonly||this.plaintext,rows:this.computedRows,wrap:this.wrap||null,"aria-required":this.required?"true":null,"aria-invalid":this.computedAriaInvalid},domProps:{value:this.localValue},on:v({},this.$listeners,{input:this.onInput,change:this.onChange,blur:this.onBlur})})}};e.default=w},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(542),o=n(3),l={BFormFile:r.default,BFile:r.default},c={install:(0,o.installFactory)({components:l})};e.default=c},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(11),o=n(47),l=n(38),c=n(280),d=n(177),h=n(5),f=n(16),m="BFormFile",v={name:m,mixins:[r.default,o.default,l.default,c.default,d.default],model:{prop:"value",event:"input"},props:{value:{default:null},accept:{type:String,default:""},capture:{type:Boolean,default:!1},placeholder:{type:String,default:function(){return(0,f.getComponentConfig)(m,"placeholder")}},browseText:{type:String,default:function(){return(0,f.getComponentConfig)(m,"browseText")}},dropPlaceholder:{type:String,default:function(){return(0,f.getComponentConfig)(m,"dropPlaceholder")}},multiple:{type:Boolean,default:!1},directory:{type:Boolean,default:!1},noTraverse:{type:Boolean,default:!1},noDrop:{type:Boolean,default:!1},fileNameFormatter:{type:Function,default:null}},data:function(){return{selectedFile:null,dragging:!1,hasFocus:!1}},computed:{selectLabel:function(){if(this.dragging&&this.dropPlaceholder)return this.dropPlaceholder;if(!this.selectedFile||0===this.selectedFile.length)return this.placeholder;var t=(0,h.concat)(this.selectedFile).filter(Boolean);return this.hasNormalizedSlot("file-name")?[this.normalizeSlot("file-name",{files:t,names:t.map(function(t){return t.name})})]:"function"==typeof this.fileNameFormatter?String(this.fileNameFormatter(t)):t.map(function(t){return t.name}).join(", ")}},watch:{selectedFile:function(t,e){t===e||(0,h.isArray)(t)&&(0,h.isArray)(e)&&t.length===e.length&&t.every(function(t,i){return t===e[i]})||(!t&&this.multiple?this.$emit("input",[]):this.$emit("input",t))},value:function(t){(!t||(0,h.isArray)(t)&&0===t.length)&&this.reset()}},methods:{focusHandler:function(t){this.plain||"focusout"===t.type?this.hasFocus=!1:this.hasFocus=!0},reset:function(){try{this.$refs.input.value=""}catch(t){}this.$refs.input.type="",this.$refs.input.type="file",this.selectedFile=this.multiple?[]:null},onFileChange:function(t){var e=this;this.$emit("change",t);var n=t.dataTransfer&&t.dataTransfer.items;if(!n||this.noTraverse)this.setFiles(t.target.files||t.dataTransfer.files);else{for(var r=[],i=0;i<n.length;i++){var o=n[i].webkitGetAsEntry();o&&r.push(this.traverseFileTree(o))}Promise.all(r).then(function(t){e.setFiles((0,h.from)(t))})}},setFiles:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(t)if(this.multiple){for(var e=[],i=0;i<t.length;i++)e.push(t[i]);this.selectedFile=e}else this.selectedFile=t[0]||null;else this.selectedFile=null},onReset:function(){this.selectedFile=this.multiple?[]:null},onDragover:function(t){t.preventDefault(),t.stopPropagation(),!this.noDrop&&this.custom&&(this.dragging=!0,t.dataTransfer.dropEffect="copy")},onDragleave:function(t){t.preventDefault(),t.stopPropagation(),this.dragging=!1},onDrop:function(t){t.preventDefault(),t.stopPropagation(),this.noDrop||(this.dragging=!1,t.dataTransfer.files&&t.dataTransfer.files.length>0&&this.onFileChange(t))},traverseFileTree:function(t,path){var e=this;return new Promise(function(n){path=path||"",t.isFile?t.file(function(t){t.$path=path,n(t)}):t.isDirectory&&t.createReader().readEntries(function(r){for(var o=[],i=0;i<r.length;i++)o.push(e.traverseFileTree(r[i],path+t.name+"/"));Promise.all(o).then(function(t){n((0,h.from)(t))})})})}},render:function(t){var input=t("input",{ref:"input",class:[{"form-control-file":this.plain,"custom-file-input":this.custom,focus:this.custom&&this.hasFocus},this.stateClass],attrs:{type:"file",id:this.safeId(),name:this.name,disabled:this.disabled,required:this.required,form:this.form||null,capture:this.capture||null,accept:this.accept||null,multiple:this.multiple,webkitdirectory:this.directory,"aria-required":this.required?"true":null},on:{change:this.onFileChange,focusin:this.focusHandler,focusout:this.focusHandler,reset:this.onReset}});if(this.plain)return input;var label=t("label",{staticClass:"custom-file-label",class:[this.dragging?"dragging":null],attrs:{for:this.safeId(),"data-browse":this.browseText||null}},this.selectLabel);return t("div",{staticClass:"custom-file b-form-file",class:this.stateClass,attrs:{id:this.safeId("_BV_file_outer_")},on:{dragover:this.onDragover,dragleave:this.onDragleave,drop:this.onDrop}},[input,label])}};e.default=v},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},slot=n[t]||r[t];return"function"==typeof slot?slot(e):slot};e.default=r},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(545),o=n(3),l={BFormSelect:r.default,BSelect:r.default},c={install:(0,o.installFactory)({components:l})};e.default=c},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(11),o=n(120),l=n(47),c=n(58),d=n(38),h=n(280),f=n(5),m=n(10);function v(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},e=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(source).filter(function(t){return Object.getOwnPropertyDescriptor(source,t).enumerable}))),e.forEach(function(e){y(t,e,source[e])})}return t}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var w={name:"BFormSelect",mixins:[r.default,l.default,c.default,d.default,h.default,o.default],model:{prop:"value",event:"input"},props:{value:{},multiple:{type:Boolean,default:!1},selectSize:{type:Number,default:0},ariaInvalid:{type:[Boolean,String],default:!1}},data:function(){return{localValue:this.value}},computed:{computedSelectSize:function(){return this.plain||0!==this.selectSize?this.selectSize:null},inputClass:function(){return[this.plain?"form-control":"custom-select",this.size&&this.plain?"form-control-".concat(this.size):null,this.size&&!this.plain?"custom-select-".concat(this.size):null,this.stateClass]},computedAriaInvalid:function(){return!0===this.ariaInvalid||"true"===this.ariaInvalid?"true":"is-invalid"===this.stateClass?"true":null}},watch:{value:function(t,e){this.localValue=t},localValue:function(t,e){this.$emit("input",this.localValue)}},methods:{focus:function(){this.$refs.input.focus()},blur:function(){this.$refs.input.blur()}},render:function(t){var e=this,n=this.$slots,r=this.formOptions.map(function(option,e){return t("option",{key:"option_".concat(e,"_opt"),attrs:{disabled:Boolean(option.disabled)},domProps:v({},(0,m.htmlOrText)(option.html,option.text),{value:option.value})})});return t("select",{ref:"input",class:this.inputClass,directives:[{name:"model",rawName:"v-model",value:this.localValue,expression:"localValue"}],attrs:{id:this.safeId(),name:this.name,form:this.form||null,multiple:this.multiple||null,size:this.computedSelectSize,disabled:this.disabled,required:this.required,"aria-required":this.required?"true":null,"aria-invalid":this.computedAriaInvalid},on:{change:function(t){var n=t.target,r=(0,f.from)(n.options).filter(function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});e.localValue=n.multiple?r:r[0],e.$nextTick(function(){e.$emit("change",e.localValue)})}}},[n.first,r,n.default])}};e.default=w},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(172),o=n(261),l=n(3),c={BImg:r.default,BImgLazy:o.default},d={install:(0,l.installFactory)({components:c})};e.default=d},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(548),o=n(3),l={BJumbotron:r.default},c={install:(0,o.installFactory)({components:l})};e.default=c},function(t,e,n){"use strict";e.__esModule=!0,e.default=e.props=void 0;var r=n(2),o=n(10),l=n(263);function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d={fluid:{type:Boolean,default:!1},containerFluid:{type:Boolean,default:!1},header:{type:String,default:null},headerHtml:{type:String,default:null},headerTag:{type:String,default:"h1"},headerLevel:{type:[Number,String],default:"3"},lead:{type:String,default:null},leadHtml:{type:String,default:null},leadTag:{type:String,default:"p"},tag:{type:String,default:"div"},bgVariant:{type:String,default:null},borderVariant:{type:String,default:null},textVariant:{type:String,default:null}};e.props=d;var h={name:"BJumbotron",functional:!0,props:d,render:function(t,e){var n,d=e.props,data=e.data,h=[],f=(0,e.slots)();return(d.header||f.header||d.headerHtml)&&h.push(t(d.headerTag,{class:c({},"display-".concat(d.headerLevel),Boolean(d.headerLevel))},f.header||d.headerHtml||(0,o.stripTags)(d.header))),(d.lead||f.lead||d.leadHtml)&&h.push(t(d.leadTag,{staticClass:"lead"},f.lead||d.leadHtml||(0,o.stripTags)(d.lead))),f.default&&h.push(f.default),d.fluid&&(h=[t(l.default,{props:{fluid:d.containerFluid}},h)]),t(d.tag,(0,r.mergeData)(data,{staticClass:"jumbotron",class:(n={"jumbotron-fluid":d.fluid},c(n,"text-".concat(d.textVariant),Boolean(d.textVariant)),c(n,"bg-".concat(d.bgVariant),Boolean(d.bgVariant)),c(n,"border-".concat(d.borderVariant),Boolean(d.borderVariant)),c(n,"border",Boolean(d.borderVariant)),n)}),h)}};e.default=h},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(32),o=n(3),l={BLink:r.default},c={install:(0,o.installFactory)({components:l})};e.default=c},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(551),o=n(552),l=n(3),c={BListGroup:r.default,BListGroupItem:o.default},d={install:(0,l.installFactory)({components:c})};e.default=d},function(t,e,n){"use strict";e.__esModule=!0,e.default=e.props=void 0;var r=n(2);var o={tag:{type:String,default:"div"},flush:{type:Boolean,default:!1},horizontal:{type:[Boolean,String],default:!1}};e.props=o;var l={name:"BListGroup",functional:!0,props:o,render:function(t,e){var n=e.props,data=e.data,o=e.children,l=""===n.horizontal||n.horizontal;l=!n.flush&&l;var c,d,h,f={staticClass:"list-group",class:(c={"list-group-flush":n.flush,"list-group-horizontal":!0===l},d="list-group-horizontal-".concat(l),h="string"==typeof l,d in c?Object.defineProperty(c,d,{value:h,enumerable:!0,configurable:!0,writable:!0}):c[d]=h,c)};return t(n.tag,(0,r.mergeData)(data,f),o)}};e.default=l},function(t,e,n){"use strict";e.__esModule=!0,e.default=e.props=void 0;var r=n(2),o=n(57),l=n(5),c=n(32);function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var h=["a","router-link","button","b-link"],f=(0,c.propsFactory)();delete f.href.default,delete f.to.default;var m=function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},e=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(source).filter(function(t){return Object.getOwnPropertyDescriptor(source,t).enumerable}))),e.forEach(function(e){d(t,e,source[e])})}return t}({tag:{type:String,default:"div"},action:{type:Boolean,default:null},button:{type:Boolean,default:null},variant:{type:String,default:null}},f);e.props=m;var v={name:"BListGroupItem",functional:!0,props:m,render:function(t,e){var n,m=e.props,data=e.data,v=e.children,y=m.button?"button":m.href||m.to?c.default:m.tag,w=Boolean(m.href||m.to||m.action||m.button||(0,l.arrayIncludes)(h,m.tag)),_={},S={};"button"===y?(data.attrs&&data.attrs.type||(_.type="button"),m.disabled&&(_.disabled=!0)):S=(0,o.default)(f,m);var E={attrs:_,props:S,staticClass:"list-group-item",class:(n={},d(n,"list-group-item-".concat(m.variant),Boolean(m.variant)),d(n,"list-group-item-action",w),d(n,"active",m.active),d(n,"disabled",m.disabled),n)};return t(y,(0,r.mergeData)(data,E),v)}};e.default=v},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(554),o=n(282),l=n(281),c=n(3),d={BMedia:r.default,BMediaAside:o.default,BMediaBody:l.default},h={install:(0,c.installFactory)({components:d})};e.default=h},function(t,e,n){"use strict";e.__esModule=!0,e.default=e.props=void 0;var r=n(2),o=n(281),l=n(282),c={tag:{type:String,default:"div"},rightAlign:{type:Boolean,default:!1},verticalAlign:{type:String,default:"top"},noBody:{type:Boolean,default:!1}};e.props=c;var d={name:"BMedia",functional:!0,props:c,render:function(t,e){var n=e.props,data=e.data,c=e.slots,d=e.children,h=n.noBody?d:[],f=c();return n.noBody||(f.aside&&!n.rightAlign&&h.push(t(l.default,{staticClass:"mr-3",props:{verticalAlign:n.verticalAlign}},f.aside)),h.push(t(o.default,f.default)),f.aside&&n.rightAlign&&h.push(t(l.default,{staticClass:"ml-3",props:{verticalAlign:n.verticalAlign}},f.aside))),t(n.tag,(0,r.mergeData)(data,{staticClass:"media"}),h)}};e.default=d},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(556),o=n(283),l=n(3),c={BModal:r.default},d={BModalDirectivePlugin:o.default},h={install:(0,l.installFactory)({components:c,plugins:d})};e.default=h},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(168),o=n(166),l=n(11),c=n(118),d=n(88),h=n(20),f=n(46),m=n(175),v=n(16),y=n(10),w=n(6);function _(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var S="BModal",E=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",T=".sticky-top",k=".navbar-toggler",x={subtree:!0,childList:!0,characterData:!0,attributes:!0,attributeFilter:["style","class"]},C=2e3;function I(){return parseInt((0,w.getAttr)(document.body,"data-modal-open-count")||0,10)}function O(t){return(0,w.setAttr)(document.body,"data-modal-open-count",String(t)),t}function A(){return O(Math.max(I()-1,0))}function N(){return(0,w.selectAll)("div.modal").filter(w.isVisible).map(function(t){return t.parentElement}).reduce(function(t,e){return Math.max(t,parseInt(e.style.zIndex||0,10))},0)}var D={name:S,components:{BButton:r.default,BButtonClose:o.default},mixins:[l.default,c.default],model:{prop:"visible",event:"change"},props:{title:{type:String,default:""},titleHtml:{type:String},titleTag:{type:String,default:"h5"},size:{type:String,default:"md"},centered:{type:Boolean,default:!1},scrollable:{type:Boolean,default:!1},buttonSize:{type:String,default:""},noStacking:{type:Boolean,default:!1},noFade:{type:Boolean,default:!1},noCloseOnBackdrop:{type:Boolean,default:!1},noCloseOnEsc:{type:Boolean,default:!1},noEnforceFocus:{type:Boolean,default:!1},headerBgVariant:{type:String,default:null},headerBorderVariant:{type:String,default:null},headerTextVariant:{type:String,default:null},headerCloseVariant:{type:String,default:null},headerClass:{type:[String,Array],default:null},bodyBgVariant:{type:String,default:null},bodyTextVariant:{type:String,default:null},modalClass:{type:[String,Array],default:null},dialogClass:{type:[String,Array],default:null},contentClass:{type:[String,Array],default:null},bodyClass:{type:[String,Array],default:null},footerBgVariant:{type:String,default:null},footerBorderVariant:{type:String,default:null},footerTextVariant:{type:String,default:null},footerClass:{type:[String,Array],default:null},hideHeader:{type:Boolean,default:!1},hideFooter:{type:Boolean,default:!1},hideHeaderClose:{type:Boolean,default:!1},hideBackdrop:{type:Boolean,default:!1},okOnly:{type:Boolean,default:!1},okDisabled:{type:Boolean,default:!1},cancelDisabled:{type:Boolean,default:!1},visible:{type:Boolean,default:!1},returnFocus:{default:null},headerCloseLabel:{type:String,default:function(){return(0,v.getComponentConfig)(S,"headerCloseLabel")}},cancelTitle:{type:String,default:function(){return(0,v.getComponentConfig)(S,"cancelTitle")}},cancelTitleHtml:{type:String},okTitle:{type:String,default:function(){return(0,v.getComponentConfig)(S,"okTitle")}},okTitleHtml:{type:String},cancelVariant:{type:String,default:function(){return(0,v.getComponentConfig)(S,"cancelVariant")}},okVariant:{type:String,default:function(){return(0,v.getComponentConfig)(S,"okVariant")}},lazy:{type:Boolean,default:!1},busy:{type:Boolean,default:!1}},data:function(){return{is_hidden:this.lazy||!1,is_visible:!1,is_transitioning:!1,is_show:!1,is_block:!1,is_opening:!1,is_closing:!1,scrollbarWidth:0,zIndex:C,isTop:!0,isBodyOverflowing:!1,return_focus:this.returnFocus||null}},computed:{contentClasses:function(){return["modal-content",this.contentClass]},modalClasses:function(){return[{fade:!this.noFade,show:this.is_show,"d-block":this.is_block},this.modalClass]},dialogClasses:function(){var t;return[(t={},_(t,"modal-".concat(this.size),Boolean(this.size)),_(t,"modal-dialog-centered",this.centered),_(t,"modal-dialog-scrollable",this.scrollable),t),this.dialogClass]},backdropClasses:function(){return{fade:!this.noFade,show:this.is_show||this.noFade}},headerClasses:function(){var t;return[(t={},_(t,"bg-".concat(this.headerBgVariant),Boolean(this.headerBgVariant)),_(t,"text-".concat(this.headerTextVariant),Boolean(this.headerTextVariant)),_(t,"border-".concat(this.headerBorderVariant),Boolean(this.headerBorderVariant)),t),this.headerClass]},bodyClasses:function(){var t;return[(t={},_(t,"bg-".concat(this.bodyBgVariant),Boolean(this.bodyBgVariant)),_(t,"text-".concat(this.bodyTextVariant),Boolean(this.bodyTextVariant)),t),this.bodyClass]},footerClasses:function(){var t;return[(t={},_(t,"bg-".concat(this.footerBgVariant),Boolean(this.footerBgVariant)),_(t,"text-".concat(this.footerTextVariant),Boolean(this.footerTextVariant)),_(t,"border-".concat(this.footerBorderVariant),Boolean(this.footerBorderVariant)),t),this.footerClass]},modalOuterStyle:function(){return{position:"absolute",zIndex:this.zIndex}}},watch:{visible:function(t,e){t!==e&&this[t?"show":"hide"]()}},created:function(){this._observer=null},mounted:function(){this.listenOnRoot("bv::show::modal",this.showHandler),this.listenOnRoot("bv::modal::shown",this.shownHandler),this.listenOnRoot("bv::hide::modal",this.hideHandler),this.listenOnRoot("bv::modal::hidden",this.hiddenHandler),this.listenOnRoot("bv::toggle::modal",this.toggleHandler),this.listenOnRoot("bv::modal::show",this.modalListener),!0===this.visible&&this.show()},beforeDestroy:function(){(this._observer&&(this._observer.disconnect(),this._observer=null),this.$root.$off("bv::modal::hidden",this.doShow),this.setEnforceFocus(!1),this.setResizeEvent(!1),this.is_visible)&&(this.is_visible=!1,this.is_show=!1,this.is_transitioning=!1,0===A()&&(this.setModalOpenClass(!1),this.resetScrollbar(),this.resetDialogAdjustments()))},methods:{show:function(){if(!this.is_visible&&!this.is_opening)if(this.is_closing)this.$once("hidden",this.show);else{this.is_opening=!0;var t=new m.default("show",{cancelable:!0,vueTarget:this,target:this.$refs.modal,modalId:this.safeId(),relatedTarget:null});if(this.emitEvent(t),!t.defaultPrevented&&!this.is_visible)return this.noStacking?void((0,w.hasClass)(document.body,"modal-open")?this.$root.$once("bv::modal::hidden",this.doShow):this.doShow()):(this.zIndex=N()+C,void this.doShow());this.is_opening=!1}},hide:function(t){if(this.is_visible&&!this.is_closing){this.is_closing=!0;var e=new m.default("hide",{cancelable:!0,vueTarget:this,target:this.$refs.modal,modalId:this.safeId(),relatedTarget:null,isOK:t||null,trigger:t||null,cancel:function(){(0,h.default)("b-modal: evt.cancel() is deprecated. Please use evt.preventDefault()."),this.preventDefault()}});"ok"===t?this.$emit("ok",e):"cancel"===t&&this.$emit("cancel",e),this.emitEvent(e),!e.defaultPrevented&&this.is_visible?(this._observer&&(this._observer.disconnect(),this._observer=null),this.is_visible=!1,this.$emit("change",!1)):this.is_closing=!1}},toggle:function(t){t&&(this.return_focus=t),this.is_visible?this.hide("toggle"):this.show()},doShow:function(){var t=this;this.is_hidden=!1,this.$nextTick(function(){t.is_visible=!0,t.is_opening=!1,t.$emit("change",!0),t._observer=(0,d.default)(t.$refs.content,t.adjustDialog.bind(t),x)})},onBeforeEnter:function(){this.getScrollbarWidth(),this.is_transitioning=!0,this.checkScrollbar(),1===O(I()+1)&&this.setScrollbar(),this.adjustDialog(),this.setModalOpenClass(!0),this.setResizeEvent(!0)},onEnter:function(){this.is_block=!0},onAfterEnter:function(){var t=this;this.is_show=!0,this.is_transitioning=!1,this.$nextTick(function(){var e=new m.default("shown",{cancelable:!1,vueTarget:t,target:t.$refs.modal,modalId:t.safeId(),relatedTarget:null});t.emitEvent(e),t.focusFirst(),t.setEnforceFocus(!0)})},onBeforeLeave:function(){this.is_transitioning=!0,this.setResizeEvent(!1)},onLeave:function(){this.is_show=!1},onAfterLeave:function(){var t=this;this.is_block=!1,this.resetDialogAdjustments(),this.is_transitioning=!1,0===A()&&(this.resetScrollbar(),this.setModalOpenClass(!1)),this.setEnforceFocus(!1),this.$nextTick(function(){t.is_hidden=t.lazy||!1,t.zIndex=C,t.returnFocusTo(),t.is_closing=!1;var e=new m.default("hidden",{cancelable:!1,vueTarget:t,target:t.lazy?null:t.$refs.modal,modalId:t.safeId(),relatedTarget:null});t.emitEvent(e)})},emitEvent:function(t){var e=t.type;this.$emit(e,t),this.$root.$emit("bv::modal::".concat(e),t,this.safeId())},onClickOut:function(t){this.is_visible&&!this.noCloseOnBackdrop&&(0,w.contains)(document,t.target)&&((0,w.contains)(this.$refs.content,t.target)||this.hide("backdrop"))},onEsc:function(t){t.keyCode===f.default.ESC&&this.is_visible&&!this.noCloseOnEsc&&this.hide("esc")},focusHandler:function(t){var e=this.$refs.modal;!this.noEnforceFocus&&this.isTop&&this.is_visible&&e&&document!==t.target&&!(0,w.contains)(e,t.target)&&e.focus({preventScroll:!0})},setEnforceFocus:function(t){var e={passive:!0,capture:!1};t?(0,w.eventOn)(document,"focusin",this.focusHandler,e):(0,w.eventOff)(document,"focusin",this.focusHandler,e)},setResizeEvent:function(t){var e=this;["resize","orientationchange"].forEach(function(n){var r={passive:!0,capture:!1};t?(0,w.eventOn)(window,n,e.adjustDialog,r):(0,w.eventOff)(window,n,e.adjustDialog,r)})},showHandler:function(t,e){t===this.id&&(this.return_focus=e||null,this.show())},hideHandler:function(t){t===this.id&&this.hide("event")},toggleHandler:function(t,e){t===this.id&&this.toggle(e)},shownHandler:function(){this.setTop()},hiddenHandler:function(){this.setTop()},setTop:function(){this.isTop=this.zIndex>=N()},modalListener:function(t){this.noStacking&&t.vueTarget!==this&&this.hide()},focusFirst:function(){if("undefined"!=typeof document){var t=this.$refs.modal,e=document.activeElement;e&&(0,w.contains)(t,e)||t&&this.$nextTick(function(){t.scrollTop=0,t.focus()})}},returnFocusTo:function(){var t=this.returnFocus||this.return_focus||null;"string"==typeof t&&(t=(0,w.select)(t)),t&&(t=t.$el||t,(0,w.isVisible)(t)&&t.focus())},getScrollbarWidth:function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",document.body.appendChild(t),this.scrollbarWidth=(0,w.getBCR)(t).width-t.clientWidth,document.body.removeChild(t)},setModalOpenClass:function(t){t?(0,w.addClass)(document.body,"modal-open"):(0,w.removeClass)(document.body,"modal-open")},adjustDialog:function(){if(this.is_visible){var t=this.$refs.modal,e=t.scrollHeight>document.documentElement.clientHeight;!this.isBodyOverflowing&&e?t.style.paddingLeft="".concat(this.scrollbarWidth,"px"):t.style.paddingLeft="",this.isBodyOverflowing&&!e?t.style.paddingRight="".concat(this.scrollbarWidth,"px"):t.style.paddingRight=""}},resetDialogAdjustments:function(){var t=this.$refs.modal;t&&(t.style.paddingLeft="",t.style.paddingRight="")},checkScrollbar:function(){var t=(0,w.getBCR)(document.body),e=t.left,n=t.right,r=t.height;this.isBodyOverflowing=e+n<window.innerWidth||r>window.innerHeight},setScrollbar:function(){if(this.isBodyOverflowing){var body=document.body,t=this.scrollbarWidth;body._paddingChangedForModal=[],body._marginChangedForModal=[],(0,w.selectAll)(E).forEach(function(e){var n=e.style.paddingRight,r=(0,w.getCS)(e).paddingRight||0;(0,w.setAttr)(e,"data-padding-right",n),e.style.paddingRight="".concat(parseFloat(r)+t,"px"),body._paddingChangedForModal.push(e)}),(0,w.selectAll)(T).forEach(function(e){var n=e.style.marginRight,r=(0,w.getCS)(e).marginRight||0;(0,w.setAttr)(e,"data-margin-right",n),e.style.marginRight="".concat(parseFloat(r)-t,"px"),body._marginChangedForModal.push(e)}),(0,w.selectAll)(k).forEach(function(e){var n=e.style.marginRight,r=(0,w.getCS)(e).marginRight||0;(0,w.setAttr)(e,"data-margin-right",n),e.style.marginRight="".concat(parseFloat(r)+t,"px"),body._marginChangedForModal.push(e)});var e=body.style.paddingRight,n=(0,w.getCS)(body).paddingRight;(0,w.setAttr)(body,"data-padding-right",e),body.style.paddingRight="".concat(parseFloat(n)+t,"px")}},resetScrollbar:function(){var body=document.body;body._paddingChangedForModal&&body._paddingChangedForModal.forEach(function(t){(0,w.hasAttr)(t,"data-padding-right")&&(t.style.paddingRight=(0,w.getAttr)(t,"data-padding-right")||"",(0,w.removeAttr)(t,"data-padding-right"))}),body._marginChangedForModal&&body._marginChangedForModal.forEach(function(t){(0,w.hasAttr)(t,"data-margin-right")&&(t.style.marginRight=(0,w.getAttr)(t,"data-margin-right")||"",(0,w.removeAttr)(t,"data-margin-right"))}),body._paddingChangedForModal=null,body._marginChangedForModal=null,(0,w.hasAttr)(body,"data-padding-right")&&(body.style.paddingRight=(0,w.getAttr)(body,"data-padding-right")||"",(0,w.removeAttr)(body,"data-padding-right"))}},render:function(t){var e=this,n=this.$slots,header=t(!1);if(!this.hideHeader){var r=n["modal-header"];if(!r){var o=t(!1);this.hideHeaderClose||(o=t("b-button-close",{props:{disabled:this.is_transitioning,ariaLabel:this.headerCloseLabel,textVariant:this.headerCloseVariant||this.headerTextVariant},on:{click:function(t){e.hide("headerclose")}}},[n["modal-header-close"]])),r=[t(this.titleTag,{class:["modal-title"]},[n["modal-title"]||this.titleHtml||(0,y.stripTags)(this.title)]),o]}header=t("header",{ref:"header",staticClass:"modal-header",class:this.headerClasses,attrs:{id:this.safeId("__BV_modal_header_")}},[r])}var body=t("div",{ref:"body",staticClass:"modal-body",class:this.bodyClasses,attrs:{id:this.safeId("__BV_modal_body_")}},[n.default]),footer=t(!1);if(!this.hideFooter){var l=n["modal-footer"];if(!l){var c=t(!1);this.okOnly||(c=t("b-button",{props:{variant:this.cancelVariant,size:this.buttonSize,disabled:this.cancelDisabled||this.busy||this.is_transitioning},on:{click:function(t){e.hide("cancel")}}},[n["modal-cancel"]||this.cancelTitleHtml||(0,y.stripTags)(this.cancelTitle)])),l=[c,t("b-button",{props:{variant:this.okVariant,size:this.buttonSize,disabled:this.okDisabled||this.busy||this.is_transitioning},on:{click:function(t){e.hide("ok")}}},[n["modal-ok"]||this.okTitleHtml||(0,y.stripTags)(this.okTitle)])]}footer=t("footer",{ref:"footer",staticClass:"modal-footer",class:this.footerClasses,attrs:{id:this.safeId("__BV_modal_footer_")}},[l])}var d=t("div",{ref:"content",class:this.contentClasses,attrs:{role:"document",id:this.safeId("__BV_modal_content_"),"aria-labelledby":this.hideHeader?null:this.safeId("__BV_modal_header_"),"aria-describedby":this.safeId("__BV_modal_body_")}},[header,body,footer]),h=t("div",{staticClass:"modal-dialog",class:this.dialogClasses},[d]),f=t("div",{ref:"modal",staticClass:"modal",class:this.modalClasses,directives:[{name:"show",rawName:"v-show",value:this.is_visible,expression:"is_visible"}],attrs:{id:this.safeId(),role:"dialog",tabindex:"-1","aria-hidden":this.is_visible?null:"true","aria-modal":this.is_visible?"true":null},on:{keydown:this.onEsc,click:this.onClickOut}},[h]);f=t("transition",{props:{enterClass:"",enterToClass:"",enterActiveClass:"",leaveClass:"",leaveActiveClass:"",leaveToClass:""},on:{"before-enter":this.onBeforeEnter,enter:this.onEnter,"after-enter":this.onAfterEnter,"before-leave":this.onBeforeLeave,leave:this.onLeave,"after-leave":this.onAfterLeave}},[f]);var m=t(!1);this.hideBackdrop||!this.is_visible&&!this.is_transitioning||(m=t("div",{staticClass:"modal-backdrop",class:this.backdropClasses,attrs:{id:this.safeId("__BV_modal_backdrop_")}},[n["modal-backdrop"]]));var v=t(!1);this.is_visible&&this.isTop&&!this.noEnforceFocus&&(v=t("div",{attrs:{tabindex:"0"}}));var w=t(!1);return this.is_hidden||(w=t("div",{key:"modal-outer",style:this.modalOuterStyle,attrs:{id:this.safeId("__BV_modal_outer_")}},[f,v,m])),t("div",{},[w])}};e.default=D},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(6),o=n(268),l={click:!0},c=function(t,e,n){"BUTTON"!==t.tagName&&(0,r.setAttr)(t,"role","button")},d={bind:function(t,e,n){(0,o.bindTargets)(n,e,l,function(t){var e=t.targets,n=t.vnode;e.forEach(function(t){n.context.$root.$emit("bv::show::modal",t,n.elm)})}),c(t)},updated:c,componentUpdated:c,unbind:function(t,e,n){(0,o.unbindTargets)(n,e,l),"BUTTON"!==t.tagName&&(0,r.removeAttr)(t,"role","button")}};e.default=d},function(t,e,n){"use strict";e.__esModule=!0,e.default=e.props=void 0;var r=n(2),o=n(20),l={tag:{type:String,default:"ul"},fill:{type:Boolean,default:!1},justified:{type:Boolean,default:!1},tabs:{type:Boolean,default:!1},pills:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},isNavBar:{type:Boolean,default:!1}};e.props=l;var c={name:"BNav",functional:!0,props:l,render:function(t,e){var n=e.props,data=e.data,l=e.children;return n.isNavBar&&(0,o.default)("b-nav: Prop 'is-nav-bar' is deprecated. Please use component '<b-navbar-nav>' instead."),t(n.tag,(0,r.mergeData)(data,{class:{nav:!n.isNavBar,"navbar-nav":n.isNavBar,"nav-tabs":n.tabs&&!n.isNavBar,"nav-pills":n.pills&&!n.isNavBar,"flex-column":n.vertical&&!n.isNavBar,"nav-fill":n.fill,"nav-justified":n.justified}}),l)}};e.default=c},function(t,e,n){"use strict";e.__esModule=!0,e.default=e.props=void 0;var r=n(2),o=n(32);function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c=(0,o.propsFactory)();e.props=c;var d={name:"BNavItem",functional:!0,props:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},e=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(source).filter(function(t){return Object.getOwnPropertyDescriptor(source,t).enumerable}))),e.forEach(function(e){l(t,e,source[e])})}return t}({},c,{linkAttrs:{type:Object,default:function(){return{}}},linkClasses:{type:[String,Object,Array],default:null}}),render:function(t,e){var n=e.props,data=e.data,l=e.listeners,c=e.children;return delete data.on,t("li",(0,r.mergeData)(data,{staticClass:"nav-item"}),[t(o.default,{staticClass:"nav-link",class:n.linkClasses,attrs:n.linkAttrs,props:n,on:l},c)])}};e.default=d},function(t,e,n){"use strict";e.__esModule=!0,e.default=e.props=void 0;var r=n(2),o={tag:{type:String,default:"span"}};e.props=o;var l={name:"BNavText",functional:!0,props:o,render:function(t,e){var n=e.props,data=e.data,o=e.children;return t(n.tag,(0,r.mergeData)(data,{staticClass:"navbar-text"}),o)}};e.default=l},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(176),o=n(2),l={name:"BNavForm",functional:!0,props:{id:{type:String,default:null}},render:function(t,e){var n=e.props,data=e.data,l=e.children;return t(r.default,(0,o.mergeData)(data,{attrs:{id:n.id},props:{inline:!0}}),l)}};e.default=l},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(11),o=n(269),l=n(10),c={name:"BNavItemDropdown",mixins:[r.default,o.default],props:{noCaret:{type:Boolean,default:!1},extraToggleClasses:{type:String,default:""},extraMenuClasses:{type:String,default:""},role:{type:String,default:"menu"}},computed:{isNav:function(){return!0},dropdownClasses:function(){return["nav-item","b-nav-dropdown","dropdown",this.dropup?"dropup":"",this.visible?"show":""]},toggleClasses:function(){return["nav-link",this.noCaret?"":"dropdown-toggle",this.disabled?"disabled":"",this.extraToggleClasses?this.extraToggleClasses:""]},menuClasses:function(){return["dropdown-menu",this.right?"dropdown-menu-right":"dropdown-menu-left",this.visible?"show":"",this.extraMenuClasses?this.extraMenuClasses:""]}},render:function(t){var button=t("a",{class:this.toggleClasses,ref:"toggle",attrs:{href:"#",id:this.safeId("_BV_button_"),disabled:this.disabled,"aria-haspopup":"true","aria-expanded":this.visible?"true":"false"},on:{click:this.toggle,keydown:this.toggle}},[this.$slots["button-content"]||this.$slots.text||t("span",{domProps:(0,l.htmlOrText)(this.html,this.text)})]),menu=t("div",{class:this.menuClasses,ref:"menu",attrs:{tabindex:"-1","aria-labelledby":this.safeId("_BV_button_")},on:{mouseover:this.onMouseOver,keydown:this.onKeydown}},[this.$slots.default]);return t("li",{attrs:{id:this.safeId()},class:this.dropdownClasses},[button,menu])}};e.default=c},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(564),o=n(565),l=n(566),c=n(567),d=n(284),h=n(266),f=n(174),m=n(3),v={BNavbar:r.default,BNavbarNav:o.default,BNavbarBrand:l.default,BNavbarToggle:c.default,BNavToggle:c.default},y={NavPlugin:d.default,CollapsePlugin:h.default,DropdownPlugin:f.default},w={install:(0,m.installFactory)({components:v,plugins:y})};e.default=w},function(t,e,n){"use strict";e.__esModule=!0,e.default=e.props=void 0;var r=n(2),o=n(16);function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c={tag:{type:String,default:"nav"},type:{type:String,default:"light"},variant:{type:String},toggleable:{type:[Boolean,String],default:!1},fixed:{type:String},sticky:{type:Boolean,default:!1},print:{type:Boolean,default:!1}};e.props=c;var d={name:"BNavbar",functional:!0,props:c,render:function(t,e){var n,c=e.props,data=e.data,d=e.children,h="",f=(0,o.getBreakpoints)()[0];return c.toggleable&&"string"==typeof c.toggleable&&c.toggleable!==f?h="navbar-expand-".concat(c.toggleable):!1===c.toggleable&&(h="navbar-expand"),t(c.tag,(0,r.mergeData)(data,{staticClass:"navbar",class:(n={"d-print":c.print,"sticky-top":c.sticky},l(n,"navbar-".concat(c.type),Boolean(c.type)),l(n,"bg-".concat(c.variant),Boolean(c.variant)),l(n,"fixed-".concat(c.fixed),Boolean(c.fixed)),l(n,"".concat(h),Boolean(h)),n),attrs:{role:"nav"===c.tag?null:"navigation"}}),d)}};e.default=d},function(t,e,n){"use strict";e.__esModule=!0,e.default=e.props=void 0;var r=n(2),o={tag:{type:String,default:"ul"},fill:{type:Boolean,default:!1},justified:{type:Boolean,default:!1}};e.props=o;var l={name:"BNavbarNav",functional:!0,props:o,render:function(t,e){var n=e.props,data=e.data,o=e.children;return t(n.tag,(0,r.mergeData)(data,{staticClass:"navbar-nav",class:{"nav-fill":n.fill,"nav-justified":n.justified}}),o)}};e.default=l},function(t,e,n){"use strict";e.__esModule=!0,e.default=e.props=void 0;var r=n(32),o=n(2),l=n(57);function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d=(0,r.propsFactory)();d.href.default=void 0,d.to.default=void 0;var h=function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},e=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(source).filter(function(t){return Object.getOwnPropertyDescriptor(source,t).enumerable}))),e.forEach(function(e){c(t,e,source[e])})}return t}({},d,{tag:{type:String,default:"div"}});e.props=h;var f={name:"BNavbarBrand",functional:!0,props:h,render:function(t,e){var n=e.props,data=e.data,c=e.children,h=Boolean(n.to||n.href);return t(h?r.default:n.tag,(0,o.mergeData)(data,{staticClass:"navbar-brand",props:h?(0,l.default)(d,n):{}}),c)}};e.default=f},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r={name:"BNavbarToggle",mixins:[n(118).default],props:{label:{type:String,default:"Toggle navigation"},target:{type:String,required:!0}},data:function(){return{toggleState:!1}},created:function(){this.listenOnRoot("bv::collapse::state",this.handleStateEvt)},methods:{onClick:function(t){this.$emit("click",t),t.defaultPrevented||this.$root.$emit("bv::toggle::collapse",this.target)},handleStateEvt:function(t,e){t===this.target&&(this.toggleState=e)}},render:function(t){return t("button",{class:["navbar-toggler"],attrs:{type:"button","aria-label":this.label,"aria-controls":this.target,"aria-expanded":this.toggleState?"true":"false"},on:{click:this.onClick}},[this.$slots.default||t("span",{class:["navbar-toggler-icon"]})])}};e.default=r},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(569),o=n(3),l={BPagination:r.default},c={install:(0,o.installFactory)({components:l})};e.default=c},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(285),o=n(6),l=20,c=0;var d={perPage:{type:[Number,String],default:l},totalRows:{type:[Number,String],default:c},ariaControls:{type:String,default:null}},h={name:"BPagination",mixins:[r.default],props:d,computed:{numberOfPages:function(){var t,e,n=Math.ceil((t=this.totalRows,((e=parseInt(t,10)||c)<0?0:e)/function(t){var e=parseInt(t,10)||l;return e<1?1:e}(this.perPage)));return n<1?1:n}},watch:{numberOfPages:function(t,e){this.localNumPages=t}},created:function(){var t=this;this.localNumPages=this.numberOfPages;var e=parseInt(this.value,10)||0;e>0?this.currentPage=e:this.$nextTick(function(){t.currentPage=0})},mounted:function(){this.localNumPages=this.numberOfPages},methods:{onClick:function(t,e){var n=this;t>this.numberOfPages?t=this.numberOfPages:t<1&&(t=1),this.currentPage=t,this.$emit("change",this.currentPage),this.$nextTick(function(){var t=e.target;(0,o.isVisible)(t)&&n.$el.contains(t)&&t.focus?t.focus():n.focusCurrent()})},makePage:function(t){return t},linkProps:function(t){return{href:"#"}}}};e.default=h},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=function(t){return Array.apply(null,{length:t})};e.default=r},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(572),o=n(3),l={BPaginationNav:r.default},c={install:(0,o.installFactory)({components:l})};e.default=c},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(20),o=n(48),l=n(87),c=n(6),d=n(28),h=n(7),f=n(5),m=n(250),v=n(285);function y(t){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var w={numberOfPages:{type:[Number,String],default:1,validator:function(t){var e=parseInt(t,10);return!(isNaN(e)||e<1)||((0,r.default)('b-pagination: prop "number-of-pages" must be a number greater than 0'),!1)}},baseUrl:{type:String,default:"/"},useRouter:{type:Boolean,default:!1},linkGen:{type:Function,default:null},pageGen:{type:Function,default:null},pages:{type:Array,default:null},noPageDetect:{type:Boolean,default:!1},activeClass:{type:String},exact:{type:Boolean,default:!1},exactActiveClass:{type:String},noPrefetch:{type:Boolean,default:!1}},_={name:"BPaginationNav",mixins:[v.default],props:w,computed:{isNav:function(){return!0},computedValue:function(){var t=parseInt(this.value,10);return isNaN(t)||t<1?null:t}},watch:{numberOfPages:function(t,e){var n=this;this.$nextTick(function(){n.setNumPages()})},pages:function(t,e){var n=this;this.$nextTick(function(){n.setNumPages()})}},created:function(){var t=this;this.setNumPages(),this.$nextTick(function(){t.guessCurrentPage()})},mounted:function(){var t=this;this.$router&&this.$watch("$route",function(e,n){t.$nextTick(function(){(0,c.requestAF)(function(){t.guessCurrentPage()})})})},methods:{setNumPages:function(){var t,e;(0,f.isArray)(this.pages)&&this.pages.length>0?this.localNumPages=this.pages.length:this.localNumPages=(t=this.numberOfPages,(e=parseInt(t,10)||1)<1?1:e)},onClick:function(t,e){var n=this;t!==this.currentPage&&((0,c.requestAF)(function(){n.currentPage=t,n.$emit("change",t)}),this.$nextTick(function(){try{(e.currentTarget||e.target).blur()}catch(t){}}))},getPageInfo:function(t){if(!(0,f.isArray)(this.pages)||0===this.pages.length||void 0===this.pages[t-1]){var link="".concat(this.baseUrl).concat(t);return{link:this.useRouter?{path:link}:link,text:(0,l.default)(t)}}var e=this.pages[t-1];if((0,h.isObject)(e)){var n=e.link;return{link:(0,h.isObject)(n)?n:this.useRouter?{path:n}:n,text:(0,l.default)(e.text||t)}}return{link:(0,l.default)(e),text:(0,l.default)(t)}},makePage:function(t){var e=this.getPageInfo(t);return this.pageGen&&"function"==typeof this.pageGen?this.pageGen(t,e):e.text},makeLink:function(t){var e=this.getPageInfo(t);return this.linkGen&&"function"==typeof this.linkGen?this.linkGen(t,e):e.link},linkProps:function(t){var link=this.makeLink(t),e={target:this.target||null,rel:this.rel||null,disabled:this.disabled,exact:this.exact,activeClass:this.activeClass,exactActiveClass:this.exactActiveClass,append:this.append,replace:this.replace,noPrefetch:this.noPrefetch};return this.useRouter||"object"===y(link)?e.to=link:e.href=link,e},resolveLink:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{var link=document.createElement("a");return link.href=(0,m.computeHref)({to:t},"a","/","/"),{path:link.pathname,hash:link.hash,query:(0,m.parseQuery)(link.search)}}catch(t){return{}}},resolveRoute:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{var e=this.$router.resolve(t,this.$route).route;return{path:e.path,hash:e.hash,query:e.query}}catch(t){return{}}},guessCurrentPage:function(){var t=this.computedValue,e=this.$router,n=this.$route;if(!this.noPageDetect&&!t&&(d.inBrowser||!d.inBrowser&&e))for(var r=e?{path:n.path,hash:n.hash,query:n.query}:{},l=d.inBrowser?window.location||document.location:null,c=l?{path:l.pathname,hash:l.hash,query:(0,m.parseQuery)(l.search)}:{},f=1;!t&&f<=this.localNumPages;f++){var v=this.makeLink(f);t=e&&((0,h.isObject)(v)||this.useRouter)?(0,o.default)(this.resolveRoute(v),r)?f:null:d.inBrowser?(0,o.default)(this.resolveLink(v),c)?f:null:-1}this.currentPage=t>0?t:0}}};e.default=_},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(574),o=n(288),l=n(3),c={BPopover:r.default},d={BPopoverDirectivePlugin:o.default},h={install:(0,l.installFactory)({components:c,plugins:d})};e.default=h},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(286),o=n(20),l={name:"BPopover",mixins:[n(287).default],props:{title:{type:String,default:""},content:{type:String,default:""},triggers:{type:[String,Array],default:"click"},placement:{type:String,default:"right"}},data:function(){return{}},methods:{createToolpop:function(){var t=this.getTarget();return t?this._toolpop=new r.default(t,this.getConfig(),this.$root):(this._toolpop=null,(0,o.default)("b-popover: 'target' element not found!")),this._toolpop}},render:function(t){return t("div",{class:["d-none"],style:{display:"none"},attrs:{"aria-hidden":!0}},[t("div",{ref:"title"},this.$slots.title),t("div",{ref:"content"},this.$slots.default)])}};e.default=l},function(t,e,n){"use strict";e.__esModule=!0,e.HTMLElement=void 0;var r="undefined"==typeof window?Object:window.HTMLElement;e.HTMLElement=r},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(119),o=n(286),l=n(28),c=n(7),d=n(20);function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var m="__BV_PopOver__",v={focus:!0,hover:!0,click:!0,blur:!0},y=function(t){var e={};"string"==typeof t.value?e.content=t.value:"function"==typeof t.value?e.content=t.value:"object"===f(t.value)&&(e=function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},e=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(source).filter(function(t){return Object.getOwnPropertyDescriptor(source,t).enumerable}))),e.forEach(function(e){h(t,e,source[e])})}return t}({},e,t.value)),t.arg&&(e.container="#".concat(t.arg)),(0,c.keys)(t.modifiers).forEach(function(t){if(/^html$/.test(t))e.html=!0;else if(/^nofade$/.test(t))e.animation=!1;else if(/^(auto|top(left|right)?|bottom(left|right)?|left(top|bottom)?|right(top|bottom)?)$/.test(t))e.placement=t;else if(/^(window|viewport)$/.test(t))e.boundary=t;else if(/^d\d+$/.test(t)){var n=parseInt(t.slice(1),10)||0;n&&(e.delay=n)}else if(/^o-?\d+$/.test(t)){var r=parseInt(t.slice(1),10)||0;r&&(e.offset=r)}});var n={};return("string"==typeof e.trigger?e.trigger.trim().split(/\s+/):[]).forEach(function(t){v[t]&&(n[t]=!0)}),(0,c.keys)(v).forEach(function(e){t.modifiers[e]&&(n[e]=!0)}),e.trigger=(0,c.keys)(n).join(" "),"blur"===e.trigger&&(e.trigger="focus"),e.trigger||delete e.trigger,e},w=function(t,e,n){if(l.inBrowser)if(r.default){var c=y(e);t[m]?t[m].updateConfig(c):t[m]=new o.default(t,c,n.context.$root)}else(0,d.default)("v-b-popover: Popper.js is required for PopOvers to work")},_={bind:function(t,e,n){w(t,e,n)},inserted:function(t,e,n){w(t,e,n)},update:function(t,e,n){e.value!==e.oldValue&&w(t,e,n)},componentUpdated:function(t,e,n){e.value!==e.oldValue&&w(t,e,n)},unbind:function(t){!function(t){t[m]&&(t[m].destroy(),t[m]=null,delete t[m])}(t)}};e.default=_},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(578),o=n(289),l=n(3),c={BProgress:r.default,BProgressBar:o.default},d={install:(0,l.installFactory)({components:c})};e.default=d},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r={name:"BProgress",components:{BProgressBar:n(289).default},provide:function(){return{bvProgress:this}},props:{variant:{type:String,default:null},striped:{type:Boolean,default:!1},animated:{type:Boolean,default:!1},height:{type:String,default:null},precision:{type:Number,default:0},showProgress:{type:Boolean,default:!1},showValue:{type:Boolean,default:!1},max:{type:Number,default:100},value:{type:Number,default:0}},computed:{progressHeight:function(){return{height:this.height||null}}},render:function(t){var e=this.$slots.default;return e||(e=t("b-progress-bar",{props:{value:this.value,max:this.max,precision:this.precision,variant:this.variant,animated:this.animated,striped:this.striped,showProgress:this.showProgress,showValue:this.showValue}})),t("div",{class:["progress"],style:this.progressHeight},[e])}};e.default=r},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(580),o=n(3),l={BSpinner:r.default},c={install:(0,o.installFactory)({components:l})};e.default=c},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(2);function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l={name:"BSpinner",functional:!0,props:{type:{type:String,default:"border"},label:{type:String,default:null},variant:{type:String,default:null},small:{type:Boolean,default:!1},role:{type:String,default:"status"},tag:{type:String,default:"span"}},render:function(t,e){var n,l=e.props,data=e.data,c=e.slots,label=t(!1),d=c().label||l.label;return d&&(label=t("span",{staticClass:"sr-only"},d)),t(l.tag,(0,r.mergeData)(data,{attrs:{role:d?l.role||"status":null,"aria-hidden":d?null:"true"},class:(n={},o(n,"spinner-".concat(l.type),Boolean(l.type)),o(n,"spinner-".concat(l.type,"-sm"),l.small),o(n,"text-".concat(l.variant),Boolean(l.variant)),n)}),[label])}};e.default=l},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(582),o=n(3),l={BTable:r.default},c={install:(0,o.installFactory)({components:l})};e.default=c},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(48),o=n(11),l=n(177),c=n(583),d=n(585),h=n(587),f=n(590),m=n(591),v=n(592),y=n(593),w=n(594),_=n(595),S=n(600),E=n(601),T=n(602);function k(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var x={name:"BTable",mixins:[o.default,l.default,c.default,d.default,h.default,f.default,S.default,m.default,v.default,y.default,w.default,_.default,E.default,T.default],inheritAttrs:!1,props:{striped:{type:Boolean,default:!1},bordered:{type:Boolean,default:!1},borderless:{type:Boolean,default:!1},outlined:{type:Boolean,default:!1},dark:{type:Boolean,default:!1},hover:{type:Boolean,default:!1},small:{type:Boolean,default:!1},fixed:{type:Boolean,default:!1},responsive:{type:[Boolean,String],default:!1},stacked:{type:[Boolean,String],default:!1},value:{type:Array,default:function(){return[]}}},data:function(){return{}},computed:{isStacked:function(){return""===this.stacked||this.stacked},isResponsive:function(){var t=""===this.responsive||this.responsive;return!this.isStacked&&t},responsiveClass:function(){return!0===this.isResponsive?"table-responsive":this.isResponsive?"table-responsive-".concat(this.responsive):""},tableClasses:function(){return[k({"table-striped":this.striped,"table-hover":this.hover,"table-dark":this.dark,"table-bordered":this.bordered,"table-borderless":this.borderless,"table-sm":this.small,border:this.outlined,"b-table-fixed":this.fixed,"b-table-stacked":!0===this.stacked||""===this.stacked},"b-table-stacked-".concat(this.stacked),!0!==this.stacked&&this.stacked),this.selectableTableClasses]},tableAttrs:function(){var t=[(this.$attrs||{})["aria-describedby"],this.captionId].filter(Boolean).join(" ")||null,e=this.computedItems,n=this.computedFields;return function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},e=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(source).filter(function(t){return Object.getOwnPropertyDescriptor(source,t).enumerable}))),e.forEach(function(e){k(t,e,source[e])})}return t}({"aria-rowcount":this.filteredItems.length>e.length?String(this.filteredItems.length):null},this.$attrs,{id:this.safeId(),role:this.isStacked?"table":null,"aria-busy":this.computedBusy?"true":"false","aria-colcount":String(n.length),"aria-describedby":t},this.selectableTableAttrs)},context:function(){return{filter:this.localFilter,sortBy:this.localSortBy,sortDesc:this.localSortDesc,perPage:parseInt(this.perPage,10)||0,currentPage:parseInt(this.currentPage,10)||1,apiUrl:this.apiUrl}},computedItems:function(){return this.paginatedItems||[]}},watch:{computedItems:function(t,e){this.$emit("input",t)},context:function(t,e){(0,r.default)(t,e)||this.$emit("context-changed",t)}},mounted:function(){this.$emit("input",this.computedItems)},render:function(t){var e=this.renderCaption(),n=this.renderColgroup(),r=this.renderThead(),o=this.renderTfoot(),l=this.renderTbody(),c=t("table",{key:"b-table",staticClass:"table b-table",class:this.tableClasses,attrs:this.tableAttrs},[e,n,r,o,l]);return this.isResponsive?t("div",{key:"b-table-responsive",class:this.responsiveClass},[c]):c}};e.default=x},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(584),o=n(5),l={props:{items:{type:[Array,Function],default:function(){return[]}},fields:{type:[Array,Object],default:null},primaryKey:{type:String,default:null}},data:function(){return{localItems:(0,o.isArray)(this.items)?this.items.slice():[]}},computed:{computedFields:function(){return(0,r.default)(this.fields,this.localItems)},computedFieldsObj:function(){return this.computedFields.reduce(function(t,e){return e[t.key]=t,e},{})}},watch:{items:function(t){(0,o.isArray)(t)?this.localItems=t.slice():null==t&&(this.localItems=[])}}};e.default=l},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){var n=[];(0,l.isArray)(t)?t.filter(function(t){return t}).forEach(function(t){if("string"==typeof t)n.push({key:t,label:(0,r.default)(t)});else if("object"===f(t)&&t.key&&"string"==typeof t.key)n.push(d({},t));else if("object"===f(t)&&1===(0,o.keys)(t).length){var e=(0,o.keys)(t)[0],l=m(e,t[e]);l&&n.push(l)}}):t&&"object"===f(t)&&(0,o.keys)(t).length>0&&(0,o.keys)(t).forEach(function(e){var r=m(e,t[e]);r&&n.push(r)});if(0===n.length&&(0,l.isArray)(e)&&e.length>0){var h=e[0];(0,o.keys)(h).forEach(function(t){c.IGNORED_FIELD_KEYS[t]||n.push({key:t,label:(0,r.default)(t)})})}var v={};return n.filter(function(t){return!v[t.key]&&(v[t.key]=!0,t.label="string"==typeof t.label?t.label:(0,r.default)(t.key),!0)})};var r=n(179),o=n(7),l=n(5),c=n(180);function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},e=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(source).filter(function(t){return Object.getOwnPropertyDescriptor(source,t).enumerable}))),e.forEach(function(e){h(t,e,source[e])})}return t}function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m(t,e){var n=null;return"string"==typeof e?n={key:t,label:e}:"function"==typeof e?n={key:t,formatter:e}:"object"===f(e)?(n=d({},e)).key=n.key||t:!1!==e&&(n={key:t}),n}},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(586),o=n(48),l=n(20),c='Supplying a function to prop "filter" is deprecated. Use "filter-function" instead.',d={props:{filter:{type:[String,RegExp,Object,Array,Function],default:null,deprecated:c},filterFunction:{type:Function,default:null}},data:function(){return{isFiltered:!1}},computed:{localFiltering:function(){return!this.hasProvider||!!this.noProviderFiltering},filteredCheck:function(){return{filteredItems:this.filteredItems,localItems:this.localItems,localFilter:this.localFilter}},localFilter:function(){return"function"==typeof this.filter?"":"function"==typeof this.filterFunction||"string"==typeof this.filter||this.filter instanceof RegExp?this.filter:""},localFilterFn:function(){var filter=this.filter,t=this.filterFunction;return"function"==typeof t?t:"function"==typeof filter?((0,l.default)("b-table: ".concat(c)),filter):null},filteredItems:function(){var t=this.localItems||[],e=this.localFilter,n=this.filterFnFactory(this.localFilterFn,e)||this.defaultFilterFnFactory(e);return this.localFiltering&&n&&t.length>0&&(t=t.filter(n)),t}},watch:{filteredCheck:function(t){var e,n=t.filteredItems,r=(t.localItems,t.localFilter);(e=!!r&&(!(0,o.default)(r,[])&&!(0,o.default)(r,{})&&!!r))&&this.$emit("filtered",n,n.length),this.isFiltered=e},isFiltered:function(t,e){!1===t&&!0===e&&this.$emit("filtered",this.localItems,this.localItems.length)}},created:function(){var t=this;this.$nextTick(function(){t.isFiltered=Boolean(t.localFilter)})},methods:{filterFnFactory:function(t,e){if(!t||"function"!=typeof t||!e||(0,o.default)(e,[])||(0,o.default)(e,{}))return null;return function(n){return t(n,e)}},defaultFilterFnFactory:function(t){if(!t||!("string"==typeof t||t instanceof RegExp))return null;var e=t;if("string"==typeof e){var pattern=t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&").replace(/[\s\uFEFF\xA0]+/g,"\\s+");e=new RegExp(".*".concat(pattern,".*"),"i")}return function(t){return e.lastIndex=0,e.test((0,r.default)(t))}}}};e.default=d},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){return t instanceof Object?(0,o.default)((0,r.default)(t)):""};var r=n(290),o=n(291)},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(588),o=n(179),l=n(5),c=n(589),d={props:{sortBy:{type:String,default:null},sortDesc:{type:Boolean,default:!1},sortDirection:{type:String,default:"asc",validator:function(t){return(0,l.arrayIncludes)(["asc","desc","last"],t)}},sortCompare:{type:Function,default:null},noSortReset:{type:Boolean,default:!1},labelSortAsc:{type:String,default:"Click to sort Ascending"},labelSortDesc:{type:String,default:"Click to sort Descending"},labelSortClear:{type:String,default:"Click to clear sorting"},noLocalSorting:{type:Boolean,default:!1},noFooterSorting:{type:Boolean,default:!1}},data:function(){return{localSortBy:this.sortBy||"",localSortDesc:this.sortDesc||!1}},computed:{localSorting:function(){return this.hasProvider?!!this.noProviderSorting:!this.noLocalSorting},isSortable:function(){return this.computedFields.some(function(t){return t.sortable})},sortedItems:function(){var t=(this.filteredItems||[]).slice(),e=this.localSortBy,n=this.localSortDesc,o=this.sortCompare,l=this.localSorting;return e&&l?(0,r.default)(t,function(a,b){var t=null;return"function"==typeof o&&(t=o(a,b,e,n)),null!=t&&!1!==t||(t=(0,c.default)(a,b,e)),(t||0)*(n?-1:1)}):t}},watch:{isSortable:function(t,e){t?this.isSortable&&this.$on("head-clicked",this.handleSort):this.$off("head-clicked",this.handleSort)},sortDesc:function(t,e){t!==this.localSortDesc&&(this.localSortDesc=t||!1)},sortBy:function(t,e){t!==this.localSortBy&&(this.localSortBy=t||null)},localSortDesc:function(t,e){t!==e&&this.$emit("update:sortDesc",t)},localSortBy:function(t,e){t!==e&&this.$emit("update:sortBy",t)}},created:function(){this.isSortable&&this.$on("head-clicked",this.handleSort)},methods:{handleSort:function(t,e,n,r){var o=this;if(this.isSortable&&(!r||!this.noFooterSorting)){var l=!1,c=function(){var t=e.sortDirection||o.sortDirection;"asc"===t?o.localSortDesc=!1:"desc"===t&&(o.localSortDesc=!0)};e.sortable?(t===this.localSortBy?this.localSortDesc=!this.localSortDesc:(this.localSortBy=t,c()),l=!0):this.localSortBy&&!this.noSortReset&&(this.localSortBy=null,c(),l=!0),l&&this.$emit("sort-changed",this.context)}},sortTheadThClasses:function(t,e,n){return{}},sortTheadThAttrs:function(t,e,n){if(!this.isSortable||n&&this.noFooterSorting)return{};var r=e.sortable,l="";e.label&&e.label.trim()||e.headerTitle||(l=(0,o.default)(t));var c="";if(r)if(this.localSortBy===t)c=this.localSortDesc?this.labelSortAsc:this.labelSortDesc;else{c=this.localSortDesc?this.labelSortDesc:this.labelSortAsc;var d=this.sortDirection||e.sortDirection;"asc"===d?c=this.labelSortAsc:"desc"===d&&(c=this.labelSortDesc)}else this.noSortReset||(c=this.localSortBy?this.labelSortClear:"");return{"aria-label":(l=[l.trim(),c.trim()].filter(Boolean).join(": "))||null,"aria-sort":r&&this.localSortBy===t?this.localSortDesc?"descending":"ascending":r?"none":null}}}};e.default=d},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=function(t,e){return t.map(function(a,t){return[t,a]}).sort(function(a,b){return this(a[1],b[1])||a[0]-b[0]}.bind(e)).map(function(t){return t[1]})};e.default=r},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(a,b,t){return a=(0,r.default)(a,t,""),b=(0,r.default)(b,t,""),a instanceof Date&&b instanceof Date||"number"==typeof a&&"number"==typeof b?a<b?-1:a>b?1:0:(0,o.default)(a).localeCompare((0,o.default)(b),void 0,{numeric:!0})};var r=n(167),o=n(291)},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r={props:{perPage:{type:[Number,String],default:0},currentPage:{type:[Number,String],default:1}},computed:{localPaging:function(){return!this.hasProvider||!!this.noProviderPaging},paginatedItems:function(){var t=this.sortedItems||[],e=Math.max(parseInt(this.currentPage,10)||1,1),n=Math.max(parseInt(this.perPage,10)||0,0);return this.localPaging&&n&&(t=t.slice((e-1)*n,e*n)),t}}};e.default=r},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(10),o={props:{caption:{type:String,default:null},captionHtml:{type:String},captionTop:{type:Boolean,default:!1}},computed:{captionClasses:function(){return{"b-table-caption-top":this.captionTop}},captionId:function(){return this.isStacked?this.safeId("_caption_"):null}},methods:{renderCaption:function(){var t=this.$createElement,e=this.normalizeSlot("table-caption",{}),n=t(!1);if(e||this.caption||this.captionHtml){var data={key:"caption",class:this.captionClasses,attrs:{id:this.captionId}};e||(data.domProps=(0,r.htmlOrText)(this.captionHtml,this.caption)),n=t("caption",data,[e])}return n}}};e.default=o},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;e.default={methods:{renderColgroup:function(){var t=this.$createElement,e=this.computedFields,n=t(!1);return this.hasNormalizedSlot("table-colgroup")&&(n=t("colgroup",{key:"colgroup"},[this.normalizeSlot("table-colgroup",{columns:e.length,fields:e})])),n}}}},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(179),o=n(46),l=n(10),c=n(292),d=n(293);function h(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},e=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(source).filter(function(t){return Object.getOwnPropertyDescriptor(source,t).enumerable}))),e.forEach(function(e){f(t,e,source[e])})}return t}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m={props:{headVariant:{type:String,default:""},theadClass:{type:[String,Array,Object],default:null},theadTrClass:{type:[String,Array,Object],default:null}},computed:{headClasses:function(){return[this.headVariant?"thead-"+this.headVariant:"",this.theadClass]}},methods:{fieldClasses:function(t){return[t.variant?"table-"+t.variant:"",t.class?t.class:"",t.thClass?t.thClass:""]},headClicked:function(t,e,n){this.stopIfBusy(t)||(0,c.default)(t)||(0,d.default)(this.$el)||(t.stopPropagation(),t.preventDefault(),this.$emit("head-clicked",e.key,e,t,n))},renderThead:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.$createElement;if(!0===this.isStacked)return n(!1);var c=this.computedFields||[],d=c.map(function(c,d){var f=null;c.label.trim()||c.headerTitle||(f=(0,r.default)(c.key));var m=t.$listeners["head-clicked"]||t.isSortable,v={};m&&(v.click=function(n){t.headClicked(n,c,e)},v.keydown=function(n){var r=n.keyCode;r!==o.default.ENTER&&r!==o.default.SPACE||t.headClicked(n,c,e)});var data={key:c.key,class:[t.fieldClasses(c),t.sortTheadThClasses(c.key,c,e)],style:c.thStyle||{},attrs:h({tabindex:m?"0":null,abbr:c.headerAbbr||null,title:c.headerTitle||null,role:"columnheader",scope:"col","aria-colindex":String(d+1),"aria-label":f},t.sortTheadThAttrs(c.key,c,e)),on:v},y={label:c.label,column:c.key,field:c},slot=e&&t.hasNormalizedSlot("FOOT_".concat(c.key))?t.normalizeSlot("FOOT_".concat(c.key),y):t.normalizeSlot("HEAD_".concat(c.key),y);return slot?slot=[slot]:data.domProps=(0,l.htmlOrText)(c.labelHtml),n("th",data,slot||c.label)}).filter(function(th){return th}),f=[];if(e)f.push(n("tr",{class:this.tfootTrClass,attrs:{role:"row"}},d));else{var m={columns:c.length,fields:c};f.push(this.normalizeSlot("thead-top",m)||n(!1)),f.push(n("tr",{class:this.theadTrClass,attrs:{role:"row"}},d))}return n(e?"tfoot":"thead",{key:e?"tfoot":"thead",class:e?this.footClasses:this.headClasses,attrs:{role:"rowgroup"}},f)}}};e.default=m},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r={props:{footClone:{type:Boolean,default:!1},footVariant:{type:String,default:""},tfootClass:{type:[String,Array,Object],default:null},tfootTrClass:{type:[String,Array,Object],default:null}},computed:{footClasses:function(){var t=this.footVariant||this.headVariant||null;return[t?"thead-"+t:"",this.tfootClass]}},methods:{renderTfoot:function(){var t=this.$createElement;return this.footClone?this.renderThead(!0):t(!1)}}};e.default=r},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(596),o=n(597),l=n(598),c=n(599);function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var h={mixins:[r.default,o.default,l.default,c.default],props:{tbodyClass:{type:[String,Array],default:null},tbodyTransitionProps:{type:Object},tbodyTransitionHandlers:{type:Object}},methods:{renderTbody:function(){var t=this,e=this.$createElement,n=this.computedItems,r=[],o=this.renderBusy();o?r.push(o):(r.push(this.renderTopRow()),n.forEach(function(e,n){r.push(t.renderTbodyRow(e,n))}),r.push(this.renderEmpty()),r.push(this.renderBottomRow()));var l=this.tbodyTransitionProps||this.tbodyTransitionHandlers,c={},h={};return l&&(h=this.tbodyTransitionHandlers||{},c=function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},e=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(source).filter(function(t){return Object.getOwnPropertyDescriptor(source,t).enumerable}))),e.forEach(function(e){d(t,e,source[e])})}return t}({},this.tbodyTransitionProps||{},{tag:"tbody"})),e(l?"transition-group":"tbody",{props:c,on:h,class:[this.tbodyClass],attrs:{role:"rowgroup"}},r)}}};e.default=h},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(87),o=n(167),l=n(46),c=n(5),d=n(292),h=n(293);function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},e=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(source).filter(function(t){return Object.getOwnPropertyDescriptor(source,t).enumerable}))),e.forEach(function(e){m(t,e,source[e])})}return t}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var v={props:{tbodyTrClass:{type:[String,Array,Function],default:null}},methods:{tdClasses:function(t,e){var n="";return e._cellVariants&&e._cellVariants[t.key]&&(n="".concat(this.dark?"bg":"table","-").concat(e._cellVariants[t.key])),[t.variant&&!n?"".concat(this.dark?"bg":"table","-").concat(t.variant):"",n,t.class?t.class:"",this.getTdValues(e,t.key,t.tdClass,"")]},tdAttrs:function(t,e,n){var r={role:"cell","aria-colindex":String(n+1)};return t.isRowHeader&&(r.scope="row",r.role="rowheader"),this.isStacked&&(r["data-label"]=t.label),f({},r,this.getTdValues(e,t.key,t.tdAttr,{}))},rowClasses:function(t){return[t._rowVariant?"".concat(this.dark?"bg":"table","-").concat(t._rowVariant):"","function"==typeof this.tbodyTrClass?this.tbodyTrClass(t,"row"):this.tbodyTrClass]},getTdValues:function(t,e,n,r){var l=this.$parent;if(n){var c=(0,o.default)(t,e,"");return"function"==typeof n?n(c,e,t):"string"==typeof n&&"function"==typeof l[n]?l[n](c,e,t):n}return r},getFormattedValue:function(t,e){var n=e.key,r=e.formatter,l=this.$parent,c=(0,o.default)(t,n,null);return r&&("function"==typeof r?c=r(c,n,t):"string"==typeof r&&"function"==typeof l[r]&&(c=l[r](c,n,t))),null==c?"":c},tbodyRowKeydown:function(t,e,n){var r=t.keyCode,o=t.target,d=this.$refs.itemRows;if(!this.stopIfBusy(t)&&o&&"TR"===o.tagName&&o===document.activeElement&&0===o.tabIndex&&(!d||0!==d.length)){var h=d.indexOf(o);if(r===l.default.ENTER||r===l.default.SPACE)t.stopPropagation(),t.preventDefault(),this.rowClicked(t,e,n);else if((0,c.arrayIncludes)([l.default.UP,l.default.DOWN,l.default.HOME,l.default.END],r)){t.stopPropagation(),t.preventDefault();var f=t.shiftKey;r===l.default.HOME||f&&r===l.default.UP?d[0].focus():r===l.default.END||f&&r===l.default.DOWN?d[d.length-1].focus():r===l.default.UP&&h>0?d[h-1].focus():r===l.default.DOWN&&h<d.length-1&&d[h+1].focus()}}},rowClicked:function(t,e,n){this.stopIfBusy(t)||(0,d.default)(t)||(0,h.default)(this.$el)||this.$emit("row-clicked",e,n,t)},middleMouseRowClicked:function(t,e,n){this.stopIfBusy(t)||this.$emit("row-middle-clicked",e,n,t)},rowDblClicked:function(t,e,n){this.stopIfBusy(t)||(0,d.default)(t)||this.$emit("row-dblclicked",e,n,t)},rowHovered:function(t,e,n){this.stopIfBusy(t)||this.$emit("row-hovered",e,n,t)},rowUnhovered:function(t,e,n){this.stopIfBusy(t)||this.$emit("row-unhovered",e,n,t)},rowContextmenu:function(t,e,n){this.stopIfBusy(t)||this.$emit("row-contextmenu",e,n,t)},renderTbodyRowCell:function(t,e,n,l){var c=this,d=this.$createElement,h=this.$scopedSlots,f=h["row-details"],m=this.selectedRows[l],v=this.getFormattedValue(n,t),data={key:"row-".concat(l,"-cell-").concat(e,"-").concat(t.key),class:this.tdClasses(t,n),attrs:this.tdAttrs(t,n,e)},y={item:n,index:l,field:t,unformatted:(0,o.default)(n,t.key,""),value:v,toggleDetails:function(){f&&c.$set(n,"_showDetails",!n._showDetails)},detailsShowing:Boolean(n._showDetails),rowSelected:Boolean(m)},w=h[t.key]?h[t.key](y):(0,r.default)(v);return this.isStacked&&(w=[d("div",{},[w])]),d(t.isRowHeader?"th":"td",data,[w])},renderTbodyRow:function(t,e){var n=this,o=this.$createElement,l=this.$scopedSlots,c=this.computedFields,d=this.striped,h=this.$listeners["row-clicked"]||this.selectable,m=l["row-details"],v=Boolean(t._showDetails&&m),y=[],w=v?this.safeId("_details_".concat(e,"_")):null,_=c.map(function(r,o){return n.renderTbodyRowCell(r,o,t,e)}),S=null;this.currentPage&&this.perPage&&this.perPage>0&&(S=String((this.currentPage-1)*this.perPage+e+1));var E=this.primaryKey,T=E&&void 0!==t[E]&&null!==t[E]?(0,r.default)(t[E]):String(e),k=E&&void 0!==t[E]&&null!==t[E]?this.safeId("_row_".concat(t[E])):null,x={};if(h&&(x.click=function(r){n.rowClicked(r,t,e)},x.keydown=function(r){n.tbodyRowKeydown(r,t,e)}),y.push(o("tr",{key:"__b-table-row-".concat(T,"__"),ref:"itemRows",refInFor:!0,class:[this.rowClasses(t),this.selectableRowClasses(e),{"b-table-has-details":v}],attrs:f({id:k,tabindex:h?"0":null,"data-pk":k?String(t[E]):null,"aria-describedby":w,"aria-owns":w,"aria-rowindex":S,role:"row"},this.selectableRowAttrs(e)),on:f({},x,{auxclick:function(r){2===r.which&&n.middleMouseRowClicked(r,t,e)},contextmenu:function(r){n.rowContextmenu(r,t,e)},dblclick:function(r){n.rowDblClicked(r,t,e)},mouseenter:function(r){n.rowHovered(r,t,e)},mouseleave:function(r){n.rowUnhovered(r,t,e)}})},_)),v){var C={id:w,role:"row"},I=o("td",{attrs:{colspan:String(c.length),role:"cell"}},[m({item:t,index:e,fields:c,toggleDetails:function(){m&&n.$set(t,"_showDetails",!t._showDetails)}})]);d&&y.push(o("tr",{key:"__b-table-details-".concat(e,"-stripe__"),staticClass:"d-none",attrs:{"aria-hidden":"true",role:"presentation"}})),y.push(o("tr",{key:"__b-table-details-".concat(e,"__"),staticClass:"b-table-details",class:["function"==typeof this.tbodyTrClass?this.tbodyTrClass(t,"row-details"):this.tbodyTrClass],attrs:C},[I]))}else m&&(y.push(o(!1)),d&&y.push(o(!1)));return y}}};e.default=v},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(10),o={props:{showEmpty:{type:Boolean,default:!1},emptyText:{type:String,default:"There are no records to show"},emptyHtml:{type:String},emptyFilteredText:{type:String,default:"There are no records matching your request"},emptyFilteredHtml:{type:String}},methods:{renderEmpty:function(){var t,e=this.$createElement,n=this.computedItems;return!this.showEmpty||n&&0!==n.length||this.computedBusy&&this.hasNormalizedSlot("table-busy")||((t=this.normalizeSlot(this.isFiltered?"emptyfiltered":"empty",{emptyFilteredHtml:this.emptyFilteredHtml,emptyFilteredText:this.emptyFilteredText,emptyHtml:this.emptyHtml,emptyText:this.emptyText,fields:this.computedFields,items:this.computedItems}))||(t=e("div",{class:["text-center","my-2"],domProps:this.isFiltered?(0,r.htmlOrText)(this.emptyFilteredHtml,this.emptyFilteredText):(0,r.htmlOrText)(this.emptyHtml,this.emptyText)})),t=e("td",{attrs:{colspan:String(this.computedFields.length),role:"cell"}},[e("div",{attrs:{role:"alert","aria-live":"polite"}},[t])]),t=e("tr",{key:this.isFiltered?"_b-table-empty-filtered-row_":"_b-table-empty-row_",staticClass:"b-table-empty-row",class:["function"==typeof this.tbodyTrClass?this.tbodyTrClass(null,"row-empty"):this.tbodyTrClass],attrs:{role:"row"}},[t])),t||e(!1)}}};e.default=o},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;e.default={methods:{renderTopRow:function(){var t=this.$createElement;if(!this.hasNormalizedSlot("top-row")||!0===this.isStacked)return t(!1);var e=this.computedFields;return t("tr",{key:"top-row",staticClass:"b-table-top-row",class:["function"==typeof this.tbodyTrClass?this.tbodyTrClass(null,"row-top"):this.tbodyTrClass],attrs:{role:"row"}},[this.normalizeSlot("top-row",{columns:e.length,fields:e})])}}}},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;e.default={methods:{renderBottomRow:function(){var t=this.$createElement;if(!this.hasNormalizedSlot("bottom-row")||!0===this.isStacked)return t(!1);var e=this.computedFields;return t("tr",{key:"__b-table-bottom-row__",staticClass:"b-table-bottom-row",class:["function"==typeof this.tbodyTrClass?this.tbodyTrClass(null,"row-bottom"):this.tbodyTrClass],attrs:{role:"row"}},this.normalizeSlot("bottom-row",{columns:e.length,fields:e}))}}}},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r={props:{busy:{type:Boolean,default:!1}},data:function(){return{localBusy:!1}},computed:{computedBusy:function(){return this.busy||this.localBusy}},watch:{localBusy:function(t,e){t!==e&&this.$emit("update:busy",t)}},methods:{stopIfBusy:function(t){return!!this.computedBusy&&(t.preventDefault(),t.stopPropagation(),!0)},renderBusy:function(){var t=this.$createElement;if(this.computedBusy&&this.hasNormalizedSlot("table-busy")){var e={role:this.isStacked?"row":null},n={colspan:String(this.computedFields.length),role:this.isStacked?"cell":null};return t("tr",{key:"table-busy-slot",staticClass:"b-table-busy-slot",class:["function"==typeof this.tbodyTrClass?this.tbodyTrClass(null,"table-busy"):this.tbodyTrClass],attrs:e},[t("td",{attrs:n},[this.normalizeSlot("table-busy",{})])])}return null}}};e.default=r},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(48),o=n(5),l=n(290);function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d={props:{selectable:{type:Boolean,default:!1},selectMode:{type:String,default:"multi"},selectedVariant:{type:String,default:"primary"}},data:function(){return{selectedRows:[],selectedLastRow:-1}},computed:{selectableTableClasses:function(){var t,e=this.selectable,n=e&&this.selectedRows&&this.selectedRows.some(Boolean);return c(t={"b-table-selectable":e},"b-table-select-".concat(this.selectMode),e),c(t,"b-table-selecting",n),t},selectableTableAttrs:function(){return{"aria-multiselectable":this.selectableIsMultiSelect}},selectableIsMultiSelect:function(){return this.selectable?(0,o.arrayIncludes)(["range","multi"],this.selectMode)?"true":"false":null}},watch:{computedItems:function(t,e){this.selectedLastRow=-1;var n=!1;if(this.selectable&&this.selectedRows.length>0){n=(0,o.isArray)(t)&&(0,o.isArray)(e)&&t.length===e.length;for(var i=0;n&&i<t.length;i++)n=(0,r.default)((0,l.default)(t[i]),(0,l.default)(e[i]))}n||this.clearSelected()},selectable:function(t,e){this.clearSelected(),this.setSelectionHandlers(t)},selectMode:function(t,e){this.clearSelected()},selectedRows:function(t,e){var n=this;if(this.selectable&&!(0,r.default)(t,e)){var o=[];t.forEach(function(t,e){t&&o.push(n.computedItems[e])}),this.$emit("row-selected",o)}}},beforeMount:function(){this.selectable&&this.setSelectionHandlers(!0)},methods:{isRowSelected:function(t){return Boolean(this.selectedRows[t])},selectableRowClasses:function(t){var e=this.isRowSelected(t),base=this.dark?"bg":"table",n=this.selectedVariant;return c({"b-table-row-selected":this.selectable&&e},"".concat(base,"-").concat(n),this.selectable&&e&&n)},selectableRowAttrs:function(t){return{"aria-selected":this.selectable?this.isRowSelected(t)?"true":"false":null}},clearSelected:function(){this.selectedRows.reduce(function(t,e){return t||e},!1)&&(this.selectedLastClicked=-1,this.selectedRows=[])},setSelectionHandlers:function(t){var e=t?"$on":"$off";this[e]("row-clicked",this.selectionHandler),this[e]("filtered",this.clearSelected),this[e]("context-changed",this.clearSelected)},selectionHandler:function(t,e,n){if(this.selectable){var r=this.selectedRows.slice(),o=!r[e],l=this.selectMode;if("single"===l)r=[];else if("range"===l)if(this.selectedLastRow>-1&&n.shiftKey){for(var c=Math.min(this.selectedLastRow,e);c<=Math.max(this.selectedLastRow,e);c++)r[c]=!0;o=!0}else n.ctrlKey||n.metaKey||(r=[],o=!0),this.selectedLastRow=o?e:-1;r[e]=o,this.selectedRows=r}else this.clearSelected()}}};e.default=d},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(48),o=n(5),l=n(20),c={mixins:[n(118).default],props:{noProviderPaging:{type:Boolean,default:!1},noProviderSorting:{type:Boolean,default:!1},noProviderFiltering:{type:Boolean,default:!1},apiUrl:{type:String,default:""}},computed:{hasProvider:function(){return this.items instanceof Function},providerTriggerContext:function(){var t={apiUrl:this.apiUrl};return this.noProviderFiltering||(t.filter=this.localFilter),this.noProviderSorting||(t.sortBy=this.localSortBy,t.sortDesc=this.localSortDesc),this.noProviderPaging||(t.perPage=this.perPage,t.currentPage=this.currentPage),t}},watch:{items:function(t,e){(this.hasProvider||t instanceof Function)&&this.$nextTick(this._providerUpdate)},providerTriggerContext:function(t,e){(0,r.default)(t,e)||this.$nextTick(this._providerUpdate)}},mounted:function(){var t=this;!this.hasProvider||this.localItems&&0!==this.localItems.length||this._providerUpdate(),this.listenOnRoot("bv::refresh::table",function(e){e!==t.id&&e!==t||t.refresh()})},methods:{refresh:function(){this.$off("refreshed",this.refresh),this.computedBusy?this.localBusy&&this.hasProvider&&this.$on("refreshed",this.refresh):(this.clearSelected(),this.hasProvider?this.$nextTick(this._providerUpdate):this.localItems=(0,o.isArray)(this.items)?this.items.slice():[])},_providerSetLocal:function(t){this.localItems=(0,o.isArray)(t)?t.slice():[],this.localBusy=!1,this.$emit("refreshed"),this.id&&this.emitOnRoot("bv::table::refreshed",this.id)},_providerUpdate:function(){this.hasProvider&&(this.computedBusy?this.$nextTick(this.refresh):(this.localBusy=!0,this.$nextTick(function(){var t=this;try{var data=this.items(this.context,this._providerSetLocal);data&&data.then&&"function"==typeof data.then?data.then(function(e){t._providerSetLocal(e)}):(0,o.isArray)(data)?this._providerSetLocal(data):2!==this.items.length&&((0,l.default)("b-table provider function didn't request calback and did not return a promise or data"),this.localBusy=!1)}catch(t){(0,l.default)("b-table provider function error [".concat(t.name,"] ").concat(t.message)),this.localBusy=!1,this.$off("refreshed",this.refresh)}})))}}};e.default=c},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(604),o=n(605),l=n(3),c={BTabs:r.default,BTab:o.default},d={install:(0,l.installFactory)({components:c})};e.default=d},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(32),o=n(46),l=n(88),c=n(11);function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var h={name:"BTabButtonHelper",inject:{bvTabs:{default:function(){return{}}}},props:{tab:{default:null},tabs:{type:Array,default:function(){return[]}},id:{type:String,default:null},controls:{type:String,default:null},tabIndex:{type:Number,default:null},posInSet:{type:Number,default:null},setSize:{type:Number,default:null},noKeyNav:{type:Boolean,default:!1}},methods:{focus:function(){this.$refs&&this.$refs.link&&this.$refs.link.focus&&this.$refs.link.focus()},handleEvt:function(t){function e(){t.preventDefault(),t.stopPropagation()}if(!this.tab.disabled){var n=t.type,r=t.keyCode,l=t.shiftKey;"click"===n?(e(),this.$emit("click",t)):"keydown"!==n||this.noKeyNav||r!==o.default.SPACE?"keydown"!==n||this.noKeyNav||(r===o.default.UP||r===o.default.LEFT||r===o.default.HOME?(e(),l||r===o.default.HOME?this.$emit("first",t):this.$emit("prev",t)):r!==o.default.DOWN&&r!==o.default.RIGHT&&r!==o.default.END||(e(),l||r===o.default.END?this.$emit("last",t):this.$emit("next",t))):(e(),this.$emit("click",t))}}},render:function(t){var link=t(r.default,{ref:"link",staticClass:"nav-link",class:[{active:this.tab.localActive&&!this.tab.disabled,disabled:this.tab.disabled},this.tab.titleLinkClass],props:{href:this.tab.href,disabled:this.tab.disabled},attrs:{role:"tab",id:this.id,tabindex:this.tabIndex,"aria-selected":this.tab.localActive&&!this.tab.disabled?"true":"false","aria-setsize":this.setSize,"aria-posinset":this.posInSet,"aria-controls":this.controls},on:{click:this.handleEvt,keydown:this.handleEvt}},[this.tab.$slots.title||this.tab.title]);return t("li",{staticClass:"nav-item",class:[this.tab.titleItemClass],attrs:{role:"presentation"}},[link])}};function f(t){return!t.disabled}var m={name:"BTabs",mixins:[c.default],provide:function(){return{bvTabs:this}},model:{prop:"value",event:"input"},props:{tag:{type:String,default:"div"},card:{type:Boolean,default:!1},small:{type:Boolean,default:!1},pills:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},bottom:{type:Boolean,default:!1},end:{type:Boolean,default:!1},noFade:{type:Boolean,default:!1},noNavStyle:{type:Boolean,default:!1},noKeyNav:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1},contentClass:{type:[String,Array,Object],default:null},navClass:{type:[String,Array,Object],default:null},navWrapperClass:{type:[String,Array,Object],default:null},value:{type:Number,default:null}},data:function(){var t=parseInt(this.value,10);return{currentTab:t=isNaN(t)?-1:t,tabs:[]}},computed:{fade:function(){return!this.noFade},navStyle:function(){return this.pills?"pills":"tabs"}},watch:{currentTab:function(t,e){var n=-1;this.tabs.forEach(function(e,r){t!==r||e.disabled?e.localActive=!1:(e.localActive=!0,n=r)}),this.$emit("input",n)},value:function(t,e){if(t!==e){t=parseInt(t,10),t=isNaN(t)?-1:t,e=parseInt(e,10)||0;var n=this.tabs;n[t]&&!n[t].disabled?this.currentTab=t:t<e?this.previousTab():this.nextTab()}}},created:function(){var t=this,e=parseInt(this.value,10);this.currentTab=isNaN(e)?-1:e,this._bvObserver=null,this.$nextTick(function(){t.updateTabs()})},mounted:function(){var t=this;this.$nextTick(function(){t.updateTabs(),t.setObserver(!0)})},deactivated:function(){this.setObserver(!1)},activated:function(){var t=this,e=parseInt(this.value,10);this.currentTab=isNaN(e)?-1:e,this.$nextTick(function(){t.updateTabs(),t.setObserver(!0)})},beforeDestroy:function(){this.setObserver(!1)},methods:{setObserver:function(t){t?(this.setObserver(!1),this._bvObserver=(0,l.default)(this.$refs.tabsContainer,this.updateTabs.bind(this),{childList:!0,subtree:!1,attributes:!0,attributeFilter:["style","class"]})):(this._bvObserver&&this._bvObserver.disconnect&&this._bvObserver.disconnect(),this._bvObserver=null)},getTabs:function(){return(this.$slots.default||[]).map(function(t){return t.componentInstance}).filter(function(t){return t&&t._isTab})},updateTabs:function(){var t=this.getTabs(),e=t.indexOf(t.slice().reverse().find(function(t){return t.localActive&&!t.disabled}));if(e<0){var n=this.currentTab;n>=t.length?e=t.indexOf(t.slice().reverse().find(f)):t[n]&&!t[n].disabled&&(e=n)}e<0&&(e=t.indexOf(t.find(f))),t.forEach(function(t,e){t.localActive=!1}),t[e]&&(t[e].localActive=!0),this.tabs=t,this.currentTab=e},getButtonForTab:function(t){return(this.$refs.buttons||[]).find(function(e){return e.tab===t})},updateButton:function(t){var button=this.getButtonForTab(t);button&&button.$forceUpdate&&button.$forceUpdate()},activateTab:function(t){var e=!1;if(t){var n=this.tabs.indexOf(t);!t.disabled&&n>-1&&(e=!0,this.currentTab=n)}return e||this.$emit("input",this.currentTab),e},deactivateTab:function(t){return!!t&&this.activateTab(this.tabs.filter(function(e){return e!==t}).find(f))},focusButton:function(t){var e=this;this.$nextTick(function(){var button=e.getButtonForTab(t);button&&button.focus&&button.focus()})},emitTabClick:function(t,e){e&&e instanceof Event&&t&&t.$emit&&!t.disabled&&t.$emit("click",e)},clickTab:function(t,e){this.activateTab(t),this.emitTabClick(t,e)},firstTab:function(t){var e=this.tabs.find(f);this.activateTab(e)&&t&&(this.focusButton(e),this.emitTabClick(e,t))},previousTab:function(t){var e=Math.max(this.currentTab,0),n=this.tabs.slice(0,e).reverse().find(f);this.activateTab(n)&&t&&(this.focusButton(n),this.emitTabClick(n,t))},nextTab:function(t){var e=Math.max(this.currentTab,-1),n=this.tabs.slice(e+1).find(f);this.activateTab(n)&&t&&(this.focusButton(n),this.emitTabClick(n,t))},lastTab:function(t){var e=this.tabs.slice().reverse().find(f);this.activateTab(e)&&t&&(this.focusButton(e),this.emitTabClick(e,t))}},render:function(t){var e,n=this,r=this.tabs,o=r.find(function(t){return t.localActive&&!t.disabled}),l=r.find(function(t){return!t.disabled}),c=r.map(function(e,c){var d=null;return n.noKeyNav||(d=-1,(o===e||!o&&l===e)&&(d=null)),t(h,{key:e._uid||c,ref:"buttons",refInFor:!0,props:{tab:e,tabs:r,id:e.controlledBy||(n.tab&&n.tab.safeId?n.tab.safeId("_BV_tab_button_"):null),controls:n.tab&&n.tab.safeId?n.tab.safeId():null,tabIndex:d,setSize:r.length,posInSet:c+1,noKeyNav:n.noKeyNav},on:{click:function(t){n.clickTab(e,t)},first:n.firstTab,prev:n.previousTab,next:n.nextTab,last:n.lastTab}})}),f=t("ul",{ref:"navs",class:["nav",(e={},d(e,"nav-".concat(this.navStyle),!this.noNavStyle),d(e,"card-header-".concat(this.navStyle),this.card&&!this.vertical),d(e,"card-header",this.card&&this.vertical),d(e,"h-100",this.card&&this.vertical),d(e,"flex-column",this.vertical),d(e,"border-bottom-0",this.vertical),d(e,"rounded-0",this.vertical),d(e,"small",this.small),e),this.navClass],attrs:{role:"tablist",id:this.safeId("_BV_tab_controls_")}},[c,this.$slots.tabs]);f=t("div",{key:"bv-tabs-navs",class:[{"card-header":this.card&&!this.vertical&&!(this.end||this.bottom),"card-footer":this.card&&!this.vertical&&(this.end||this.bottom),"col-auto":this.vertical},this.navWrapperClass]},[f]);var m=t(!1);r&&0!==r.length||(m=t("div",{key:"empty-tab",class:["tab-pane","active",{"card-body":this.card}]},this.$slots.empty));var content=t("div",{ref:"tabsContainer",key:"bv-tabs-container",staticClass:"tab-content",class:[{col:this.vertical},this.contentClass],attrs:{id:this.safeId("_BV_tab_container_")}},[this.$slots.default,m]);return t(this.tag,{staticClass:"tabs",class:{row:this.vertical,"no-gutters":this.vertical&&this.card},attrs:{id:this.safeId()}},[this.end||this.bottom?content:t(!1),[f],this.end||this.bottom?t(!1):content])}};e.default=m},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(11),o=n(6),l={name:"BTab",mixins:[r.default],inject:{bvTabs:{default:function(){return{noKeyNav:!0}}}},props:{active:{type:Boolean,default:!1},tag:{type:String,default:"div"},buttonId:{type:String,default:""},title:{type:String,default:""},titleItemClass:{type:[String,Array,Object],default:null},titleLinkClass:{type:[String,Array,Object],default:null},headHtml:{type:String,default:null},disabled:{type:Boolean,default:!1},noBody:{type:Boolean,default:!1},href:{type:String,default:"#"},lazy:{type:Boolean,default:!1}},data:function(){return{localActive:this.active&&!this.disabled,show:!1}},computed:{tabClasses:function(){return[this.bvTabs.card&&!this.noBody?"card-body":"",this.show?"show":"",this.computedFade?"fade":"",this.disabled?"disabled":"",this.localActive?"active":""]},controlledBy:function(){return this.buttonId||this.safeId("__BV_tab_button__")},computedFade:function(){return this.bvTabs.fade||!1},computedLazy:function(){return this.bvTabs.lazy||this.lazy},_isTab:function(){return!0}},watch:{localActive:function(t,e){this.$emit("update:active",t)},active:function(t,e){t!==e&&(t?this.activate():this.deactivate()||this.$emit("update:active",this.localActive))},disabled:function(t,e){t!==e&&t&&this.localActive&&this.bvTabs.firstTab&&(this.localActive=!1,this.bvTabs.firstTab())}},mounted:function(){this.show=this.localActive},updated:function(){this.$slots.title&&this.bvTabs.updateButton&&this.bvTabs.updateButton(this)},methods:{beforeEnter:function(){var t=this;(0,o.requestAF)(function(){t.show=!0})},beforeLeave:function(){this.show=!1},activate:function(){return!(!this.bvTabs.activateTab||this.disabled)&&this.bvTabs.activateTab(this)},deactivate:function(){return!(!this.bvTabs.deactivateTab||!this.localActive)&&this.bvTabs.deactivateTab(this)}},render:function(t){var content=t(this.tag,{ref:"panel",staticClass:"tab-pane",class:this.tabClasses,directives:[{name:"show",rawName:"v-show",value:this.localActive,expression:"localActive"}],attrs:{role:"tabpanel",id:this.safeId(),tabindex:this.localActive&&!this.bvTabs.noKeyNav?"0":null,"aria-hidden":this.localActive?"false":"true","aria-expanded":this.localActive?"true":"false","aria-labelledby":this.controlledBy||null}},[this.localActive||!this.computedLazy?this.$slots.default:t(!1)]);return t("transition",{props:{mode:"out-in","enter-class":"","enter-active-class":"","enter-to-class":"","leave-class":"","leave-active-class":"","leave-to-class":""},on:{beforeEnter:this.beforeEnter,beforeLeave:this.beforeLeave}},[content])}};e.default=l},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(607),o=n(294),l=n(3),c={BTooltip:r.default},d={BTooltipDirectivePlugin:o.default},h={install:(0,l.installFactory)({components:c,plugins:d})};e.default=h},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(178),o=n(20),l={name:"BTooltip",mixins:[n(287).default],props:{title:{type:String,default:""},triggers:{type:[String,Array],default:"hover focus"},placement:{type:String,default:"top"}},data:function(){return{}},methods:{createToolpop:function(){var t=this.getTarget();return t?this._toolpop=new r.default(t,this.getConfig(),this.$root):(this._toolpop=null,(0,o.default)("b-tooltip: 'target' element not found!")),this._toolpop}},render:function(t){return t("div",{class:["d-none"],style:{display:"none"},attrs:{"aria-hidden":!0}},[t("div",{ref:"title"},this.$slots.default)])}};e.default=l},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(119),o=n(178),l=n(28),c=n(7),d=n(20);function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var m="__BV_ToolTip__",v={focus:!0,hover:!0,click:!0,blur:!0},y=function(t){var e={};"string"==typeof t.value?e.title=t.value:"function"==typeof t.value?e.title=t.value:"object"===f(t.value)&&(e=function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},e=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(source).filter(function(t){return Object.getOwnPropertyDescriptor(source,t).enumerable}))),e.forEach(function(e){h(t,e,source[e])})}return t}({},e,t.value)),t.arg&&(e.container="#".concat(t.arg)),(0,c.keys)(t.modifiers).forEach(function(t){if(/^html$/.test(t))e.html=!0;else if(/^nofade$/.test(t))e.animation=!1;else if(/^(auto|top(left|right)?|bottom(left|right)?|left(top|bottom)?|right(top|bottom)?)$/.test(t))e.placement=t;else if(/^(window|viewport)$/.test(t))e.boundary=t;else if(/^d\d+$/.test(t)){var n=parseInt(t.slice(1),10)||0;n&&(e.delay=n)}else if(/^o-?\d+$/.test(t)){var r=parseInt(t.slice(1),10)||0;r&&(e.offset=r)}});var n={};return("string"==typeof e.trigger?e.trigger.trim().split(/\s+/):[]).forEach(function(t){v[t]&&(n[t]=!0)}),(0,c.keys)(v).forEach(function(e){t.modifiers[e]&&(n[e]=!0)}),e.trigger=(0,c.keys)(n).join(" "),"blur"===e.trigger&&(e.trigger="focus"),e.trigger||delete e.trigger,e},w=function(t,e,n){if(l.inBrowser)if(r.default){var c=y(e);t[m]?t[m].updateConfig(c):t[m]=new o.default(t,c,n.context.$root)}else(0,d.default)("v-b-tooltip: Popper.js is required for ToolTips to work")},_={bind:function(t,e,n){w(t,e,n)},inserted:function(t,e,n){w(t,e,n)},update:function(t,e,n){e.value!==e.oldValue&&w(t,e,n)},componentUpdated:function(t,e,n){e.value!==e.oldValue&&w(t,e,n)},unbind:function(t){!function(t){t[m]&&(t[m].destroy(),t[m]=null,delete t[m])}(t)}};e.default=_},function(t,e,n){"use strict";e.__esModule=!0;var r=n(267);e.Toggle=r.default;var o=n(283);e.Modal=o.default;var l=n(610);e.Scrollspy=l.default;var c=n(294);e.Tooltip=c.default;var d=n(288);e.Popover=d.default},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(611),o=n(3),l={BScrollspy:r.default},c={install:(0,o.installFactory)({directives:l})};e.default=c},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(612),o=n(28),l=n(7);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var d="__BV_ScrollSpy__",h=function(t,e,n){if(o.inBrowser){var h=function(t){var e={};return t.arg&&(e.element="#".concat(t.arg)),(0,l.keys)(t.modifiers).forEach(function(t){/^\d+$/.test(t)?e.offset=parseInt(t,10):/^(auto|position|offset)$/.test(t)&&(e.method=t)}),"string"==typeof t.value?e.element=t.value:"number"==typeof t.value?e.offset=Math.round(t.value):"object"===c(t.value)&&(0,l.keys)(t.value).filter(function(t){return Boolean(r.default.DefaultType[t])}).forEach(function(n){e[n]=t.value[n]}),e}(e);t[d]?t[d].updateConfig(h,n.context.$root):t[d]=new r.default(t,h,n.context.$root)}},f={bind:function(t,e,n){h(t,e,n)},inserted:function(t,e,n){h(t,e,n)},update:function(t,e,n){e.value!==e.oldValue&&h(t,e,n)},componentUpdated:function(t,e,n){e.value!==e.oldValue&&h(t,e,n)},unbind:function(t){!function(t){t[d]&&(t[d].dispose(),t[d]=null,delete t[d])}(t)}};e.default=f},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(88),o=n(20),l=n(6);function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var h={element:"body",offset:10,method:"auto",throttle:75},f={element:"(string|element|component)",offset:"number",method:"string",throttle:"number"},m="dropdown-item",v="active",y={ACTIVE:".active",NAV_LIST_GROUP:".nav, .list-group",NAV_LINKS:".nav-link",NAV_ITEMS:".nav-item",LIST_ITEMS:".list-group-item",DROPDOWN:".dropdown, .dropup",DROPDOWN_ITEMS:".dropdown-item",DROPDOWN_TOGGLE:".dropdown-toggle"},w="offset",_="position",S=/^#[^\/!]+/,E=["webkitTransitionEnd","transitionend","otransitionend","oTransitionEnd"],T={passive:!0,capture:!1};var k=function(){function t(element,e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$el=element,this.$scroller=null,this.$selector=[y.NAV_LINKS,y.LIST_ITEMS,y.DROPDOWN_ITEMS].join(","),this.$offsets=[],this.$targets=[],this.$activeTarget=null,this.$scrollHeight=0,this.$resizeTimeout=null,this.$obs_scroller=null,this.$obs_targets=null,this.$root=n||null,this.$config=null,this.updateConfig(e)}var e,n,k;return e=t,k=[{key:"Name",get:function(){return"v-b-scrollspy"}},{key:"Default",get:function(){return h}},{key:"DefaultType",get:function(){return f}}],(n=[{key:"updateConfig",value:function(t,e){this.$scroller&&(this.unlisten(),this.$scroller=null);var n=function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},e=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(source).filter(function(t){return Object.getOwnPropertyDescriptor(source,t).enumerable}))),e.forEach(function(e){c(t,e,source[e])})}return t}({},this.constructor.Default,t);if(e&&(this.$root=e),function(t,e,n){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var c=n[r],d=e[r],h=d&&(0,l.isElement)(d)?"element":(f=d,{}.toString.call(f).match(/\s([a-zA-Z]+)/)[1].toLowerCase());h=d&&d._isVue?"component":h,new RegExp(c).test(h)||(0,o.default)("".concat(t,': Option "').concat(r,'" provided type "').concat(h,'" but expected type "').concat(c,'"'))}var f}(this.constructor.Name,n,this.constructor.DefaultType),this.$config=n,this.$root){var r=this;this.$root.$nextTick(function(){r.listen()})}else this.listen()}},{key:"dispose",value:function(){this.unlisten(),clearTimeout(this.$resizeTimeout),this.$resizeTimeout=null,this.$el=null,this.$config=null,this.$scroller=null,this.$selector=null,this.$offsets=null,this.$targets=null,this.$activeTarget=null,this.$scrollHeight=null}},{key:"listen",value:function(){var t=this,e=this.getScroller();e&&"BODY"!==e.tagName&&(0,l.eventOn)(e,"scroll",this,T),(0,l.eventOn)(window,"scroll",this,T),(0,l.eventOn)(window,"resize",this,T),(0,l.eventOn)(window,"orientationchange",this,T),E.forEach(function(e){(0,l.eventOn)(window,e,t,T)}),this.setObservers(!0),this.handleEvent("refresh")}},{key:"unlisten",value:function(){var t=this,e=this.getScroller();this.setObservers(!1),e&&"BODY"!==e.tagName&&(0,l.eventOff)(e,"scroll",this,T),(0,l.eventOff)(window,"scroll",this,T),(0,l.eventOff)(window,"resize",this,T),(0,l.eventOff)(window,"orientationchange",this,T),E.forEach(function(e){(0,l.eventOff)(window,e,t,T)})}},{key:"setObservers",value:function(t){var e=this;this.$obs_scroller&&(this.$obs_scroller.disconnect(),this.$obs_scroller=null),this.$obs_targets&&(this.$obs_targets.disconnect(),this.$obs_targets=null),t&&(this.$obs_targets=(0,r.default)(this.$el,function(){e.handleEvent("mutation")},{subtree:!0,childList:!0,attributes:!0,attributeFilter:["href"]}),this.$obs_scroller=(0,r.default)(this.getScroller(),function(){e.handleEvent("mutation")},{subtree:!0,childList:!0,characterData:!0,attributes:!0,attributeFilter:["id","style","class"]}))}},{key:"handleEvent",value:function(t){var e="string"==typeof t?t:t.type,n=this;"scroll"===e?(this.$obs_scroller||this.listen(),this.process()):/(resize|orientationchange|mutation|refresh)/.test(e)&&(n.$resizeTimeout||(n.$resizeTimeout=setTimeout(function(){n.refresh(),n.process(),n.$resizeTimeout=null},n.$config.throttle)))}},{key:"refresh",value:function(){var t=this,e=this.getScroller();if(e){var n=e!==e.window?_:w,r="auto"===this.$config.method?n:this.$config.method,o=r===_?l.position:l.offset,c=r===_?this.getScrollTop():0;return this.$offsets=[],this.$targets=[],this.$scrollHeight=this.getScrollHeight(),(0,l.selectAll)(this.$selector,this.$el).map(function(link){return(0,l.getAttr)(link,"href")}).filter(function(t){return S.test(t||"")}).map(function(t){var n=(0,l.select)(t,e);return(0,l.isVisible)(n)?{offset:parseInt(o(n).top,10)+c,target:t}:null}).filter(function(t){return t}).sort(function(a,b){return a.offset-b.offset}).reduce(function(e,n){return e[n.target]||(t.$offsets.push(n.offset),t.$targets.push(n.target),e[n.target]=!0),e},{}),this}}},{key:"process",value:function(){var t=this.getScrollTop()+this.$config.offset,e=this.getScrollHeight(),n=this.$config.offset+e-this.getOffsetHeight();if(this.$scrollHeight!==e&&this.refresh(),t>=n){var r=this.$targets[this.$targets.length-1];this.$activeTarget!==r&&this.activate(r)}else{if(this.$activeTarget&&t<this.$offsets[0]&&this.$offsets[0]>0)return this.$activeTarget=null,void this.clear();for(var i=this.$offsets.length;i--;){this.$activeTarget!==this.$targets[i]&&t>=this.$offsets[i]&&(void 0===this.$offsets[i+1]||t<this.$offsets[i+1])&&this.activate(this.$targets[i])}}}},{key:"getScroller",value:function(){if(this.$scroller)return this.$scroller;var t=this.$config.element;return t?((0,l.isElement)(t.$el)?t=t.$el:"string"==typeof t&&(t=(0,l.select)(t)),t?(this.$scroller="BODY"===t.tagName?window:t,this.$scroller):null):null}},{key:"getScrollTop",value:function(){var t=this.getScroller();return t===window?t.pageYOffset:t.scrollTop}},{key:"getScrollHeight",value:function(){return this.getScroller().scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}},{key:"getOffsetHeight",value:function(){var t=this.getScroller();return t===window?window.innerHeight:(0,l.getBCR)(t).height}},{key:"activate",value:function(t){var e=this;this.$activeTarget=t,this.clear();var n=(0,l.selectAll)(this.$selector.split(",").map(function(e){return"".concat(e,'[href="').concat(t,'"]')}).join(","),this.$el);n.forEach(function(link){if((0,l.hasClass)(link,m)){var t=(0,l.closest)(y.DROPDOWN,link);t&&e.setActiveState((0,l.select)(y.DROPDOWN_TOGGLE,t),!0),e.setActiveState(link,!0)}else{e.setActiveState(link,!0),(0,l.matches)(link.parentElement,y.NAV_ITEMS)&&e.setActiveState(link.parentElement,!0);for(var n=link;n;){var r=(n=(0,l.closest)(y.NAV_LIST_GROUP,n))?n.previousElementSibling:null;(0,l.matches)(r,"".concat(y.NAV_LINKS,", ").concat(y.LIST_ITEMS))&&e.setActiveState(r,!0),(0,l.matches)(r,y.NAV_ITEMS)&&(e.setActiveState((0,l.select)(y.NAV_LINKS,r),!0),e.setActiveState(r,!0))}}}),n&&n.length>0&&this.$root&&this.$root.$emit("bv::scrollspy::activate",t,n)}},{key:"clear",value:function(){var t=this;(0,l.selectAll)("".concat(this.$selector,", ").concat(y.NAV_ITEMS),this.$el).filter(function(t){return(0,l.hasClass)(t,v)}).forEach(function(e){return t.setActiveState(e,!1)})}},{key:"setActiveState",value:function(t,e){t&&(e?(0,l.addClass)(t,v):(0,l.removeClass)(t,v))}}])&&d(e.prototype,n),k&&d(e,k),t}();e.default=k},,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=!1,n=void 0;return function(){return e||(e=!0,n=t()),n}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=!1;e.loadGmapApi=function(t,e){if("undefined"!=typeof document){if(o)throw new Error("You already started the loading of google maps");o=!0;var n=document.createElement("SCRIPT");if("object"!==(void 0===t?"undefined":r(t)))throw new Error("options should  be an object");Array.prototype.isPrototypeOf(t.libraries)&&(t.libraries=t.libraries.join(",")),t.callback="vueGoogleMapsInit";var l="https://maps.googleapis.com/";"boolean"==typeof e&&!0===e&&(l="https://maps.google.cn/");var c=l+"maps/api/js?"+Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&");n.setAttribute("src",c),n.setAttribute("async",""),n.setAttribute("defer",""),document.head.appendChild(n)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(33),l=(r=o)&&r.__esModule?r:{default:r};var c={animation:{twoWay:!0,type:Number},attribution:{type:Object},clickable:{type:Boolean,twoWay:!0,default:!0},cursor:{type:String,twoWay:!0},draggable:{type:Boolean,twoWay:!0,default:!1},icon:{twoWay:!0},label:{},opacity:{type:Number,default:1},options:{type:Object},place:{type:Object},position:{type:Object,twoWay:!0},shape:{type:Object,twoWay:!0},title:{type:String,twoWay:!0},zIndex:{type:Number,twoWay:!0},visible:{twoWay:!0,default:!0}};e.default=(0,l.default)({mappedProps:c,events:["click","rightclick","dblclick","drag","dragstart","dragend","mouseup","mousedown","mouseover","mouseout"],name:"marker",ctr:function(){return google.maps.Marker},inject:{$clusterPromise:{default:null}},render:function(t){return this.$slots.default&&0!==this.$slots.default.length?1===this.$slots.default.length?this.$slots.default[0]:t("div",this.$slots.default):""},destroyed:function(){this.$markerObject&&(this.$clusterObject?this.$clusterObject.removeMarker(this.$markerObject,!0):this.$markerObject.setMap(null))},beforeCreate:function(t){return this.$clusterPromise&&(t.map=null),this.$clusterPromise},afterCreate:function(t){var e=this;this.$clusterPromise&&this.$clusterPromise.then(function(n){n.addMarker(t),e.$clusterObject=n})}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=function(){return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,i){var e=[],n=!0,r=!1,o=void 0;try{for(var l,c=t[Symbol.iterator]();!(n=(l=c.next()).done)&&(e.push(l.value),!i||e.length!==i);n=!0);}catch(t){r=!0,o=t}finally{try{!n&&c.return&&c.return()}finally{if(r)throw o}}return e}(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=n(33),c=(r=l)&&r.__esModule?r:{default:r};var d={draggable:{type:Boolean},editable:{type:Boolean},options:{twoWay:!1,type:Object},path:{type:Array,twoWay:!0}};e.default=(0,c.default)({mappedProps:d,props:{deepWatch:{type:Boolean,default:!1}},events:["click","dblclick","drag","dragend","dragstart","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"],name:"polyline",ctr:function(){return google.maps.Polyline},afterCreate:function(){var t=this,e=function(){};this.$watch("path",function(path){if(path){e(),t.$polylineObject.setPath(path);var n=t.$polylineObject.getPath(),r=[],l=function(){t.$emit("path_changed",t.$polylineObject.getPath())};r.push([n,n.addListener("insert_at",l)]),r.push([n,n.addListener("remove_at",l)]),r.push([n,n.addListener("set_at",l)]),e=function(){r.map(function(t){var e=o(t,2),n=(e[0],e[1]);return google.maps.event.removeListener(n)})}}},{deep:this.deepWatch,immediate:!0})}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=function(){return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,i){var e=[],n=!0,r=!1,o=void 0;try{for(var l,c=t[Symbol.iterator]();!(n=(l=c.next()).done)&&(e.push(l.value),!i||e.length!==i);n=!0);}catch(t){r=!0,o=t}finally{try{!n&&c.return&&c.return()}finally{if(r)throw o}}return e}(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=n(33),c=(r=l)&&r.__esModule?r:{default:r};var d={draggable:{type:Boolean},editable:{type:Boolean},options:{type:Object},path:{type:Array,twoWay:!0,noBind:!0},paths:{type:Array,twoWay:!0,noBind:!0}};e.default=(0,c.default)({props:{deepWatch:{type:Boolean,default:!1}},events:["click","dblclick","drag","dragend","dragstart","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"],mappedProps:d,name:"polygon",ctr:function(){return google.maps.Polygon},beforeCreate:function(t){t.path||delete t.path,t.paths||delete t.paths},afterCreate:function(t){var e=this,n=function(){};this.$watch("paths",function(r){if(r){n(),t.setPaths(r);for(var l=function(){e.$emit("paths_changed",t.getPaths())},c=[],d=t.getPaths(),i=0;i<d.getLength();i++){var h=d.getAt(i);c.push([h,h.addListener("insert_at",l)]),c.push([h,h.addListener("remove_at",l)]),c.push([h,h.addListener("set_at",l)])}c.push([d,d.addListener("insert_at",l)]),c.push([d,d.addListener("remove_at",l)]),c.push([d,d.addListener("set_at",l)]),n=function(){c.map(function(t){var e=o(t,2),n=(e[0],e[1]);return google.maps.event.removeListener(n)})}}},{deep:this.deepWatch,immediate:!0}),this.$watch("path",function(path){if(path){n(),t.setPaths(path);var r=t.getPath(),l=[],c=function(){e.$emit("path_changed",t.getPath())};l.push([r,r.addListener("insert_at",c)]),l.push([r,r.addListener("remove_at",c)]),l.push([r,r.addListener("set_at",c)]),n=function(){l.map(function(t){var e=o(t,2),n=(e[0],e[1]);return google.maps.event.removeListener(n)})}}},{deep:this.deepWatch,immediate:!0})}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(33),l=(r=o)&&r.__esModule?r:{default:r};var c={center:{type:Object,twoWay:!0,required:!0},radius:{type:Number,twoWay:!0},draggable:{type:Boolean,default:!1},editable:{type:Boolean,default:!1},options:{type:Object,twoWay:!1}};e.default=(0,l.default)({mappedProps:c,name:"circle",ctr:function(){return google.maps.Circle},events:["click","dblclick","drag","dragend","dragstart","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"]})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(33),l=(r=o)&&r.__esModule?r:{default:r};var c={bounds:{type:Object,twoWay:!0},draggable:{type:Boolean,default:!1},editable:{type:Boolean,default:!1},options:{type:Object,twoWay:!1}};e.default=(0,l.default)({mappedProps:c,name:"rectangle",ctr:function(){return google.maps.Rectangle},events:["click","dblclick","drag","dragend","dragstart","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"]})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(33),l=(r=o)&&r.__esModule?r:{default:r};var c={options:{type:Object,required:!1,default:function(){return{}}},position:{type:Object,twoWay:!0},zIndex:{type:Number,twoWay:!0}};e.default=(0,l.default)({mappedProps:c,events:["domready","closeclick","content_changed"],name:"infoWindow",ctr:function(){return google.maps.InfoWindow},props:{opened:{type:Boolean,default:!0}},inject:{$markerPromise:{default:null}},mounted:function(){var t=this.$refs.flyaway;t.parentNode.removeChild(t)},beforeCreate:function(t){var e=this;if(t.content=this.$refs.flyaway,this.$markerPromise)return delete t.position,this.$markerPromise.then(function(t){return e.$markerObject=t,t})},methods:{_openInfoWindow:function(){this.opened?null!==this.$markerObject?this.$infoWindowObject.open(this.$map,this.$markerObject):this.$infoWindowObject.open(this.$map):this.$infoWindowObject.close()}},afterCreate:function(){var t=this;this._openInfoWindow(),this.$watch("opened",function(){t._openInfoWindow()})}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var e in source)Object.prototype.hasOwnProperty.call(source,e)&&(t[e]=source[e])}return t},o=m(n(182)),l=n(89),c=m(n(184)),d=m(n(301)),h=m(n(183)),f=n(33);function m(t){return t&&t.__esModule?t:{default:t}}var v={center:{required:!0,twoWay:!0,type:Object,noBind:!0},zoom:{required:!1,twoWay:!0,type:Number,noBind:!0},heading:{type:Number,twoWay:!0},mapTypeId:{twoWay:!0,type:String},tilt:{twoWay:!0,type:Number},options:{type:Object,default:function(){return{}}}},y=["bounds_changed","click","dblclick","drag","dragend","dragstart","idle","mousemove","mouseout","mouseover","resize","rightclick","tilesloaded"],w=["panBy","panTo","panToBounds","fitBounds"].reduce(function(t,e){return t[e]=function(){this.$mapObject&&this.$mapObject[e].apply(this.$mapObject,arguments)},t},{}),_={resize:function(){this.$mapObject&&google.maps.event.trigger(this.$mapObject,"resize")},resizePreserveCenter:function(){if(this.$mapObject){var t=this.$mapObject.getCenter();google.maps.event.trigger(this.$mapObject,"resize"),this.$mapObject.setCenter(t)}},_resizeCallback:function(){this.resizePreserveCenter()}};e.default={mixins:[c.default],props:(0,f.mappedPropsToVueProps)(v),provide:function(){var t=this;return this.$mapPromise=new Promise(function(e,n){t.$mapPromiseDeferred={resolve:e,reject:n}}),{$mapPromise:this.$mapPromise}},computed:{finalLat:function(){return this.center&&"function"==typeof this.center.lat?this.center.lat():this.center.lat},finalLng:function(){return this.center&&"function"==typeof this.center.lng?this.center.lng():this.center.lng},finalLatLng:function(){return{lat:this.finalLat,lng:this.finalLng}}},watch:{zoom:function(t){this.$mapObject&&this.$mapObject.setZoom(t)}},mounted:function(){var t=this;return this.$gmapApiPromiseLazy().then(function(){var element=t.$refs["vue-map"],e=r({},t.options,(0,l.getPropsValues)(t,v));return delete e.options,t.$mapObject=new google.maps.Map(element,e),(0,l.bindProps)(t,t.$mapObject,v),(0,o.default)(t,t.$mapObject,y),(0,d.default)(function(e,n,r){t.$mapObject.addListener("center_changed",function(){r()&&t.$emit("center_changed",t.$mapObject.getCenter()),n()}),(0,h.default)(t,["finalLat","finalLng"],function(){e(),t.$mapObject.setCenter(t.finalLatLng)})}),t.$mapObject.addListener("zoom_changed",function(){t.$emit("zoom_changed",t.$mapObject.getZoom())}),t.$mapObject.addListener("bounds_changed",function(){t.$emit("bounds_changed",t.$mapObject.getBounds())}),t.$mapPromiseDeferred.resolve(t.$mapObject),t.$mapObject}).catch(function(t){throw t})},methods:r({},_,w)}},function(t,e,n){"use strict";var r=n(127);n.n(r).a},function(t,e,n){(t.exports=n(51)(!1)).push([t.i,".vue-map-container{position:relative}.vue-map-container .vue-map{left:0;right:0;top:0;bottom:0;position:absolute}.vue-map-hidden{display:none}",""])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var e in source)Object.prototype.hasOwnProperty.call(source,e)&&(t[e]=source[e])}return t},o=m(n(182)),l=n(89),c=m(n(184)),d=m(n(301)),h=m(n(183)),f=n(33);function m(t){return t&&t.__esModule?t:{default:t}}var v={zoom:{twoWay:!0,type:Number},pov:{twoWay:!0,type:Object,trackProperties:["pitch","heading"]},position:{twoWay:!0,type:Object,noBind:!0},pano:{twoWay:!0,type:String},motionTracking:{twoWay:!1,type:Boolean},visible:{twoWay:!0,type:Boolean,default:!0},options:{twoWay:!1,type:Object,default:function(){return{}}}},y=["closeclick","status_changed"];e.default={mixins:[c.default],props:(0,f.mappedPropsToVueProps)(v),replace:!1,methods:{resize:function(){this.$panoObject&&google.maps.event.trigger(this.$panoObject,"resize")}},provide:function(){var t=this,e=new Promise(function(e,n){t.$panoPromiseDeferred={resolve:e,reject:n}});return{$panoPromise:e,$mapPromise:e}},computed:{finalLat:function(){return this.position&&"function"==typeof this.position.lat?this.position.lat():this.position.lat},finalLng:function(){return this.position&&"function"==typeof this.position.lng?this.position.lng():this.position.lng},finalLatLng:function(){return{lat:this.finalLat,lng:this.finalLng}}},watch:{zoom:function(t){this.$panoObject&&this.$panoObject.setZoom(t)}},mounted:function(){var t=this;return this.$gmapApiPromiseLazy().then(function(){var element=t.$refs["vue-street-view-pano"],e=r({},t.options,(0,l.getPropsValues)(t,v));return delete e.options,t.$panoObject=new google.maps.StreetViewPanorama(element,e),(0,l.bindProps)(t,t.$panoObject,v),(0,o.default)(t,t.$panoObject,y),(0,d.default)(function(e,n,r){e(),t.$panoObject.addListener("position_changed",function(){r()&&t.$emit("position_changed",t.$panoObject.getPosition()),n()}),(0,h.default)(t,["finalLat","finalLng"],function(){e(),t.$panoObject.setPosition(t.finalLatLng)})}),t.$panoPromiseDeferred.resolve(t.$panoObject),t.$panoPromise}).catch(function(t){throw t})}}},function(t,e,n){"use strict";var r=n(128);n.n(r).a},function(t,e,n){(t.exports=n(51)(!1)).push([t.i,".vue-street-view-pano-container{position:relative}.vue-street-view-pano-container .vue-street-view-pano{left:0;right:0;top:0;bottom:0;position:absolute}",""])},function(t,e,n){"use strict";n.r(e);var r=n(194),o=n(129);for(var l in o)"default"!==l&&function(t){n.d(e,t,function(){return o[t]})}(l);var c=n(12),component=Object(c.a)(o.default,r.a,r.b,!1,null,null,null);e.default=component.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var e in source)Object.prototype.hasOwnProperty.call(source,e)&&(t[e]=source[e])}return t},l=n(89),c=n(302),d=(r=c)&&r.__esModule?r:{default:r},h=n(33);var f={bounds:{type:Object},componentRestrictions:{type:Object,noBind:!0},types:{type:Array,default:function(){return[]}}},m={selectFirstOnEnter:{required:!1,type:Boolean,default:!1},options:{type:Object}};e.default={mounted:function(){var t=this;this.$gmapApiPromiseLazy().then(function(){if(t.selectFirstOnEnter&&(0,d.default)(t.$refs.input),"function"!=typeof google.maps.places.Autocomplete)throw new Error("google.maps.places.Autocomplete is undefined. Did you add 'places' to libraries when loading Google Maps?");var e=o({},(0,l.getPropsValues)(t,f),t.options);t.$autocomplete=new google.maps.places.Autocomplete(t.$refs.input,e),(0,l.bindProps)(t,t.$autocomplete,f),t.$watch("componentRestrictions",function(e){void 0!==e&&t.$autocomplete.setComponentRestrictions(e)}),t.$autocomplete.addListener("place_changed",function(){t.$emit("place_changed",t.$autocomplete.getPlace())})})},props:o({},(0,h.mappedPropsToVueProps)(f),m)}},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(18))},function(t,e,n){var r=n(304),o=Object.prototype,l=o.hasOwnProperty,c=o.toString,d=r?r.toStringTag:void 0;t.exports=function(t){var e=l.call(t,d),n=t[d];try{t[d]=void 0;var r=!0}catch(t){}var o=c.call(t);return r&&(e?t[d]=n:delete t[d]),o}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){var r=n(651);t.exports=function(t){var e=r(t),n=e%1;return e==e?n?e-n:e:0}},function(t,e,n){var r=n(305),o=1/0,l=1.7976931348623157e308;t.exports=function(t){return t?(t=r(t))===o||t===-o?(t<0?-1:1)*l:t==t?t:0:0===t?t:0}},function(t,e,n){var r=n(303),o=n(653),l="[object Symbol]";t.exports=function(t){return"symbol"==typeof t||o(t)&&r(t)==l}},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){var r=n(185);t.exports=function(){return r.Date.now()}},function(t,e,n){"use strict";n(656)()||Object.defineProperty(n(657),"Map",{value:n(658),configurable:!0,enumerable:!1,writable:!0})},function(t,e,n){"use strict";t.exports=function(){var map,t;if("function"!=typeof Map)return!1;try{map=new Map([["raz","one"],["dwa","two"],["trzy","three"]])}catch(t){return!1}return"[object Map]"===String(map)&&(3===map.size&&("function"==typeof map.clear&&("function"==typeof map.delete&&("function"==typeof map.entries&&("function"==typeof map.forEach&&("function"==typeof map.get&&("function"==typeof map.has&&("function"==typeof map.keys&&("function"==typeof map.set&&("function"==typeof map.values&&(!1===(t=map.entries().next()).done&&(!!t.value&&("raz"===t.value[0]&&"one"===t.value[1])))))))))))))}},function(t,e){t.exports=function(){if(this)return this;Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0});try{return __global__}finally{delete Object.prototype.__global__}}()},function(t,e,n){"use strict";var r,o=n(306),l=n(659),c=n(121),d=n(59),h=n(39),f=n(60),m=n(678),v=n(49),y=n(314),w=n(684),_=n(702),S=n(705),E=Function.prototype.call,T=Object.defineProperties,k=Object.getPrototypeOf;t.exports=r=function(){var t,e,n,o=arguments[0];if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");return n=S&&c&&Map!==r?c(new Map,k(this)):this,null!=o&&y(o),T(n,{__mapKeysData__:f("c",t=[]),__mapValuesData__:f("c",e=[])}),o?(w(o,function(n){var r=h(n)[0];n=n[1],-1===l.call(t,r)&&(t.push(r),e.push(n))},n),n):n},S&&(c&&c(r,Map),r.prototype=Object.create(Map.prototype,{constructor:f(r)})),m(T(r.prototype,{clear:f(function(){this.__mapKeysData__.length&&(o.call(this.__mapKeysData__),o.call(this.__mapValuesData__),this.emit("_clear"))}),delete:f(function(t){var e=l.call(this.__mapKeysData__,t);return-1!==e&&(this.__mapKeysData__.splice(e,1),this.__mapValuesData__.splice(e,1),this.emit("_delete",e,t),!0)}),entries:f(function(){return new _(this,"key+value")}),forEach:f(function(t){var e,n,r=arguments[1];for(d(t),n=(e=this.entries())._next();void 0!==n;)E.call(t,r,this.__mapValuesData__[n],this.__mapKeysData__[n],this),n=e._next()}),get:f(function(t){var e=l.call(this.__mapKeysData__,t);if(-1!==e)return this.__mapValuesData__[e]}),has:f(function(t){return-1!==l.call(this.__mapKeysData__,t)}),keys:f(function(){return new _(this,"key")}),set:f(function(t,e){var n,r=l.call(this.__mapKeysData__,t);return-1===r&&(r=this.__mapKeysData__.push(t)-1,n=!0),this.__mapValuesData__[r]=e,n&&this.emit("_add",r,t),this}),size:f.gs(function(){return this.__mapKeysData__.length}),values:f(function(){return new _(this,"value")}),toString:f(function(){return"[object Map]"})})),Object.defineProperty(r.prototype,v.iterator,f(function(){return this.entries()})),Object.defineProperty(r.prototype,v.toStringTag,f("c","Map"))},function(t,e,n){"use strict";var r=n(660),o=n(308),l=n(39),c=Array.prototype.indexOf,d=Object.prototype.hasOwnProperty,h=Math.abs,f=Math.floor;t.exports=function(t){var i,e,n,m;if(!r(t))return c.apply(this,arguments);for(e=o(l(this).length),n=arguments[1],i=n=isNaN(n)?0:n>=0?f(n):o(this.length)-f(h(n));i<e;++i)if(d.call(this,i)&&(m=this[i],r(m)))return i;return-1}},function(t,e,n){"use strict";t.exports=n(661)()?Number.isNaN:n(662)},function(t,e,n){"use strict";t.exports=function(){var t=Number.isNaN;return"function"==typeof t&&(!t({})&&t(NaN)&&!t(34))}},function(t,e,n){"use strict";t.exports=function(t){return t!=t}},function(t,e,n){"use strict";var r=n(664),o=Math.abs,l=Math.floor;t.exports=function(t){return isNaN(t)?0:0!==(t=Number(t))&&isFinite(t)?r(t)*l(o(t)):t}},function(t,e,n){"use strict";t.exports=n(665)()?Math.sign:n(666)},function(t,e,n){"use strict";t.exports=function(){var t=Math.sign;return"function"==typeof t&&(1===t(10)&&-1===t(-20))}},function(t,e,n){"use strict";t.exports=function(t){return t=Number(t),isNaN(t)||0===t?t:t>0?1:-1}},function(t,e,n){"use strict";var r=n(71),map={function:!0,object:!0};t.exports=function(t){return r(t)&&map[typeof t]||!1}},function(t,e,n){"use strict";var r,o,l,desc,c=Object.create;n(309)()||(r=n(310)),t.exports=r?1!==r.level?c:(o={},l={},desc={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(t){l[t]="__proto__"!==t?desc:{configurable:!0,enumerable:!1,writable:!0,value:void 0}}),Object.defineProperties(o,l),Object.defineProperty(r,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:o}),function(t,e){return c(null===t?o:t,e)}):c},function(t,e,n){"use strict";var r=n(670);t.exports=function(t){if("function"!=typeof t)return!1;if(!hasOwnProperty.call(t,"length"))return!1;try{if("number"!=typeof t.length)return!1;if("function"!=typeof t.call)return!1;if("function"!=typeof t.apply)return!1}catch(t){return!1}return!r(t)}},function(t,e,n){"use strict";var r=n(186);t.exports=function(t){if(!r(t))return!1;try{return!!t.constructor&&t.constructor.prototype===t}catch(t){return!1}}},function(t,e,n){"use strict";t.exports=function(){var t,e=Object.assign;return"function"==typeof e&&(e(t={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),t.foo+t.bar+t.trzy==="razdwatrzy")}},function(t,e,n){"use strict";var r=n(673),o=n(39),l=Math.max;t.exports=function(t,e){var n,i,c,d=l(arguments.length,2);for(t=Object(o(t)),c=function(r){try{t[r]=e[r]}catch(t){n||(n=t)}},i=1;i<d;++i)e=arguments[i],r(e).forEach(c);if(void 0!==n)throw n;return t}},function(t,e,n){"use strict";t.exports=n(674)()?Object.keys:n(675)},function(t,e,n){"use strict";t.exports=function(){try{return Object.keys("primitive"),!0}catch(t){return!1}}},function(t,e,n){"use strict";var r=n(71),o=Object.keys;t.exports=function(object){return o(r(object)?Object(object):object)}},function(t,e,n){"use strict";var r="razdwatrzy";t.exports=function(){return"function"==typeof r.contains&&(!0===r.contains("dwa")&&!1===r.contains("foo"))}},function(t,e,n){"use strict";var r=String.prototype.indexOf;t.exports=function(t){return r.call(this,t,arguments[1])>-1}},function(t,e,n){"use strict";var r,o,l,c,d,h,base,f=n(60),m=n(59),v=Function.prototype.apply,y=Function.prototype.call,w=Object.create,_=Object.defineProperty,S=Object.defineProperties,E=Object.prototype.hasOwnProperty,T={configurable:!0,enumerable:!1,writable:!0};o=function(t,e){var n,o;return m(e),o=this,r.call(this,t,n=function(){l.call(o,t,n),v.call(e,this,arguments)}),n.__eeOnceListener__=e,this},d={on:r=function(t,e){var data;return m(e),E.call(this,"__ee__")?data=this.__ee__:(data=T.value=w(null),_(this,"__ee__",T),T.value=null),data[t]?"object"==typeof data[t]?data[t].push(e):data[t]=[data[t],e]:data[t]=e,this},once:o,off:l=function(t,e){var data,n,r,i;if(m(e),!E.call(this,"__ee__"))return this;if(!(data=this.__ee__)[t])return this;if("object"==typeof(n=data[t]))for(i=0;r=n[i];++i)r!==e&&r.__eeOnceListener__!==e||(2===n.length?data[t]=n[i?0:1]:n.splice(i,1));else n!==e&&n.__eeOnceListener__!==e||delete data[t];return this},emit:c=function(t){var i,e,n,r,o;if(E.call(this,"__ee__")&&(r=this.__ee__[t]))if("object"==typeof r){for(e=arguments.length,o=new Array(e-1),i=1;i<e;++i)o[i-1]=arguments[i];for(r=r.slice(),i=0;n=r[i];++i)v.call(n,this,o)}else switch(arguments.length){case 1:y.call(r,this);break;case 2:y.call(r,this,arguments[1]);break;case 3:y.call(r,this,arguments[1],arguments[2]);break;default:for(e=arguments.length,o=new Array(e-1),i=1;i<e;++i)o[i-1]=arguments[i];v.call(r,this,o)}}},h={on:f(r),once:f(o),off:f(l),emit:f(c)},base=S({},h),t.exports=e=function(t){return null==t?w(base):S(Object(t),h)},e.methods=d},function(t,e,n){"use strict";var r={object:!0,symbol:!0};t.exports=function(){var symbol;if("function"!=typeof Symbol)return!1;symbol=Symbol("test symbol");try{String(symbol)}catch(t){return!1}return!!r[typeof Symbol.iterator]&&(!!r[typeof Symbol.toPrimitive]&&!!r[typeof Symbol.toStringTag])}},function(t,e,n){"use strict";var r,o,l,c,d=n(60),h=n(681),f=Object.create,m=Object.defineProperties,v=Object.defineProperty,y=Object.prototype,w=f(null);if("function"==typeof Symbol){r=Symbol;try{String(r()),c=!0}catch(t){}}var _,S=(_=f(null),function(desc){for(var t,e,n=0;_[desc+(n||"")];)++n;return _[desc+=n||""]=!0,v(y,t="@@"+desc,d.gs(null,function(n){e||(e=!0,v(this,t,d(n)),e=!1)})),t});l=function(t){if(this instanceof l)throw new TypeError("Symbol is not a constructor");return o(t)},t.exports=o=function t(e){var symbol;if(this instanceof t)throw new TypeError("Symbol is not a constructor");return c?r(e):(symbol=f(l.prototype),e=void 0===e?"":String(e),m(symbol,{__description__:d("",e),__name__:d("",S(e))}))},m(o,{for:d(function(t){return w[t]?w[t]:w[t]=o(String(t))}),keyFor:d(function(s){var t;for(t in h(s),w)if(w[t]===s)return t}),hasInstance:d("",r&&r.hasInstance||o("hasInstance")),isConcatSpreadable:d("",r&&r.isConcatSpreadable||o("isConcatSpreadable")),iterator:d("",r&&r.iterator||o("iterator")),match:d("",r&&r.match||o("match")),replace:d("",r&&r.replace||o("replace")),search:d("",r&&r.search||o("search")),species:d("",r&&r.species||o("species")),split:d("",r&&r.split||o("split")),toPrimitive:d("",r&&r.toPrimitive||o("toPrimitive")),toStringTag:d("",r&&r.toStringTag||o("toStringTag")),unscopables:d("",r&&r.unscopables||o("unscopables"))}),m(l.prototype,{constructor:d(o),toString:d("",function(){return this.__name__})}),m(o.prototype,{toString:d(function(){return"Symbol ("+h(this).__description__+")"}),valueOf:d(function(){return h(this)})}),v(o.prototype,o.toPrimitive,d("",function(){var symbol=h(this);return"symbol"==typeof symbol?symbol:symbol.toString()})),v(o.prototype,o.toStringTag,d("c","Symbol")),v(l.prototype,o.toStringTag,d("c",o.prototype[o.toStringTag])),v(l.prototype,o.toPrimitive,d("c",o.prototype[o.toPrimitive]))},function(t,e,n){"use strict";var r=n(682);t.exports=function(t){if(!r(t))throw new TypeError(t+" is not a symbol");return t}},function(t,e,n){"use strict";t.exports=function(t){return!!t&&("symbol"==typeof t||!!t.constructor&&("Symbol"===t.constructor.name&&"Symbol"===t[t.constructor.toStringTag]))}},function(t,e,n){"use strict";var r=n(122),o=n(71),l=n(123),c=n(49).iterator,d=Array.isArray;t.exports=function(t){return!!o(t)&&(!!d(t)||(!!l(t)||(!!r(t)||"function"==typeof t[c])))}},function(t,e,n){"use strict";var r=n(122),o=n(59),l=n(123),c=n(685),d=Array.isArray,h=Function.prototype.call,f=Array.prototype.some;t.exports=function(t,e){var n,m,v,y,i,w,_,code,S=arguments[2];if(d(t)||r(t)?n="array":l(t)?n="string":t=c(t),o(e),v=function(){y=!0},"array"!==n)if("string"!==n)for(m=t.next();!m.done;){if(h.call(e,S,m.value,v),y)return;m=t.next()}else for(w=t.length,i=0;i<w&&(_=t[i],i+1<w&&(code=_.charCodeAt(0))>=55296&&code<=56319&&(_+=t[++i]),h.call(e,S,_,v),!y);++i);else f.call(t,function(t){return h.call(e,S,t,v),y})}},function(t,e,n){"use strict";var r=n(122),o=n(123),l=n(686),c=n(701),d=n(314),h=n(49).iterator;t.exports=function(t){return"function"==typeof d(t)[h]?t[h]():r(t)?new l(t):o(t)?new c(t):new l(t)}},function(t,e,n){"use strict";var r,o=n(121),l=n(313),c=n(60),d=n(49),h=n(188),f=Object.defineProperty;r=t.exports=function(t,e){if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");h.call(this,t),e=e?l.call(e,"key+value")?"key+value":l.call(e,"key")?"key":"value":"value",f(this,"__kind__",c("",e))},o&&o(r,h),delete r.prototype.constructor,r.prototype=Object.create(h.prototype,{_resolve:c(function(i){return"value"===this.__kind__?this.__list__[i]:"key+value"===this.__kind__?[i,this.__list__[i]]:i})}),f(r.prototype,d.toStringTag,c("c","Array Iterator"))},function(t,e,n){"use strict";var r,o=n(72),l=n(688),c=n(692),d=n(693),h=n(312),map=n(698),f=Function.prototype.bind,m=Object.defineProperty,v=Object.prototype.hasOwnProperty;r=function(t,desc,e){var n,r=l(desc)&&c(desc.value);return delete(n=d(desc)).writable,delete n.value,n.get=function(){return!e.overwriteDefinition&&v.call(this,t)?r:(desc.value=f.call(r,e.resolveContext?e.resolveContext(this):this),m(this,t,desc),this[t])},n},t.exports=function(t){var e=h(arguments[1]);return o(e.resolveContext)&&c(e.resolveContext),map(t,function(desc,t){return r(t,desc,e)})}},function(t,e,n){"use strict";var r=n(315),o=n(72);t.exports=function(t){return o(t)?t:r(t,"Cannot use %v",arguments[1])}},function(t,e,n){"use strict";var r=n(72),o=n(186),l=Object.prototype.toString;t.exports=function(t){if(!r(t))return null;if(o(t)){var e=t.toString;if("function"!=typeof e)return null;if(e===l)return null}try{return""+t}catch(t){return null}}},function(t,e,n){"use strict";var r=n(691),o=/[\n\r\u2028\u2029]/g;t.exports=function(t){var e=r(t);return null===e?"<Non-coercible to string value>":(e.length>100&&(e=e.slice(0,99)+"…"),e=e.replace(o,function(t){switch(t){case"\n":return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}))}},function(t,e,n){"use strict";t.exports=function(t){try{return t.toString()}catch(e){try{return String(t)}catch(t){return null}}}},function(t,e,n){"use strict";var r=n(315),o=n(311);t.exports=function(t){return o(t)?t:r(t,"%v is not a plain function",arguments[1])}},function(t,e,n){"use strict";var r=n(694),o=n(187),l=n(39);t.exports=function(t){var e=Object(l(t)),n=arguments[1],c=Object(arguments[2]);if(e!==t&&!n)return e;var d={};return n?r(n,function(e){(c.ensure||e in t)&&(d[e]=t[e])}):o(d,t),d}},function(t,e,n){"use strict";t.exports=n(695)()?Array.from:n(696)},function(t,e,n){"use strict";t.exports=function(){var t,e,n=Array.from;return"function"==typeof n&&(e=n(t=["raz","dwa"]),Boolean(e&&e!==t&&"dwa"===e[1]))}},function(t,e,n){"use strict";var r=n(49).iterator,o=n(122),l=n(697),c=n(308),d=n(59),h=n(39),f=n(71),m=n(123),v=Array.isArray,y=Function.prototype.call,desc={configurable:!0,enumerable:!0,writable:!0,value:null},w=Object.defineProperty;t.exports=function(t){var e,i,n,_,S,code,E,T,k,x,C=arguments[1],I=arguments[2];if(t=Object(h(t)),f(C)&&d(C),this&&this!==Array&&l(this))e=this;else{if(!C){if(o(t))return 1!==(S=t.length)?Array.apply(null,t):((_=new Array(1))[0]=t[0],_);if(v(t)){for(_=new Array(S=t.length),i=0;i<S;++i)_[i]=t[i];return _}}_=[]}if(!v(t))if(void 0!==(k=t[r])){for(E=d(k).call(t),e&&(_=new e),T=E.next(),i=0;!T.done;)x=C?y.call(C,I,T.value,i):T.value,e?(desc.value=x,w(_,i,desc)):_[i]=x,T=E.next(),++i;S=i}else if(m(t)){for(S=t.length,e&&(_=new e),i=0,n=0;i<S;++i)x=t[i],i+1<S&&(code=x.charCodeAt(0))>=55296&&code<=56319&&(x+=t[++i]),x=C?y.call(C,I,x,n):x,e?(desc.value=x,w(_,n,desc)):_[n]=x,++n;S=n}if(void 0===S)for(S=c(t.length),e&&(_=new e(S)),i=0;i<S;++i)x=C?y.call(C,I,t[i],i):t[i],e?(desc.value=x,w(_,i,desc)):_[i]=x;return e&&(desc.value=null,_.length=S),_}},function(t,e,n){"use strict";var r=Object.prototype.toString,o=r.call(n(307));t.exports=function(t){return"function"==typeof t&&r.call(t)===o}},function(t,e,n){"use strict";var r=n(59),o=n(699),l=Function.prototype.call;t.exports=function(t,e){var n={},c=arguments[2];return r(e),o(t,function(t,r,o,d){n[r]=l.call(e,c,t,r,o,d)}),n}},function(t,e,n){"use strict";t.exports=n(700)("forEach")},function(t,e,n){"use strict";var r=n(59),o=n(39),l=Function.prototype.bind,c=Function.prototype.call,d=Object.keys,h=Object.prototype.propertyIsEnumerable;t.exports=function(t,e){return function(n,f){var m,v=arguments[2],y=arguments[3];return n=Object(o(n)),r(f),m=d(n),y&&m.sort("function"==typeof y?l.call(y,n):void 0),"function"!=typeof t&&(t=m[t]),c.call(t,m,function(t,r){return h.call(n,t)?c.call(f,v,n[t],t,n,r):e})}}},function(t,e,n){"use strict";var r,o=n(121),l=n(60),c=n(49),d=n(188),h=Object.defineProperty;r=t.exports=function(t){if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");t=String(t),d.call(this,t),h(this,"__length__",l("",t.length))},o&&o(r,d),delete r.prototype.constructor,r.prototype=Object.create(d.prototype,{_next:l(function(){if(this.__list__)return this.__nextIndex__<this.__length__?this.__nextIndex__++:void this._unBind()}),_resolve:l(function(i){var code,t=this.__list__[i];return this.__nextIndex__===this.__length__?t:(code=t.charCodeAt(0))>=55296&&code<=56319?t+this.__list__[this.__nextIndex__++]:t})}),h(r.prototype,c.toStringTag,l("c","String Iterator"))},function(t,e,n){"use strict";var r,o=n(121),l=n(60),c=n(188),d=n(49).toStringTag,h=n(703),f=Object.defineProperties,m=c.prototype._unBind;r=t.exports=function(map,t){if(!(this instanceof r))return new r(map,t);c.call(this,map.__mapKeysData__,map),t&&h[t]||(t="key+value"),f(this,{__kind__:l("",t),__values__:l("w",map.__mapValuesData__)})},o&&o(r,c),r.prototype=Object.create(c.prototype,{constructor:l(r),_resolve:l(function(i){return"value"===this.__kind__?this.__values__[i]:"key"===this.__kind__?this.__list__[i]:[this.__list__[i],this.__values__[i]]}),_unBind:l(function(){this.__values__=null,m.call(this)}),toString:l(function(){return"[object Map Iterator]"})}),Object.defineProperty(r.prototype,d,l("c","Map Iterator"))},function(t,e,n){"use strict";t.exports=n(704)("key","value","key+value")},function(t,e,n){"use strict";var r=Array.prototype.forEach,o=Object.create;t.exports=function(t){var e=o(null);return r.call(arguments,function(t){e[t]=!0}),e}},function(t,e,n){"use strict";t.exports="undefined"!=typeof Map&&"[object Map]"===Object.prototype.toString.call(new Map)},,function(t,e,n){"use strict";n.r(e);var r,o=(r=n(638)).default||r,l=n(12),component=Object(l.a)(o,function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{ref:"flyaway"},[this._t("default")],2)])},[],!1,null,null,null);e.default=component.exports},function(t,e,n){"use strict";n.r(e);var r,o=(r=n(646)).default||r,l=n(12),component=Object(l.a)(o,function(){var t=this.$createElement;return(this._self._c||t)("input",this._g(this._b({ref:"input"},"input",this.$attrs,!1),this.$listeners))},[],!1,null,null,null);e.default=component.exports},function(t,e,n){"use strict";n.r(e);var r,o=(r=n(639)).default||r,l=(n(640),n(12)),component=Object(l.a)(o,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"vue-map-container"},[e("div",{ref:"vue-map",staticClass:"vue-map"}),this._v(" "),e("div",{staticClass:"vue-map-hidden"},[this._t("default")],2),this._v(" "),this._t("visible")],2)},[],!1,null,null,null);e.default=component.exports},function(t,e,n){"use strict";n.r(e);var r,o=(r=n(642)).default||r,l=(n(643),n(12)),component=Object(l.a)(o,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"vue-street-view-pano-container"},[e("div",{ref:"vue-street-view-pano",staticClass:"vue-street-view-pano"}),this._v(" "),this._t("default")],2)},[],!1,null,null,null);e.default=component.exports}]]);